(()=>{var __webpack_modules__=({197:(()=>{}),271:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Container=__webpack_require__(683)
let LazyResult,Processor
class Document extends Container{constructor(defaults){super({type:'document',...defaults})
if(!this.nodes){this.nodes=[]}}
toResult(opts={}){let lazy=new LazyResult(new Processor(),this,opts)
return lazy.stringify()}}
Document.registerLazyResult=dependant=>{LazyResult=dependant}
Document.registerProcessor=dependant=>{Processor=dependant}
module.exports=Document
Document.default=Document}),346:((module)=>{"use strict";const DEFAULT_RAW={after:'\n',beforeClose:'\n',beforeComment:'\n',beforeDecl:'\n',beforeOpen:' ',beforeRule:'\n',colon:': ',commentLeft:' ',commentRight:' ',emptyBody:'',indent:'    ',semicolon:false}
function capitalize(str){return str[0].toUpperCase()+str.slice(1)}
class Stringifier{constructor(builder){this.builder=builder}
atrule(node,semicolon){let name='@'+node.name
let params=node.params?this.rawValue(node,'params'):''
if(typeof node.raws.afterName!=='undefined'){name+=node.raws.afterName}else if(params){name+=' '}
if(node.nodes){this.block(node,name+params)}else{let end=(node.raws.between||'')+(semicolon?';':'')
this.builder(name+params+end,node)}}
beforeAfter(node,detect){let value
if(node.type==='decl'){value=this.raw(node,null,'beforeDecl')}else if(node.type==='comment'){value=this.raw(node,null,'beforeComment')}else if(detect==='before'){value=this.raw(node,null,'beforeRule')}else{value=this.raw(node,null,'beforeClose')}
let buf=node.parent
let depth=0
while(buf&&buf.type!=='root'){depth+=1
buf=buf.parent}
if(value.includes('\n')){let indent=this.raw(node,null,'indent')
if(indent.length){for(let step=0;step<depth;step++)value+=indent}}
return value}
block(node,start){let between=this.raw(node,'between','beforeOpen')
this.builder(start+between+'{',node,'start')
let after
if(node.nodes&&node.nodes.length){this.body(node)
after=this.raw(node,'after')}else{after=this.raw(node,'after','emptyBody')}
if(after)this.builder(after)
this.builder('}',node,'end')}
body(node){let last=node.nodes.length-1
while(last>0){if(node.nodes[last].type!=='comment')break
last-=1}
let semicolon=this.raw(node,'semicolon')
for(let i=0;i<node.nodes.length;i++){let child=node.nodes[i]
let before=this.raw(child,'before')
if(before)this.builder(before)
this.stringify(child,last!==i||semicolon)}}
comment(node){let left=this.raw(node,'left','commentLeft')
let right=this.raw(node,'right','commentRight')
this.builder('/*'+left+node.text+right+'*/',node)}
decl(node,semicolon){let between=this.raw(node,'between','colon')
let string=node.prop+between+this.rawValue(node,'value')
if(node.important){string+=node.raws.important||' !important'}
if(semicolon)string+=';'
this.builder(string,node)}
document(node){this.body(node)}
raw(node,own,detect){let value
if(!detect)detect=own
if(own){value=node.raws[own]
if(typeof value!=='undefined')return value}
let parent=node.parent
if(detect==='before'){if(!parent||(parent.type==='root'&&parent.first===node)){return''}
if(parent&&parent.type==='document'){return''}}
if(!parent)return DEFAULT_RAW[detect]
let root=node.root()
if(!root.rawCache)root.rawCache={}
if(typeof root.rawCache[detect]!=='undefined'){return root.rawCache[detect]}
if(detect==='before'||detect==='after'){return this.beforeAfter(node,detect)}else{let method='raw'+capitalize(detect)
if(this[method]){value=this[method](root,node)}else{root.walk(i=>{value=i.raws[own]
if(typeof value!=='undefined')return false})}}
if(typeof value==='undefined')value=DEFAULT_RAW[detect]
root.rawCache[detect]=value
return value}
rawBeforeClose(root){let value
root.walk(i=>{if(i.nodes&&i.nodes.length>0){if(typeof i.raws.after!=='undefined'){value=i.raws.after
if(value.includes('\n')){value=value.replace(/[^\n]+$/,'')}
return false}}})
if(value)value=value.replace(/\S/g,'')
return value}
rawBeforeComment(root,node){let value
root.walkComments(i=>{if(typeof i.raws.before!=='undefined'){value=i.raws.before
if(value.includes('\n')){value=value.replace(/[^\n]+$/,'')}
return false}})
if(typeof value==='undefined'){value=this.raw(node,null,'beforeDecl')}else if(value){value=value.replace(/\S/g,'')}
return value}
rawBeforeDecl(root,node){let value
root.walkDecls(i=>{if(typeof i.raws.before!=='undefined'){value=i.raws.before
if(value.includes('\n')){value=value.replace(/[^\n]+$/,'')}
return false}})
if(typeof value==='undefined'){value=this.raw(node,null,'beforeRule')}else if(value){value=value.replace(/\S/g,'')}
return value}
rawBeforeOpen(root){let value
root.walk(i=>{if(i.type!=='decl'){value=i.raws.between
if(typeof value!=='undefined')return false}})
return value}
rawBeforeRule(root){let value
root.walk(i=>{if(i.nodes&&(i.parent!==root||root.first!==i)){if(typeof i.raws.before!=='undefined'){value=i.raws.before
if(value.includes('\n')){value=value.replace(/[^\n]+$/,'')}
return false}}})
if(value)value=value.replace(/\S/g,'')
return value}
rawColon(root){let value
root.walkDecls(i=>{if(typeof i.raws.between!=='undefined'){value=i.raws.between.replace(/[^\s:]/g,'')
return false}})
return value}
rawEmptyBody(root){let value
root.walk(i=>{if(i.nodes&&i.nodes.length===0){value=i.raws.after
if(typeof value!=='undefined')return false}})
return value}
rawIndent(root){if(root.raws.indent)return root.raws.indent
let value
root.walk(i=>{let p=i.parent
if(p&&p!==root&&p.parent&&p.parent===root){if(typeof i.raws.before!=='undefined'){let parts=i.raws.before.split('\n')
value=parts[parts.length-1]
value=value.replace(/\S/g,'')
return false}}})
return value}
rawSemicolon(root){let value
root.walk(i=>{if(i.nodes&&i.nodes.length&&i.last.type==='decl'){value=i.raws.semicolon
if(typeof value!=='undefined')return false}})
return value}
rawValue(node,prop){let value=node[prop]
let raw=node.raws[prop]
if(raw&&raw.value===value){return raw.raw}
return value}
root(node){this.body(node)
if(node.raws.after)this.builder(node.raws.after)}
rule(node){this.block(node,this.rawValue(node,'selector'))
if(node.raws.ownSemicolon){this.builder(node.raws.ownSemicolon,node,'end')}}
stringify(node,semicolon){if(!this[node.type]){throw new Error('Unknown AST node type '+
node.type+'. '+'Maybe you need to change PostCSS stringifier.')}
this[node.type](node,semicolon)}}
module.exports=Stringifier
Stringifier.default=Stringifier}),356:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let pico=__webpack_require__(2775)
let terminalHighlight=__webpack_require__(9746)
class CssSyntaxError extends Error{constructor(message,line,column,source,file,plugin){super(message)
this.name='CssSyntaxError'
this.reason=message
if(file){this.file=file}
if(source){this.source=source}
if(plugin){this.plugin=plugin}
if(typeof line!=='undefined'&&typeof column!=='undefined'){if(typeof line==='number'){this.line=line
this.column=column}else{this.line=line.line
this.column=line.column
this.endLine=column.line
this.endColumn=column.column}}
this.setMessage()
if(Error.captureStackTrace){Error.captureStackTrace(this,CssSyntaxError)}}
setMessage(){this.message=this.plugin?this.plugin+': ':''
this.message+=this.file?this.file:'<css input>'
if(typeof this.line!=='undefined'){this.message+=':'+this.line+':'+this.column}
this.message+=': '+this.reason}
showSourceCode(color){if(!this.source)return''
let css=this.source
if(color==null)color=pico.isColorSupported
let aside=text=>text
let mark=text=>text
let highlight=text=>text
if(color){let{bold,gray,red}=pico.createColors(true)
mark=text=>bold(red(text))
aside=text=>gray(text)
if(terminalHighlight){highlight=text=>terminalHighlight(text)}}
let lines=css.split(/\r?\n/)
let start=Math.max(this.line-3,0)
let end=Math.min(this.line+2,lines.length)
let maxWidth=String(end).length
return lines.slice(start,end).map((line,index)=>{let number=start+1+index
let gutter=' '+(' '+number).slice(-maxWidth)+' | '
if(number===this.line){if(line.length>160){let padding=20
let subLineStart=Math.max(0,this.column-padding)
let subLineEnd=Math.max(this.column+padding,this.endColumn+padding)
let subLine=line.slice(subLineStart,subLineEnd)
let spacing=aside(gutter.replace(/\d/g,' '))+
line.slice(0,Math.min(this.column-1,padding-1)).replace(/[^\t]/g,' ')
return(mark('>')+
aside(gutter)+
highlight(subLine)+'\n '+
spacing+
mark('^'))}
let spacing=aside(gutter.replace(/\d/g,' '))+
line.slice(0,this.column-1).replace(/[^\t]/g,' ')
return(mark('>')+
aside(gutter)+
highlight(line)+'\n '+
spacing+
mark('^'))}
return' '+aside(gutter)+highlight(line)}).join('\n')}
toString(){let code=this.showSourceCode()
if(code){code='\n\n'+code+'\n'}
return this.name+': '+this.message+code}}
module.exports=CssSyntaxError
CssSyntaxError.default=CssSyntaxError}),448:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Container=__webpack_require__(683)
let Document=__webpack_require__(271)
let MapGenerator=__webpack_require__(1670)
let parse=__webpack_require__(4295)
let Result=__webpack_require__(9055)
let Root=__webpack_require__(9434)
let stringify=__webpack_require__(633)
let{isClean,my}=__webpack_require__(1381)
let warnOnce=__webpack_require__(3122)
const TYPE_TO_CLASS_NAME={atrule:'AtRule',comment:'Comment',decl:'Declaration',document:'Document',root:'Root',rule:'Rule'}
const PLUGIN_PROPS={AtRule:true,AtRuleExit:true,Comment:true,CommentExit:true,Declaration:true,DeclarationExit:true,Document:true,DocumentExit:true,Once:true,OnceExit:true,postcssPlugin:true,prepare:true,Root:true,RootExit:true,Rule:true,RuleExit:true}
const NOT_VISITORS={Once:true,postcssPlugin:true,prepare:true}
const CHILDREN=0
function isPromise(obj){return typeof obj==='object'&&typeof obj.then==='function'}
function getEvents(node){let key=false
let type=TYPE_TO_CLASS_NAME[node.type]
if(node.type==='decl'){key=node.prop.toLowerCase()}else if(node.type==='atrule'){key=node.name.toLowerCase()}
if(key&&node.append){return[type,type+'-'+key,CHILDREN,type+'Exit',type+'Exit-'+key]}else if(key){return[type,type+'-'+key,type+'Exit',type+'Exit-'+key]}else if(node.append){return[type,CHILDREN,type+'Exit']}else{return[type,type+'Exit']}}
function toStack(node){let events
if(node.type==='document'){events=['Document',CHILDREN,'DocumentExit']}else if(node.type==='root'){events=['Root',CHILDREN,'RootExit']}else{events=getEvents(node)}
return{eventIndex:0,events,iterator:0,node,visitorIndex:0,visitors:[]}}
function cleanMarks(node){node[isClean]=false
if(node.nodes)node.nodes.forEach(i=>cleanMarks(i))
return node}
let postcss={}
class LazyResult{get content(){return this.stringify().content}
get css(){return this.stringify().css}
get map(){return this.stringify().map}
get messages(){return this.sync().messages}
get opts(){return this.result.opts}
get processor(){return this.result.processor}
get root(){return this.sync().root}
get[Symbol.toStringTag](){return'LazyResult'}
constructor(processor,css,opts){this.stringified=false
this.processed=false
let root
if(typeof css==='object'&&css!==null&&(css.type==='root'||css.type==='document')){root=cleanMarks(css)}else if(css instanceof LazyResult||css instanceof Result){root=cleanMarks(css.root)
if(css.map){if(typeof opts.map==='undefined')opts.map={}
if(!opts.map.inline)opts.map.inline=false
opts.map.prev=css.map}}else{let parser=parse
if(opts.syntax)parser=opts.syntax.parse
if(opts.parser)parser=opts.parser
if(parser.parse)parser=parser.parse
try{root=parser(css,opts)}catch(error){this.processed=true
this.error=error}
if(root&&!root[my]){Container.rebuild(root)}}
this.result=new Result(processor,root,opts)
this.helpers={...postcss,postcss,result:this.result}
this.plugins=this.processor.plugins.map(plugin=>{if(typeof plugin==='object'&&plugin.prepare){return{...plugin,...plugin.prepare(this.result)}}else{return plugin}})}
async(){if(this.error)return Promise.reject(this.error)
if(this.processed)return Promise.resolve(this.result)
if(!this.processing){this.processing=this.runAsync()}
return this.processing}
catch(onRejected){return this.async().catch(onRejected)}
finally(onFinally){return this.async().then(onFinally,onFinally)}
getAsyncError(){throw new Error('Use process(css).then(cb) to work with async plugins')}
handleError(error,node){let plugin=this.result.lastPlugin
try{if(node)node.addToError(error)
this.error=error
if(error.name==='CssSyntaxError'&&!error.plugin){error.plugin=plugin.postcssPlugin
error.setMessage()}else if(plugin.postcssVersion){if(false){}}}catch(err){if(console&&console.error)console.error(err)}
return error}
prepareVisitors(){this.listeners={}
let add=(plugin,type,cb)=>{if(!this.listeners[type])this.listeners[type]=[]
this.listeners[type].push([plugin,cb])}
for(let plugin of this.plugins){if(typeof plugin==='object'){for(let event in plugin){if(!PLUGIN_PROPS[event]&&/^[A-Z]/.test(event)){throw new Error(`Unknown event ${event} in ${plugin.postcssPlugin}. `+`Try to update PostCSS (${this.processor.version} now).`)}
if(!NOT_VISITORS[event]){if(typeof plugin[event]==='object'){for(let filter in plugin[event]){if(filter==='*'){add(plugin,event,plugin[event][filter])}else{add(plugin,event+'-'+filter.toLowerCase(),plugin[event][filter])}}}else if(typeof plugin[event]==='function'){add(plugin,event,plugin[event])}}}}}
this.hasListener=Object.keys(this.listeners).length>0}
async runAsync(){this.plugin=0
for(let i=0;i<this.plugins.length;i++){let plugin=this.plugins[i]
let promise=this.runOnRoot(plugin)
if(isPromise(promise)){try{await promise}catch(error){throw this.handleError(error)}}}
this.prepareVisitors()
if(this.hasListener){let root=this.result.root
while(!root[isClean]){root[isClean]=true
let stack=[toStack(root)]
while(stack.length>0){let promise=this.visitTick(stack)
if(isPromise(promise)){try{await promise}catch(e){let node=stack[stack.length-1].node
throw this.handleError(e,node)}}}}
if(this.listeners.OnceExit){for(let[plugin,visitor]of this.listeners.OnceExit){this.result.lastPlugin=plugin
try{if(root.type==='document'){let roots=root.nodes.map(subRoot=>visitor(subRoot,this.helpers))
await Promise.all(roots)}else{await visitor(root,this.helpers)}}catch(e){throw this.handleError(e)}}}}
this.processed=true
return this.stringify()}
runOnRoot(plugin){this.result.lastPlugin=plugin
try{if(typeof plugin==='object'&&plugin.Once){if(this.result.root.type==='document'){let roots=this.result.root.nodes.map(root=>plugin.Once(root,this.helpers))
if(isPromise(roots[0])){return Promise.all(roots)}
return roots}
return plugin.Once(this.result.root,this.helpers)}else if(typeof plugin==='function'){return plugin(this.result.root,this.result)}}catch(error){throw this.handleError(error)}}
stringify(){if(this.error)throw this.error
if(this.stringified)return this.result
this.stringified=true
this.sync()
let opts=this.result.opts
let str=stringify
if(opts.syntax)str=opts.syntax.stringify
if(opts.stringifier)str=opts.stringifier
if(str.stringify)str=str.stringify
let map=new MapGenerator(str,this.result.root,this.result.opts)
let data=map.generate()
this.result.css=data[0]
this.result.map=data[1]
return this.result}
sync(){if(this.error)throw this.error
if(this.processed)return this.result
this.processed=true
if(this.processing){throw this.getAsyncError()}
for(let plugin of this.plugins){let promise=this.runOnRoot(plugin)
if(isPromise(promise)){throw this.getAsyncError()}}
this.prepareVisitors()
if(this.hasListener){let root=this.result.root
while(!root[isClean]){root[isClean]=true
this.walkSync(root)}
if(this.listeners.OnceExit){if(root.type==='document'){for(let subRoot of root.nodes){this.visitSync(this.listeners.OnceExit,subRoot)}}else{this.visitSync(this.listeners.OnceExit,root)}}}
return this.result}
then(onFulfilled,onRejected){if(false){}
return this.async().then(onFulfilled,onRejected)}
toString(){return this.css}
visitSync(visitors,node){for(let[plugin,visitor]of visitors){this.result.lastPlugin=plugin
let promise
try{promise=visitor(node,this.helpers)}catch(e){throw this.handleError(e,node.proxyOf)}
if(node.type!=='root'&&node.type!=='document'&&!node.parent){return true}
if(isPromise(promise)){throw this.getAsyncError()}}}
visitTick(stack){let visit=stack[stack.length-1]
let{node,visitors}=visit
if(node.type!=='root'&&node.type!=='document'&&!node.parent){stack.pop()
return}
if(visitors.length>0&&visit.visitorIndex<visitors.length){let[plugin,visitor]=visitors[visit.visitorIndex]
visit.visitorIndex+=1
if(visit.visitorIndex===visitors.length){visit.visitors=[]
visit.visitorIndex=0}
this.result.lastPlugin=plugin
try{return visitor(node.toProxy(),this.helpers)}catch(e){throw this.handleError(e,node)}}
if(visit.iterator!==0){let iterator=visit.iterator
let child
while((child=node.nodes[node.indexes[iterator]])){node.indexes[iterator]+=1
if(!child[isClean]){child[isClean]=true
stack.push(toStack(child))
return}}
visit.iterator=0
delete node.indexes[iterator]}
let events=visit.events
while(visit.eventIndex<events.length){let event=events[visit.eventIndex]
visit.eventIndex+=1
if(event===CHILDREN){if(node.nodes&&node.nodes.length){node[isClean]=true
visit.iterator=node.getIterator()}
return}else if(this.listeners[event]){visit.visitors=this.listeners[event]
return}}
stack.pop()}
walkSync(node){node[isClean]=true
let events=getEvents(node)
for(let event of events){if(event===CHILDREN){if(node.nodes){node.each(child=>{if(!child[isClean])this.walkSync(child)})}}else{let visitors=this.listeners[event]
if(visitors){if(this.visitSync(visitors,node.toProxy()))return}}}}
warnings(){return this.sync().warnings()}}
LazyResult.registerPostcss=dependant=>{postcss=dependant}
module.exports=LazyResult
LazyResult.default=LazyResult
Root.registerLazyResult(LazyResult)
Document.registerLazyResult(LazyResult)}),461:((module,__unused_webpack_exports,__webpack_require__)=>{var computedStyle=__webpack_require__(6109);function lineHeight(node){var lnHeightStr=computedStyle(node,'line-height');var lnHeight=parseFloat(lnHeightStr,10);if(lnHeightStr===lnHeight+''){var _lnHeightStyle=node.style.lineHeight;node.style.lineHeight=lnHeightStr+'em';lnHeightStr=computedStyle(node,'line-height');lnHeight=parseFloat(lnHeightStr,10);if(_lnHeightStyle){node.style.lineHeight=_lnHeightStyle;}else{delete node.style.lineHeight;}}
if(lnHeightStr.indexOf('pt')!==-1){lnHeight*=4;lnHeight /=3;}else if(lnHeightStr.indexOf('mm')!==-1){lnHeight*=96;lnHeight /=25.4;}else if(lnHeightStr.indexOf('cm')!==-1){lnHeight*=96;lnHeight /=2.54;}else if(lnHeightStr.indexOf('in')!==-1){lnHeight*=96;}else if(lnHeightStr.indexOf('pc')!==-1){lnHeight*=16;}
lnHeight=Math.round(lnHeight);if(lnHeightStr==='normal'){var nodeName=node.nodeName;var _node=document.createElement(nodeName);_node.innerHTML='&nbsp;';if(nodeName.toUpperCase()==='TEXTAREA'){_node.setAttribute('rows','1');}
var fontSizeStr=computedStyle(node,'font-size');_node.style.fontSize=fontSizeStr;_node.style.padding='0px';_node.style.border='0px';var body=document.body;body.appendChild(_node);var height=_node.offsetHeight;lnHeight=height;body.removeChild(_node);}
return lnHeight;}
module.exports=lineHeight;}),628:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__(4067);function emptyFunction(){}
function emptyFunctionWithReset(){}
emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return;}
var err=new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. '+'Use PropTypes.checkPropTypes() to call them. '+'Read more at http://fb.me/use-check-prop-types');err.name='Invariant Violation';throw err;};shim.isRequired=shim;function getShim(){return shim;};var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes;};}),633:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Stringifier=__webpack_require__(346)
function stringify(node,builder){let str=new Stringifier(builder)
str.stringify(node)}
module.exports=stringify
stringify.default=stringify}),683:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Comment=__webpack_require__(6589)
let Declaration=__webpack_require__(1516)
let Node=__webpack_require__(7490)
let{isClean,my}=__webpack_require__(1381)
let AtRule,parse,Root,Rule
function cleanSource(nodes){return nodes.map(i=>{if(i.nodes)i.nodes=cleanSource(i.nodes)
delete i.source
return i})}
function markTreeDirty(node){node[isClean]=false
if(node.proxyOf.nodes){for(let i of node.proxyOf.nodes){markTreeDirty(i)}}}
class Container extends Node{get first(){if(!this.proxyOf.nodes)return undefined
return this.proxyOf.nodes[0]}
get last(){if(!this.proxyOf.nodes)return undefined
return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}
append(...children){for(let child of children){let nodes=this.normalize(child,this.last)
for(let node of nodes)this.proxyOf.nodes.push(node)}
this.markDirty()
return this}
cleanRaws(keepBetween){super.cleanRaws(keepBetween)
if(this.nodes){for(let node of this.nodes)node.cleanRaws(keepBetween)}}
each(callback){if(!this.proxyOf.nodes)return undefined
let iterator=this.getIterator()
let index,result
while(this.indexes[iterator]<this.proxyOf.nodes.length){index=this.indexes[iterator]
result=callback(this.proxyOf.nodes[index],index)
if(result===false)break
this.indexes[iterator]+=1}
delete this.indexes[iterator]
return result}
every(condition){return this.nodes.every(condition)}
getIterator(){if(!this.lastEach)this.lastEach=0
if(!this.indexes)this.indexes={}
this.lastEach+=1
let iterator=this.lastEach
this.indexes[iterator]=0
return iterator}
getProxyProcessor(){return{get(node,prop){if(prop==='proxyOf'){return node}else if(!node[prop]){return node[prop]}else if(prop==='each'||(typeof prop==='string'&&prop.startsWith('walk'))){return(...args)=>{return node[prop](...args.map(i=>{if(typeof i==='function'){return(child,index)=>i(child.toProxy(),index)}else{return i}}))}}else if(prop==='every'||prop==='some'){return cb=>{return node[prop]((child,...other)=>cb(child.toProxy(),...other))}}else if(prop==='root'){return()=>node.root().toProxy()}else if(prop==='nodes'){return node.nodes.map(i=>i.toProxy())}else if(prop==='first'||prop==='last'){return node[prop].toProxy()}else{return node[prop]}},set(node,prop,value){if(node[prop]===value)return true
node[prop]=value
if(prop==='name'||prop==='params'||prop==='selector'){node.markDirty()}
return true}}}
index(child){if(typeof child==='number')return child
if(child.proxyOf)child=child.proxyOf
return this.proxyOf.nodes.indexOf(child)}
insertAfter(exist,add){let existIndex=this.index(exist)
let nodes=this.normalize(add,this.proxyOf.nodes[existIndex]).reverse()
existIndex=this.index(exist)
for(let node of nodes)this.proxyOf.nodes.splice(existIndex+1,0,node)
let index
for(let id in this.indexes){index=this.indexes[id]
if(existIndex<index){this.indexes[id]=index+nodes.length}}
this.markDirty()
return this}
insertBefore(exist,add){let existIndex=this.index(exist)
let type=existIndex===0?'prepend':false
let nodes=this.normalize(add,this.proxyOf.nodes[existIndex],type).reverse()
existIndex=this.index(exist)
for(let node of nodes)this.proxyOf.nodes.splice(existIndex,0,node)
let index
for(let id in this.indexes){index=this.indexes[id]
if(existIndex<=index){this.indexes[id]=index+nodes.length}}
this.markDirty()
return this}
normalize(nodes,sample){if(typeof nodes==='string'){nodes=cleanSource(parse(nodes).nodes)}else if(typeof nodes==='undefined'){nodes=[]}else if(Array.isArray(nodes)){nodes=nodes.slice(0)
for(let i of nodes){if(i.parent)i.parent.removeChild(i,'ignore')}}else if(nodes.type==='root'&&this.type!=='document'){nodes=nodes.nodes.slice(0)
for(let i of nodes){if(i.parent)i.parent.removeChild(i,'ignore')}}else if(nodes.type){nodes=[nodes]}else if(nodes.prop){if(typeof nodes.value==='undefined'){throw new Error('Value field is missed in node creation')}else if(typeof nodes.value!=='string'){nodes.value=String(nodes.value)}
nodes=[new Declaration(nodes)]}else if(nodes.selector||nodes.selectors){nodes=[new Rule(nodes)]}else if(nodes.name){nodes=[new AtRule(nodes)]}else if(nodes.text){nodes=[new Comment(nodes)]}else{throw new Error('Unknown node type in node creation')}
let processed=nodes.map(i=>{if(!i[my])Container.rebuild(i)
i=i.proxyOf
if(i.parent)i.parent.removeChild(i)
if(i[isClean])markTreeDirty(i)
if(!i.raws)i.raws={}
if(typeof i.raws.before==='undefined'){if(sample&&typeof sample.raws.before!=='undefined'){i.raws.before=sample.raws.before.replace(/\S/g,'')}}
i.parent=this.proxyOf
return i})
return processed}
prepend(...children){children=children.reverse()
for(let child of children){let nodes=this.normalize(child,this.first,'prepend').reverse()
for(let node of nodes)this.proxyOf.nodes.unshift(node)
for(let id in this.indexes){this.indexes[id]=this.indexes[id]+nodes.length}}
this.markDirty()
return this}
push(child){child.parent=this
this.proxyOf.nodes.push(child)
return this}
removeAll(){for(let node of this.proxyOf.nodes)node.parent=undefined
this.proxyOf.nodes=[]
this.markDirty()
return this}
removeChild(child){child=this.index(child)
this.proxyOf.nodes[child].parent=undefined
this.proxyOf.nodes.splice(child,1)
let index
for(let id in this.indexes){index=this.indexes[id]
if(index>=child){this.indexes[id]=index-1}}
this.markDirty()
return this}
replaceValues(pattern,opts,callback){if(!callback){callback=opts
opts={}}
this.walkDecls(decl=>{if(opts.props&&!opts.props.includes(decl.prop))return
if(opts.fast&&!decl.value.includes(opts.fast))return
decl.value=decl.value.replace(pattern,callback)})
this.markDirty()
return this}
some(condition){return this.nodes.some(condition)}
walk(callback){return this.each((child,i)=>{let result
try{result=callback(child,i)}catch(e){throw child.addToError(e)}
if(result!==false&&child.walk){result=child.walk(callback)}
return result})}
walkAtRules(name,callback){if(!callback){callback=name
return this.walk((child,i)=>{if(child.type==='atrule'){return callback(child,i)}})}
if(name instanceof RegExp){return this.walk((child,i)=>{if(child.type==='atrule'&&name.test(child.name)){return callback(child,i)}})}
return this.walk((child,i)=>{if(child.type==='atrule'&&child.name===name){return callback(child,i)}})}
walkComments(callback){return this.walk((child,i)=>{if(child.type==='comment'){return callback(child,i)}})}
walkDecls(prop,callback){if(!callback){callback=prop
return this.walk((child,i)=>{if(child.type==='decl'){return callback(child,i)}})}
if(prop instanceof RegExp){return this.walk((child,i)=>{if(child.type==='decl'&&prop.test(child.prop)){return callback(child,i)}})}
return this.walk((child,i)=>{if(child.type==='decl'&&child.prop===prop){return callback(child,i)}})}
walkRules(selector,callback){if(!callback){callback=selector
return this.walk((child,i)=>{if(child.type==='rule'){return callback(child,i)}})}
if(selector instanceof RegExp){return this.walk((child,i)=>{if(child.type==='rule'&&selector.test(child.selector)){return callback(child,i)}})}
return this.walk((child,i)=>{if(child.type==='rule'&&child.selector===selector){return callback(child,i)}})}}
Container.registerParse=dependant=>{parse=dependant}
Container.registerRule=dependant=>{Rule=dependant}
Container.registerAtRule=dependant=>{AtRule=dependant}
Container.registerRoot=dependant=>{Root=dependant}
module.exports=Container
Container.default=Container
Container.rebuild=node=>{if(node.type==='atrule'){Object.setPrototypeOf(node,AtRule.prototype)}else if(node.type==='rule'){Object.setPrototypeOf(node,Rule.prototype)}else if(node.type==='decl'){Object.setPrototypeOf(node,Declaration.prototype)}else if(node.type==='comment'){Object.setPrototypeOf(node,Comment.prototype)}else if(node.type==='root'){Object.setPrototypeOf(node,Root.prototype)}
node[my]=true
if(node.nodes){node.nodes.forEach(child=>{Container.rebuild(child)})}}}),1087:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ExecutionEnvironment=__webpack_require__(8202);var useHasFeature;if(ExecutionEnvironment.canUseDOM){useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature('','')!==true;}
function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!('addEventListener'in document)){return false;}
var eventName='on'+eventNameSuffix;var isSupported=eventName in document;if(!isSupported){var element=document.createElement('div');element.setAttribute(eventName,'return;');isSupported=typeof element[eventName]==='function';}
if(!isSupported&&useHasFeature&&eventNameSuffix==='wheel'){isSupported=document.implementation.hasFeature('Events.wheel','3.0');}
return isSupported;}
module.exports=isEventSupported;}),1326:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Container=__webpack_require__(683)
class AtRule extends Container{constructor(defaults){super(defaults)
this.type='atrule'}
append(...children){if(!this.proxyOf.nodes)this.nodes=[]
return super.append(...children)}
prepend(...children){if(!this.proxyOf.nodes)this.nodes=[]
return super.prepend(...children)}}
module.exports=AtRule
AtRule.default=AtRule
Container.registerAtRule(AtRule)}),1381:((module)=>{"use strict";module.exports.isClean=Symbol('isClean')
module.exports.my=Symbol('my')}),1443:((module)=>{module.exports=function postcssPrefixSelector(options){const prefix=options.prefix;const prefixWithSpace=/\s+$/.test(prefix)?prefix:`${prefix} `;const ignoreFiles=options.ignoreFiles?[].concat(options.ignoreFiles):[];const includeFiles=options.includeFiles?[].concat(options.includeFiles):[];return function(root){if(ignoreFiles.length&&root.source.input.file&&isFileInArray(root.source.input.file,ignoreFiles)){return;}
if(includeFiles.length&&root.source.input.file&&!isFileInArray(root.source.input.file,includeFiles)){return;}
root.walkRules((rule)=>{const keyframeRules=['keyframes','-webkit-keyframes','-moz-keyframes','-o-keyframes','-ms-keyframes',];if(rule.parent&&keyframeRules.includes(rule.parent.name)){return;}
rule.selectors=rule.selectors.map((selector)=>{if(options.exclude&&excludeSelector(selector,options.exclude)){return selector;}
if(options.transform){return options.transform(prefix,selector,prefixWithSpace+selector,root.source.input.file,rule);}
return prefixWithSpace+selector;});});};};function isFileInArray(file,arr){return arr.some((ruleOrString)=>{if(ruleOrString instanceof RegExp){return ruleOrString.test(file);}
return file.includes(ruleOrString);});}
function excludeSelector(selector,excludeArr){return excludeArr.some((excludeRule)=>{if(excludeRule instanceof RegExp){return excludeRule.test(selector);}
return selector===excludeRule;});}}),1516:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Node=__webpack_require__(7490)
class Declaration extends Node{get variable(){return this.prop.startsWith('--')||this.prop[0]==='$'}
constructor(defaults){if(defaults&&typeof defaults.value!=='undefined'&&typeof defaults.value!=='string'){defaults={...defaults,value:String(defaults.value)}}
super(defaults)
this.type='decl'}}
module.exports=Declaration
Declaration.default=Declaration}),1524:((module)=>{var minus="-".charCodeAt(0);var plus="+".charCodeAt(0);var dot=".".charCodeAt(0);var exp="e".charCodeAt(0);var EXP="E".charCodeAt(0);function likeNumber(value){var code=value.charCodeAt(0);var nextCode;if(code===plus||code===minus){nextCode=value.charCodeAt(1);if(nextCode>=48&&nextCode<=57){return true;}
var nextNextCode=value.charCodeAt(2);if(nextCode===dot&&nextNextCode>=48&&nextNextCode<=57){return true;}
return false;}
if(code===dot){nextCode=value.charCodeAt(1);if(nextCode>=48&&nextCode<=57){return true;}
return false;}
if(code>=48&&code<=57){return true;}
return false;}
module.exports=function(value){var pos=0;var length=value.length;var code;var nextCode;var nextNextCode;if(length===0||!likeNumber(value)){return false;}
code=value.charCodeAt(pos);if(code===plus||code===minus){pos++;}
while(pos<length){code=value.charCodeAt(pos);if(code<48||code>57){break;}
pos+=1;}
code=value.charCodeAt(pos);nextCode=value.charCodeAt(pos+1);if(code===dot&&nextCode>=48&&nextCode<=57){pos+=2;while(pos<length){code=value.charCodeAt(pos);if(code<48||code>57){break;}
pos+=1;}}
code=value.charCodeAt(pos);nextCode=value.charCodeAt(pos+1);nextNextCode=value.charCodeAt(pos+2);if((code===exp||code===EXP)&&((nextCode>=48&&nextCode<=57)||((nextCode===plus||nextCode===minus)&&nextNextCode>=48&&nextNextCode<=57))){pos+=nextCode===plus||nextCode===minus?3:2;while(pos<length){code=value.charCodeAt(pos);if(code<48||code>57){break;}
pos+=1;}}
return{number:value.slice(0,pos),unit:value.slice(pos)};};}),1544:((module,__unused_webpack_exports,__webpack_require__)=>{var parse=__webpack_require__(8491);var walk=__webpack_require__(3815);var stringify=__webpack_require__(4725);function ValueParser(value){if(this instanceof ValueParser){this.nodes=parse(value);return this;}
return new ValueParser(value);}
ValueParser.prototype.toString=function(){return Array.isArray(this.nodes)?stringify(this.nodes):"";};ValueParser.prototype.walk=function(cb,bubble){walk(this.nodes,cb,bubble);return this;};ValueParser.unit=__webpack_require__(1524);ValueParser.walk=walk;ValueParser.stringify=stringify;module.exports=ValueParser;}),1609:((module)=>{"use strict";module.exports=window["React"];}),1670:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let{dirname,relative,resolve,sep}=__webpack_require__(197)
let{SourceMapConsumer,SourceMapGenerator}=__webpack_require__(1866)
let{pathToFileURL}=__webpack_require__(2739)
let Input=__webpack_require__(5380)
let sourceMapAvailable=Boolean(SourceMapConsumer&&SourceMapGenerator)
let pathAvailable=Boolean(dirname&&resolve&&relative&&sep)
class MapGenerator{constructor(stringify,root,opts,cssString){this.stringify=stringify
this.mapOpts=opts.map||{}
this.root=root
this.opts=opts
this.css=cssString
this.originalCSS=cssString
this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute
this.memoizedFileURLs=new Map()
this.memoizedPaths=new Map()
this.memoizedURLs=new Map()}
addAnnotation(){let content
if(this.isInline()){content='data:application/json;base64,'+this.toBase64(this.map.toString())}else if(typeof this.mapOpts.annotation==='string'){content=this.mapOpts.annotation}else if(typeof this.mapOpts.annotation==='function'){content=this.mapOpts.annotation(this.opts.to,this.root)}else{content=this.outputFile()+'.map'}
let eol='\n'
if(this.css.includes('\r\n'))eol='\r\n'
this.css+=eol+'/*# sourceMappingURL='+content+' */'}
applyPrevMaps(){for(let prev of this.previous()){let from=this.toUrl(this.path(prev.file))
let root=prev.root||dirname(prev.file)
let map
if(this.mapOpts.sourcesContent===false){map=new SourceMapConsumer(prev.text)
if(map.sourcesContent){map.sourcesContent=null}}else{map=prev.consumer()}
this.map.applySourceMap(map,from,this.toUrl(this.path(root)))}}
clearAnnotation(){if(this.mapOpts.annotation===false)return
if(this.root){let node
for(let i=this.root.nodes.length-1;i>=0;i--){node=this.root.nodes[i]
if(node.type!=='comment')continue
if(node.text.startsWith('# sourceMappingURL=')){this.root.removeChild(i)}}}else if(this.css){this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,'')}}
generate(){this.clearAnnotation()
if(pathAvailable&&sourceMapAvailable&&this.isMap()){return this.generateMap()}else{let result=''
this.stringify(this.root,i=>{result+=i})
return[result]}}
generateMap(){if(this.root){this.generateString()}else if(this.previous().length===1){let prev=this.previous()[0].consumer()
prev.file=this.outputFile()
this.map=SourceMapGenerator.fromSourceMap(prev,{ignoreInvalidMapping:true})}else{this.map=new SourceMapGenerator({file:this.outputFile(),ignoreInvalidMapping:true})
this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):'<no source>'})}
if(this.isSourcesContent())this.setSourcesContent()
if(this.root&&this.previous().length>0)this.applyPrevMaps()
if(this.isAnnotation())this.addAnnotation()
if(this.isInline()){return[this.css]}else{return[this.css,this.map]}}
generateString(){this.css=''
this.map=new SourceMapGenerator({file:this.outputFile(),ignoreInvalidMapping:true})
let line=1
let column=1
let noSource='<no source>'
let mapping={generated:{column:0,line:0},original:{column:0,line:0},source:''}
let last,lines
this.stringify(this.root,(str,node,type)=>{this.css+=str
if(node&&type!=='end'){mapping.generated.line=line
mapping.generated.column=column-1
if(node.source&&node.source.start){mapping.source=this.sourcePath(node)
mapping.original.line=node.source.start.line
mapping.original.column=node.source.start.column-1
this.map.addMapping(mapping)}else{mapping.source=noSource
mapping.original.line=1
mapping.original.column=0
this.map.addMapping(mapping)}}
lines=str.match(/\n/g)
if(lines){line+=lines.length
last=str.lastIndexOf('\n')
column=str.length-last}else{column+=str.length}
if(node&&type!=='start'){let p=node.parent||{raws:{}}
let childless=node.type==='decl'||(node.type==='atrule'&&!node.nodes)
if(!childless||node!==p.last||p.raws.semicolon){if(node.source&&node.source.end){mapping.source=this.sourcePath(node)
mapping.original.line=node.source.end.line
mapping.original.column=node.source.end.column-1
mapping.generated.line=line
mapping.generated.column=column-2
this.map.addMapping(mapping)}else{mapping.source=noSource
mapping.original.line=1
mapping.original.column=0
mapping.generated.line=line
mapping.generated.column=column-1
this.map.addMapping(mapping)}}}})}
isAnnotation(){if(this.isInline()){return true}
if(typeof this.mapOpts.annotation!=='undefined'){return this.mapOpts.annotation}
if(this.previous().length){return this.previous().some(i=>i.annotation)}
return true}
isInline(){if(typeof this.mapOpts.inline!=='undefined'){return this.mapOpts.inline}
let annotation=this.mapOpts.annotation
if(typeof annotation!=='undefined'&&annotation!==true){return false}
if(this.previous().length){return this.previous().some(i=>i.inline)}
return true}
isMap(){if(typeof this.opts.map!=='undefined'){return!!this.opts.map}
return this.previous().length>0}
isSourcesContent(){if(typeof this.mapOpts.sourcesContent!=='undefined'){return this.mapOpts.sourcesContent}
if(this.previous().length){return this.previous().some(i=>i.withContent())}
return true}
outputFile(){if(this.opts.to){return this.path(this.opts.to)}else if(this.opts.from){return this.path(this.opts.from)}else{return'to.css'}}
path(file){if(this.mapOpts.absolute)return file
if(file.charCodeAt(0)===60)return file
if(/^\w+:\/\//.test(file))return file
let cached=this.memoizedPaths.get(file)
if(cached)return cached
let from=this.opts.to?dirname(this.opts.to):'.'
if(typeof this.mapOpts.annotation==='string'){from=dirname(resolve(from,this.mapOpts.annotation))}
let path=relative(from,file)
this.memoizedPaths.set(file,path)
return path}
previous(){if(!this.previousMaps){this.previousMaps=[]
if(this.root){this.root.walk(node=>{if(node.source&&node.source.input.map){let map=node.source.input.map
if(!this.previousMaps.includes(map)){this.previousMaps.push(map)}}})}else{let input=new Input(this.originalCSS,this.opts)
if(input.map)this.previousMaps.push(input.map)}}
return this.previousMaps}
setSourcesContent(){let already={}
if(this.root){this.root.walk(node=>{if(node.source){let from=node.source.input.from
if(from&&!already[from]){already[from]=true
let fromUrl=this.usesFileUrls?this.toFileUrl(from):this.toUrl(this.path(from))
this.map.setSourceContent(fromUrl,node.source.input.css)}}})}else if(this.css){let from=this.opts.from?this.toUrl(this.path(this.opts.from)):'<no source>'
this.map.setSourceContent(from,this.css)}}
sourcePath(node){if(this.mapOpts.from){return this.toUrl(this.mapOpts.from)}else if(this.usesFileUrls){return this.toFileUrl(node.source.input.from)}else{return this.toUrl(this.path(node.source.input.from))}}
toBase64(str){if(Buffer){return Buffer.from(str).toString('base64')}else{return window.btoa(unescape(encodeURIComponent(str)))}}
toFileUrl(path){let cached=this.memoizedFileURLs.get(path)
if(cached)return cached
if(pathToFileURL){let fileURL=pathToFileURL(path).toString()
this.memoizedFileURLs.set(path,fileURL)
return fileURL}else{throw new Error('`map.absolute` option is not available in this PostCSS build')}}
toUrl(path){let cached=this.memoizedURLs.get(path)
if(cached)return cached
if(sep==='\\'){path=path.replace(/\\/g,'/')}
let url=encodeURI(path).replace(/[#?]/g,encodeURIComponent)
this.memoizedURLs.set(path,url)
return url}}
module.exports=MapGenerator}),1866:(()=>{}),2213:((module)=>{var _populated=false;var _ie,_firefox,_opera,_webkit,_chrome;var _ie_real_version;var _osx,_windows,_linux,_android;var _win64;var _iphone,_ipad,_native;var _mobile;function _populate(){if(_populated){return;}
_populated=true;var uas=navigator.userAgent;var agent=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(uas);var os=/(Mac OS X)|(Windows)|(Linux)/.exec(uas);_iphone=/\b(iPhone|iP[ao]d)/.exec(uas);_ipad=/\b(iP[ao]d)/.exec(uas);_android=/Android/i.exec(uas);_native=/FBAN\/\w+;/i.exec(uas);_mobile=/Mobile/i.exec(uas);_win64=!!(/Win64/.exec(uas));if(agent){_ie=agent[1]?parseFloat(agent[1]):(agent[5]?parseFloat(agent[5]):NaN);if(_ie&&document&&document.documentMode){_ie=document.documentMode;}
var trident=/(?:Trident\/(\d+.\d+))/.exec(uas);_ie_real_version=trident?parseFloat(trident[1])+4:_ie;_firefox=agent[2]?parseFloat(agent[2]):NaN;_opera=agent[3]?parseFloat(agent[3]):NaN;_webkit=agent[4]?parseFloat(agent[4]):NaN;if(_webkit){agent=/(?:Chrome\/(\d+\.\d+))/.exec(uas);_chrome=agent&&agent[1]?parseFloat(agent[1]):NaN;}else{_chrome=NaN;}}else{_ie=_firefox=_opera=_chrome=_webkit=NaN;}
if(os){if(os[1]){var ver=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(uas);_osx=ver?parseFloat(ver[1].replace('_','.')):true;}else{_osx=false;}
_windows=!!os[2];_linux=!!os[3];}else{_osx=_windows=_linux=false;}}
var UserAgent_DEPRECATED={ie:function(){return _populate()||_ie;},ieCompatibilityMode:function(){return _populate()||(_ie_real_version>_ie);},ie64:function(){return UserAgent_DEPRECATED.ie()&&_win64;},firefox:function(){return _populate()||_firefox;},opera:function(){return _populate()||_opera;},webkit:function(){return _populate()||_webkit;},safari:function(){return UserAgent_DEPRECATED.webkit();},chrome:function(){return _populate()||_chrome;},windows:function(){return _populate()||_windows;},osx:function(){return _populate()||_osx;},linux:function(){return _populate()||_linux;},iphone:function(){return _populate()||_iphone;},mobile:function(){return _populate()||(_iphone||_ipad||_android||_mobile);},nativeApp:function(){return _populate()||_native;},android:function(){return _populate()||_android;},ipad:function(){return _populate()||_ipad;}};module.exports=UserAgent_DEPRECATED;}),2327:((module)=>{"use strict";const SINGLE_QUOTE="'".charCodeAt(0)
const DOUBLE_QUOTE='"'.charCodeAt(0)
const BACKSLASH='\\'.charCodeAt(0)
const SLASH='/'.charCodeAt(0)
const NEWLINE='\n'.charCodeAt(0)
const SPACE=' '.charCodeAt(0)
const FEED='\f'.charCodeAt(0)
const TAB='\t'.charCodeAt(0)
const CR='\r'.charCodeAt(0)
const OPEN_SQUARE='['.charCodeAt(0)
const CLOSE_SQUARE=']'.charCodeAt(0)
const OPEN_PARENTHESES='('.charCodeAt(0)
const CLOSE_PARENTHESES=')'.charCodeAt(0)
const OPEN_CURLY='{'.charCodeAt(0)
const CLOSE_CURLY='}'.charCodeAt(0)
const SEMICOLON=';'.charCodeAt(0)
const ASTERISK='*'.charCodeAt(0)
const COLON=':'.charCodeAt(0)
const AT='@'.charCodeAt(0)
const RE_AT_END=/[\t\n\f\r "#'()/;[\\\]{}]/g
const RE_WORD_END=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g
const RE_BAD_BRACKET=/.[\r\n"'(/\\]/
const RE_HEX_ESCAPE=/[\da-f]/i
module.exports=function tokenizer(input,options={}){let css=input.css.valueOf()
let ignore=options.ignoreErrors
let code,content,escape,next,quote
let currentToken,escaped,escapePos,n,prev
let length=css.length
let pos=0
let buffer=[]
let returned=[]
function position(){return pos}
function unclosed(what){throw input.error('Unclosed '+what,pos)}
function endOfFile(){return returned.length===0&&pos>=length}
function nextToken(opts){if(returned.length)return returned.pop()
if(pos>=length)return
let ignoreUnclosed=opts?opts.ignoreUnclosed:false
code=css.charCodeAt(pos)
switch(code){case NEWLINE:case SPACE:case TAB:case CR:case FEED:{next=pos
do{next+=1
code=css.charCodeAt(next)}while(code===SPACE||code===NEWLINE||code===TAB||code===CR||code===FEED)
currentToken=['space',css.slice(pos,next)]
pos=next-1
break}
case OPEN_SQUARE:case CLOSE_SQUARE:case OPEN_CURLY:case CLOSE_CURLY:case COLON:case SEMICOLON:case CLOSE_PARENTHESES:{let controlChar=String.fromCharCode(code)
currentToken=[controlChar,controlChar,pos]
break}
case OPEN_PARENTHESES:{prev=buffer.length?buffer.pop()[1]:''
n=css.charCodeAt(pos+1)
if(prev==='url'&&n!==SINGLE_QUOTE&&n!==DOUBLE_QUOTE&&n!==SPACE&&n!==NEWLINE&&n!==TAB&&n!==FEED&&n!==CR){next=pos
do{escaped=false
next=css.indexOf(')',next+1)
if(next===-1){if(ignore||ignoreUnclosed){next=pos
break}else{unclosed('bracket')}}
escapePos=next
while(css.charCodeAt(escapePos-1)===BACKSLASH){escapePos-=1
escaped=!escaped}}while(escaped)
currentToken=['brackets',css.slice(pos,next+1),pos,next]
pos=next}else{next=css.indexOf(')',pos+1)
content=css.slice(pos,next+1)
if(next===-1||RE_BAD_BRACKET.test(content)){currentToken=['(','(',pos]}else{currentToken=['brackets',content,pos,next]
pos=next}}
break}
case SINGLE_QUOTE:case DOUBLE_QUOTE:{quote=code===SINGLE_QUOTE?"'":'"'
next=pos
do{escaped=false
next=css.indexOf(quote,next+1)
if(next===-1){if(ignore||ignoreUnclosed){next=pos+1
break}else{unclosed('string')}}
escapePos=next
while(css.charCodeAt(escapePos-1)===BACKSLASH){escapePos-=1
escaped=!escaped}}while(escaped)
currentToken=['string',css.slice(pos,next+1),pos,next]
pos=next
break}
case AT:{RE_AT_END.lastIndex=pos+1
RE_AT_END.test(css)
if(RE_AT_END.lastIndex===0){next=css.length-1}else{next=RE_AT_END.lastIndex-2}
currentToken=['at-word',css.slice(pos,next+1),pos,next]
pos=next
break}
case BACKSLASH:{next=pos
escape=true
while(css.charCodeAt(next+1)===BACKSLASH){next+=1
escape=!escape}
code=css.charCodeAt(next+1)
if(escape&&code!==SLASH&&code!==SPACE&&code!==NEWLINE&&code!==TAB&&code!==CR&&code!==FEED){next+=1
if(RE_HEX_ESCAPE.test(css.charAt(next))){while(RE_HEX_ESCAPE.test(css.charAt(next+1))){next+=1}
if(css.charCodeAt(next+1)===SPACE){next+=1}}}
currentToken=['word',css.slice(pos,next+1),pos,next]
pos=next
break}
default:{if(code===SLASH&&css.charCodeAt(pos+1)===ASTERISK){next=css.indexOf('*/',pos+2)+1
if(next===0){if(ignore||ignoreUnclosed){next=css.length}else{unclosed('comment')}}
currentToken=['comment',css.slice(pos,next+1),pos,next]
pos=next}else{RE_WORD_END.lastIndex=pos+1
RE_WORD_END.test(css)
if(RE_WORD_END.lastIndex===0){next=css.length-1}else{next=RE_WORD_END.lastIndex-2}
currentToken=['word',css.slice(pos,next+1),pos,next]
buffer.push(currentToken)
pos=next}
break}}
pos++
return currentToken}
function back(token){returned.push(token)}
return{back,endOfFile,nextToken,position}}}),2739:(()=>{}),2775:((module)=>{var x=String;var create=function(){return{isColorSupported:false,reset:x,bold:x,dim:x,italic:x,underline:x,inverse:x,hidden:x,strikethrough:x,black:x,red:x,green:x,yellow:x,blue:x,magenta:x,cyan:x,white:x,gray:x,bgBlack:x,bgRed:x,bgGreen:x,bgYellow:x,bgBlue:x,bgMagenta:x,bgCyan:x,bgWhite:x,blackBright:x,redBright:x,greenBright:x,yellowBright:x,blueBright:x,magentaBright:x,cyanBright:x,whiteBright:x,bgBlackBright:x,bgRedBright:x,bgGreenBright:x,bgYellowBright:x,bgBlueBright:x,bgMagentaBright:x,bgCyanBright:x,bgWhiteBright:x}};module.exports=create();module.exports.createColors=create;}),3122:((module)=>{"use strict";let printed={}
module.exports=function warnOnce(message){if(printed[message])return
printed[message]=true
if(typeof console!=='undefined'&&console.warn){console.warn(message)}}}),3815:((module)=>{module.exports=function walk(nodes,cb,bubble){var i,max,node,result;for(i=0,max=nodes.length;i<max;i+=1){node=nodes[i];if(!bubble){result=cb(node,i,nodes);}
if(result!==false&&node.type==="function"&&Array.isArray(node.nodes)){walk(node.nodes,cb,bubble);}
if(bubble){cb(node,i,nodes);}}};}),3937:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let AtRule=__webpack_require__(1326)
let Comment=__webpack_require__(6589)
let Declaration=__webpack_require__(1516)
let Root=__webpack_require__(9434)
let Rule=__webpack_require__(4092)
let tokenizer=__webpack_require__(2327)
const SAFE_COMMENT_NEIGHBOR={empty:true,space:true}
function findLastWithPosition(tokens){for(let i=tokens.length-1;i>=0;i--){let token=tokens[i]
let pos=token[3]||token[2]
if(pos)return pos}}
class Parser{constructor(input){this.input=input
this.root=new Root()
this.current=this.root
this.spaces=''
this.semicolon=false
this.createTokenizer()
this.root.source={input,start:{column:1,line:1,offset:0}}}
atrule(token){let node=new AtRule()
node.name=token[1].slice(1)
if(node.name===''){this.unnamedAtrule(node,token)}
this.init(node,token[2])
let type
let prev
let shift
let last=false
let open=false
let params=[]
let brackets=[]
while(!this.tokenizer.endOfFile()){token=this.tokenizer.nextToken()
type=token[0]
if(type==='('||type==='['){brackets.push(type==='('?')':']')}else if(type==='{'&&brackets.length>0){brackets.push('}')}else if(type===brackets[brackets.length-1]){brackets.pop()}
if(brackets.length===0){if(type===';'){node.source.end=this.getPosition(token[2])
node.source.end.offset++
this.semicolon=true
break}else if(type==='{'){open=true
break}else if(type==='}'){if(params.length>0){shift=params.length-1
prev=params[shift]
while(prev&&prev[0]==='space'){prev=params[--shift]}
if(prev){node.source.end=this.getPosition(prev[3]||prev[2])
node.source.end.offset++}}
this.end(token)
break}else{params.push(token)}}else{params.push(token)}
if(this.tokenizer.endOfFile()){last=true
break}}
node.raws.between=this.spacesAndCommentsFromEnd(params)
if(params.length){node.raws.afterName=this.spacesAndCommentsFromStart(params)
this.raw(node,'params',params)
if(last){token=params[params.length-1]
node.source.end=this.getPosition(token[3]||token[2])
node.source.end.offset++
this.spaces=node.raws.between
node.raws.between=''}}else{node.raws.afterName=''
node.params=''}
if(open){node.nodes=[]
this.current=node}}
checkMissedSemicolon(tokens){let colon=this.colon(tokens)
if(colon===false)return
let founded=0
let token
for(let j=colon-1;j>=0;j--){token=tokens[j]
if(token[0]!=='space'){founded+=1
if(founded===2)break}}
throw this.input.error('Missed semicolon',token[0]==='word'?token[3]+1:token[2])}
colon(tokens){let brackets=0
let prev,token,type
for(let[i,element]of tokens.entries()){token=element
type=token[0]
if(type==='('){brackets+=1}
if(type===')'){brackets-=1}
if(brackets===0&&type===':'){if(!prev){this.doubleColon(token)}else if(prev[0]==='word'&&prev[1]==='progid'){continue}else{return i}}
prev=token}
return false}
comment(token){let node=new Comment()
this.init(node,token[2])
node.source.end=this.getPosition(token[3]||token[2])
node.source.end.offset++
let text=token[1].slice(2,-2)
if(/^\s*$/.test(text)){node.text=''
node.raws.left=text
node.raws.right=''}else{let match=text.match(/^(\s*)([^]*\S)(\s*)$/)
node.text=match[2]
node.raws.left=match[1]
node.raws.right=match[3]}}
createTokenizer(){this.tokenizer=tokenizer(this.input)}
decl(tokens,customProperty){let node=new Declaration()
this.init(node,tokens[0][2])
let last=tokens[tokens.length-1]
if(last[0]===';'){this.semicolon=true
tokens.pop()}
node.source.end=this.getPosition(last[3]||last[2]||findLastWithPosition(tokens))
node.source.end.offset++
while(tokens[0][0]!=='word'){if(tokens.length===1)this.unknownWord(tokens)
node.raws.before+=tokens.shift()[1]}
node.source.start=this.getPosition(tokens[0][2])
node.prop=''
while(tokens.length){let type=tokens[0][0]
if(type===':'||type==='space'||type==='comment'){break}
node.prop+=tokens.shift()[1]}
node.raws.between=''
let token
while(tokens.length){token=tokens.shift()
if(token[0]===':'){node.raws.between+=token[1]
break}else{if(token[0]==='word'&&/\w/.test(token[1])){this.unknownWord([token])}
node.raws.between+=token[1]}}
if(node.prop[0]==='_'||node.prop[0]==='*'){node.raws.before+=node.prop[0]
node.prop=node.prop.slice(1)}
let firstSpaces=[]
let next
while(tokens.length){next=tokens[0][0]
if(next!=='space'&&next!=='comment')break
firstSpaces.push(tokens.shift())}
this.precheckMissedSemicolon(tokens)
for(let i=tokens.length-1;i>=0;i--){token=tokens[i]
if(token[1].toLowerCase()==='!important'){node.important=true
let string=this.stringFrom(tokens,i)
string=this.spacesFromEnd(tokens)+string
if(string!==' !important')node.raws.important=string
break}else if(token[1].toLowerCase()==='important'){let cache=tokens.slice(0)
let str=''
for(let j=i;j>0;j--){let type=cache[j][0]
if(str.trim().startsWith('!')&&type!=='space'){break}
str=cache.pop()[1]+str}
if(str.trim().startsWith('!')){node.important=true
node.raws.important=str
tokens=cache}}
if(token[0]!=='space'&&token[0]!=='comment'){break}}
let hasWord=tokens.some(i=>i[0]!=='space'&&i[0]!=='comment')
if(hasWord){node.raws.between+=firstSpaces.map(i=>i[1]).join('')
firstSpaces=[]}
this.raw(node,'value',firstSpaces.concat(tokens),customProperty)
if(node.value.includes(':')&&!customProperty){this.checkMissedSemicolon(tokens)}}
doubleColon(token){throw this.input.error('Double colon',{offset:token[2]},{offset:token[2]+token[1].length})}
emptyRule(token){let node=new Rule()
this.init(node,token[2])
node.selector=''
node.raws.between=''
this.current=node}
end(token){if(this.current.nodes&&this.current.nodes.length){this.current.raws.semicolon=this.semicolon}
this.semicolon=false
this.current.raws.after=(this.current.raws.after||'')+this.spaces
this.spaces=''
if(this.current.parent){this.current.source.end=this.getPosition(token[2])
this.current.source.end.offset++
this.current=this.current.parent}else{this.unexpectedClose(token)}}
endFile(){if(this.current.parent)this.unclosedBlock()
if(this.current.nodes&&this.current.nodes.length){this.current.raws.semicolon=this.semicolon}
this.current.raws.after=(this.current.raws.after||'')+this.spaces
this.root.source.end=this.getPosition(this.tokenizer.position())}
freeSemicolon(token){this.spaces+=token[1]
if(this.current.nodes){let prev=this.current.nodes[this.current.nodes.length-1]
if(prev&&prev.type==='rule'&&!prev.raws.ownSemicolon){prev.raws.ownSemicolon=this.spaces
this.spaces=''
prev.source.end=this.getPosition(token[2])
prev.source.end.offset+=prev.raws.ownSemicolon.length}}}
getPosition(offset){let pos=this.input.fromOffset(offset)
return{column:pos.col,line:pos.line,offset}}
init(node,offset){this.current.push(node)
node.source={input:this.input,start:this.getPosition(offset)}
node.raws.before=this.spaces
this.spaces=''
if(node.type!=='comment')this.semicolon=false}
other(start){let end=false
let type=null
let colon=false
let bracket=null
let brackets=[]
let customProperty=start[1].startsWith('--')
let tokens=[]
let token=start
while(token){type=token[0]
tokens.push(token)
if(type==='('||type==='['){if(!bracket)bracket=token
brackets.push(type==='('?')':']')}else if(customProperty&&colon&&type==='{'){if(!bracket)bracket=token
brackets.push('}')}else if(brackets.length===0){if(type===';'){if(colon){this.decl(tokens,customProperty)
return}else{break}}else if(type==='{'){this.rule(tokens)
return}else if(type==='}'){this.tokenizer.back(tokens.pop())
end=true
break}else if(type===':'){colon=true}}else if(type===brackets[brackets.length-1]){brackets.pop()
if(brackets.length===0)bracket=null}
token=this.tokenizer.nextToken()}
if(this.tokenizer.endOfFile())end=true
if(brackets.length>0)this.unclosedBracket(bracket)
if(end&&colon){if(!customProperty){while(tokens.length){token=tokens[tokens.length-1][0]
if(token!=='space'&&token!=='comment')break
this.tokenizer.back(tokens.pop())}}
this.decl(tokens,customProperty)}else{this.unknownWord(tokens)}}
parse(){let token
while(!this.tokenizer.endOfFile()){token=this.tokenizer.nextToken()
switch(token[0]){case'space':this.spaces+=token[1]
break
case';':this.freeSemicolon(token)
break
case'}':this.end(token)
break
case'comment':this.comment(token)
break
case'at-word':this.atrule(token)
break
case'{':this.emptyRule(token)
break
default:this.other(token)
break}}
this.endFile()}
precheckMissedSemicolon(){}
raw(node,prop,tokens,customProperty){let token,type
let length=tokens.length
let value=''
let clean=true
let next,prev
for(let i=0;i<length;i+=1){token=tokens[i]
type=token[0]
if(type==='space'&&i===length-1&&!customProperty){clean=false}else if(type==='comment'){prev=tokens[i-1]?tokens[i-1][0]:'empty'
next=tokens[i+1]?tokens[i+1][0]:'empty'
if(!SAFE_COMMENT_NEIGHBOR[prev]&&!SAFE_COMMENT_NEIGHBOR[next]){if(value.slice(-1)===','){clean=false}else{value+=token[1]}}else{clean=false}}else{value+=token[1]}}
if(!clean){let raw=tokens.reduce((all,i)=>all+i[1],'')
node.raws[prop]={raw,value}}
node[prop]=value}
rule(tokens){tokens.pop()
let node=new Rule()
this.init(node,tokens[0][2])
node.raws.between=this.spacesAndCommentsFromEnd(tokens)
this.raw(node,'selector',tokens)
this.current=node}
spacesAndCommentsFromEnd(tokens){let lastTokenType
let spaces=''
while(tokens.length){lastTokenType=tokens[tokens.length-1][0]
if(lastTokenType!=='space'&&lastTokenType!=='comment')break
spaces=tokens.pop()[1]+spaces}
return spaces}
spacesAndCommentsFromStart(tokens){let next
let spaces=''
while(tokens.length){next=tokens[0][0]
if(next!=='space'&&next!=='comment')break
spaces+=tokens.shift()[1]}
return spaces}
spacesFromEnd(tokens){let lastTokenType
let spaces=''
while(tokens.length){lastTokenType=tokens[tokens.length-1][0]
if(lastTokenType!=='space')break
spaces=tokens.pop()[1]+spaces}
return spaces}
stringFrom(tokens,from){let result=''
for(let i=from;i<tokens.length;i++){result+=tokens[i][1]}
tokens.splice(from,tokens.length-from)
return result}
unclosedBlock(){let pos=this.current.source.start
throw this.input.error('Unclosed block',pos.line,pos.column)}
unclosedBracket(bracket){throw this.input.error('Unclosed bracket',{offset:bracket[2]},{offset:bracket[2]+1})}
unexpectedClose(token){throw this.input.error('Unexpected }',{offset:token[2]},{offset:token[2]+1})}
unknownWord(tokens){throw this.input.error('Unknown word '+tokens[0][1],{offset:tokens[0][2]},{offset:tokens[0][2]+tokens[0][1].length})}
unnamedAtrule(node,token){throw this.input.error('At-rule without name',{offset:token[2]},{offset:token[2]+token[1].length})}}
module.exports=Parser}),4067:((module)=>{"use strict";var ReactPropTypesSecret='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';module.exports=ReactPropTypesSecret;}),4092:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Container=__webpack_require__(683)
let list=__webpack_require__(7374)
class Rule extends Container{get selectors(){return list.comma(this.selector)}
set selectors(values){let match=this.selector?this.selector.match(/,\s*/):null
let sep=match?match[0]:','+this.raw('between','beforeOpen')
this.selector=values.join(sep)}
constructor(defaults){super(defaults)
this.type='rule'
if(!this.nodes)this.nodes=[]}}
module.exports=Rule
Rule.default=Rule
Container.registerRule(Rule)}),4132:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var __webpack_unused_export__;__webpack_unused_export__=true;var TextareaAutosize_1=__webpack_require__(4462);exports.A=TextareaAutosize_1.TextareaAutosize;}),4295:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Container=__webpack_require__(683)
let Input=__webpack_require__(5380)
let Parser=__webpack_require__(3937)
function parse(css,opts){let input=new Input(css,opts)
let parser=new Parser(input)
try{parser.parse()}catch(e){if(false){}
throw e}
return parser.root}
module.exports=parse
parse.default=parse
Container.registerParse(parse)}),4306:(function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/
(function(global,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[module,exports],__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{var mod;}})(this,function(module,exports){'use strict';var map=typeof Map==="function"?new Map():function(){var keys=[];var values=[];return{has:function has(key){return keys.indexOf(key)>-1;},get:function get(key){return values[keys.indexOf(key)];},set:function set(key,value){if(keys.indexOf(key)===-1){keys.push(key);values.push(value);}},delete:function _delete(key){var index=keys.indexOf(key);if(index>-1){keys.splice(index,1);values.splice(index,1);}}};}();var createEvent=function createEvent(name){return new Event(name,{bubbles:true});};try{new Event('test');}catch(e){createEvent=function createEvent(name){var evt=document.createEvent('Event');evt.initEvent(name,true,false);return evt;};}
function assign(ta){if(!ta||!ta.nodeName||ta.nodeName!=='TEXTAREA'||map.has(ta))return;var heightOffset=null;var clientWidth=null;var cachedHeight=null;function init(){var style=window.getComputedStyle(ta,null);if(style.resize==='vertical'){ta.style.resize='none';}else if(style.resize==='both'){ta.style.resize='horizontal';}
if(style.boxSizing==='content-box'){heightOffset=-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom));}else{heightOffset=parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth);}
if(isNaN(heightOffset)){heightOffset=0;}
update();}
function changeOverflow(value){{var width=ta.style.width;ta.style.width='0px';ta.offsetWidth;ta.style.width=width;}
ta.style.overflowY=value;}
function getParentOverflows(el){var arr=[];while(el&&el.parentNode&&el.parentNode instanceof Element){if(el.parentNode.scrollTop){arr.push({node:el.parentNode,scrollTop:el.parentNode.scrollTop});}
el=el.parentNode;}
return arr;}
function resize(){if(ta.scrollHeight===0){return;}
var overflows=getParentOverflows(ta);var docTop=document.documentElement&&document.documentElement.scrollTop;ta.style.height='';ta.style.height=ta.scrollHeight+heightOffset+'px';clientWidth=ta.clientWidth;overflows.forEach(function(el){el.node.scrollTop=el.scrollTop;});if(docTop){document.documentElement.scrollTop=docTop;}}
function update(){resize();var styleHeight=Math.round(parseFloat(ta.style.height));var computed=window.getComputedStyle(ta,null);var actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(computed.height)):ta.offsetHeight;if(actualHeight<styleHeight){if(computed.overflowY==='hidden'){changeOverflow('scroll');resize();actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight;}}else{if(computed.overflowY!=='hidden'){changeOverflow('hidden');resize();actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight;}}
if(cachedHeight!==actualHeight){cachedHeight=actualHeight;var evt=createEvent('autosize:resized');try{ta.dispatchEvent(evt);}catch(err){}}}
var pageResize=function pageResize(){if(ta.clientWidth!==clientWidth){update();}};var destroy=function(style){window.removeEventListener('resize',pageResize,false);ta.removeEventListener('input',update,false);ta.removeEventListener('keyup',update,false);ta.removeEventListener('autosize:destroy',destroy,false);ta.removeEventListener('autosize:update',update,false);Object.keys(style).forEach(function(key){ta.style[key]=style[key];});map.delete(ta);}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener('autosize:destroy',destroy,false);if('onpropertychange'in ta&&'oninput'in ta){ta.addEventListener('keyup',update,false);}
window.addEventListener('resize',pageResize,false);ta.addEventListener('input',update,false);ta.addEventListener('autosize:update',update,false);ta.style.overflowX='hidden';ta.style.wordWrap='break-word';map.set(ta,{destroy:destroy,update:update});init();}
function destroy(ta){var methods=map.get(ta);if(methods){methods.destroy();}}
function update(ta){var methods=map.get(ta);if(methods){methods.update();}}
var autosize=null;if(typeof window==='undefined'||typeof window.getComputedStyle!=='function'){autosize=function autosize(el){return el;};autosize.destroy=function(el){return el;};autosize.update=function(el){return el;};}else{autosize=function autosize(el,options){if(el){Array.prototype.forEach.call(el.length?el:[el],function(x){return assign(x,options);});}
return el;};autosize.destroy=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],destroy);}
return el;};autosize.update=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],update);}
return el;};}
exports.default=autosize;module.exports=exports['default'];});}),4462:(function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var __assign=(this&&this.__assign)||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};var __rest=(this&&this.__rest)||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)
t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")
for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)if(e.indexOf(p[i])<0)
t[p[i]]=s[p[i]];return t;};exports.__esModule=true;var React=__webpack_require__(1609);var PropTypes=__webpack_require__(5826);var autosize=__webpack_require__(4306);var _getLineHeight=__webpack_require__(461);var getLineHeight=_getLineHeight;var RESIZED="autosize:resized";var TextareaAutosizeClass=(function(_super){__extends(TextareaAutosizeClass,_super);function TextareaAutosizeClass(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.state={lineHeight:null};_this.textarea=null;_this.onResize=function(e){if(_this.props.onResize){_this.props.onResize(e);}};_this.updateLineHeight=function(){if(_this.textarea){_this.setState({lineHeight:getLineHeight(_this.textarea)});}};_this.onChange=function(e){var onChange=_this.props.onChange;_this.currentValue=e.currentTarget.value;onChange&&onChange(e);};return _this;}
TextareaAutosizeClass.prototype.componentDidMount=function(){var _this=this;var _a=this.props,maxRows=_a.maxRows,async=_a.async;if(typeof maxRows==="number"){this.updateLineHeight();}
if(typeof maxRows==="number"||async){setTimeout(function(){return _this.textarea&&autosize(_this.textarea);});}
else{this.textarea&&autosize(this.textarea);}
if(this.textarea){this.textarea.addEventListener(RESIZED,this.onResize);}};TextareaAutosizeClass.prototype.componentWillUnmount=function(){if(this.textarea){this.textarea.removeEventListener(RESIZED,this.onResize);autosize.destroy(this.textarea);}};TextareaAutosizeClass.prototype.render=function(){var _this=this;var _a=this,_b=_a.props,onResize=_b.onResize,maxRows=_b.maxRows,onChange=_b.onChange,style=_b.style,innerRef=_b.innerRef,children=_b.children,props=__rest(_b,["onResize","maxRows","onChange","style","innerRef","children"]),lineHeight=_a.state.lineHeight;var maxHeight=maxRows&&lineHeight?lineHeight*maxRows:null;return(React.createElement("textarea",__assign({},props,{onChange:this.onChange,style:maxHeight?__assign({},style,{maxHeight:maxHeight}):style,ref:function(element){_this.textarea=element;if(typeof _this.props.innerRef==='function'){_this.props.innerRef(element);}
else if(_this.props.innerRef){_this.props.innerRef.current=element;}}}),children));};TextareaAutosizeClass.prototype.componentDidUpdate=function(){this.textarea&&autosize.update(this.textarea);};TextareaAutosizeClass.defaultProps={rows:1,async:false};TextareaAutosizeClass.propTypes={rows:PropTypes.number,maxRows:PropTypes.number,onResize:PropTypes.func,innerRef:PropTypes.any,async:PropTypes.bool};return TextareaAutosizeClass;}(React.Component));exports.TextareaAutosize=React.forwardRef(function(props,ref){return React.createElement(TextareaAutosizeClass,__assign({},props,{innerRef:ref}));});}),4725:((module)=>{function stringifyNode(node,custom){var type=node.type;var value=node.value;var buf;var customResult;if(custom&&(customResult=custom(node))!==undefined){return customResult;}else if(type==="word"||type==="space"){return value;}else if(type==="string"){buf=node.quote||"";return buf+value+(node.unclosed?"":buf);}else if(type==="comment"){return"/*"+value+(node.unclosed?"":"*/");}else if(type==="div"){return(node.before||"")+value+(node.after||"");}else if(Array.isArray(node.nodes)){buf=stringify(node.nodes,custom);if(type!=="function"){return buf;}
return(value+"("+
(node.before||"")+
buf+
(node.after||"")+
(node.unclosed?"":")"));}
return value;}
function stringify(nodes,custom){var result,i;if(Array.isArray(nodes)){result="";for(i=nodes.length-1;~i;i-=1){result=stringifyNode(nodes[i],custom)+result;}
return result;}
return stringifyNode(nodes,custom);}
module.exports=stringify;}),5042:((module)=>{let urlAlphabet='useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'
let customAlphabet=(alphabet,defaultSize=21)=>{return(size=defaultSize)=>{let id=''
let i=size|0
while(i--){id+=alphabet[(Math.random()*alphabet.length)|0]}
return id}}
let nanoid=(size=21)=>{let id=''
let i=size|0
while(i--){id+=urlAlphabet[(Math.random()*64)|0]}
return id}
module.exports={nanoid,customAlphabet}}),5215:((module)=>{"use strict";module.exports=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=='object'&&typeof b=='object'){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)
if(!equal(a[i],b[i]))return false;return true;}
if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)
if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(!equal(a[key],b[key]))return false;}
return true;}
return a!==a&&b!==b;};}),5380:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let{nanoid}=__webpack_require__(5042)
let{isAbsolute,resolve}=__webpack_require__(197)
let{SourceMapConsumer,SourceMapGenerator}=__webpack_require__(1866)
let{fileURLToPath,pathToFileURL}=__webpack_require__(2739)
let CssSyntaxError=__webpack_require__(356)
let PreviousMap=__webpack_require__(5696)
let terminalHighlight=__webpack_require__(9746)
let fromOffsetCache=Symbol('fromOffsetCache')
let sourceMapAvailable=Boolean(SourceMapConsumer&&SourceMapGenerator)
let pathAvailable=Boolean(resolve&&isAbsolute)
class Input{get from(){return this.file||this.id}
constructor(css,opts={}){if(css===null||typeof css==='undefined'||(typeof css==='object'&&!css.toString)){throw new Error(`PostCSS received ${css} instead of CSS string`)}
this.css=css.toString()
if(this.css[0]==='\uFEFF'||this.css[0]==='\uFFFE'){this.hasBOM=true
this.css=this.css.slice(1)}else{this.hasBOM=false}
this.document=this.css
if(opts.document)this.document=opts.document.toString()
if(opts.from){if(!pathAvailable||/^\w+:\/\//.test(opts.from)||isAbsolute(opts.from)){this.file=opts.from}else{this.file=resolve(opts.from)}}
if(pathAvailable&&sourceMapAvailable){let map=new PreviousMap(this.css,opts)
if(map.text){this.map=map
let file=map.consumer().file
if(!this.file&&file)this.file=this.mapResolve(file)}}
if(!this.file){this.id='<input css '+nanoid(6)+'>'}
if(this.map)this.map.file=this.from}
error(message,line,column,opts={}){let endColumn,endLine,result
if(line&&typeof line==='object'){let start=line
let end=column
if(typeof start.offset==='number'){let pos=this.fromOffset(start.offset)
line=pos.line
column=pos.col}else{line=start.line
column=start.column}
if(typeof end.offset==='number'){let pos=this.fromOffset(end.offset)
endLine=pos.line
endColumn=pos.col}else{endLine=end.line
endColumn=end.column}}else if(!column){let pos=this.fromOffset(line)
line=pos.line
column=pos.col}
let origin=this.origin(line,column,endLine,endColumn)
if(origin){result=new CssSyntaxError(message,origin.endLine===undefined?origin.line:{column:origin.column,line:origin.line},origin.endLine===undefined?origin.column:{column:origin.endColumn,line:origin.endLine},origin.source,origin.file,opts.plugin)}else{result=new CssSyntaxError(message,endLine===undefined?line:{column,line},endLine===undefined?column:{column:endColumn,line:endLine},this.css,this.file,opts.plugin)}
result.input={column,endColumn,endLine,line,source:this.css}
if(this.file){if(pathToFileURL){result.input.url=pathToFileURL(this.file).toString()}
result.input.file=this.file}
return result}
fromOffset(offset){let lastLine,lineToIndex
if(!this[fromOffsetCache]){let lines=this.css.split('\n')
lineToIndex=new Array(lines.length)
let prevIndex=0
for(let i=0,l=lines.length;i<l;i++){lineToIndex[i]=prevIndex
prevIndex+=lines[i].length+1}
this[fromOffsetCache]=lineToIndex}else{lineToIndex=this[fromOffsetCache]}
lastLine=lineToIndex[lineToIndex.length-1]
let min=0
if(offset>=lastLine){min=lineToIndex.length-1}else{let max=lineToIndex.length-2
let mid
while(min<max){mid=min+((max-min)>>1)
if(offset<lineToIndex[mid]){max=mid-1}else if(offset>=lineToIndex[mid+1]){min=mid+1}else{min=mid
break}}}
return{col:offset-lineToIndex[min]+1,line:min+1}}
mapResolve(file){if(/^\w+:\/\//.test(file)){return file}
return resolve(this.map.consumer().sourceRoot||this.map.root||'.',file)}
origin(line,column,endLine,endColumn){if(!this.map)return false
let consumer=this.map.consumer()
let from=consumer.originalPositionFor({column,line})
if(!from.source)return false
let to
if(typeof endLine==='number'){to=consumer.originalPositionFor({column:endColumn,line:endLine})}
let fromUrl
if(isAbsolute(from.source)){fromUrl=pathToFileURL(from.source)}else{fromUrl=new URL(from.source,this.map.consumer().sourceRoot||pathToFileURL(this.map.mapFile))}
let result={column:from.column,endColumn:to&&to.column,endLine:to&&to.line,line:from.line,url:fromUrl.toString()}
if(fromUrl.protocol==='file:'){if(fileURLToPath){result.file=fileURLToPath(fromUrl)}else{throw new Error(`file: protocol is not available in this PostCSS build`)}}
let source=consumer.sourceContentFor(from.source)
if(source)result.source=source
return result}
toJSON(){let json={}
for(let name of['hasBOM','css','file','id']){if(this[name]!=null){json[name]=this[name]}}
if(this.map){json.map={...this.map}
if(json.map.consumerCache){json.map.consumerCache=undefined}}
return json}}
module.exports=Input
Input.default=Input
if(terminalHighlight&&terminalHighlight.registerInput){terminalHighlight.registerInput(Input)}}),5404:((module,__unused_webpack_exports,__webpack_require__)=>{const CSSValueParser=__webpack_require__(1544)
module.exports=(opts)=>{const DEFAULTS={skipHostRelativeUrls:true,}
const config=Object.assign(DEFAULTS,opts)
return{postcssPlugin:'rebaseUrl',Declaration(decl){const parsedValue=CSSValueParser(decl.value)
let valueChanged=false
parsedValue.walk(node=>{if(node.type!=='function'||node.value!=='url'){return}
const urlVal=node.nodes[0].value
const basedUrl=new URL(urlVal,opts.rootUrl)
if((basedUrl.pathname===urlVal)&&config.skipHostRelativeUrls){return false}
node.nodes[0].value=basedUrl.toString()
valueChanged=true
return false})
if(valueChanged){decl.value=CSSValueParser.stringify(parsedValue)}}}}
module.exports.postcss=true}),5417:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=Diff;function Diff(){}
Diff.prototype={diff:function diff(oldString,newString){var
options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var callback=options.callback;if(typeof options==='function'){callback=options;options={};}
this.options=options;var self=this;function done(value){if(callback){setTimeout(function(){callback(undefined,value);},0);return true;}else{return value;}}
oldString=this.castInput(oldString);newString=this.castInput(newString);oldString=this.removeEmpty(this.tokenize(oldString));newString=this.removeEmpty(this.tokenize(newString));var newLen=newString.length,oldLen=oldString.length;var editLength=1;var maxEditLength=newLen+oldLen;var bestPath=[{newPos:-1,components:[]}];var oldPos=this.extractCommon(bestPath[0],newString,oldString,0);if(bestPath[0].newPos+1>=newLen&&oldPos+1>=oldLen){return done([{value:this.join(newString),count:newString.length}]);}
function execEditLength(){for(var diagonalPath=-1*editLength;diagonalPath<=editLength;diagonalPath+=2){var basePath=void 0;var addPath=bestPath[diagonalPath-1],removePath=bestPath[diagonalPath+1],_oldPos=(removePath?removePath.newPos:0)-diagonalPath;if(addPath){bestPath[diagonalPath-1]=undefined;}
var canAdd=addPath&&addPath.newPos+1<newLen,canRemove=removePath&&0<=_oldPos&&_oldPos<oldLen;if(!canAdd&&!canRemove){bestPath[diagonalPath]=undefined;continue;}
if(!canAdd||canRemove&&addPath.newPos<removePath.newPos){basePath=clonePath(removePath);self.pushComponent(basePath.components,undefined,true);}else{basePath=addPath;basePath.newPos++;self.pushComponent(basePath.components,true,undefined);}
_oldPos=self.extractCommon(basePath,newString,oldString,diagonalPath);if(basePath.newPos+1>=newLen&&_oldPos+1>=oldLen){return done(buildValues(self,basePath.components,newString,oldString,self.useLongestToken));}else{bestPath[diagonalPath]=basePath;}}
editLength++;}
if(callback){(function exec(){setTimeout(function(){if(editLength>maxEditLength){return callback();}
if(!execEditLength()){exec();}},0);})();}else{while(editLength<=maxEditLength){var ret=execEditLength();if(ret){return ret;}}}},pushComponent:function pushComponent(components,added,removed){var last=components[components.length-1];if(last&&last.added===added&&last.removed===removed){components[components.length-1]={count:last.count+1,added:added,removed:removed};}else{components.push({count:1,added:added,removed:removed});}},extractCommon:function extractCommon(basePath,newString,oldString,diagonalPath){var newLen=newString.length,oldLen=oldString.length,newPos=basePath.newPos,oldPos=newPos-diagonalPath,commonCount=0;while(newPos+1<newLen&&oldPos+1<oldLen&&this.equals(newString[newPos+1],oldString[oldPos+1])){newPos++;oldPos++;commonCount++;}
if(commonCount){basePath.components.push({count:commonCount});}
basePath.newPos=newPos;return oldPos;},equals:function equals(left,right){if(this.options.comparator){return this.options.comparator(left,right);}else{return left===right||this.options.ignoreCase&&left.toLowerCase()===right.toLowerCase();}},removeEmpty:function removeEmpty(array){var ret=[];for(var i=0;i<array.length;i++){if(array[i]){ret.push(array[i]);}}
return ret;},castInput:function castInput(value){return value;},tokenize:function tokenize(value){return value.split('');},join:function join(chars){return chars.join('');}};function buildValues(diff,components,newString,oldString,useLongestToken){var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;for(;componentPos<componentLen;componentPos++){var component=components[componentPos];if(!component.removed){if(!component.added&&useLongestToken){var value=newString.slice(newPos,newPos+component.count);value=value.map(function(value,i){var oldValue=oldString[oldPos+i];return oldValue.length>value.length?oldValue:value;});component.value=diff.join(value);}else{component.value=diff.join(newString.slice(newPos,newPos+component.count));}
newPos+=component.count;if(!component.added){oldPos+=component.count;}}else{component.value=diff.join(oldString.slice(oldPos,oldPos+component.count));oldPos+=component.count;if(componentPos&&components[componentPos-1].added){var tmp=components[componentPos-1];components[componentPos-1]=components[componentPos];components[componentPos]=tmp;}}}
var lastComponent=components[componentLen-1];if(componentLen>1&&typeof lastComponent.value==='string'&&(lastComponent.added||lastComponent.removed)&&diff.equals('',lastComponent.value)){components[componentLen-2].value+=lastComponent.value;components.pop();}
return components;}
function clonePath(path){return{newPos:path.newPos,components:path.components.slice(0)};}}),5696:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let{existsSync,readFileSync}=__webpack_require__(9977)
let{dirname,join}=__webpack_require__(197)
let{SourceMapConsumer,SourceMapGenerator}=__webpack_require__(1866)
function fromBase64(str){if(Buffer){return Buffer.from(str,'base64').toString()}else{return window.atob(str)}}
class PreviousMap{constructor(css,opts){if(opts.map===false)return
this.loadAnnotation(css)
this.inline=this.startWith(this.annotation,'data:')
let prev=opts.map?opts.map.prev:undefined
let text=this.loadMap(opts.from,prev)
if(!this.mapFile&&opts.from){this.mapFile=opts.from}
if(this.mapFile)this.root=dirname(this.mapFile)
if(text)this.text=text}
consumer(){if(!this.consumerCache){this.consumerCache=new SourceMapConsumer(this.text)}
return this.consumerCache}
decodeInline(text){let baseCharsetUri=/^data:application\/json;charset=utf-?8;base64,/
let baseUri=/^data:application\/json;base64,/
let charsetUri=/^data:application\/json;charset=utf-?8,/
let uri=/^data:application\/json,/
let uriMatch=text.match(charsetUri)||text.match(uri)
if(uriMatch){return decodeURIComponent(text.substr(uriMatch[0].length))}
let baseUriMatch=text.match(baseCharsetUri)||text.match(baseUri)
if(baseUriMatch){return fromBase64(text.substr(baseUriMatch[0].length))}
let encoding=text.match(/data:application\/json;([^,]+),/)[1]
throw new Error('Unsupported source map encoding '+encoding)}
getAnnotationURL(sourceMapString){return sourceMapString.replace(/^\/\*\s*# sourceMappingURL=/,'').trim()}
isMap(map){if(typeof map!=='object')return false
return(typeof map.mappings==='string'||typeof map._mappings==='string'||Array.isArray(map.sections))}
loadAnnotation(css){let comments=css.match(/\/\*\s*# sourceMappingURL=/g)
if(!comments)return
let start=css.lastIndexOf(comments.pop())
let end=css.indexOf('*/',start)
if(start>-1&&end>-1){this.annotation=this.getAnnotationURL(css.substring(start,end))}}
loadFile(path){this.root=dirname(path)
if(existsSync(path)){this.mapFile=path
return readFileSync(path,'utf-8').toString().trim()}}
loadMap(file,prev){if(prev===false)return false
if(prev){if(typeof prev==='string'){return prev}else if(typeof prev==='function'){let prevPath=prev(file)
if(prevPath){let map=this.loadFile(prevPath)
if(!map){throw new Error('Unable to load previous source map: '+prevPath.toString())}
return map}}else if(prev instanceof SourceMapConsumer){return SourceMapGenerator.fromSourceMap(prev).toString()}else if(prev instanceof SourceMapGenerator){return prev.toString()}else if(this.isMap(prev)){return JSON.stringify(prev)}else{throw new Error('Unsupported previous source map format: '+prev.toString())}}else if(this.inline){return this.decodeInline(this.annotation)}else if(this.annotation){let map=this.annotation
if(file)map=join(dirname(file),map)
return this.loadFile(map)}}
startWith(string,start){if(!string)return false
return string.substr(0,start.length)===start}
withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}
module.exports=PreviousMap
PreviousMap.default=PreviousMap}),5776:((module)=>{"use strict";class Warning{constructor(text,opts={}){this.type='warning'
this.text=text
if(opts.node&&opts.node.source){let range=opts.node.rangeBy(opts)
this.line=range.start.line
this.column=range.start.column
this.endLine=range.end.line
this.endColumn=range.end.column}
for(let opt in opts)this[opt]=opts[opt]}
toString(){if(this.node){return this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message}
if(this.plugin){return this.plugin+': '+this.text}
return this.text}}
module.exports=Warning
Warning.default=Warning}),5826:((module,__unused_webpack_exports,__webpack_require__)=>{if(false){var throwOnDirectAccess,ReactIs;}else{module.exports=__webpack_require__(628)();}}),6109:((module)=>{var computedStyle=function(el,prop,getComputedStyle){getComputedStyle=window.getComputedStyle;return(getComputedStyle?getComputedStyle(el):el.currentStyle)[prop.replace(/-(\w)/gi,function(word,letter){return letter.toUpperCase();})];};module.exports=computedStyle;}),6589:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Node=__webpack_require__(7490)
class Comment extends Node{constructor(defaults){super(defaults)
this.type='comment'}}
module.exports=Comment
Comment.default=Comment}),7191:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var UserAgent_DEPRECATED=__webpack_require__(2213);var isEventSupported=__webpack_require__(1087);var PIXEL_STEP=10;var LINE_HEIGHT=40;var PAGE_HEIGHT=800;function normalizeWheel(event){var sX=0,sY=0,pX=0,pY=0;if('detail'in event){sY=event.detail;}
if('wheelDelta'in event){sY=-event.wheelDelta / 120;}
if('wheelDeltaY'in event){sY=-event.wheelDeltaY / 120;}
if('wheelDeltaX'in event){sX=-event.wheelDeltaX / 120;}
if('axis'in event&&event.axis===event.HORIZONTAL_AXIS){sX=sY;sY=0;}
pX=sX*PIXEL_STEP;pY=sY*PIXEL_STEP;if('deltaY'in event){pY=event.deltaY;}
if('deltaX'in event){pX=event.deltaX;}
if((pX||pY)&&event.deltaMode){if(event.deltaMode==1){pX*=LINE_HEIGHT;pY*=LINE_HEIGHT;}else{pX*=PAGE_HEIGHT;pY*=PAGE_HEIGHT;}}
if(pX&&!sX){sX=(pX<1)?-1:1;}
if(pY&&!sY){sY=(pY<1)?-1:1;}
return{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY};}
normalizeWheel.getEventType=function(){return(UserAgent_DEPRECATED.firefox())?'DOMMouseScroll':(isEventSupported('wheel'))?'wheel':'mousewheel';};module.exports=normalizeWheel;}),7374:((module)=>{"use strict";let list={comma(string){return list.split(string,[','],true)},space(string){let spaces=[' ','\n','\t']
return list.split(string,spaces)},split(string,separators,last){let array=[]
let current=''
let split=false
let func=0
let inQuote=false
let prevQuote=''
let escape=false
for(let letter of string){if(escape){escape=false}else if(letter==='\\'){escape=true}else if(inQuote){if(letter===prevQuote){inQuote=false}}else if(letter==='"'||letter==="'"){inQuote=true
prevQuote=letter}else if(letter==='('){func+=1}else if(letter===')'){if(func>0)func-=1}else if(func===0){if(separators.includes(letter))split=true}
if(split){if(current!=='')array.push(current.trim())
current=''
split=false}else{current+=letter}}
if(last||current!=='')array.push(current.trim())
return array}}
module.exports=list
list.default=list}),7490:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let CssSyntaxError=__webpack_require__(356)
let Stringifier=__webpack_require__(346)
let stringify=__webpack_require__(633)
let{isClean,my}=__webpack_require__(1381)
function cloneNode(obj,parent){let cloned=new obj.constructor()
for(let i in obj){if(!Object.prototype.hasOwnProperty.call(obj,i)){continue}
if(i==='proxyCache')continue
let value=obj[i]
let type=typeof value
if(i==='parent'&&type==='object'){if(parent)cloned[i]=parent}else if(i==='source'){cloned[i]=value}else if(Array.isArray(value)){cloned[i]=value.map(j=>cloneNode(j,cloned))}else{if(type==='object'&&value!==null)value=cloneNode(value)
cloned[i]=value}}
return cloned}
function sourceOffset(inputCSS,position){if(position&&typeof position.offset!=='undefined'){return position.offset;}
let column=1
let line=1
let offset=0
for(let i=0;i<inputCSS.length;i++){if(line===position.line&&column===position.column){offset=i
break}
if(inputCSS[i]==='\n'){column=1
line+=1}else{column+=1}}
return offset}
class Node{get proxyOf(){return this}
constructor(defaults={}){this.raws={}
this[isClean]=false
this[my]=true
for(let name in defaults){if(name==='nodes'){this.nodes=[]
for(let node of defaults[name]){if(typeof node.clone==='function'){this.append(node.clone())}else{this.append(node)}}}else{this[name]=defaults[name]}}}
addToError(error){error.postcssNode=this
if(error.stack&&this.source&&/\n\s{4}at /.test(error.stack)){let s=this.source
error.stack=error.stack.replace(/\n\s{4}at /,`$&${s.input.from}:${s.start.line}:${s.start.column}$&`)}
return error}
after(add){this.parent.insertAfter(this,add)
return this}
assign(overrides={}){for(let name in overrides){this[name]=overrides[name]}
return this}
before(add){this.parent.insertBefore(this,add)
return this}
cleanRaws(keepBetween){delete this.raws.before
delete this.raws.after
if(!keepBetween)delete this.raws.between}
clone(overrides={}){let cloned=cloneNode(this)
for(let name in overrides){cloned[name]=overrides[name]}
return cloned}
cloneAfter(overrides={}){let cloned=this.clone(overrides)
this.parent.insertAfter(this,cloned)
return cloned}
cloneBefore(overrides={}){let cloned=this.clone(overrides)
this.parent.insertBefore(this,cloned)
return cloned}
error(message,opts={}){if(this.source){let{end,start}=this.rangeBy(opts)
return this.source.input.error(message,{column:start.column,line:start.line},{column:end.column,line:end.line},opts)}
return new CssSyntaxError(message)}
getProxyProcessor(){return{get(node,prop){if(prop==='proxyOf'){return node}else if(prop==='root'){return()=>node.root().toProxy()}else{return node[prop]}},set(node,prop,value){if(node[prop]===value)return true
node[prop]=value
if(prop==='prop'||prop==='value'||prop==='name'||prop==='params'||prop==='important'||prop==='text'){node.markDirty()}
return true}}}
markClean(){this[isClean]=true}
markDirty(){if(this[isClean]){this[isClean]=false
let next=this
while((next=next.parent)){next[isClean]=false}}}
next(){if(!this.parent)return undefined
let index=this.parent.index(this)
return this.parent.nodes[index+1]}
positionBy(opts){let pos=this.source.start
if(opts.index){pos=this.positionInside(opts.index)}else if(opts.word){let inputString=('document'in this.source.input)?this.source.input.document:this.source.input.css
let stringRepresentation=inputString.slice(sourceOffset(inputString,this.source.start),sourceOffset(inputString,this.source.end))
let index=stringRepresentation.indexOf(opts.word)
if(index!==-1)pos=this.positionInside(index)}
return pos}
positionInside(index){let column=this.source.start.column
let line=this.source.start.line
let inputString=('document'in this.source.input)?this.source.input.document:this.source.input.css
let offset=sourceOffset(inputString,this.source.start)
let end=offset+index
for(let i=offset;i<end;i++){if(inputString[i]==='\n'){column=1
line+=1}else{column+=1}}
return{column,line}}
prev(){if(!this.parent)return undefined
let index=this.parent.index(this)
return this.parent.nodes[index-1]}
rangeBy(opts){let start={column:this.source.start.column,line:this.source.start.line}
let end=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:start.column+1,line:start.line}
if(opts.word){let inputString=('document'in this.source.input)?this.source.input.document:this.source.input.css
let stringRepresentation=inputString.slice(sourceOffset(inputString,this.source.start),sourceOffset(inputString,this.source.end))
let index=stringRepresentation.indexOf(opts.word)
if(index!==-1){start=this.positionInside(index)
end=this.positionInside(index+opts.word.length,)}}else{if(opts.start){start={column:opts.start.column,line:opts.start.line}}else if(opts.index){start=this.positionInside(opts.index)}
if(opts.end){end={column:opts.end.column,line:opts.end.line}}else if(typeof opts.endIndex==='number'){end=this.positionInside(opts.endIndex)}else if(opts.index){end=this.positionInside(opts.index+1)}}
if(end.line<start.line||(end.line===start.line&&end.column<=start.column)){end={column:start.column+1,line:start.line}}
return{end,start}}
raw(prop,defaultType){let str=new Stringifier()
return str.raw(this,prop,defaultType)}
remove(){if(this.parent){this.parent.removeChild(this)}
this.parent=undefined
return this}
replaceWith(...nodes){if(this.parent){let bookmark=this
let foundSelf=false
for(let node of nodes){if(node===this){foundSelf=true}else if(foundSelf){this.parent.insertAfter(bookmark,node)
bookmark=node}else{this.parent.insertBefore(bookmark,node)}}
if(!foundSelf){this.remove()}}
return this}
root(){let result=this
while(result.parent&&result.parent.type!=='document'){result=result.parent}
return result}
toJSON(_,inputs){let fixed={}
let emitInputs=inputs==null
inputs=inputs||new Map()
let inputsNextIndex=0
for(let name in this){if(!Object.prototype.hasOwnProperty.call(this,name)){continue}
if(name==='parent'||name==='proxyCache')continue
let value=this[name]
if(Array.isArray(value)){fixed[name]=value.map(i=>{if(typeof i==='object'&&i.toJSON){return i.toJSON(null,inputs)}else{return i}})}else if(typeof value==='object'&&value.toJSON){fixed[name]=value.toJSON(null,inputs)}else if(name==='source'){let inputId=inputs.get(value.input)
if(inputId==null){inputId=inputsNextIndex
inputs.set(value.input,inputsNextIndex)
inputsNextIndex++}
fixed[name]={end:value.end,inputId,start:value.start}}else{fixed[name]=value}}
if(emitInputs){fixed.inputs=[...inputs.keys()].map(input=>input.toJSON())}
return fixed}
toProxy(){if(!this.proxyCache){this.proxyCache=new Proxy(this,this.getProxyProcessor())}
return this.proxyCache}
toString(stringifier=stringify){if(stringifier.stringify)stringifier=stringifier.stringify
let result=''
stringifier(this,i=>{result+=i})
return result}
warn(result,text,opts){let data={node:this}
for(let i in opts)data[i]=opts[i]
return result.warn(text,data)}}
module.exports=Node
Node.default=Node}),7520:((module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(7191);}),7661:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let MapGenerator=__webpack_require__(1670)
let parse=__webpack_require__(4295)
const Result=__webpack_require__(9055)
let stringify=__webpack_require__(633)
let warnOnce=__webpack_require__(3122)
class NoWorkResult{get content(){return this.result.css}
get css(){return this.result.css}
get map(){return this.result.map}
get messages(){return[]}
get opts(){return this.result.opts}
get processor(){return this.result.processor}
get root(){if(this._root){return this._root}
let root
let parser=parse
try{root=parser(this._css,this._opts)}catch(error){this.error=error}
if(this.error){throw this.error}else{this._root=root
return root}}
get[Symbol.toStringTag](){return'NoWorkResult'}
constructor(processor,css,opts){css=css.toString()
this.stringified=false
this._processor=processor
this._css=css
this._opts=opts
this._map=undefined
let root
let str=stringify
this.result=new Result(this._processor,root,this._opts)
this.result.css=css
let self=this
Object.defineProperty(this.result,'root',{get(){return self.root}})
let map=new MapGenerator(str,root,this._opts,css)
if(map.isMap()){let[generatedCSS,generatedMap]=map.generate()
if(generatedCSS){this.result.css=generatedCSS}
if(generatedMap){this.result.map=generatedMap}}else{map.clearAnnotation()
this.result.css=map.css}}
async(){if(this.error)return Promise.reject(this.error)
return Promise.resolve(this.result)}
catch(onRejected){return this.async().catch(onRejected)}
finally(onFinally){return this.async().then(onFinally,onFinally)}
sync(){if(this.error)throw this.error
return this.result}
then(onFulfilled,onRejected){if(false){}
return this.async().then(onFulfilled,onRejected)}
toString(){return this._css}
warnings(){return[]}}
module.exports=NoWorkResult
NoWorkResult.default=NoWorkResult}),7734:((module)=>{"use strict";var envHasBigInt64Array=typeof BigInt64Array!=='undefined';module.exports=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=='object'&&typeof b=='object'){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)
if(!equal(a[i],b[i]))return false;return true;}
if((a instanceof Map)&&(b instanceof Map)){if(a.size!==b.size)return false;for(i of a.entries())
if(!b.has(i[0]))return false;for(i of a.entries())
if(!equal(i[1],b.get(i[0])))return false;return true;}
if((a instanceof Set)&&(b instanceof Set)){if(a.size!==b.size)return false;for(i of a.entries())
if(!b.has(i[0]))return false;return true;}
if(ArrayBuffer.isView(a)&&ArrayBuffer.isView(b)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)
if(a[i]!==b[i])return false;return true;}
if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)
if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(!equal(a[key],b[key]))return false;}
return true;}
return a!==a&&b!==b;};}),8021:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var __webpack_unused_export__;__webpack_unused_export__=({value:true});exports.JJ=diffChars;__webpack_unused_export__=void 0;var
_base=_interopRequireDefault(__webpack_require__(5417));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var characterDiff=new
_base.default
();__webpack_unused_export__=characterDiff;function diffChars(oldStr,newStr,options){return characterDiff.diff(oldStr,newStr,options);}}),8202:((module)=>{"use strict";var canUseDOM=!!(typeof window!=='undefined'&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=='undefined',canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment;}),8491:((module)=>{var openParentheses="(".charCodeAt(0);var closeParentheses=")".charCodeAt(0);var singleQuote="'".charCodeAt(0);var doubleQuote='"'.charCodeAt(0);var backslash="\\".charCodeAt(0);var slash="/".charCodeAt(0);var comma=",".charCodeAt(0);var colon=":".charCodeAt(0);var star="*".charCodeAt(0);var uLower="u".charCodeAt(0);var uUpper="U".charCodeAt(0);var plus="+".charCodeAt(0);var isUnicodeRange=/^[a-f0-9?-]+$/i;module.exports=function(input){var tokens=[];var value=input;var next,quote,prev,token,escape,escapePos,whitespacePos,parenthesesOpenPos;var pos=0;var code=value.charCodeAt(pos);var max=value.length;var stack=[{nodes:tokens}];var balanced=0;var parent;var name="";var before="";var after="";while(pos<max){if(code<=32){next=pos;do{next+=1;code=value.charCodeAt(next);}while(code<=32);token=value.slice(pos,next);prev=tokens[tokens.length-1];if(code===closeParentheses&&balanced){after=token;}else if(prev&&prev.type==="div"){prev.after=token;prev.sourceEndIndex+=token.length;}else if(code===comma||code===colon||(code===slash&&value.charCodeAt(next+1)!==star&&(!parent||(parent&&parent.type==="function"&&parent.value!=="calc")))){before=token;}else{tokens.push({type:"space",sourceIndex:pos,sourceEndIndex:next,value:token});}
pos=next;}else if(code===singleQuote||code===doubleQuote){next=pos;quote=code===singleQuote?"'":'"';token={type:"string",sourceIndex:pos,quote:quote};do{escape=false;next=value.indexOf(quote,next+1);if(~next){escapePos=next;while(value.charCodeAt(escapePos-1)===backslash){escapePos-=1;escape=!escape;}}else{value+=quote;next=value.length-1;token.unclosed=true;}}while(escape);token.value=value.slice(pos+1,next);token.sourceEndIndex=token.unclosed?next:next+1;tokens.push(token);pos=next+1;code=value.charCodeAt(pos);}else if(code===slash&&value.charCodeAt(pos+1)===star){next=value.indexOf("*/",pos);token={type:"comment",sourceIndex:pos,sourceEndIndex:next+2};if(next===-1){token.unclosed=true;next=value.length;token.sourceEndIndex=next;}
token.value=value.slice(pos+2,next);tokens.push(token);pos=next+2;code=value.charCodeAt(pos);}else if((code===slash||code===star)&&parent&&parent.type==="function"&&parent.value==="calc"){token=value[pos];tokens.push({type:"word",sourceIndex:pos-before.length,sourceEndIndex:pos+token.length,value:token});pos+=1;code=value.charCodeAt(pos);}else if(code===slash||code===comma||code===colon){token=value[pos];tokens.push({type:"div",sourceIndex:pos-before.length,sourceEndIndex:pos+token.length,value:token,before:before,after:""});before="";pos+=1;code=value.charCodeAt(pos);}else if(openParentheses===code){next=pos;do{next+=1;code=value.charCodeAt(next);}while(code<=32);parenthesesOpenPos=pos;token={type:"function",sourceIndex:pos-name.length,value:name,before:value.slice(parenthesesOpenPos+1,next)};pos=next;if(name==="url"&&code!==singleQuote&&code!==doubleQuote){next-=1;do{escape=false;next=value.indexOf(")",next+1);if(~next){escapePos=next;while(value.charCodeAt(escapePos-1)===backslash){escapePos-=1;escape=!escape;}}else{value+=")";next=value.length-1;token.unclosed=true;}}while(escape);whitespacePos=next;do{whitespacePos-=1;code=value.charCodeAt(whitespacePos);}while(code<=32);if(parenthesesOpenPos<whitespacePos){if(pos!==whitespacePos+1){token.nodes=[{type:"word",sourceIndex:pos,sourceEndIndex:whitespacePos+1,value:value.slice(pos,whitespacePos+1)}];}else{token.nodes=[];}
if(token.unclosed&&whitespacePos+1!==next){token.after="";token.nodes.push({type:"space",sourceIndex:whitespacePos+1,sourceEndIndex:next,value:value.slice(whitespacePos+1,next)});}else{token.after=value.slice(whitespacePos+1,next);token.sourceEndIndex=next;}}else{token.after="";token.nodes=[];}
pos=next+1;token.sourceEndIndex=token.unclosed?next:pos;code=value.charCodeAt(pos);tokens.push(token);}else{balanced+=1;token.after="";token.sourceEndIndex=pos+1;tokens.push(token);stack.push(token);tokens=token.nodes=[];parent=token;}
name="";}else if(closeParentheses===code&&balanced){pos+=1;code=value.charCodeAt(pos);parent.after=after;parent.sourceEndIndex+=after.length;after="";balanced-=1;stack[stack.length-1].sourceEndIndex=pos;stack.pop();parent=stack[balanced];tokens=parent.nodes;}else{next=pos;do{if(code===backslash){next+=1;}
next+=1;code=value.charCodeAt(next);}while(next<max&&!(code<=32||code===singleQuote||code===doubleQuote||code===comma||code===colon||code===slash||code===openParentheses||(code===star&&parent&&parent.type==="function"&&parent.value==="calc")||(code===slash&&parent.type==="function"&&parent.value==="calc")||(code===closeParentheses&&balanced)));token=value.slice(pos,next);if(openParentheses===code){name=token;}else if((uLower===token.charCodeAt(0)||uUpper===token.charCodeAt(0))&&plus===token.charCodeAt(1)&&isUnicodeRange.test(token.slice(2))){tokens.push({type:"unicode-range",sourceIndex:pos,sourceEndIndex:next,value:token});}else{tokens.push({type:"word",sourceIndex:pos,sourceEndIndex:next,value:token});}
pos=next;}}
for(pos=stack.length-1;pos;pos-=1){stack[pos].unclosed=true;stack[pos].sourceEndIndex=value.length;}
return stack[0].nodes;};}),9055:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Warning=__webpack_require__(5776)
class Result{get content(){return this.css}
constructor(processor,root,opts){this.processor=processor
this.messages=[]
this.root=root
this.opts=opts
this.css=undefined
this.map=undefined}
toString(){return this.css}
warn(text,opts={}){if(!opts.plugin){if(this.lastPlugin&&this.lastPlugin.postcssPlugin){opts.plugin=this.lastPlugin.postcssPlugin}}
let warning=new Warning(text,opts)
this.messages.push(warning)
return warning}
warnings(){return this.messages.filter(i=>i.type==='warning')}}
module.exports=Result
Result.default=Result}),9434:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Container=__webpack_require__(683)
let LazyResult,Processor
class Root extends Container{constructor(defaults){super(defaults)
this.type='root'
if(!this.nodes)this.nodes=[]}
normalize(child,sample,type){let nodes=super.normalize(child)
if(sample){if(type==='prepend'){if(this.nodes.length>1){sample.raws.before=this.nodes[1].raws.before}else{delete sample.raws.before}}else if(this.first!==sample){for(let node of nodes){node.raws.before=sample.raws.before}}}
return nodes}
removeChild(child,ignore){let index=this.index(child)
if(!ignore&&index===0&&this.nodes.length>1){this.nodes[1].raws.before=this.nodes[index].raws.before}
return super.removeChild(child)}
toResult(opts={}){let lazy=new LazyResult(new Processor(),this,opts)
return lazy.stringify()}}
Root.registerLazyResult=dependant=>{LazyResult=dependant}
Root.registerProcessor=dependant=>{Processor=dependant}
module.exports=Root
Root.default=Root
Container.registerRoot(Root)}),9656:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Document=__webpack_require__(271)
let LazyResult=__webpack_require__(448)
let NoWorkResult=__webpack_require__(7661)
let Root=__webpack_require__(9434)
class Processor{constructor(plugins=[]){this.version='8.5.3'
this.plugins=this.normalize(plugins)}
normalize(plugins){let normalized=[]
for(let i of plugins){if(i.postcss===true){i=i()}else if(i.postcss){i=i.postcss}
if(typeof i==='object'&&Array.isArray(i.plugins)){normalized=normalized.concat(i.plugins)}else if(typeof i==='object'&&i.postcssPlugin){normalized.push(i)}else if(typeof i==='function'){normalized.push(i)}else if(typeof i==='object'&&(i.parse||i.stringify)){if(false){}}else{throw new Error(i+' is not a PostCSS plugin')}}
return normalized}
process(css,opts={}){if(!this.plugins.length&&!opts.parser&&!opts.stringifier&&!opts.syntax){return new NoWorkResult(this,css,opts)}else{return new LazyResult(this,css,opts)}}
use(plugin){this.plugins=this.plugins.concat(this.normalize([plugin]))
return this}}
module.exports=Processor
Processor.default=Processor
Root.registerProcessor(Processor)
Document.registerProcessor(Processor)}),9681:((module)=>{var characterMap={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"C","":"C","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"Y","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"c","":"c","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"y","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"C","":"c","":"C","":"c","C":"C","c":"c","":"D","":"d","":"D","":"d","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"G","":"G","":"g","":"g","":"G","":"g","":"G","":"g","":"G","":"g","":"H","":"h","":"H","":"h","":"H","":"h","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"IJ","":"ij","":"J","":"j","":"K","":"k","":"K","":"k","K":"K","k":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"L","":"l","":"l","":"l","":"M","":"m","M":"M","m":"m","":"N","":"n","":"N","":"n","":"N","":"n","":"n","N":"N","n":"n","":"O","":"o","":"O","":"o","":"O","":"o","":"OE","":"oe","P":"P","p":"p","":"R","":"r","":"R","":"r","":"R","":"r","R":"R","r":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"S","":"s","":"s","":"S","":"s","":"T","":"t","":"t","":"T","":"T","":"t","":"T","":"t","T":"T","t":"t","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","V":"V","v":"v","":"W","":"w","":"W","":"w","X":"X","x":"x","":"Y","":"y","":"Y","Y":"Y","y":"y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"s","":"f","":"O","":"o","":"U","":"u","":"A","":"a","":"I","":"i","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"A","":"a","":"AE","":"ae","":"O","":"o","":"TH","":"th","":"P","":"p","":"S","":"s","X":"X","x":"x","":"","":"","":"","":"","A":"A","a":"a","E":"E","e":"e","I":"I","i":"i","":"N","":"n","":"O","":"o","":"O","":"o","":"U","":"u","":"W","":"w","":"Y","":"y","":"A","":"a","":"E","":"e","":"I","":"i","":"O","":"o","":"R","":"r","":"U","":"u","B":"B","b":"b","":"C","":"c","":"E","":"e","F":"F","f":"f","":"G","":"g","":"H","":"h","J":"J","":"j","":"K","":"k","M":"M","m":"m","P":"P","p":"p","Q":"Q","q":"q","":"R","":"r","":"S","":"s","V":"V","v":"v","W":"W","w":"w","X":"X","x":"x","Y":"Y","y":"y","A":"A","a":"a","B":"B","b":"b","":"D","":"d","":"E","":"e","":"E","":"e","":"H","":"h","I":"I","i":"i","":"I","":"i","M":"M","m":"m","O":"O","o":"o","Q":"Q","q":"q","U":"U","u":"u","X":"X","x":"x","Z":"Z","z":"z","":"","":"","":"","":"",};var chars=Object.keys(characterMap).join('|');var allAccents=new RegExp(chars,'g');var firstAccent=new RegExp(chars,'');function matcher(match){return characterMap[match];}
var removeAccents=function(string){return string.replace(allAccents,matcher);};var hasAccents=function(string){return!!string.match(firstAccent);};module.exports=removeAccents;module.exports.has=hasAccents;module.exports.remove=removeAccents;}),9746:(()=>{}),9977:(()=>{})});var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports;}
var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__);return module.exports;}
(()=>{__webpack_require__.n=(module)=>{var getter=module&&module.__esModule?()=>(module['default']):()=>(module);__webpack_require__.d(getter,{a:getter});return getter;};})();(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});}}};})();(()=>{__webpack_require__.o=(obj,prop)=>(Object.prototype.hasOwnProperty.call(obj,prop))})();(()=>{__webpack_require__.r=(exports)=>{if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{AlignmentControl:()=>(AlignmentControl),AlignmentToolbar:()=>(AlignmentToolbar),Autocomplete:()=>(autocomplete),BlockAlignmentControl:()=>(BlockAlignmentControl),BlockAlignmentToolbar:()=>(BlockAlignmentToolbar),BlockBreadcrumb:()=>(block_breadcrumb),BlockCanvas:()=>(block_canvas),BlockColorsStyleSelector:()=>(color_style_selector),BlockContextProvider:()=>(BlockContextProvider),BlockControls:()=>(block_controls),BlockEdit:()=>(BlockEdit),BlockEditorKeyboardShortcuts:()=>(keyboard_shortcuts),BlockEditorProvider:()=>(components_provider),BlockFormatControls:()=>(BlockFormatControls),BlockIcon:()=>(block_icon),BlockInspector:()=>(block_inspector),BlockList:()=>(BlockList),BlockMover:()=>(block_mover),BlockNavigationDropdown:()=>(dropdown),BlockPopover:()=>(block_popover),BlockPreview:()=>(block_preview),BlockSelectionClearer:()=>(BlockSelectionClearer),BlockSettingsMenu:()=>(block_settings_menu),BlockSettingsMenuControls:()=>(block_settings_menu_controls),BlockStyles:()=>(block_styles),BlockTitle:()=>(BlockTitle),BlockToolbar:()=>(BlockToolbar),BlockTools:()=>(BlockTools),BlockVerticalAlignmentControl:()=>(BlockVerticalAlignmentControl),BlockVerticalAlignmentToolbar:()=>(BlockVerticalAlignmentToolbar),ButtonBlockAppender:()=>(button_block_appender),ButtonBlockerAppender:()=>(ButtonBlockerAppender),ColorPalette:()=>(color_palette),ColorPaletteControl:()=>(ColorPaletteControl),ContrastChecker:()=>(contrast_checker),CopyHandler:()=>(CopyHandler),DefaultBlockAppender:()=>(DefaultBlockAppender),FontSizePicker:()=>(font_size_picker),HeadingLevelDropdown:()=>(HeadingLevelDropdown),HeightControl:()=>(HeightControl),InnerBlocks:()=>(inner_blocks),Inserter:()=>(inserter),InspectorAdvancedControls:()=>(InspectorAdvancedControls),InspectorControls:()=>(inspector_controls),JustifyContentControl:()=>(JustifyContentControl),JustifyToolbar:()=>(JustifyToolbar),LineHeightControl:()=>(line_height_control),LinkControl:()=>(link_control),MediaPlaceholder:()=>(media_placeholder),MediaReplaceFlow:()=>(media_replace_flow),MediaUpload:()=>(media_upload),MediaUploadCheck:()=>(check),MultiSelectScrollIntoView:()=>(MultiSelectScrollIntoView),NavigableToolbar:()=>(NavigableToolbar),ObserveTyping:()=>(observe_typing),PanelColorSettings:()=>(panel_color_settings),PlainText:()=>(plain_text),RecursionProvider:()=>(RecursionProvider),RichText:()=>(rich_text),RichTextShortcut:()=>(RichTextShortcut),RichTextToolbarButton:()=>(RichTextToolbarButton),SETTINGS_DEFAULTS:()=>(SETTINGS_DEFAULTS),SkipToSelectedBlock:()=>(SkipToSelectedBlock),ToolSelector:()=>(tool_selector),Typewriter:()=>(typewriter),URLInput:()=>(url_input),URLInputButton:()=>(url_input_button),URLPopover:()=>(url_popover),Warning:()=>(warning),WritingFlow:()=>(writing_flow),__experimentalBlockAlignmentMatrixControl:()=>(block_alignment_matrix_control),__experimentalBlockFullHeightAligmentControl:()=>(block_full_height_alignment_control),__experimentalBlockPatternSetup:()=>(block_pattern_setup),__experimentalBlockPatternsList:()=>(block_patterns_list),__experimentalBlockVariationPicker:()=>(block_variation_picker),__experimentalBlockVariationTransforms:()=>(block_variation_transforms),__experimentalBorderRadiusControl:()=>(BorderRadiusControl),__experimentalColorGradientControl:()=>(control),__experimentalColorGradientSettingsDropdown:()=>(ColorGradientSettingsDropdown),__experimentalDateFormatPicker:()=>(DateFormatPicker),__experimentalDuotoneControl:()=>(duotone_control),__experimentalFontAppearanceControl:()=>(FontAppearanceControl),__experimentalFontFamilyControl:()=>(FontFamilyControl),__experimentalGetBorderClassesAndStyles:()=>(getBorderClassesAndStyles),__experimentalGetColorClassesAndStyles:()=>(getColorClassesAndStyles),__experimentalGetElementClassName:()=>(__experimentalGetElementClassName),__experimentalGetGapCSSValue:()=>(getGapCSSValue),__experimentalGetGradientClass:()=>(__experimentalGetGradientClass),__experimentalGetGradientObjectByGradientValue:()=>(__experimentalGetGradientObjectByGradientValue),__experimentalGetShadowClassesAndStyles:()=>(getShadowClassesAndStyles),__experimentalGetSpacingClassesAndStyles:()=>(getSpacingClassesAndStyles),__experimentalImageEditor:()=>(ImageEditor),__experimentalImageSizeControl:()=>(ImageSizeControl),__experimentalImageURLInputUI:()=>(ImageURLInputUI),__experimentalInspectorPopoverHeader:()=>(InspectorPopoverHeader),__experimentalLetterSpacingControl:()=>(LetterSpacingControl),__experimentalLibrary:()=>(library),__experimentalLinkControl:()=>(DeprecatedExperimentalLinkControl),__experimentalLinkControlSearchInput:()=>(__experimentalLinkControlSearchInput),__experimentalLinkControlSearchItem:()=>(__experimentalLinkControlSearchItem),__experimentalLinkControlSearchResults:()=>(__experimentalLinkControlSearchResults),__experimentalListView:()=>(components_list_view),__experimentalPanelColorGradientSettings:()=>(panel_color_gradient_settings),__experimentalPreviewOptions:()=>(PreviewOptions),__experimentalPublishDateTimePicker:()=>(publish_date_time_picker),__experimentalRecursionProvider:()=>(DeprecatedExperimentalRecursionProvider),__experimentalResponsiveBlockControl:()=>(responsive_block_control),__experimentalSpacingSizesControl:()=>(SpacingSizesControl),__experimentalTextDecorationControl:()=>(TextDecorationControl),__experimentalTextTransformControl:()=>(TextTransformControl),__experimentalUnitControl:()=>(UnitControl),__experimentalUseBlockOverlayActive:()=>(useBlockOverlayActive),__experimentalUseBlockPreview:()=>(useBlockPreview),__experimentalUseBorderProps:()=>(useBorderProps),__experimentalUseColorProps:()=>(useColorProps),__experimentalUseCustomSides:()=>(useCustomSides),__experimentalUseGradient:()=>(__experimentalUseGradient),__experimentalUseHasRecursion:()=>(DeprecatedExperimentalUseHasRecursion),__experimentalUseMultipleOriginColorsAndGradients:()=>(useMultipleOriginColorsAndGradients),__experimentalUseResizeCanvas:()=>(useResizeCanvas),__experimentalWritingModeControl:()=>(WritingModeControl),__unstableBlockNameContext:()=>(block_name_context),__unstableBlockSettingsMenuFirstItem:()=>(block_settings_menu_first_item),__unstableBlockToolbarLastItem:()=>(block_toolbar_last_item),__unstableEditorStyles:()=>(editor_styles),__unstableIframe:()=>(iframe),__unstableInserterMenuExtension:()=>(inserter_menu_extension),__unstableRichTextInputEvent:()=>(__unstableRichTextInputEvent),__unstableUseBlockSelectionClearer:()=>(useBlockSelectionClearer),__unstableUseClipboardHandler:()=>(__unstableUseClipboardHandler),__unstableUseMouseMoveTypingReset:()=>(useMouseMoveTypingReset),__unstableUseTypewriter:()=>(useTypewriter),__unstableUseTypingObserver:()=>(useTypingObserver),createCustomColorsHOC:()=>(createCustomColorsHOC),getColorClassName:()=>(getColorClassName),getColorObjectByAttributeValues:()=>(getColorObjectByAttributeValues),getColorObjectByColorValue:()=>(getColorObjectByColorValue),getComputedFluidTypographyValue:()=>(getComputedFluidTypographyValue),getCustomValueFromPreset:()=>(getCustomValueFromPreset),getFontSize:()=>(utils_getFontSize),getFontSizeClass:()=>(getFontSizeClass),getFontSizeObjectByValue:()=>(utils_getFontSizeObjectByValue),getGradientSlugByValue:()=>(getGradientSlugByValue),getGradientValueBySlug:()=>(getGradientValueBySlug),getPxFromCssUnit:()=>(get_px_from_css_unit),getSpacingPresetCssVar:()=>(getSpacingPresetCssVar),getTypographyClassesAndStyles:()=>(getTypographyClassesAndStyles),isValueSpacingPreset:()=>(isValueSpacingPreset),privateApis:()=>(privateApis),store:()=>(store),storeConfig:()=>(storeConfig),transformStyles:()=>(transform_styles),useBlockBindingsUtils:()=>(useBlockBindingsUtils),useBlockCommands:()=>(useBlockCommands),useBlockDisplayInformation:()=>(useBlockDisplayInformation),useBlockEditContext:()=>(useBlockEditContext),useBlockEditingMode:()=>(useBlockEditingMode),useBlockProps:()=>(use_block_props_useBlockProps),useCachedTruthy:()=>(useCachedTruthy),useHasRecursion:()=>(useHasRecursion),useInnerBlocksProps:()=>(useInnerBlocksProps),useSetting:()=>(useSetting),useSettings:()=>(use_settings_useSettings),useStyleOverride:()=>(useStyleOverride),withColorContext:()=>(with_color_context),withColors:()=>(withColors),withFontSizes:()=>(with_font_sizes)});var private_selectors_namespaceObject={};__webpack_require__.r(private_selectors_namespaceObject);__webpack_require__.d(private_selectors_namespaceObject,{getAllPatterns:()=>(getAllPatterns),getBlockRemovalRules:()=>(getBlockRemovalRules),getBlockSettings:()=>(getBlockSettings),getBlockStyles:()=>(getBlockStyles),getBlockWithoutAttributes:()=>(getBlockWithoutAttributes),getClosestAllowedInsertionPoint:()=>(getClosestAllowedInsertionPoint),getClosestAllowedInsertionPointForPattern:()=>(getClosestAllowedInsertionPointForPattern),getContentLockingParent:()=>(getContentLockingParent),getEnabledBlockParents:()=>(getEnabledBlockParents),getEnabledClientIdsTree:()=>(getEnabledClientIdsTree),getExpandedBlock:()=>(getExpandedBlock),getInserterMediaCategories:()=>(getInserterMediaCategories),getInsertionPoint:()=>(getInsertionPoint),getLastFocus:()=>(getLastFocus),getLastInsertedBlocksClientIds:()=>(getLastInsertedBlocksClientIds),getOpenedBlockSettingsMenu:()=>(getOpenedBlockSettingsMenu),getParentSectionBlock:()=>(getParentSectionBlock),getPatternBySlug:()=>(getPatternBySlug),getRegisteredInserterMediaCategories:()=>(getRegisteredInserterMediaCategories),getRemovalPromptData:()=>(getRemovalPromptData),getReusableBlocks:()=>(getReusableBlocks),getSectionRootClientId:()=>(getSectionRootClientId),getStyleOverrides:()=>(getStyleOverrides),getTemporarilyEditingAsBlocks:()=>(getTemporarilyEditingAsBlocks),getTemporarilyEditingFocusModeToRevert:()=>(getTemporarilyEditingFocusModeToRevert),getZoomLevel:()=>(getZoomLevel),hasAllowedPatterns:()=>(hasAllowedPatterns),isBlockInterfaceHidden:()=>(private_selectors_isBlockInterfaceHidden),isBlockSubtreeDisabled:()=>(isBlockSubtreeDisabled),isDragging:()=>(private_selectors_isDragging),isSectionBlock:()=>(isSectionBlock),isZoomOut:()=>(isZoomOut)});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject);__webpack_require__.d(selectors_namespaceObject,{__experimentalGetActiveBlockIdByBlockNames:()=>(__experimentalGetActiveBlockIdByBlockNames),__experimentalGetAllowedBlocks:()=>(__experimentalGetAllowedBlocks),__experimentalGetAllowedPatterns:()=>(__experimentalGetAllowedPatterns),__experimentalGetBlockListSettingsForBlocks:()=>(__experimentalGetBlockListSettingsForBlocks),__experimentalGetDirectInsertBlock:()=>(__experimentalGetDirectInsertBlock),__experimentalGetGlobalBlocksByName:()=>(__experimentalGetGlobalBlocksByName),__experimentalGetLastBlockAttributeChanges:()=>(__experimentalGetLastBlockAttributeChanges),__experimentalGetParsedPattern:()=>(__experimentalGetParsedPattern),__experimentalGetPatternTransformItems:()=>(__experimentalGetPatternTransformItems),__experimentalGetPatternsByBlockTypes:()=>(__experimentalGetPatternsByBlockTypes),__experimentalGetReusableBlockTitle:()=>(__experimentalGetReusableBlockTitle),__unstableGetBlockWithoutInnerBlocks:()=>(__unstableGetBlockWithoutInnerBlocks),__unstableGetClientIdWithClientIdsTree:()=>(__unstableGetClientIdWithClientIdsTree),__unstableGetClientIdsTree:()=>(__unstableGetClientIdsTree),__unstableGetContentLockingParent:()=>(__unstableGetContentLockingParent),__unstableGetEditorMode:()=>(__unstableGetEditorMode),__unstableGetSelectedBlocksWithPartialSelection:()=>(__unstableGetSelectedBlocksWithPartialSelection),__unstableGetTemporarilyEditingAsBlocks:()=>(__unstableGetTemporarilyEditingAsBlocks),__unstableGetTemporarilyEditingFocusModeToRevert:()=>(__unstableGetTemporarilyEditingFocusModeToRevert),__unstableGetVisibleBlocks:()=>(__unstableGetVisibleBlocks),__unstableHasActiveBlockOverlayActive:()=>(__unstableHasActiveBlockOverlayActive),__unstableIsFullySelected:()=>(__unstableIsFullySelected),__unstableIsLastBlockChangeIgnored:()=>(__unstableIsLastBlockChangeIgnored),__unstableIsSelectionCollapsed:()=>(__unstableIsSelectionCollapsed),__unstableIsSelectionMergeable:()=>(__unstableIsSelectionMergeable),__unstableIsWithinBlockOverlay:()=>(__unstableIsWithinBlockOverlay),__unstableSelectionHasUnmergeableBlock:()=>(__unstableSelectionHasUnmergeableBlock),areInnerBlocksControlled:()=>(areInnerBlocksControlled),canEditBlock:()=>(canEditBlock),canInsertBlockType:()=>(canInsertBlockType),canInsertBlocks:()=>(canInsertBlocks),canLockBlockType:()=>(canLockBlockType),canMoveBlock:()=>(canMoveBlock),canMoveBlocks:()=>(canMoveBlocks),canRemoveBlock:()=>(canRemoveBlock),canRemoveBlocks:()=>(canRemoveBlocks),didAutomaticChange:()=>(didAutomaticChange),getAdjacentBlockClientId:()=>(getAdjacentBlockClientId),getAllowedBlocks:()=>(getAllowedBlocks),getBlock:()=>(getBlock),getBlockAttributes:()=>(getBlockAttributes),getBlockCount:()=>(getBlockCount),getBlockEditingMode:()=>(getBlockEditingMode),getBlockHierarchyRootClientId:()=>(getBlockHierarchyRootClientId),getBlockIndex:()=>(getBlockIndex),getBlockInsertionPoint:()=>(getBlockInsertionPoint),getBlockListSettings:()=>(getBlockListSettings),getBlockMode:()=>(getBlockMode),getBlockName:()=>(getBlockName),getBlockNamesByClientId:()=>(getBlockNamesByClientId),getBlockOrder:()=>(getBlockOrder),getBlockParents:()=>(getBlockParents),getBlockParentsByBlockName:()=>(getBlockParentsByBlockName),getBlockRootClientId:()=>(getBlockRootClientId),getBlockSelectionEnd:()=>(getBlockSelectionEnd),getBlockSelectionStart:()=>(getBlockSelectionStart),getBlockTransformItems:()=>(getBlockTransformItems),getBlocks:()=>(getBlocks),getBlocksByClientId:()=>(getBlocksByClientId),getBlocksByName:()=>(getBlocksByName),getClientIdsOfDescendants:()=>(getClientIdsOfDescendants),getClientIdsWithDescendants:()=>(getClientIdsWithDescendants),getDirectInsertBlock:()=>(getDirectInsertBlock),getDraggedBlockClientIds:()=>(getDraggedBlockClientIds),getFirstMultiSelectedBlockClientId:()=>(getFirstMultiSelectedBlockClientId),getGlobalBlockCount:()=>(getGlobalBlockCount),getHoveredBlockClientId:()=>(getHoveredBlockClientId),getInserterItems:()=>(getInserterItems),getLastMultiSelectedBlockClientId:()=>(getLastMultiSelectedBlockClientId),getLowestCommonAncestorWithSelectedBlock:()=>(getLowestCommonAncestorWithSelectedBlock),getMultiSelectedBlockClientIds:()=>(getMultiSelectedBlockClientIds),getMultiSelectedBlocks:()=>(getMultiSelectedBlocks),getMultiSelectedBlocksEndClientId:()=>(getMultiSelectedBlocksEndClientId),getMultiSelectedBlocksStartClientId:()=>(getMultiSelectedBlocksStartClientId),getNextBlockClientId:()=>(getNextBlockClientId),getPatternsByBlockTypes:()=>(getPatternsByBlockTypes),getPreviousBlockClientId:()=>(getPreviousBlockClientId),getSelectedBlock:()=>(getSelectedBlock),getSelectedBlockClientId:()=>(getSelectedBlockClientId),getSelectedBlockClientIds:()=>(getSelectedBlockClientIds),getSelectedBlockCount:()=>(getSelectedBlockCount),getSelectedBlocksInitialCaretPosition:()=>(getSelectedBlocksInitialCaretPosition),getSelectionEnd:()=>(getSelectionEnd),getSelectionStart:()=>(getSelectionStart),getSettings:()=>(getSettings),getTemplate:()=>(getTemplate),getTemplateLock:()=>(getTemplateLock),hasBlockMovingClientId:()=>(hasBlockMovingClientId),hasDraggedInnerBlock:()=>(hasDraggedInnerBlock),hasInserterItems:()=>(hasInserterItems),hasMultiSelection:()=>(hasMultiSelection),hasSelectedBlock:()=>(hasSelectedBlock),hasSelectedInnerBlock:()=>(hasSelectedInnerBlock),isAncestorBeingDragged:()=>(isAncestorBeingDragged),isAncestorMultiSelected:()=>(isAncestorMultiSelected),isBlockBeingDragged:()=>(isBlockBeingDragged),isBlockHighlighted:()=>(isBlockHighlighted),isBlockInsertionPointVisible:()=>(isBlockInsertionPointVisible),isBlockMultiSelected:()=>(isBlockMultiSelected),isBlockSelected:()=>(isBlockSelected),isBlockValid:()=>(isBlockValid),isBlockVisible:()=>(isBlockVisible),isBlockWithinSelection:()=>(isBlockWithinSelection),isCaretWithinFormattedText:()=>(isCaretWithinFormattedText),isDraggingBlocks:()=>(isDraggingBlocks),isFirstMultiSelectedBlock:()=>(isFirstMultiSelectedBlock),isGroupable:()=>(isGroupable),isLastBlockChangePersistent:()=>(isLastBlockChangePersistent),isMultiSelecting:()=>(selectors_isMultiSelecting),isNavigationMode:()=>(isNavigationMode),isSelectionEnabled:()=>(selectors_isSelectionEnabled),isTyping:()=>(selectors_isTyping),isUngroupable:()=>(isUngroupable),isValidTemplate:()=>(isValidTemplate),wasBlockJustInserted:()=>(wasBlockJustInserted)});var private_actions_namespaceObject={};__webpack_require__.r(private_actions_namespaceObject);__webpack_require__.d(private_actions_namespaceObject,{__experimentalUpdateSettings:()=>(__experimentalUpdateSettings),clearBlockRemovalPrompt:()=>(clearBlockRemovalPrompt),deleteStyleOverride:()=>(deleteStyleOverride),ensureDefaultBlock:()=>(ensureDefaultBlock),expandBlock:()=>(expandBlock),hideBlockInterface:()=>(hideBlockInterface),modifyContentLockBlock:()=>(modifyContentLockBlock),privateRemoveBlocks:()=>(privateRemoveBlocks),resetZoomLevel:()=>(resetZoomLevel),setBlockRemovalRules:()=>(setBlockRemovalRules),setInsertionPoint:()=>(setInsertionPoint),setLastFocus:()=>(setLastFocus),setOpenedBlockSettingsMenu:()=>(setOpenedBlockSettingsMenu),setStyleOverride:()=>(setStyleOverride),setZoomLevel:()=>(setZoomLevel),showBlockInterface:()=>(showBlockInterface),startDragging:()=>(startDragging),stopDragging:()=>(stopDragging),stopEditingAsBlocks:()=>(stopEditingAsBlocks)});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject);__webpack_require__.d(actions_namespaceObject,{__unstableDeleteSelection:()=>(__unstableDeleteSelection),__unstableExpandSelection:()=>(__unstableExpandSelection),__unstableMarkAutomaticChange:()=>(__unstableMarkAutomaticChange),__unstableMarkLastChangeAsPersistent:()=>(__unstableMarkLastChangeAsPersistent),__unstableMarkNextChangeAsNotPersistent:()=>(__unstableMarkNextChangeAsNotPersistent),__unstableSaveReusableBlock:()=>(__unstableSaveReusableBlock),__unstableSetEditorMode:()=>(__unstableSetEditorMode),__unstableSetTemporarilyEditingAsBlocks:()=>(__unstableSetTemporarilyEditingAsBlocks),__unstableSplitSelection:()=>(__unstableSplitSelection),clearSelectedBlock:()=>(clearSelectedBlock),duplicateBlocks:()=>(duplicateBlocks),enterFormattedText:()=>(enterFormattedText),exitFormattedText:()=>(exitFormattedText),flashBlock:()=>(flashBlock),hideInsertionPoint:()=>(hideInsertionPoint),hoverBlock:()=>(hoverBlock),insertAfterBlock:()=>(insertAfterBlock),insertBeforeBlock:()=>(insertBeforeBlock),insertBlock:()=>(insertBlock),insertBlocks:()=>(insertBlocks),insertDefaultBlock:()=>(insertDefaultBlock),mergeBlocks:()=>(mergeBlocks),moveBlockToPosition:()=>(moveBlockToPosition),moveBlocksDown:()=>(moveBlocksDown),moveBlocksToPosition:()=>(moveBlocksToPosition),moveBlocksUp:()=>(moveBlocksUp),multiSelect:()=>(multiSelect),receiveBlocks:()=>(receiveBlocks),registerInserterMediaCategory:()=>(registerInserterMediaCategory),removeBlock:()=>(removeBlock),removeBlocks:()=>(removeBlocks),replaceBlock:()=>(replaceBlock),replaceBlocks:()=>(replaceBlocks),replaceInnerBlocks:()=>(replaceInnerBlocks),resetBlocks:()=>(resetBlocks),resetSelection:()=>(resetSelection),selectBlock:()=>(selectBlock),selectNextBlock:()=>(selectNextBlock),selectPreviousBlock:()=>(selectPreviousBlock),selectionChange:()=>(selectionChange),setBlockEditingMode:()=>(setBlockEditingMode),setBlockMovingClientId:()=>(setBlockMovingClientId),setBlockVisibility:()=>(setBlockVisibility),setHasControlledInnerBlocks:()=>(setHasControlledInnerBlocks),setNavigationMode:()=>(setNavigationMode),setTemplateValidity:()=>(setTemplateValidity),showInsertionPoint:()=>(showInsertionPoint),startDraggingBlocks:()=>(startDraggingBlocks),startMultiSelect:()=>(startMultiSelect),startTyping:()=>(startTyping),stopDraggingBlocks:()=>(stopDraggingBlocks),stopMultiSelect:()=>(stopMultiSelect),stopTyping:()=>(stopTyping),synchronizeTemplate:()=>(synchronizeTemplate),toggleBlockHighlight:()=>(toggleBlockHighlight),toggleBlockMode:()=>(toggleBlockMode),toggleSelection:()=>(toggleSelection),unsetBlockEditingMode:()=>(unsetBlockEditingMode),updateBlock:()=>(updateBlock),updateBlockAttributes:()=>(updateBlockAttributes),updateBlockListSettings:()=>(updateBlockListSettings),updateSettings:()=>(updateSettings),validateBlocksToTemplate:()=>(validateBlocksToTemplate)});var store_selectors_namespaceObject={};__webpack_require__.r(store_selectors_namespaceObject);__webpack_require__.d(store_selectors_namespaceObject,{getItems:()=>(getItems),getSettings:()=>(selectors_getSettings),isUploading:()=>(isUploading),isUploadingById:()=>(isUploadingById),isUploadingByUrl:()=>(isUploadingByUrl)});var store_private_selectors_namespaceObject={};__webpack_require__.r(store_private_selectors_namespaceObject);__webpack_require__.d(store_private_selectors_namespaceObject,{getAllItems:()=>(getAllItems),getBlobUrls:()=>(getBlobUrls),getItem:()=>(getItem),getPausedUploadForPost:()=>(getPausedUploadForPost),isBatchUploaded:()=>(isBatchUploaded),isPaused:()=>(isPaused),isUploadingToPost:()=>(isUploadingToPost)});var store_actions_namespaceObject={};__webpack_require__.r(store_actions_namespaceObject);__webpack_require__.d(store_actions_namespaceObject,{addItems:()=>(addItems),cancelItem:()=>(cancelItem)});var store_private_actions_namespaceObject={};__webpack_require__.r(store_private_actions_namespaceObject);__webpack_require__.d(store_private_actions_namespaceObject,{addItem:()=>(addItem),finishOperation:()=>(finishOperation),pauseQueue:()=>(pauseQueue),prepareItem:()=>(prepareItem),processItem:()=>(processItem),removeItem:()=>(removeItem),resumeQueue:()=>(resumeQueue),revokeBlobUrls:()=>(revokeBlobUrls),updateSettings:()=>(private_actions_updateSettings),uploadItem:()=>(uploadItem)});var global_styles_namespaceObject={};__webpack_require__.r(global_styles_namespaceObject);__webpack_require__.d(global_styles_namespaceObject,{AdvancedPanel:()=>(AdvancedPanel),BackgroundPanel:()=>(background_panel_BackgroundImagePanel),BorderPanel:()=>(BorderPanel),ColorPanel:()=>(ColorPanel),DimensionsPanel:()=>(DimensionsPanel),FiltersPanel:()=>(FiltersPanel),GlobalStylesContext:()=>(GlobalStylesContext),ImageSettingsPanel:()=>(ImageSettingsPanel),TypographyPanel:()=>(TypographyPanel),areGlobalStyleConfigsEqual:()=>(areGlobalStyleConfigsEqual),getBlockCSSSelector:()=>(getBlockCSSSelector),getBlockSelectors:()=>(getBlockSelectors),getGlobalStylesChanges:()=>(getGlobalStylesChanges),getLayoutStyles:()=>(getLayoutStyles),toStyles:()=>(toStyles),useGlobalSetting:()=>(useGlobalSetting),useGlobalStyle:()=>(useGlobalStyle),useGlobalStylesOutput:()=>(useGlobalStylesOutput),useGlobalStylesOutputWithConfig:()=>(useGlobalStylesOutputWithConfig),useGlobalStylesReset:()=>(useGlobalStylesReset),useHasBackgroundPanel:()=>(useHasBackgroundPanel),useHasBorderPanel:()=>(useHasBorderPanel),useHasBorderPanelControls:()=>(useHasBorderPanelControls),useHasColorPanel:()=>(useHasColorPanel),useHasDimensionsPanel:()=>(useHasDimensionsPanel),useHasFiltersPanel:()=>(useHasFiltersPanel),useHasImageSettingsPanel:()=>(useHasImageSettingsPanel),useHasTypographyPanel:()=>(useHasTypographyPanel),useSettingsForBlockElement:()=>(useSettingsForBlockElement)});;const external_wp_blocks_namespaceObject=window["wp"]["blocks"];;const external_wp_element_namespaceObject=window["wp"]["element"];;const external_wp_data_namespaceObject=window["wp"]["data"];;const external_wp_compose_namespaceObject=window["wp"]["compose"];;const external_wp_hooks_namespaceObject=window["wp"]["hooks"];;const mayDisplayControlsKey=Symbol('mayDisplayControls');const mayDisplayParentControlsKey=Symbol('mayDisplayParentControls');const blockEditingModeKey=Symbol('blockEditingMode');const blockBindingsKey=Symbol('blockBindings');const isPreviewModeKey=Symbol('isPreviewMode');const DEFAULT_BLOCK_EDIT_CONTEXT={name:'',isSelected:false};const Context=(0,external_wp_element_namespaceObject.createContext)(DEFAULT_BLOCK_EDIT_CONTEXT);const{Provider}=Context;function useBlockEditContext(){return(0,external_wp_element_namespaceObject.useContext)(Context);};const external_wp_deprecated_namespaceObject=window["wp"]["deprecated"];var external_wp_deprecated_default=__webpack_require__.n(external_wp_deprecated_namespaceObject);var es6=__webpack_require__(7734);var es6_default=__webpack_require__.n(es6);;const external_wp_i18n_namespaceObject=window["wp"]["i18n"];;const PREFERENCES_DEFAULTS={insertUsage:{}};const SETTINGS_DEFAULTS={alignWide:false,supportsLayout:true,colors:[{name:(0,external_wp_i18n_namespaceObject.__)('Black'),slug:'black',color:'#000000'},{name:(0,external_wp_i18n_namespaceObject.__)('Cyan bluish gray'),slug:'cyan-bluish-gray',color:'#abb8c3'},{name:(0,external_wp_i18n_namespaceObject.__)('White'),slug:'white',color:'#ffffff'},{name:(0,external_wp_i18n_namespaceObject.__)('Pale pink'),slug:'pale-pink',color:'#f78da7'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid red'),slug:'vivid-red',color:'#cf2e2e'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid orange'),slug:'luminous-vivid-orange',color:'#ff6900'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid amber'),slug:'luminous-vivid-amber',color:'#fcb900'},{name:(0,external_wp_i18n_namespaceObject.__)('Light green cyan'),slug:'light-green-cyan',color:'#7bdcb5'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid green cyan'),slug:'vivid-green-cyan',color:'#00d084'},{name:(0,external_wp_i18n_namespaceObject.__)('Pale cyan blue'),slug:'pale-cyan-blue',color:'#8ed1fc'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid cyan blue'),slug:'vivid-cyan-blue',color:'#0693e3'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid purple'),slug:'vivid-purple',color:'#9b51e0'}],fontSizes:[{name:(0,external_wp_i18n_namespaceObject._x)('Small','font size name'),size:13,slug:'small'},{name:(0,external_wp_i18n_namespaceObject._x)('Normal','font size name'),size:16,slug:'normal'},{name:(0,external_wp_i18n_namespaceObject._x)('Medium','font size name'),size:20,slug:'medium'},{name:(0,external_wp_i18n_namespaceObject._x)('Large','font size name'),size:36,slug:'large'},{name:(0,external_wp_i18n_namespaceObject._x)('Huge','font size name'),size:42,slug:'huge'}],imageDefaultSize:'large',imageSizes:[{slug:'thumbnail',name:(0,external_wp_i18n_namespaceObject.__)('Thumbnail')},{slug:'medium',name:(0,external_wp_i18n_namespaceObject.__)('Medium')},{slug:'large',name:(0,external_wp_i18n_namespaceObject.__)('Large')},{slug:'full',name:(0,external_wp_i18n_namespaceObject.__)('Full Size')}],imageEditing:true,maxWidth:580,allowedBlockTypes:true,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:true,enableOpenverseMediaCategory:true,clearBlockSelection:true,__experimentalCanUserUseUnfilteredHTML:false,__experimentalBlockDirectory:false,__mobileEnablePageTemplates:false,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],isPreviewMode:false,blockInspectorAnimation:{animationParent:'core/navigation','core/navigation':{enterDirection:'leftToRight'},'core/navigation-submenu':{enterDirection:'rightToLeft'},'core/navigation-link':{enterDirection:'rightToLeft'},'core/search':{enterDirection:'rightToLeft'},'core/social-links':{enterDirection:'rightToLeft'},'core/page-list':{enterDirection:'rightToLeft'},'core/spacer':{enterDirection:'rightToLeft'},'core/home-link':{enterDirection:'rightToLeft'},'core/site-title':{enterDirection:'rightToLeft'},'core/site-logo':{enterDirection:'rightToLeft'}},generateAnchors:false,gradients:[{name:(0,external_wp_i18n_namespaceObject.__)('Vivid cyan blue to vivid purple'),gradient:'linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)',slug:'vivid-cyan-blue-to-vivid-purple'},{name:(0,external_wp_i18n_namespaceObject.__)('Light green cyan to vivid green cyan'),gradient:'linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)',slug:'light-green-cyan-to-vivid-green-cyan'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid amber to luminous vivid orange'),gradient:'linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)',slug:'luminous-vivid-amber-to-luminous-vivid-orange'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid orange to vivid red'),gradient:'linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)',slug:'luminous-vivid-orange-to-vivid-red'},{name:(0,external_wp_i18n_namespaceObject.__)('Very light gray to cyan bluish gray'),gradient:'linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)',slug:'very-light-gray-to-cyan-bluish-gray'},{name:(0,external_wp_i18n_namespaceObject.__)('Cool to warm spectrum'),gradient:'linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)',slug:'cool-to-warm-spectrum'},{name:(0,external_wp_i18n_namespaceObject.__)('Blush light purple'),gradient:'linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)',slug:'blush-light-purple'},{name:(0,external_wp_i18n_namespaceObject.__)('Blush bordeaux'),gradient:'linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)',slug:'blush-bordeaux'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous dusk'),gradient:'linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)',slug:'luminous-dusk'},{name:(0,external_wp_i18n_namespaceObject.__)('Pale ocean'),gradient:'linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)',slug:'pale-ocean'},{name:(0,external_wp_i18n_namespaceObject.__)('Electric grass'),gradient:'linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)',slug:'electric-grass'},{name:(0,external_wp_i18n_namespaceObject.__)('Midnight'),gradient:'linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)',slug:'midnight'}],__unstableResolvedAssets:{styles:[],scripts:[]}};;function insertAt(array,elements,index){return[...array.slice(0,index),...(Array.isArray(elements)?elements:[elements]),...array.slice(index)];}
function moveTo(array,from,to,count=1){const withoutMovedElements=[...array];withoutMovedElements.splice(from,count);return insertAt(withoutMovedElements,array.slice(from,from+count),to);};const globalStylesDataKey=Symbol('globalStylesDataKey');const globalStylesLinksDataKey=Symbol('globalStylesLinks');const selectBlockPatternsKey=Symbol('selectBlockPatternsKey');const reusableBlocksSelectKey=Symbol('reusableBlocksSelect');const sectionRootClientIdKey=Symbol('sectionRootClientIdKey');;const external_wp_privateApis_namespaceObject=window["wp"]["privateApis"];;const{lock,unlock}=(0,external_wp_privateApis_namespaceObject.__dangerousOptInToUnstableAPIsOnlyForCoreModules)('I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.','@wordpress/block-editor');;const{isContentBlock}=unlock(external_wp_blocks_namespaceObject.privateApis);const identity=x=>x;function mapBlockOrder(blocks,rootClientId=''){const result=new Map();const current=[];result.set(rootClientId,current);blocks.forEach(block=>{const{clientId,innerBlocks}=block;current.push(clientId);mapBlockOrder(innerBlocks,clientId).forEach((order,subClientId)=>{result.set(subClientId,order);});});return result;}
function mapBlockParents(blocks,rootClientId=''){const result=[];const stack=[[rootClientId,blocks]];while(stack.length){const[parent,currentBlocks]=stack.shift();currentBlocks.forEach(({innerBlocks,...block})=>{result.push([block.clientId,parent]);if(innerBlocks?.length){stack.push([block.clientId,innerBlocks]);}});}
return result;}
function flattenBlocks(blocks,transform=identity){const result=[];const stack=[...blocks];while(stack.length){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks);result.push([block.clientId,transform(block)]);}
return result;}
function getFlattenedClientIds(blocks){const result={};const stack=[...blocks];while(stack.length){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks);result[block.clientId]=true;}
return result;}
function getFlattenedBlocksWithoutAttributes(blocks){return flattenBlocks(blocks,block=>{const{attributes,...restBlock}=block;return restBlock;});}
function getFlattenedBlockAttributes(blocks){return flattenBlocks(blocks,block=>block.attributes);}
function hasSameKeys(a,b){return es6_default()(Object.keys(a),Object.keys(b));}
function isUpdatingSameBlockAttribute(action,lastAction){return action.type==='UPDATE_BLOCK_ATTRIBUTES'&&lastAction!==undefined&&lastAction.type==='UPDATE_BLOCK_ATTRIBUTES'&&es6_default()(action.clientIds,lastAction.clientIds)&&hasSameKeys(action.attributes,lastAction.attributes);}
function updateBlockTreeForBlocks(state,blocks){const treeToUpdate=state.tree;const stack=[...blocks];const flattenedBlocks=[...blocks];while(stack.length){const block=stack.shift();stack.push(...block.innerBlocks);flattenedBlocks.push(...block.innerBlocks);}
for(const block of flattenedBlocks){treeToUpdate.set(block.clientId,{});}
for(const block of flattenedBlocks){treeToUpdate.set(block.clientId,Object.assign(treeToUpdate.get(block.clientId),{...state.byClientId.get(block.clientId),attributes:state.attributes.get(block.clientId),innerBlocks:block.innerBlocks.map(subBlock=>treeToUpdate.get(subBlock.clientId))}));}}
function updateParentInnerBlocksInTree(state,updatedClientIds,updateChildrenOfUpdatedClientIds=false){const treeToUpdate=state.tree;const uncontrolledParents=new Set([]);const controlledParents=new Set();for(const clientId of updatedClientIds){let current=updateChildrenOfUpdatedClientIds?clientId:state.parents.get(clientId);do{if(state.controlledInnerBlocks[current]){controlledParents.add(current);break;}else{uncontrolledParents.add(current);current=state.parents.get(current);}}while(current!==undefined);}
for(const clientId of uncontrolledParents){treeToUpdate.set(clientId,{...treeToUpdate.get(clientId)});}
for(const clientId of uncontrolledParents){treeToUpdate.get(clientId).innerBlocks=(state.order.get(clientId)||[]).map(subClientId=>treeToUpdate.get(subClientId));}
for(const clientId of controlledParents){treeToUpdate.set('controlled||'+clientId,{innerBlocks:(state.order.get(clientId)||[]).map(subClientId=>treeToUpdate.get(subClientId))});}}
const withBlockTree=reducer=>(state={},action)=>{const newState=reducer(state,action);if(newState===state){return state;}
newState.tree=state.tree?state.tree:new Map();switch(action.type){case'RECEIVE_BLOCKS':case'INSERT_BLOCKS':{newState.tree=new Map(newState.tree);updateBlockTreeForBlocks(newState,action.blocks);updateParentInnerBlocksInTree(newState,action.rootClientId?[action.rootClientId]:[''],true);break;}
case'UPDATE_BLOCK':newState.tree=new Map(newState.tree);newState.tree.set(action.clientId,{...newState.tree.get(action.clientId),...newState.byClientId.get(action.clientId),attributes:newState.attributes.get(action.clientId)});updateParentInnerBlocksInTree(newState,[action.clientId],false);break;case'SYNC_DERIVED_BLOCK_ATTRIBUTES':case'UPDATE_BLOCK_ATTRIBUTES':{newState.tree=new Map(newState.tree);action.clientIds.forEach(clientId=>{newState.tree.set(clientId,{...newState.tree.get(clientId),attributes:newState.attributes.get(clientId)});});updateParentInnerBlocksInTree(newState,action.clientIds,false);break;}
case'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const inserterClientIds=getFlattenedClientIds(action.blocks);newState.tree=new Map(newState.tree);action.replacedClientIds.forEach(clientId=>{newState.tree.delete(clientId);if(!inserterClientIds[clientId]){newState.tree.delete('controlled||'+clientId);}});updateBlockTreeForBlocks(newState,action.blocks);updateParentInnerBlocksInTree(newState,action.blocks.map(b=>b.clientId),false);const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds){const parentId=state.parents.get(clientId);if(parentId!==undefined&&(parentId===''||newState.byClientId.get(parentId))){parentsOfRemovedBlocks.push(parentId);}}
updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,true);break;}
case'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds){const parentId=state.parents.get(clientId);if(parentId!==undefined&&(parentId===''||newState.byClientId.get(parentId))){parentsOfRemovedBlocks.push(parentId);}}
newState.tree=new Map(newState.tree);action.removedClientIds.forEach(clientId=>{newState.tree.delete(clientId);newState.tree.delete('controlled||'+clientId);});updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,true);break;case'MOVE_BLOCKS_TO_POSITION':{const updatedBlockUids=[];if(action.fromRootClientId){updatedBlockUids.push(action.fromRootClientId);}else{updatedBlockUids.push('');}
if(action.toRootClientId){updatedBlockUids.push(action.toRootClientId);}
newState.tree=new Map(newState.tree);updateParentInnerBlocksInTree(newState,updatedBlockUids,true);break;}
case'MOVE_BLOCKS_UP':case'MOVE_BLOCKS_DOWN':{const updatedBlockUids=[action.rootClientId?action.rootClientId:''];newState.tree=new Map(newState.tree);updateParentInnerBlocksInTree(newState,updatedBlockUids,true);break;}
case'SAVE_REUSABLE_BLOCK_SUCCESS':{const updatedBlockUids=[];newState.attributes.forEach((attributes,clientId)=>{if(newState.byClientId.get(clientId).name==='core/block'&&attributes.ref===action.updatedId){updatedBlockUids.push(clientId);}});newState.tree=new Map(newState.tree);updatedBlockUids.forEach(clientId=>{newState.tree.set(clientId,{...newState.byClientId.get(clientId),attributes:newState.attributes.get(clientId),innerBlocks:newState.tree.get(clientId).innerBlocks});});updateParentInnerBlocksInTree(newState,updatedBlockUids,false);}}
return newState;};function withPersistentBlockChange(reducer){let lastAction;let markNextChangeAsNotPersistent=false;let explicitPersistent;return(state,action)=>{let nextState=reducer(state,action);let nextIsPersistentChange;if(action.type==='SET_EXPLICIT_PERSISTENT'){var _state$isPersistentCh;explicitPersistent=action.isPersistentChange;nextIsPersistentChange=(_state$isPersistentCh=state.isPersistentChange)!==null&&_state$isPersistentCh!==void 0?_state$isPersistentCh:true;}
if(explicitPersistent!==undefined){nextIsPersistentChange=explicitPersistent;return nextIsPersistentChange===nextState.isPersistentChange?nextState:{...nextState,isPersistentChange:nextIsPersistentChange};}
const isExplicitPersistentChange=action.type==='MARK_LAST_CHANGE_AS_PERSISTENT'||markNextChangeAsNotPersistent;if(state===nextState&&!isExplicitPersistentChange){var _state$isPersistentCh2;markNextChangeAsNotPersistent=action.type==='MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';nextIsPersistentChange=(_state$isPersistentCh2=state?.isPersistentChange)!==null&&_state$isPersistentCh2!==void 0?_state$isPersistentCh2:true;if(state.isPersistentChange===nextIsPersistentChange){return state;}
return{...nextState,isPersistentChange:nextIsPersistentChange};}
nextState={...nextState,isPersistentChange:isExplicitPersistentChange?!markNextChangeAsNotPersistent:!isUpdatingSameBlockAttribute(action,lastAction)};lastAction=action;markNextChangeAsNotPersistent=action.type==='MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';return nextState;};}
function withIgnoredBlockChange(reducer){const IGNORED_ACTION_TYPES=new Set(['RECEIVE_BLOCKS']);return(state,action)=>{const nextState=reducer(state,action);if(nextState!==state){nextState.isIgnoredChange=IGNORED_ACTION_TYPES.has(action.type);}
return nextState;};}
const withInnerBlocksRemoveCascade=reducer=>(state,action)=>{const getAllChildren=clientIds=>{let result=clientIds;for(let i=0;i<result.length;i++){if(!state.order.get(result[i])||action.keepControlledInnerBlocks&&action.keepControlledInnerBlocks[result[i]]){continue;}
if(result===clientIds){result=[...result];}
result.push(...state.order.get(result[i]));}
return result;};if(state){switch(action.type){case'REMOVE_BLOCKS':action={...action,type:'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN',removedClientIds:getAllChildren(action.clientIds)};break;case'REPLACE_BLOCKS':action={...action,type:'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN',replacedClientIds:getAllChildren(action.clientIds)};break;}}
return reducer(state,action);};const withBlockReset=reducer=>(state,action)=>{if(action.type==='RESET_BLOCKS'){const newState={...state,byClientId:new Map(getFlattenedBlocksWithoutAttributes(action.blocks)),attributes:new Map(getFlattenedBlockAttributes(action.blocks)),order:mapBlockOrder(action.blocks),parents:new Map(mapBlockParents(action.blocks)),controlledInnerBlocks:{}};newState.tree=new Map(state?.tree);updateBlockTreeForBlocks(newState,action.blocks);newState.tree.set('',{innerBlocks:action.blocks.map(subBlock=>newState.tree.get(subBlock.clientId))});return newState;}
return reducer(state,action);};const withReplaceInnerBlocks=reducer=>(state,action)=>{if(action.type!=='REPLACE_INNER_BLOCKS'){return reducer(state,action);}
const nestedControllers={};if(Object.keys(state.controlledInnerBlocks).length){const stack=[...action.blocks];while(stack.length){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks);if(!!state.controlledInnerBlocks[block.clientId]){nestedControllers[block.clientId]=true;}}}
let stateAfterBlocksRemoval=state;if(state.order.get(action.rootClientId)){stateAfterBlocksRemoval=reducer(stateAfterBlocksRemoval,{type:'REMOVE_BLOCKS',keepControlledInnerBlocks:nestedControllers,clientIds:state.order.get(action.rootClientId)});}
let stateAfterInsert=stateAfterBlocksRemoval;if(action.blocks.length){stateAfterInsert=reducer(stateAfterInsert,{...action,type:'INSERT_BLOCKS',index:0});const stateAfterInsertOrder=new Map(stateAfterInsert.order);Object.keys(nestedControllers).forEach(key=>{if(state.order.get(key)){stateAfterInsertOrder.set(key,state.order.get(key));}});stateAfterInsert.order=stateAfterInsertOrder;stateAfterInsert.tree=new Map(stateAfterInsert.tree);Object.keys(nestedControllers).forEach(_key=>{const key=`controlled||${_key}`;if(state.tree.has(key)){stateAfterInsert.tree.set(key,state.tree.get(key));}});}
return stateAfterInsert;};const withSaveReusableBlock=reducer=>(state,action)=>{if(state&&action.type==='SAVE_REUSABLE_BLOCK_SUCCESS'){const{id,updatedId}=action;if(id===updatedId){return state;}
state={...state};state.attributes=new Map(state.attributes);state.attributes.forEach((attributes,clientId)=>{const{name}=state.byClientId.get(clientId);if(name==='core/block'&&attributes.ref===id){state.attributes.set(clientId,{...attributes,ref:updatedId});}});}
return reducer(state,action);};const withResetControlledBlocks=reducer=>(state,action)=>{if(action.type==='SET_HAS_CONTROLLED_INNER_BLOCKS'){const tempState=reducer(state,{type:'REPLACE_INNER_BLOCKS',rootClientId:action.clientId,blocks:[]});return reducer(tempState,action);}
return reducer(state,action);};const blocks=(0,external_wp_compose_namespaceObject.pipe)(external_wp_data_namespaceObject.combineReducers,withSaveReusableBlock,withBlockTree,withInnerBlocksRemoveCascade,withReplaceInnerBlocks,withBlockReset,withPersistentBlockChange,withIgnoredBlockChange,withResetControlledBlocks)({byClientId(state=new Map(),action){switch(action.type){case'RECEIVE_BLOCKS':case'INSERT_BLOCKS':{const newState=new Map(state);getFlattenedBlocksWithoutAttributes(action.blocks).forEach(([key,value])=>{newState.set(key,value);});return newState;}
case'UPDATE_BLOCK':{if(!state.has(action.clientId)){return state;}
const{attributes,...changes}=action.updates;if(Object.values(changes).length===0){return state;}
const newState=new Map(state);newState.set(action.clientId,{...state.get(action.clientId),...changes});return newState;}
case'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':{if(!action.blocks){return state;}
const newState=new Map(state);action.replacedClientIds.forEach(clientId=>{newState.delete(clientId);});getFlattenedBlocksWithoutAttributes(action.blocks).forEach(([key,value])=>{newState.set(key,value);});return newState;}
case'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const newState=new Map(state);action.removedClientIds.forEach(clientId=>{newState.delete(clientId);});return newState;}}
return state;},attributes(state=new Map(),action){switch(action.type){case'RECEIVE_BLOCKS':case'INSERT_BLOCKS':{const newState=new Map(state);getFlattenedBlockAttributes(action.blocks).forEach(([key,value])=>{newState.set(key,value);});return newState;}
case'UPDATE_BLOCK':{if(!state.get(action.clientId)||!action.updates.attributes){return state;}
const newState=new Map(state);newState.set(action.clientId,{...state.get(action.clientId),...action.updates.attributes});return newState;}
case'SYNC_DERIVED_BLOCK_ATTRIBUTES':case'UPDATE_BLOCK_ATTRIBUTES':{if(action.clientIds.every(id=>!state.get(id))){return state;}
let hasChange=false;const newState=new Map(state);for(const clientId of action.clientIds){var _action$attributes;const updatedAttributeEntries=Object.entries(action.uniqueByBlock?action.attributes[clientId]:(_action$attributes=action.attributes)!==null&&_action$attributes!==void 0?_action$attributes:{});if(updatedAttributeEntries.length===0){continue;}
let hasUpdatedAttributes=false;const existingAttributes=state.get(clientId);const newAttributes={};updatedAttributeEntries.forEach(([key,value])=>{if(existingAttributes[key]!==value){hasUpdatedAttributes=true;newAttributes[key]=value;}});hasChange=hasChange||hasUpdatedAttributes;if(hasUpdatedAttributes){newState.set(clientId,{...existingAttributes,...newAttributes});}}
return hasChange?newState:state;}
case'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':{if(!action.blocks){return state;}
const newState=new Map(state);action.replacedClientIds.forEach(clientId=>{newState.delete(clientId);});getFlattenedBlockAttributes(action.blocks).forEach(([key,value])=>{newState.set(key,value);});return newState;}
case'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const newState=new Map(state);action.removedClientIds.forEach(clientId=>{newState.delete(clientId);});return newState;}}
return state;},order(state=new Map(),action){switch(action.type){case'RECEIVE_BLOCKS':{var _state$get;const blockOrder=mapBlockOrder(action.blocks);const newState=new Map(state);blockOrder.forEach((order,clientId)=>{if(clientId!==''){newState.set(clientId,order);}});newState.set('',((_state$get=state.get(''))!==null&&_state$get!==void 0?_state$get:[]).concat(blockOrder['']));return newState;}
case'INSERT_BLOCKS':{const{rootClientId=''}=action;const subState=state.get(rootClientId)||[];const mappedBlocks=mapBlockOrder(action.blocks,rootClientId);const{index=subState.length}=action;const newState=new Map(state);mappedBlocks.forEach((order,clientId)=>{newState.set(clientId,order);});newState.set(rootClientId,insertAt(subState,mappedBlocks.get(rootClientId),index));return newState;}
case'MOVE_BLOCKS_TO_POSITION':{var _state$get$filter;const{fromRootClientId='',toRootClientId='',clientIds}=action;const{index=state.get(toRootClientId).length}=action;if(fromRootClientId===toRootClientId){const subState=state.get(toRootClientId);const fromIndex=subState.indexOf(clientIds[0]);const newState=new Map(state);newState.set(toRootClientId,moveTo(state.get(toRootClientId),fromIndex,index,clientIds.length));return newState;}
const newState=new Map(state);newState.set(fromRootClientId,(_state$get$filter=state.get(fromRootClientId)?.filter(id=>!clientIds.includes(id)))!==null&&_state$get$filter!==void 0?_state$get$filter:[]);newState.set(toRootClientId,insertAt(state.get(toRootClientId),clientIds,index));return newState;}
case'MOVE_BLOCKS_UP':{const{clientIds,rootClientId=''}=action;const firstClientId=clientIds[0];const subState=state.get(rootClientId);if(!subState.length||firstClientId===subState[0]){return state;}
const firstIndex=subState.indexOf(firstClientId);const newState=new Map(state);newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex-1,clientIds.length));return newState;}
case'MOVE_BLOCKS_DOWN':{const{clientIds,rootClientId=''}=action;const firstClientId=clientIds[0];const lastClientId=clientIds[clientIds.length-1];const subState=state.get(rootClientId);if(!subState.length||lastClientId===subState[subState.length-1]){return state;}
const firstIndex=subState.indexOf(firstClientId);const newState=new Map(state);newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex+1,clientIds.length));return newState;}
case'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const{clientIds}=action;if(!action.blocks){return state;}
const mappedBlocks=mapBlockOrder(action.blocks);const newState=new Map(state);action.replacedClientIds.forEach(clientId=>{newState.delete(clientId);});mappedBlocks.forEach((order,clientId)=>{if(clientId!==''){newState.set(clientId,order);}});newState.forEach((order,clientId)=>{const newSubOrder=Object.values(order).reduce((result,subClientId)=>{if(subClientId===clientIds[0]){return[...result,...mappedBlocks.get('')];}
if(clientIds.indexOf(subClientId)===-1){result.push(subClientId);}
return result;},[]);newState.set(clientId,newSubOrder);});return newState;}
case'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const newState=new Map(state);action.removedClientIds.forEach(clientId=>{newState.delete(clientId);});newState.forEach((order,clientId)=>{var _order$filter;const newSubOrder=(_order$filter=order?.filter(id=>!action.removedClientIds.includes(id)))!==null&&_order$filter!==void 0?_order$filter:[];if(newSubOrder.length!==order.length){newState.set(clientId,newSubOrder);}});return newState;}}
return state;},parents(state=new Map(),action){switch(action.type){case'RECEIVE_BLOCKS':{const newState=new Map(state);mapBlockParents(action.blocks).forEach(([key,value])=>{newState.set(key,value);});return newState;}
case'INSERT_BLOCKS':{const newState=new Map(state);mapBlockParents(action.blocks,action.rootClientId||'').forEach(([key,value])=>{newState.set(key,value);});return newState;}
case'MOVE_BLOCKS_TO_POSITION':{const newState=new Map(state);action.clientIds.forEach(id=>{newState.set(id,action.toRootClientId||'');});return newState;}
case'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const newState=new Map(state);action.replacedClientIds.forEach(clientId=>{newState.delete(clientId);});mapBlockParents(action.blocks,state.get(action.clientIds[0])).forEach(([key,value])=>{newState.set(key,value);});return newState;}
case'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const newState=new Map(state);action.removedClientIds.forEach(clientId=>{newState.delete(clientId);});return newState;}}
return state;},controlledInnerBlocks(state={},{type,clientId,hasControlledInnerBlocks}){if(type==='SET_HAS_CONTROLLED_INNER_BLOCKS'){return{...state,[clientId]:hasControlledInnerBlocks};}
return state;}});function isBlockInterfaceHidden(state=false,action){switch(action.type){case'HIDE_BLOCK_INTERFACE':return true;case'SHOW_BLOCK_INTERFACE':return false;}
return state;}
function isTyping(state=false,action){switch(action.type){case'START_TYPING':return true;case'STOP_TYPING':return false;}
return state;}
function isDragging(state=false,action){switch(action.type){case'START_DRAGGING':return true;case'STOP_DRAGGING':return false;}
return state;}
function draggedBlocks(state=[],action){switch(action.type){case'START_DRAGGING_BLOCKS':return action.clientIds;case'STOP_DRAGGING_BLOCKS':return[];}
return state;}
function blockVisibility(state={},action){if(action.type==='SET_BLOCK_VISIBILITY'){return{...state,...action.updates};}
return state;}
function selectionHelper(state={},action){switch(action.type){case'CLEAR_SELECTED_BLOCK':{if(state.clientId){return{};}
return state;}
case'SELECT_BLOCK':if(action.clientId===state.clientId){return state;}
return{clientId:action.clientId};case'REPLACE_INNER_BLOCKS':case'INSERT_BLOCKS':{if(!action.updateSelection||!action.blocks.length){return state;}
return{clientId:action.blocks[0].clientId};}
case'REMOVE_BLOCKS':if(!action.clientIds||!action.clientIds.length||action.clientIds.indexOf(state.clientId)===-1){return state;}
return{};case'REPLACE_BLOCKS':{if(action.clientIds.indexOf(state.clientId)===-1){return state;}
const blockToSelect=action.blocks[action.indexToSelect]||action.blocks[action.blocks.length-1];if(!blockToSelect){return{};}
if(blockToSelect.clientId===state.clientId){return state;}
return{clientId:blockToSelect.clientId};}}
return state;}
function selection(state={},action){switch(action.type){case'SELECTION_CHANGE':if(action.clientId){return{selectionStart:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.startOffset},selectionEnd:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.endOffset}};}
return{selectionStart:action.start||state.selectionStart,selectionEnd:action.end||state.selectionEnd};case'RESET_SELECTION':const{selectionStart,selectionEnd}=action;return{selectionStart,selectionEnd};case'MULTI_SELECT':const{start,end}=action;if(start===state.selectionStart?.clientId&&end===state.selectionEnd?.clientId){return state;}
return{selectionStart:{clientId:start},selectionEnd:{clientId:end}};case'RESET_BLOCKS':const startClientId=state?.selectionStart?.clientId;const endClientId=state?.selectionEnd?.clientId;if(!startClientId&&!endClientId){return state;}
if(!action.blocks.some(block=>block.clientId===startClientId)){return{selectionStart:{},selectionEnd:{}};}
if(!action.blocks.some(block=>block.clientId===endClientId)){return{...state,selectionEnd:state.selectionStart};}}
const selectionStart=selectionHelper(state.selectionStart,action);const selectionEnd=selectionHelper(state.selectionEnd,action);if(selectionStart===state.selectionStart&&selectionEnd===state.selectionEnd){return state;}
return{selectionStart,selectionEnd};}
function isMultiSelecting(state=false,action){switch(action.type){case'START_MULTI_SELECT':return true;case'STOP_MULTI_SELECT':return false;}
return state;}
function isSelectionEnabled(state=true,action){switch(action.type){case'TOGGLE_SELECTION':return action.isSelectionEnabled;}
return state;}
function removalPromptData(state=false,action){switch(action.type){case'DISPLAY_BLOCK_REMOVAL_PROMPT':const{clientIds,selectPrevious,message}=action;return{clientIds,selectPrevious,message};case'CLEAR_BLOCK_REMOVAL_PROMPT':return false;}
return state;}
function blockRemovalRules(state=false,action){switch(action.type){case'SET_BLOCK_REMOVAL_RULES':return action.rules;}
return state;}
function initialPosition(state=null,action){if(action.type==='REPLACE_BLOCKS'&&action.initialPosition!==undefined){return action.initialPosition;}else if(['MULTI_SELECT','SELECT_BLOCK','RESET_SELECTION','INSERT_BLOCKS','REPLACE_INNER_BLOCKS'].includes(action.type)){return action.initialPosition;}
return state;}
function blocksMode(state={},action){if(action.type==='TOGGLE_BLOCK_MODE'){const{clientId}=action;return{...state,[clientId]:state[clientId]&&state[clientId]==='html'?'visual':'html'};}
return state;}
function insertionCue(state=null,action){switch(action.type){case'SHOW_INSERTION_POINT':{const{rootClientId,index,__unstableWithInserter,operation,nearestSide}=action;const nextState={rootClientId,index,__unstableWithInserter,operation,nearestSide};return es6_default()(state,nextState)?state:nextState;}
case'HIDE_INSERTION_POINT':return null;}
return state;}
function template(state={isValid:true},action){switch(action.type){case'SET_TEMPLATE_VALIDITY':return{...state,isValid:action.isValid};}
return state;}
function settings(state=SETTINGS_DEFAULTS,action){switch(action.type){case'UPDATE_SETTINGS':{const updatedSettings=action.reset?{...SETTINGS_DEFAULTS,...action.settings}:{...state,...action.settings};Object.defineProperty(updatedSettings,'__unstableIsPreviewMode',{get(){external_wp_deprecated_default()('__unstableIsPreviewMode',{since:'6.8',alternative:'isPreviewMode'});return this.isPreviewMode;}});return updatedSettings;}}
return state;}
function preferences(state=PREFERENCES_DEFAULTS,action){switch(action.type){case'INSERT_BLOCKS':case'REPLACE_BLOCKS':{const nextInsertUsage=action.blocks.reduce((prevUsage,block)=>{const{attributes,name:blockName}=block;let id=blockName;const match=(0,external_wp_data_namespaceObject.select)(external_wp_blocks_namespaceObject.store).getActiveBlockVariation(blockName,attributes);if(match?.name){id+='/'+match.name;}
if(blockName==='core/block'){id+='/'+attributes.ref;}
return{...prevUsage,[id]:{time:action.time,count:prevUsage[id]?prevUsage[id].count+1:1}};},state.insertUsage);return{...state,insertUsage:nextInsertUsage};}}
return state;}
const blockListSettings=(state={},action)=>{switch(action.type){case'REPLACE_BLOCKS':case'REMOVE_BLOCKS':{return Object.fromEntries(Object.entries(state).filter(([id])=>!action.clientIds.includes(id)));}
case'UPDATE_BLOCK_LIST_SETTINGS':{const updates=typeof action.clientId==='string'?{[action.clientId]:action.settings}:action.clientId;for(const clientId in updates){if(!updates[clientId]){if(!state[clientId]){delete updates[clientId];}}else if(es6_default()(state[clientId],updates[clientId])){delete updates[clientId];}}
if(Object.keys(updates).length===0){return state;}
const merged={...state,...updates};for(const clientId in updates){if(!updates[clientId]){delete merged[clientId];}}
return merged;}}
return state;};function lastBlockAttributesChange(state=null,action){switch(action.type){case'UPDATE_BLOCK':if(!action.updates.attributes){break;}
return{[action.clientId]:action.updates.attributes};case'UPDATE_BLOCK_ATTRIBUTES':return action.clientIds.reduce((accumulator,id)=>({...accumulator,[id]:action.uniqueByBlock?action.attributes[id]:action.attributes}),{});}
return state;}
function highlightedBlock(state,action){switch(action.type){case'TOGGLE_BLOCK_HIGHLIGHT':const{clientId,isHighlighted}=action;if(isHighlighted){return clientId;}else if(state===clientId){return null;}
return state;case'SELECT_BLOCK':if(action.clientId!==state){return null;}}
return state;}
function expandedBlock(state=null,action){switch(action.type){case'SET_BLOCK_EXPANDED_IN_LIST_VIEW':return action.clientId;case'SELECT_BLOCK':if(action.clientId!==state){return null;}}
return state;}
function lastBlockInserted(state={},action){switch(action.type){case'INSERT_BLOCKS':case'REPLACE_BLOCKS':if(!action.blocks.length){return state;}
const clientIds=action.blocks.map(block=>{return block.clientId;});const source=action.meta?.source;return{clientIds,source};case'RESET_BLOCKS':return{};}
return state;}
function temporarilyEditingAsBlocks(state='',action){if(action.type==='SET_TEMPORARILY_EDITING_AS_BLOCKS'){return action.temporarilyEditingAsBlocks;}
return state;}
function temporarilyEditingFocusModeRevert(state='',action){if(action.type==='SET_TEMPORARILY_EDITING_AS_BLOCKS'){return action.focusModeToRevert;}
return state;}
function blockEditingModes(state=new Map(),action){switch(action.type){case'SET_BLOCK_EDITING_MODE':if(state.get(action.clientId)===action.mode){return state;}
return new Map(state).set(action.clientId,action.mode);case'UNSET_BLOCK_EDITING_MODE':{if(!state.has(action.clientId)){return state;}
const newState=new Map(state);newState.delete(action.clientId);return newState;}
case'RESET_BLOCKS':{return state.has('')?new Map().set('',state.get('')):state;}}
return state;}
function openedBlockSettingsMenu(state=null,action){if('SET_OPENED_BLOCK_SETTINGS_MENU'===action.type){var _action$clientId;return(_action$clientId=action?.clientId)!==null&&_action$clientId!==void 0?_action$clientId:null;}
return state;}
function styleOverrides(state=new Map(),action){switch(action.type){case'SET_STYLE_OVERRIDE':return new Map(state).set(action.id,action.style);case'DELETE_STYLE_OVERRIDE':{const newState=new Map(state);newState.delete(action.id);return newState;}}
return state;}
function registeredInserterMediaCategories(state=[],action){switch(action.type){case'REGISTER_INSERTER_MEDIA_CATEGORY':return[...state,action.category];}
return state;}
function lastFocus(state=false,action){switch(action.type){case'LAST_FOCUS':return action.lastFocus;}
return state;}
function hoveredBlockClientId(state=false,action){switch(action.type){case'HOVER_BLOCK':return action.clientId;}
return state;}
function zoomLevel(state=100,action){switch(action.type){case'SET_ZOOM_LEVEL':return action.zoom;case'RESET_ZOOM_LEVEL':return 100;}
return state;}
function insertionPoint(state=null,action){switch(action.type){case'SET_INSERTION_POINT':return action.value;case'SELECT_BLOCK':return null;}
return state;}
const combinedReducers=(0,external_wp_data_namespaceObject.combineReducers)({blocks,isDragging,isTyping,isBlockInterfaceHidden,draggedBlocks,selection,isMultiSelecting,isSelectionEnabled,initialPosition,blocksMode,blockListSettings,insertionPoint,insertionCue,template,settings,preferences,lastBlockAttributesChange,lastFocus,expandedBlock,highlightedBlock,lastBlockInserted,temporarilyEditingAsBlocks,temporarilyEditingFocusModeRevert,blockVisibility,blockEditingModes,styleOverrides,removalPromptData,blockRemovalRules,openedBlockSettingsMenu,registeredInserterMediaCategories,hoveredBlockClientId,zoomLevel});function getBlockTreeBlock(state,clientId){if(clientId===''){const rootBlock=state.blocks.tree.get(clientId);if(!rootBlock){return;}
return{clientId:'',...rootBlock};}
if(!state.blocks.controlledInnerBlocks[clientId]){return state.blocks.tree.get(clientId);}
const controlledTree=state.blocks.tree.get(`controlled||${clientId}`);const regularTree=state.blocks.tree.get(clientId);return{...regularTree,innerBlocks:controlledTree?.innerBlocks};}
function traverseBlockTree(state,clientId,callback){const tree=getBlockTreeBlock(state,clientId);if(!tree){return;}
callback(tree);if(!tree?.innerBlocks?.length){return;}
for(const innerBlock of tree?.innerBlocks){traverseBlockTree(state,innerBlock.clientId,callback);}}
function findParentInClientIdsList(state,clientId,clientIds){if(!clientIds.length){return;}
let parent=state.blocks.parents.get(clientId);while(parent!==undefined){if(clientIds.includes(parent)){return parent;}
parent=state.blocks.parents.get(parent);}}
function hasBindings(block){return block?.attributes?.metadata?.bindings&&Object.keys(block?.attributes?.metadata?.bindings).length;}
function getDerivedBlockEditingModesForTree(state,isNavMode=false,treeClientId=''){const isZoomedOut=state?.zoomLevel<100||state?.zoomLevel==='auto-scaled';const derivedBlockEditingModes=new Map();const sectionRootClientId=state.settings?.[sectionRootClientIdKey];const sectionClientIds=state.blocks.order.get(sectionRootClientId);const hasDisabledBlocks=Array.from(state.blockEditingModes).some(([,mode])=>mode==='disabled');const templatePartClientIds=[];const syncedPatternClientIds=[];Object.keys(state.blocks.controlledInnerBlocks).forEach(clientId=>{const block=state.blocks.byClientId?.get(clientId);if(block?.name==='core/template-part'){templatePartClientIds.push(clientId);}
if(block?.name==='core/block'){syncedPatternClientIds.push(clientId);}});traverseBlockTree(state,treeClientId,block=>{const{clientId,name:blockName}=block;if(state.blockEditingModes.has(clientId)){return;}
if(hasDisabledBlocks){let ancestorBlockEditingMode;let parent=state.blocks.parents.get(clientId);while(parent!==undefined){if(derivedBlockEditingModes.has(parent)){ancestorBlockEditingMode=derivedBlockEditingModes.get(parent);}else if(state.blockEditingModes.has(parent)){ancestorBlockEditingMode=state.blockEditingModes.get(parent);}
if(ancestorBlockEditingMode){break;}
parent=state.blocks.parents.get(parent);}
if(ancestorBlockEditingMode==='disabled'){derivedBlockEditingModes.set(clientId,'disabled');return;}}
if(isZoomedOut||isNavMode){if(clientId===sectionRootClientId){derivedBlockEditingModes.set(clientId,'contentOnly');return;}
if(!sectionClientIds?.length){derivedBlockEditingModes.set(clientId,'disabled');return;}
if(sectionClientIds.includes(clientId)){derivedBlockEditingModes.set(clientId,'contentOnly');return;}
if(isZoomedOut){derivedBlockEditingModes.set(clientId,'disabled');return;}
const isInSection=!!findParentInClientIdsList(state,clientId,sectionClientIds);if(!isInSection){if(clientId===''){derivedBlockEditingModes.set(clientId,'disabled');return;}
if(blockName==='core/template-part'){derivedBlockEditingModes.set(clientId,'contentOnly');return;}
const isInTemplatePart=!!findParentInClientIdsList(state,clientId,templatePartClientIds);if(!isInTemplatePart&&!isContentBlock(blockName)){derivedBlockEditingModes.set(clientId,'disabled');return;}}
if(syncedPatternClientIds.length){const parentPatternClientId=findParentInClientIdsList(state,clientId,syncedPatternClientIds);if(parentPatternClientId){if(findParentInClientIdsList(state,parentPatternClientId,syncedPatternClientIds)){derivedBlockEditingModes.set(clientId,'disabled');return;}
if(hasBindings(block)){derivedBlockEditingModes.set(clientId,'contentOnly');return;}
derivedBlockEditingModes.set(clientId,'disabled');return;}}
if(blockName&&isContentBlock(blockName)){derivedBlockEditingModes.set(clientId,'contentOnly');return;}
derivedBlockEditingModes.set(clientId,'disabled');return;}
if(syncedPatternClientIds.length){if(syncedPatternClientIds.includes(clientId)){if(findParentInClientIdsList(state,clientId,syncedPatternClientIds)){derivedBlockEditingModes.set(clientId,'disabled');return;}
return;}
const parentPatternClientId=findParentInClientIdsList(state,clientId,syncedPatternClientIds);if(parentPatternClientId){if(findParentInClientIdsList(state,parentPatternClientId,syncedPatternClientIds)){derivedBlockEditingModes.set(clientId,'disabled');return;}
if(hasBindings(block)){derivedBlockEditingModes.set(clientId,'contentOnly');return;}
derivedBlockEditingModes.set(clientId,'disabled');}}});return derivedBlockEditingModes;}
function getDerivedBlockEditingModesUpdates({prevState,nextState,addedBlocks,removedClientIds,isNavMode=false}){const prevDerivedBlockEditingModes=isNavMode?prevState.derivedNavModeBlockEditingModes:prevState.derivedBlockEditingModes;let nextDerivedBlockEditingModes;removedClientIds?.forEach(clientId=>{traverseBlockTree(prevState,clientId,block=>{if(prevDerivedBlockEditingModes.has(block.clientId)){if(!nextDerivedBlockEditingModes){nextDerivedBlockEditingModes=new Map(prevDerivedBlockEditingModes);}
nextDerivedBlockEditingModes.delete(block.clientId);}});});addedBlocks?.forEach(addedBlock=>{traverseBlockTree(nextState,addedBlock.clientId,block=>{const updates=getDerivedBlockEditingModesForTree(nextState,isNavMode,block.clientId);if(updates.size){if(!nextDerivedBlockEditingModes){nextDerivedBlockEditingModes=new Map([...(prevDerivedBlockEditingModes?.size?prevDerivedBlockEditingModes:[]),...updates]);}else{nextDerivedBlockEditingModes=new Map([...(nextDerivedBlockEditingModes?.size?nextDerivedBlockEditingModes:[]),...updates]);}}});});return nextDerivedBlockEditingModes;}
function withDerivedBlockEditingModes(reducer){return(state,action)=>{var _state$derivedBlockEd,_state$derivedNavMode;const nextState=reducer(state,action);if(action.type!=='SET_EDITOR_MODE'&&nextState===state){return state;}
switch(action.type){case'REMOVE_BLOCKS':{const nextDerivedBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,removedClientIds:action.clientIds,isNavMode:false});const nextDerivedNavModeBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,removedClientIds:action.clientIds,isNavMode:true});if(nextDerivedBlockEditingModes||nextDerivedNavModeBlockEditingModes){return{...nextState,derivedBlockEditingModes:nextDerivedBlockEditingModes!==null&&nextDerivedBlockEditingModes!==void 0?nextDerivedBlockEditingModes:state.derivedBlockEditingModes,derivedNavModeBlockEditingModes:nextDerivedNavModeBlockEditingModes!==null&&nextDerivedNavModeBlockEditingModes!==void 0?nextDerivedNavModeBlockEditingModes:state.derivedNavModeBlockEditingModes};}
break;}
case'RECEIVE_BLOCKS':case'INSERT_BLOCKS':{const nextDerivedBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks:action.blocks,isNavMode:false});const nextDerivedNavModeBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks:action.blocks,isNavMode:true});if(nextDerivedBlockEditingModes||nextDerivedNavModeBlockEditingModes){return{...nextState,derivedBlockEditingModes:nextDerivedBlockEditingModes!==null&&nextDerivedBlockEditingModes!==void 0?nextDerivedBlockEditingModes:state.derivedBlockEditingModes,derivedNavModeBlockEditingModes:nextDerivedNavModeBlockEditingModes!==null&&nextDerivedNavModeBlockEditingModes!==void 0?nextDerivedNavModeBlockEditingModes:state.derivedNavModeBlockEditingModes};}
break;}
case'SET_BLOCK_EDITING_MODE':case'UNSET_BLOCK_EDITING_MODE':case'SET_HAS_CONTROLLED_INNER_BLOCKS':{const updatedBlock=getBlockTreeBlock(nextState,action.clientId);if(!updatedBlock){break;}
const nextDerivedBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,removedClientIds:[action.clientId],addedBlocks:[updatedBlock],isNavMode:false});const nextDerivedNavModeBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,removedClientIds:[action.clientId],addedBlocks:[updatedBlock],isNavMode:true});if(nextDerivedBlockEditingModes||nextDerivedNavModeBlockEditingModes){return{...nextState,derivedBlockEditingModes:nextDerivedBlockEditingModes!==null&&nextDerivedBlockEditingModes!==void 0?nextDerivedBlockEditingModes:state.derivedBlockEditingModes,derivedNavModeBlockEditingModes:nextDerivedNavModeBlockEditingModes!==null&&nextDerivedNavModeBlockEditingModes!==void 0?nextDerivedNavModeBlockEditingModes:state.derivedNavModeBlockEditingModes};}
break;}
case'REPLACE_BLOCKS':{const nextDerivedBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks:action.blocks,removedClientIds:action.clientIds,isNavMode:false});const nextDerivedNavModeBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks:action.blocks,removedClientIds:action.clientIds,isNavMode:true});if(nextDerivedBlockEditingModes||nextDerivedNavModeBlockEditingModes){return{...nextState,derivedBlockEditingModes:nextDerivedBlockEditingModes!==null&&nextDerivedBlockEditingModes!==void 0?nextDerivedBlockEditingModes:state.derivedBlockEditingModes,derivedNavModeBlockEditingModes:nextDerivedNavModeBlockEditingModes!==null&&nextDerivedNavModeBlockEditingModes!==void 0?nextDerivedNavModeBlockEditingModes:state.derivedNavModeBlockEditingModes};}
break;}
case'REPLACE_INNER_BLOCKS':{const removedClientIds=state.blocks.order.get(action.rootClientId);const nextDerivedBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks:action.blocks,removedClientIds,isNavMode:false});const nextDerivedNavModeBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks:action.blocks,removedClientIds,isNavMode:true});if(nextDerivedBlockEditingModes||nextDerivedNavModeBlockEditingModes){return{...nextState,derivedBlockEditingModes:nextDerivedBlockEditingModes!==null&&nextDerivedBlockEditingModes!==void 0?nextDerivedBlockEditingModes:state.derivedBlockEditingModes,derivedNavModeBlockEditingModes:nextDerivedNavModeBlockEditingModes!==null&&nextDerivedNavModeBlockEditingModes!==void 0?nextDerivedNavModeBlockEditingModes:state.derivedNavModeBlockEditingModes};}
break;}
case'MOVE_BLOCKS_TO_POSITION':{const addedBlocks=action.clientIds.map(clientId=>{return nextState.blocks.byClientId.get(clientId);});const nextDerivedBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks,removedClientIds:action.clientIds,isNavMode:false});const nextDerivedNavModeBlockEditingModes=getDerivedBlockEditingModesUpdates({prevState:state,nextState,addedBlocks,removedClientIds:action.clientIds,isNavMode:true});if(nextDerivedBlockEditingModes||nextDerivedNavModeBlockEditingModes){return{...nextState,derivedBlockEditingModes:nextDerivedBlockEditingModes!==null&&nextDerivedBlockEditingModes!==void 0?nextDerivedBlockEditingModes:state.derivedBlockEditingModes,derivedNavModeBlockEditingModes:nextDerivedNavModeBlockEditingModes!==null&&nextDerivedNavModeBlockEditingModes!==void 0?nextDerivedNavModeBlockEditingModes:state.derivedNavModeBlockEditingModes};}
break;}
case'UPDATE_SETTINGS':{if(state?.settings?.[sectionRootClientIdKey]!==nextState?.settings?.[sectionRootClientIdKey]){return{...nextState,derivedBlockEditingModes:getDerivedBlockEditingModesForTree(nextState,false),derivedNavModeBlockEditingModes:getDerivedBlockEditingModesForTree(nextState,true)};}
break;}
case'RESET_BLOCKS':case'SET_EDITOR_MODE':case'RESET_ZOOM_LEVEL':case'SET_ZOOM_LEVEL':{return{...nextState,derivedBlockEditingModes:getDerivedBlockEditingModesForTree(nextState,false),derivedNavModeBlockEditingModes:getDerivedBlockEditingModesForTree(nextState,true)};}}
nextState.derivedBlockEditingModes=(_state$derivedBlockEd=state?.derivedBlockEditingModes)!==null&&_state$derivedBlockEd!==void 0?_state$derivedBlockEd:new Map();nextState.derivedNavModeBlockEditingModes=(_state$derivedNavMode=state?.derivedNavModeBlockEditingModes)!==null&&_state$derivedNavMode!==void 0?_state$derivedNavMode:new Map();return nextState;};}
function withAutomaticChangeReset(reducer){return(state,action)=>{const nextState=reducer(state,action);if(!state){return nextState;}
nextState.automaticChangeStatus=state.automaticChangeStatus;if(action.type==='MARK_AUTOMATIC_CHANGE'){return{...nextState,automaticChangeStatus:'pending'};}
if(action.type==='MARK_AUTOMATIC_CHANGE_FINAL'&&state.automaticChangeStatus==='pending'){return{...nextState,automaticChangeStatus:'final'};}
if(nextState.blocks===state.blocks&&nextState.selection===state.selection){return nextState;}
if(nextState.automaticChangeStatus!=='final'&&nextState.selection!==state.selection){return nextState;}
return{...nextState,automaticChangeStatus:undefined};};}
const reducer=((0,external_wp_compose_namespaceObject.pipe)(withDerivedBlockEditingModes,withAutomaticChangeReset)(combinedReducers));;const external_wp_primitives_namespaceObject=window["wp"]["primitives"];;const external_ReactJSXRuntime_namespaceObject=window["ReactJSXRuntime"];;const symbol=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"})});const library_symbol=(symbol);;const external_wp_richText_namespaceObject=window["wp"]["richText"];;const external_wp_preferences_namespaceObject=window["wp"]["preferences"];;const external_wp_blockSerializationDefaultParser_namespaceObject=window["wp"]["blockSerializationDefaultParser"];;const STORE_NAME='core/block-editor';;const INSERTER_PATTERN_TYPES={user:'user',theme:'theme',directory:'directory'};const INSERTER_SYNC_TYPES={full:'fully',unsynced:'unsynced'};const allPatternsCategory={name:'allPatterns',label:(0,external_wp_i18n_namespaceObject._x)('All','patterns')};const myPatternsCategory={name:'myPatterns',label:(0,external_wp_i18n_namespaceObject.__)('My patterns')};const starterPatternsCategory={name:'core/starter-content',label:(0,external_wp_i18n_namespaceObject.__)('Starter content')};function isPatternFiltered(pattern,sourceFilter,syncFilter){const isUserPattern=pattern.name.startsWith('core/block');const isDirectoryPattern=pattern.source==='core'||pattern.source?.startsWith('pattern-directory');if(sourceFilter===INSERTER_PATTERN_TYPES.theme&&(isUserPattern||isDirectoryPattern)){return true;}
if(sourceFilter===INSERTER_PATTERN_TYPES.directory&&(isUserPattern||!isDirectoryPattern)){return true;}
if(sourceFilter===INSERTER_PATTERN_TYPES.user&&pattern.type!==INSERTER_PATTERN_TYPES.user){return true;}
if(syncFilter===INSERTER_SYNC_TYPES.full&&pattern.syncStatus!==''){return true;}
if(syncFilter===INSERTER_SYNC_TYPES.unsynced&&pattern.syncStatus!=='unsynced'&&isUserPattern){return true;}
return false;};function setImmutably(object,path,value){path=Array.isArray(path)?[...path]:[path];object=Array.isArray(object)?[...object]:{...object};const leaf=path.pop();let prev=object;for(const key of path){const lvl=prev[key];prev=prev[key]=Array.isArray(lvl)?[...lvl]:{...lvl};}
prev[leaf]=value;return object;}
const getValueFromObjectPath=(object,path,defaultValue)=>{var _value;const arrayPath=Array.isArray(path)?path:path.split('.');let value=object;arrayPath.forEach(fieldName=>{value=value?.[fieldName];});return(_value=value)!==null&&_value!==void 0?_value:defaultValue;};function uniqByProperty(array,property){const seen=new Set();return array.filter(item=>{const value=item[property];return seen.has(value)?false:seen.add(value);});};const blockedPaths=['color','border','dimensions','typography','spacing'];const deprecatedFlags={'color.palette':settings=>settings.colors,'color.gradients':settings=>settings.gradients,'color.custom':settings=>settings.disableCustomColors===undefined?undefined:!settings.disableCustomColors,'color.customGradient':settings=>settings.disableCustomGradients===undefined?undefined:!settings.disableCustomGradients,'typography.fontSizes':settings=>settings.fontSizes,'typography.customFontSize':settings=>settings.disableCustomFontSizes===undefined?undefined:!settings.disableCustomFontSizes,'typography.lineHeight':settings=>settings.enableCustomLineHeight,'spacing.units':settings=>{if(settings.enableCustomUnits===undefined){return;}
if(settings.enableCustomUnits===true){return['px','em','rem','vh','vw','%'];}
return settings.enableCustomUnits;},'spacing.padding':settings=>settings.enableCustomSpacing};const prefixedFlags={'border.customColor':'border.color','border.customStyle':'border.style','border.customWidth':'border.width','typography.customFontStyle':'typography.fontStyle','typography.customFontWeight':'typography.fontWeight','typography.customLetterSpacing':'typography.letterSpacing','typography.customTextDecorations':'typography.textDecoration','typography.customTextTransforms':'typography.textTransform','border.customRadius':'border.radius','spacing.customMargin':'spacing.margin','spacing.customPadding':'spacing.padding','typography.customLineHeight':'typography.lineHeight'};const removeCustomPrefixes=path=>{return prefixedFlags[path]||path;};function getBlockSettings(state,clientId,...paths){const blockName=getBlockName(state,clientId);const candidates=[];if(clientId){let id=clientId;do{const name=getBlockName(state,id);if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'__experimentalSettings',false)){candidates.push(id);}}while(id=state.blocks.parents.get(id));}
return paths.map(path=>{if(blockedPaths.includes(path)){console.warn('Top level useSetting paths are disabled. Please use a subpath to query the information needed.');return undefined;}
let result=(0,external_wp_hooks_namespaceObject.applyFilters)('blockEditor.useSetting.before',undefined,path,clientId,blockName);if(undefined!==result){return result;}
const normalizedPath=removeCustomPrefixes(path);for(const candidateClientId of candidates){var _getValueFromObjectPa;const candidateAtts=getBlockAttributes(state,candidateClientId);result=(_getValueFromObjectPa=getValueFromObjectPath(candidateAtts.settings?.blocks?.[blockName],normalizedPath))!==null&&_getValueFromObjectPa!==void 0?_getValueFromObjectPa:getValueFromObjectPath(candidateAtts.settings,normalizedPath);if(result!==undefined){break;}}
const settings=getSettings(state);if(result===undefined&&blockName){result=getValueFromObjectPath(settings.__experimentalFeatures?.blocks?.[blockName],normalizedPath);}
if(result===undefined){result=getValueFromObjectPath(settings.__experimentalFeatures,normalizedPath);}
if(result!==undefined){if(external_wp_blocks_namespaceObject.__EXPERIMENTAL_PATHS_WITH_OVERRIDE[normalizedPath]){var _ref,_result$custom;return(_ref=(_result$custom=result.custom)!==null&&_result$custom!==void 0?_result$custom:result.theme)!==null&&_ref!==void 0?_ref:result.default;}
return result;}
const deprecatedSettingsValue=deprecatedFlags[normalizedPath]?.(settings);if(deprecatedSettingsValue!==undefined){return deprecatedSettingsValue;}
return normalizedPath==='typography.dropCap'?true:undefined;});};function private_selectors_isBlockInterfaceHidden(state){return state.isBlockInterfaceHidden;}
function getLastInsertedBlocksClientIds(state){return state?.lastBlockInserted?.clientIds;}
function getBlockWithoutAttributes(state,clientId){return state.blocks.byClientId.get(clientId);}
const isBlockSubtreeDisabled=(state,clientId)=>{const isChildSubtreeDisabled=childClientId=>{return getBlockEditingMode(state,childClientId)==='disabled'&&getBlockOrder(state,childClientId).every(isChildSubtreeDisabled);};return getBlockOrder(state,clientId).every(isChildSubtreeDisabled);};function getEnabledClientIdsTreeUnmemoized(state,rootClientId){const blockOrder=getBlockOrder(state,rootClientId);const result=[];for(const clientId of blockOrder){const innerBlocks=getEnabledClientIdsTreeUnmemoized(state,clientId);if(getBlockEditingMode(state,clientId)!=='disabled'){result.push({clientId,innerBlocks});}else{result.push(...innerBlocks);}}
return result;}
const getEnabledClientIdsTree=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)(getEnabledClientIdsTreeUnmemoized,state=>[state.blocks.order,state.derivedBlockEditingModes,state.derivedNavModeBlockEditingModes,state.blockEditingModes,state.settings.templateLock,state.blockListSettings,select(STORE_NAME).__unstableGetEditorMode(state)]));const getEnabledBlockParents=(0,external_wp_data_namespaceObject.createSelector)((state,clientId,ascending=false)=>{return getBlockParents(state,clientId,ascending).filter(parent=>getBlockEditingMode(state,parent)!=='disabled');},state=>[state.blocks.parents,state.blockEditingModes,state.settings.templateLock,state.blockListSettings]);function getRemovalPromptData(state){return state.removalPromptData;}
function getBlockRemovalRules(state){return state.blockRemovalRules;}
function getOpenedBlockSettingsMenu(state){return state.openedBlockSettingsMenu;}
const getStyleOverrides=(0,external_wp_data_namespaceObject.createSelector)(state=>{const clientIds=getClientIdsWithDescendants(state);const clientIdMap=clientIds.reduce((acc,clientId,index)=>{acc[clientId]=index;return acc;},{});return[...state.styleOverrides].sort((overrideA,overrideB)=>{var _clientIdMap$clientId,_clientIdMap$clientId2;const[,{clientId:clientIdA}]=overrideA;const[,{clientId:clientIdB}]=overrideB;const aIndex=(_clientIdMap$clientId=clientIdMap[clientIdA])!==null&&_clientIdMap$clientId!==void 0?_clientIdMap$clientId:-1;const bIndex=(_clientIdMap$clientId2=clientIdMap[clientIdB])!==null&&_clientIdMap$clientId2!==void 0?_clientIdMap$clientId2:-1;return aIndex-bIndex;});},state=>[state.blocks.order,state.styleOverrides]);function getRegisteredInserterMediaCategories(state){return state.registeredInserterMediaCategories;}
const getInserterMediaCategories=(0,external_wp_data_namespaceObject.createSelector)(state=>{const{settings:{inserterMediaCategories,allowedMimeTypes,enableOpenverseMediaCategory},registeredInserterMediaCategories}=state;if(!inserterMediaCategories&&!registeredInserterMediaCategories.length||!allowedMimeTypes){return;}
const coreInserterMediaCategoriesNames=inserterMediaCategories?.map(({name})=>name)||[];const mergedCategories=[...(inserterMediaCategories||[]),...(registeredInserterMediaCategories||[]).filter(({name})=>!coreInserterMediaCategoriesNames.includes(name))];return mergedCategories.filter(category=>{if(!enableOpenverseMediaCategory&&category.name==='openverse'){return false;}
return Object.values(allowedMimeTypes).some(mimeType=>mimeType.startsWith(`${category.mediaType}/`));});},state=>[state.settings.inserterMediaCategories,state.settings.allowedMimeTypes,state.settings.enableOpenverseMediaCategory,state.registeredInserterMediaCategories]);const hasAllowedPatterns=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,rootClientId=null)=>{const{getAllPatterns}=unlock(select(STORE_NAME));const patterns=getAllPatterns();const{allowedBlockTypes}=getSettings(state);return patterns.some(pattern=>{const{inserter=true}=pattern;if(!inserter){return false;}
const grammar=getGrammar(pattern);return checkAllowListRecursive(grammar,allowedBlockTypes)&&grammar.every(({name:blockName})=>canInsertBlockType(state,blockName,rootClientId));});},(state,rootClientId)=>[...getAllPatternsDependants(select)(state),...getInsertBlockTypeDependants(select)(state,rootClientId)]));function mapUserPattern(userPattern,__experimentalUserPatternCategories=[]){return{name:`core/block/${userPattern.id}`,id:userPattern.id,type:INSERTER_PATTERN_TYPES.user,title:userPattern.title.raw,categories:userPattern.wp_pattern_category?.map(catId=>{const category=__experimentalUserPatternCategories.find(({id})=>id===catId);return category?category.slug:catId;}),content:userPattern.content.raw,syncStatus:userPattern.wp_pattern_sync_status};}
const getPatternBySlug=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,patternName)=>{var _state$settings$__exp,_state$settings$selec;if(patternName?.startsWith('core/block/')){const _id=parseInt(patternName.slice('core/block/'.length),10);const block=unlock(select(STORE_NAME)).getReusableBlocks().find(({id})=>id===_id);if(!block){return null;}
return mapUserPattern(block,state.settings.__experimentalUserPatternCategories);}
return[...((_state$settings$__exp=state.settings.__experimentalBlockPatterns)!==null&&_state$settings$__exp!==void 0?_state$settings$__exp:[]),...((_state$settings$selec=state.settings[selectBlockPatternsKey]?.(select))!==null&&_state$settings$selec!==void 0?_state$settings$selec:[])].find(({name})=>name===patternName);},(state,patternName)=>patternName?.startsWith('core/block/')?[unlock(select(STORE_NAME)).getReusableBlocks(),state.settings.__experimentalReusableBlocks]:[state.settings.__experimentalBlockPatterns,state.settings[selectBlockPatternsKey]?.(select)]));const getAllPatterns=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)(state=>{var _state$settings$__exp2,_state$settings$selec2;return[...unlock(select(STORE_NAME)).getReusableBlocks().map(userPattern=>mapUserPattern(userPattern,state.settings.__experimentalUserPatternCategories)),...((_state$settings$__exp2=state.settings.__experimentalBlockPatterns)!==null&&_state$settings$__exp2!==void 0?_state$settings$__exp2:[]),...((_state$settings$selec2=state.settings[selectBlockPatternsKey]?.(select))!==null&&_state$settings$selec2!==void 0?_state$settings$selec2:[])].filter((x,index,arr)=>index===arr.findIndex(y=>x.name===y.name));},getAllPatternsDependants(select)));const EMPTY_ARRAY=[];const getReusableBlocks=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{var _ref;const reusableBlocksSelect=state.settings[reusableBlocksSelectKey];return(_ref=reusableBlocksSelect?reusableBlocksSelect(select):state.settings.__experimentalReusableBlocks)!==null&&_ref!==void 0?_ref:EMPTY_ARRAY;});function getLastFocus(state){return state.lastFocus;}
function private_selectors_isDragging(state){return state.isDragging;}
function getExpandedBlock(state){return state.expandedBlock;}
const getContentLockingParent=(state,clientId)=>{let current=clientId;let result;while(!result&&(current=state.blocks.parents.get(current))){if(getTemplateLock(state,current)==='contentOnly'){result=current;}}
return result;};const getParentSectionBlock=(state,clientId)=>{let current=clientId;let result;while(!result&&(current=state.blocks.parents.get(current))){if(isSectionBlock(state,current)){result=current;}}
return result;};function isSectionBlock(state,clientId){const blockName=getBlockName(state,clientId);if(blockName==='core/block'||getTemplateLock(state,clientId)==='contentOnly'){return true;}
const _isNavigationMode=isNavigationMode(state);if(_isNavigationMode&&blockName==='core/template-part'){return true;}
const sectionRootClientId=getSectionRootClientId(state);const sectionClientIds=getBlockOrder(state,sectionRootClientId);return _isNavigationMode&&sectionClientIds.includes(clientId);}
function getTemporarilyEditingAsBlocks(state){return state.temporarilyEditingAsBlocks;}
function getTemporarilyEditingFocusModeToRevert(state){return state.temporarilyEditingFocusModeRevert;}
const getBlockStyles=(0,external_wp_data_namespaceObject.createSelector)((state,clientIds)=>clientIds.reduce((styles,clientId)=>{styles[clientId]=state.blocks.attributes.get(clientId)?.style;return styles;},{}),(state,clientIds)=>[...clientIds.map(clientId=>state.blocks.attributes.get(clientId)?.style)]);function getSectionRootClientId(state){return state.settings?.[sectionRootClientIdKey];}
function isZoomOut(state){return state.zoomLevel==='auto-scaled'||state.zoomLevel<100;}
function getZoomLevel(state){return state.zoomLevel;}
function getClosestAllowedInsertionPoint(state,name,clientId=''){const blockNames=Array.isArray(name)?name:[name];const areBlockNamesAllowedInClientId=id=>blockNames.every(currentName=>canInsertBlockType(state,currentName,id));if(!clientId){if(areBlockNamesAllowedInClientId(clientId)){return clientId;}
const sectionRootClientId=getSectionRootClientId(state);if(sectionRootClientId&&areBlockNamesAllowedInClientId(sectionRootClientId)){return sectionRootClientId;}
return null;}
let current=clientId;while(current!==null&&!areBlockNamesAllowedInClientId(current)){const parentClientId=getBlockRootClientId(state,current);current=parentClientId;}
return current;}
function getClosestAllowedInsertionPointForPattern(state,pattern,clientId){const{allowedBlockTypes}=getSettings(state);const isAllowed=checkAllowListRecursive(getGrammar(pattern),allowedBlockTypes);if(!isAllowed){return null;}
const names=getGrammar(pattern).map(({blockName:name})=>name);return getClosestAllowedInsertionPoint(state,names,clientId);}
function getInsertionPoint(state){return state.insertionPoint;};const isFiltered=Symbol('isFiltered');const parsedPatternCache=new WeakMap();const grammarMapCache=new WeakMap();function parsePattern(pattern){const blocks=(0,external_wp_blocks_namespaceObject.parse)(pattern.content,{__unstableSkipMigrationLogs:true});if(blocks.length===1){blocks[0].attributes={...blocks[0].attributes,metadata:{...(blocks[0].attributes.metadata||{}),categories:pattern.categories,patternName:pattern.name,name:blocks[0].attributes.metadata?.name||pattern.title}};}
return{...pattern,blocks};}
function getParsedPattern(pattern){let parsedPattern=parsedPatternCache.get(pattern);if(!parsedPattern){parsedPattern=parsePattern(pattern);parsedPatternCache.set(pattern,parsedPattern);}
return parsedPattern;}
function getGrammar(pattern){let grammarMap=grammarMapCache.get(pattern);if(!grammarMap){grammarMap=(0,external_wp_blockSerializationDefaultParser_namespaceObject.parse)(pattern.content);grammarMap=grammarMap.filter(block=>block.blockName!==null);grammarMapCache.set(pattern,grammarMap);}
return grammarMap;}
const checkAllowList=(list,item,defaultResult=null)=>{if(typeof list==='boolean'){return list;}
if(Array.isArray(list)){if(list.includes('core/post-content')&&item===null){return true;}
return list.includes(item);}
return defaultResult;};const checkAllowListRecursive=(blocks,allowedBlockTypes)=>{if(typeof allowedBlockTypes==='boolean'){return allowedBlockTypes;}
const blocksQueue=[...blocks];while(blocksQueue.length>0){const block=blocksQueue.shift();const isAllowed=checkAllowList(allowedBlockTypes,block.name||block.blockName,true);if(!isAllowed){return false;}
block.innerBlocks?.forEach(innerBlock=>{blocksQueue.push(innerBlock);});}
return true;};const getAllPatternsDependants=select=>state=>{return[state.settings.__experimentalBlockPatterns,state.settings.__experimentalUserPatternCategories,state.settings.__experimentalReusableBlocks,state.settings[selectBlockPatternsKey]?.(select),state.blockPatterns,unlock(select(STORE_NAME)).getReusableBlocks()];};const getInsertBlockTypeDependants=select=>(state,rootClientId)=>{return[state.blockListSettings[rootClientId],state.blocks.byClientId.get(rootClientId),state.settings.allowedBlockTypes,state.settings.templateLock,state.blockEditingModes,select(STORE_NAME).__unstableGetEditorMode(state),getSectionRootClientId(state)];};;const comparator=(field,items,order)=>{return(a,b)=>{let cmpA,cmpB;if(typeof field==='function'){cmpA=field(a);cmpB=field(b);}else{cmpA=a[field];cmpB=b[field];}
if(cmpA>cmpB){return order==='asc'?1:-1;}else if(cmpB>cmpA){return order==='asc'?-1:1;}
const orderA=items.findIndex(item=>item===a);const orderB=items.findIndex(item=>item===b);if(orderA>orderB){return 1;}else if(orderB>orderA){return-1;}
return 0;};};function orderBy(items,field,order='asc'){return items.concat().sort(comparator(field,items,order));};const MILLISECONDS_PER_HOUR=3600*1000;const MILLISECONDS_PER_DAY=24*3600*1000;const MILLISECONDS_PER_WEEK=7*24*3600*1000;const selectors_EMPTY_ARRAY=[];const EMPTY_SET=new Set();const DEFAULT_INSERTER_OPTIONS={[isFiltered]:true};function getBlockName(state,clientId){const block=state.blocks.byClientId.get(clientId);const socialLinkName='core/social-link';if(external_wp_element_namespaceObject.Platform.OS!=='web'&&block?.name===socialLinkName){const attributes=state.blocks.attributes.get(clientId);const{service}=attributes!==null&&attributes!==void 0?attributes:{};return service?`${socialLinkName}-${service}`:socialLinkName;}
return block?block.name:null;}
function isBlockValid(state,clientId){const block=state.blocks.byClientId.get(clientId);return!!block&&block.isValid;}
function getBlockAttributes(state,clientId){const block=state.blocks.byClientId.get(clientId);if(!block){return null;}
return state.blocks.attributes.get(clientId);}
function getBlock(state,clientId){if(!state.blocks.byClientId.has(clientId)){return null;}
return state.blocks.tree.get(clientId);}
const __unstableGetBlockWithoutInnerBlocks=(0,external_wp_data_namespaceObject.createSelector)((state,clientId)=>{const block=state.blocks.byClientId.get(clientId);if(!block){return null;}
return{...block,attributes:getBlockAttributes(state,clientId)};},(state,clientId)=>[state.blocks.byClientId.get(clientId),state.blocks.attributes.get(clientId)]);function getBlocks(state,rootClientId){const treeKey=!rootClientId||!areInnerBlocksControlled(state,rootClientId)?rootClientId||'':'controlled||'+rootClientId;return state.blocks.tree.get(treeKey)?.innerBlocks||selectors_EMPTY_ARRAY;}
const __unstableGetClientIdWithClientIdsTree=(0,external_wp_data_namespaceObject.createSelector)((state,clientId)=>{external_wp_deprecated_default()("wp.data.select( 'core/block-editor' ).__unstableGetClientIdWithClientIdsTree",{since:'6.3',version:'6.5'});return{clientId,innerBlocks:__unstableGetClientIdsTree(state,clientId)};},state=>[state.blocks.order]);const __unstableGetClientIdsTree=(0,external_wp_data_namespaceObject.createSelector)((state,rootClientId='')=>{external_wp_deprecated_default()("wp.data.select( 'core/block-editor' ).__unstableGetClientIdsTree",{since:'6.3',version:'6.5'});return getBlockOrder(state,rootClientId).map(clientId=>__unstableGetClientIdWithClientIdsTree(state,clientId));},state=>[state.blocks.order]);const getClientIdsOfDescendants=(0,external_wp_data_namespaceObject.createSelector)((state,rootIds)=>{rootIds=Array.isArray(rootIds)?[...rootIds]:[rootIds];const ids=[];for(const rootId of rootIds){const order=state.blocks.order.get(rootId);if(order){ids.push(...order);}}
let index=0;while(index<ids.length){const id=ids[index];const order=state.blocks.order.get(id);if(order){ids.splice(index+1,0,...order);}
index++;}
return ids;},state=>[state.blocks.order]);const getClientIdsWithDescendants=state=>getClientIdsOfDescendants(state,'');const getGlobalBlockCount=(0,external_wp_data_namespaceObject.createSelector)((state,blockName)=>{const clientIds=getClientIdsWithDescendants(state);if(!blockName){return clientIds.length;}
let count=0;for(const clientId of clientIds){const block=state.blocks.byClientId.get(clientId);if(block.name===blockName){count++;}}
return count;},state=>[state.blocks.order,state.blocks.byClientId]);const getBlocksByName=(0,external_wp_data_namespaceObject.createSelector)((state,blockName)=>{if(!blockName){return selectors_EMPTY_ARRAY;}
const blockNames=Array.isArray(blockName)?blockName:[blockName];const clientIds=getClientIdsWithDescendants(state);const foundBlocks=clientIds.filter(clientId=>{const block=state.blocks.byClientId.get(clientId);return blockNames.includes(block.name);});return foundBlocks.length>0?foundBlocks:selectors_EMPTY_ARRAY;},state=>[state.blocks.order,state.blocks.byClientId]);function __experimentalGetGlobalBlocksByName(state,blockName){external_wp_deprecated_default()("wp.data.select( 'core/block-editor' ).__experimentalGetGlobalBlocksByName",{since:'6.5',alternative:`wp.data.select( 'core/block-editor' ).getBlocksByName`});return getBlocksByName(state,blockName);}
const getBlocksByClientId=(0,external_wp_data_namespaceObject.createSelector)((state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map(clientId=>getBlock(state,clientId)),(state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map(clientId=>state.blocks.tree.get(clientId)));const getBlockNamesByClientId=(0,external_wp_data_namespaceObject.createSelector)((state,clientIds)=>getBlocksByClientId(state,clientIds).filter(Boolean).map(block=>block.name),(state,clientIds)=>getBlocksByClientId(state,clientIds));function getBlockCount(state,rootClientId){return getBlockOrder(state,rootClientId).length;}
function getSelectionStart(state){return state.selection.selectionStart;}
function getSelectionEnd(state){return state.selection.selectionEnd;}
function getBlockSelectionStart(state){return state.selection.selectionStart.clientId;}
function getBlockSelectionEnd(state){return state.selection.selectionEnd.clientId;}
function getSelectedBlockCount(state){const multiSelectedBlockCount=getMultiSelectedBlockClientIds(state).length;if(multiSelectedBlockCount){return multiSelectedBlockCount;}
return state.selection.selectionStart.clientId?1:0;}
function hasSelectedBlock(state){const{selectionStart,selectionEnd}=state.selection;return!!selectionStart.clientId&&selectionStart.clientId===selectionEnd.clientId;}
function getSelectedBlockClientId(state){const{selectionStart,selectionEnd}=state.selection;const{clientId}=selectionStart;if(!clientId||clientId!==selectionEnd.clientId){return null;}
return clientId;}
function getSelectedBlock(state){const clientId=getSelectedBlockClientId(state);return clientId?getBlock(state,clientId):null;}
function getBlockRootClientId(state,clientId){var _state$blocks$parents;return(_state$blocks$parents=state.blocks.parents.get(clientId))!==null&&_state$blocks$parents!==void 0?_state$blocks$parents:null;}
const getBlockParents=(0,external_wp_data_namespaceObject.createSelector)((state,clientId,ascending=false)=>{const parents=[];let current=clientId;while(current=state.blocks.parents.get(current)){parents.push(current);}
if(!parents.length){return selectors_EMPTY_ARRAY;}
return ascending?parents:parents.reverse();},state=>[state.blocks.parents]);const getBlockParentsByBlockName=(0,external_wp_data_namespaceObject.createSelector)((state,clientId,blockName,ascending=false)=>{const parents=getBlockParents(state,clientId,ascending);const hasName=Array.isArray(blockName)?name=>blockName.includes(name):name=>blockName===name;return parents.filter(id=>hasName(getBlockName(state,id)));},state=>[state.blocks.parents]);function getBlockHierarchyRootClientId(state,clientId){let current=clientId;let parent;do{parent=current;current=state.blocks.parents.get(current);}while(current);return parent;}
function getLowestCommonAncestorWithSelectedBlock(state,clientId){const selectedId=getSelectedBlockClientId(state);const clientParents=[...getBlockParents(state,clientId),clientId];const selectedParents=[...getBlockParents(state,selectedId),selectedId];let lowestCommonAncestor;const maxDepth=Math.min(clientParents.length,selectedParents.length);for(let index=0;index<maxDepth;index++){if(clientParents[index]===selectedParents[index]){lowestCommonAncestor=clientParents[index];}else{break;}}
return lowestCommonAncestor;}
function getAdjacentBlockClientId(state,startClientId,modifier=1){if(startClientId===undefined){startClientId=getSelectedBlockClientId(state);}
if(startClientId===undefined){if(modifier<0){startClientId=getFirstMultiSelectedBlockClientId(state);}else{startClientId=getLastMultiSelectedBlockClientId(state);}}
if(!startClientId){return null;}
const rootClientId=getBlockRootClientId(state,startClientId);if(rootClientId===null){return null;}
const{order}=state.blocks;const orderSet=order.get(rootClientId);const index=orderSet.indexOf(startClientId);const nextIndex=index+1*modifier;if(nextIndex<0){return null;}
if(nextIndex===orderSet.length){return null;}
return orderSet[nextIndex];}
function getPreviousBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,-1);}
function getNextBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,1);}
function getSelectedBlocksInitialCaretPosition(state){return state.initialPosition;}
const getSelectedBlockClientIds=(0,external_wp_data_namespaceObject.createSelector)(state=>{const{selectionStart,selectionEnd}=state.selection;if(!selectionStart.clientId||!selectionEnd.clientId){return selectors_EMPTY_ARRAY;}
if(selectionStart.clientId===selectionEnd.clientId){return[selectionStart.clientId];}
const rootClientId=getBlockRootClientId(state,selectionStart.clientId);if(rootClientId===null){return selectors_EMPTY_ARRAY;}
const blockOrder=getBlockOrder(state,rootClientId);const startIndex=blockOrder.indexOf(selectionStart.clientId);const endIndex=blockOrder.indexOf(selectionEnd.clientId);if(startIndex>endIndex){return blockOrder.slice(endIndex,startIndex+1);}
return blockOrder.slice(startIndex,endIndex+1);},state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]);function getMultiSelectedBlockClientIds(state){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId===selectionEnd.clientId){return selectors_EMPTY_ARRAY;}
return getSelectedBlockClientIds(state);}
const getMultiSelectedBlocks=(0,external_wp_data_namespaceObject.createSelector)(state=>{const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state);if(!multiSelectedBlockClientIds.length){return selectors_EMPTY_ARRAY;}
return multiSelectedBlockClientIds.map(clientId=>getBlock(state,clientId));},state=>[...getSelectedBlockClientIds.getDependants(state),state.blocks.byClientId,state.blocks.order,state.blocks.attributes]);function getFirstMultiSelectedBlockClientId(state){return getMultiSelectedBlockClientIds(state)[0]||null;}
function getLastMultiSelectedBlockClientId(state){const selectedClientIds=getMultiSelectedBlockClientIds(state);return selectedClientIds[selectedClientIds.length-1]||null;}
function isFirstMultiSelectedBlock(state,clientId){return getFirstMultiSelectedBlockClientId(state)===clientId;}
function isBlockMultiSelected(state,clientId){return getMultiSelectedBlockClientIds(state).indexOf(clientId)!==-1;}
const isAncestorMultiSelected=(0,external_wp_data_namespaceObject.createSelector)((state,clientId)=>{let ancestorClientId=clientId;let isMultiSelected=false;while(ancestorClientId&&!isMultiSelected){ancestorClientId=getBlockRootClientId(state,ancestorClientId);isMultiSelected=isBlockMultiSelected(state,ancestorClientId);}
return isMultiSelected;},state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]);function getMultiSelectedBlocksStartClientId(state){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId===selectionEnd.clientId){return null;}
return selectionStart.clientId||null;}
function getMultiSelectedBlocksEndClientId(state){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId===selectionEnd.clientId){return null;}
return selectionEnd.clientId||null;}
function __unstableIsFullySelected(state){const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);return!selectionAnchor.attributeKey&&!selectionFocus.attributeKey&&typeof selectionAnchor.offset==='undefined'&&typeof selectionFocus.offset==='undefined';}
function __unstableIsSelectionCollapsed(state){const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);return!!selectionAnchor&&!!selectionFocus&&selectionAnchor.clientId===selectionFocus.clientId&&selectionAnchor.attributeKey===selectionFocus.attributeKey&&selectionAnchor.offset===selectionFocus.offset;}
function __unstableSelectionHasUnmergeableBlock(state){return getSelectedBlockClientIds(state).some(clientId=>{const blockName=getBlockName(state,clientId);const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);return!blockType.merge;});}
function __unstableIsSelectionMergeable(state,isForward){const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId){return false;}
if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined'){return false;}
const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);const focusRootClientId=getBlockRootClientId(state,selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return false;}
const blockOrder=getBlockOrder(state,anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);let selectionStart,selectionEnd;if(anchorIndex>focusIndex){selectionStart=selectionFocus;selectionEnd=selectionAnchor;}else{selectionStart=selectionAnchor;selectionEnd=selectionFocus;}
const targetBlockClientId=isForward?selectionEnd.clientId:selectionStart.clientId;const blockToMergeClientId=isForward?selectionStart.clientId:selectionEnd.clientId;const targetBlockName=getBlockName(state,targetBlockClientId);const targetBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(targetBlockName);if(!targetBlockType.merge){return false;}
const blockToMerge=getBlock(state,blockToMergeClientId);if(blockToMerge.name===targetBlockName){return true;}
const blocksToMerge=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blockToMerge,targetBlockName);return blocksToMerge&&blocksToMerge.length;}
const __unstableGetSelectedBlocksWithPartialSelection=state=>{const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId){return selectors_EMPTY_ARRAY;}
if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined'){return selectors_EMPTY_ARRAY;}
const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);const focusRootClientId=getBlockRootClientId(state,selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return selectors_EMPTY_ARRAY;}
const blockOrder=getBlockOrder(state,anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);const[selectionStart,selectionEnd]=anchorIndex>focusIndex?[selectionFocus,selectionAnchor]:[selectionAnchor,selectionFocus];const blockA=getBlock(state,selectionStart.clientId);const blockB=getBlock(state,selectionEnd.clientId);const htmlA=blockA.attributes[selectionStart.attributeKey];const htmlB=blockB.attributes[selectionEnd.attributeKey];let valueA=(0,external_wp_richText_namespaceObject.create)({html:htmlA});let valueB=(0,external_wp_richText_namespaceObject.create)({html:htmlB});valueA=(0,external_wp_richText_namespaceObject.remove)(valueA,0,selectionStart.offset);valueB=(0,external_wp_richText_namespaceObject.remove)(valueB,selectionEnd.offset,valueB.text.length);return[{...blockA,attributes:{...blockA.attributes,[selectionStart.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueA})}},{...blockB,attributes:{...blockB.attributes,[selectionEnd.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueB})}}];};function getBlockOrder(state,rootClientId){return state.blocks.order.get(rootClientId||'')||selectors_EMPTY_ARRAY;}
function getBlockIndex(state,clientId){const rootClientId=getBlockRootClientId(state,clientId);return getBlockOrder(state,rootClientId).indexOf(clientId);}
function isBlockSelected(state,clientId){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId!==selectionEnd.clientId){return false;}
return selectionStart.clientId===clientId;}
function hasSelectedInnerBlock(state,clientId,deep=false){const selectedBlockClientIds=getSelectedBlockClientIds(state);if(!selectedBlockClientIds.length){return false;}
if(deep){return selectedBlockClientIds.some(id=>getBlockParents(state,id,true).includes(clientId));}
return selectedBlockClientIds.some(id=>getBlockRootClientId(state,id)===clientId);}
function hasDraggedInnerBlock(state,clientId,deep=false){return getBlockOrder(state,clientId).some(innerClientId=>isBlockBeingDragged(state,innerClientId)||deep&&hasDraggedInnerBlock(state,innerClientId,deep));}
function isBlockWithinSelection(state,clientId){if(!clientId){return false;}
const clientIds=getMultiSelectedBlockClientIds(state);const index=clientIds.indexOf(clientId);return index>-1&&index<clientIds.length-1;}
function hasMultiSelection(state){const{selectionStart,selectionEnd}=state.selection;return selectionStart.clientId!==selectionEnd.clientId;}
function selectors_isMultiSelecting(state){return state.isMultiSelecting;}
function selectors_isSelectionEnabled(state){return state.isSelectionEnabled;}
function getBlockMode(state,clientId){return state.blocksMode[clientId]||'visual';}
function selectors_isTyping(state){return state.isTyping;}
function isDraggingBlocks(state){return!!state.draggedBlocks.length;}
function getDraggedBlockClientIds(state){return state.draggedBlocks;}
function isBlockBeingDragged(state,clientId){return state.draggedBlocks.includes(clientId);}
function isAncestorBeingDragged(state,clientId){if(!isDraggingBlocks(state)){return false;}
const parents=getBlockParents(state,clientId);return parents.some(parentClientId=>isBlockBeingDragged(state,parentClientId));}
function isCaretWithinFormattedText(){external_wp_deprecated_default()('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:'6.1',version:'6.3'});return false;}
const getBlockInsertionPoint=(0,external_wp_data_namespaceObject.createSelector)(state=>{let rootClientId,index;const{insertionCue,selection:{selectionEnd}}=state;if(insertionCue!==null){return insertionCue;}
const{clientId}=selectionEnd;if(clientId){rootClientId=getBlockRootClientId(state,clientId)||undefined;index=getBlockIndex(state,selectionEnd.clientId)+1;}else{index=getBlockOrder(state).length;}
return{rootClientId,index};},state=>[state.insertionCue,state.selection.selectionEnd.clientId,state.blocks.parents,state.blocks.order]);function isBlockInsertionPointVisible(state){return state.insertionCue!==null;}
function isValidTemplate(state){return state.template.isValid;}
function getTemplate(state){return state.settings.template;}
function getTemplateLock(state,rootClientId){var _getBlockListSettings;if(!rootClientId){var _state$settings$templ;return(_state$settings$templ=state.settings.templateLock)!==null&&_state$settings$templ!==void 0?_state$settings$templ:false;}
return(_getBlockListSettings=getBlockListSettings(state,rootClientId)?.templateLock)!==null&&_getBlockListSettings!==void 0?_getBlockListSettings:false;}
const isBlockVisibleInTheInserter=(state,blockNameOrType,rootClientId=null)=>{let blockType;let blockName;if(blockNameOrType&&'object'===typeof blockNameOrType){blockType=blockNameOrType;blockName=blockNameOrType.name;}else{blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockNameOrType);blockName=blockNameOrType;}
if(!blockType){return false;}
const{allowedBlockTypes}=getSettings(state);const isBlockAllowedInEditor=checkAllowList(allowedBlockTypes,blockName,true);if(!isBlockAllowedInEditor){return false;}
const parents=(Array.isArray(blockType.parent)?blockType.parent:[]).concat(Array.isArray(blockType.ancestor)?blockType.ancestor:[]);if(parents.length>0){if(parents.includes('core/post-content')){return true;}
let current=rootClientId;let hasParent=false;do{if(parents.includes(getBlockName(state,current))){hasParent=true;break;}
current=state.blocks.parents.get(current);}while(current);return hasParent;}
return true;};const canInsertBlockTypeUnmemoized=(state,blockName,rootClientId=null)=>{if(!isBlockVisibleInTheInserter(state,blockName,rootClientId)){return false;}
let blockType;if(blockName&&'object'===typeof blockName){blockType=blockName;blockName=blockType.name;}else{blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);}
const isLocked=!!getTemplateLock(state,rootClientId);if(isLocked){return false;}
const _isSectionBlock=!!isSectionBlock(state,rootClientId);if(_isSectionBlock){return false;}
if(getBlockEditingMode(state,rootClientId!==null&&rootClientId!==void 0?rootClientId:'')==='disabled'){return false;}
const parentBlockListSettings=getBlockListSettings(state,rootClientId);if(rootClientId&&parentBlockListSettings===undefined){return false;}
const parentName=getBlockName(state,rootClientId);const parentBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(parentName);const parentAllowedChildBlocks=parentBlockType?.allowedBlocks;let hasParentAllowedBlock=checkAllowList(parentAllowedChildBlocks,blockName);if(hasParentAllowedBlock!==false){const parentAllowedBlocks=parentBlockListSettings?.allowedBlocks;const hasParentListAllowedBlock=checkAllowList(parentAllowedBlocks,blockName);if(hasParentListAllowedBlock!==null){hasParentAllowedBlock=hasParentListAllowedBlock;}}
const blockAllowedParentBlocks=blockType.parent;const hasBlockAllowedParent=checkAllowList(blockAllowedParentBlocks,parentName);let hasBlockAllowedAncestor=true;const blockAllowedAncestorBlocks=blockType.ancestor;if(blockAllowedAncestorBlocks){const ancestors=[rootClientId,...getBlockParents(state,rootClientId)];hasBlockAllowedAncestor=ancestors.some(ancestorClientId=>checkAllowList(blockAllowedAncestorBlocks,getBlockName(state,ancestorClientId)));}
const canInsert=hasBlockAllowedAncestor&&(hasParentAllowedBlock===null&&hasBlockAllowedParent===null||hasParentAllowedBlock===true||hasBlockAllowedParent===true);if(!canInsert){return canInsert;}
return(0,external_wp_hooks_namespaceObject.applyFilters)('blockEditor.__unstableCanInsertBlockType',canInsert,blockType,rootClientId,{getBlock:getBlock.bind(null,state),getBlockParentsByBlockName:getBlockParentsByBlockName.bind(null,state)});};const canInsertBlockType=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)(canInsertBlockTypeUnmemoized,(state,blockName,rootClientId)=>getInsertBlockTypeDependants(select)(state,rootClientId)));function canInsertBlocks(state,clientIds,rootClientId=null){return clientIds.every(id=>canInsertBlockType(state,getBlockName(state,id),rootClientId));}
function canRemoveBlock(state,clientId){const attributes=getBlockAttributes(state,clientId);if(attributes===null){return true;}
if(attributes.lock?.remove!==undefined){return!attributes.lock.remove;}
const rootClientId=getBlockRootClientId(state,clientId);if(getTemplateLock(state,rootClientId)){return false;}
const isBlockWithinSection=!!getParentSectionBlock(state,clientId);if(isBlockWithinSection){return false;}
return getBlockEditingMode(state,rootClientId)!=='disabled';}
function canRemoveBlocks(state,clientIds){return clientIds.every(clientId=>canRemoveBlock(state,clientId));}
function canMoveBlock(state,clientId){const attributes=getBlockAttributes(state,clientId);if(attributes===null){return true;}
if(attributes.lock?.move!==undefined){return!attributes.lock.move;}
const rootClientId=getBlockRootClientId(state,clientId);if(getTemplateLock(state,rootClientId)==='all'){return false;}
return getBlockEditingMode(state,rootClientId)!=='disabled';}
function canMoveBlocks(state,clientIds){return clientIds.every(clientId=>canMoveBlock(state,clientId));}
function canEditBlock(state,clientId){const attributes=getBlockAttributes(state,clientId);if(attributes===null){return true;}
const{lock}=attributes;return!lock?.edit;}
function canLockBlockType(state,nameOrType){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,'lock',true)){return false;}
return!!state.settings?.canLockBlocks;}
function getInsertUsage(state,id){var _state$preferences$in;return(_state$preferences$in=state.preferences.insertUsage?.[id])!==null&&_state$preferences$in!==void 0?_state$preferences$in:null;}
const canIncludeBlockTypeInInserter=(state,blockType,rootClientId)=>{if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'inserter',true)){return false;}
return canInsertBlockTypeUnmemoized(state,blockType.name,rootClientId);};const getItemFromVariation=(state,item)=>variation=>{const variationId=`${item.id}/${variation.name}`;const{time,count=0}=getInsertUsage(state,variationId)||{};return{...item,id:variationId,icon:variation.icon||item.icon,title:variation.title||item.title,description:variation.description||item.description,category:variation.category||item.category,example:variation.hasOwnProperty('example')?variation.example:item.example,initialAttributes:{...item.initialAttributes,...variation.attributes},innerBlocks:variation.innerBlocks,keywords:variation.keywords||item.keywords,frecency:calculateFrecency(time,count)};};const calculateFrecency=(time,count)=>{if(!time){return count;}
const duration=Date.now()-time;switch(true){case duration<MILLISECONDS_PER_HOUR:return count*4;case duration<MILLISECONDS_PER_DAY:return count*2;case duration<MILLISECONDS_PER_WEEK:return count / 2;default:return count / 4;}};const buildBlockTypeItem=(state,{buildScope='inserter'})=>blockType=>{const id=blockType.name;let isDisabled=false;if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType.name,'multiple',true)){isDisabled=getBlocksByClientId(state,getClientIdsWithDescendants(state)).some(({name})=>name===blockType.name);}
const{time,count=0}=getInsertUsage(state,id)||{};const blockItemBase={id,name:blockType.name,title:blockType.title,icon:blockType.icon,isDisabled,frecency:calculateFrecency(time,count)};if(buildScope==='transform'){return blockItemBase;}
const inserterVariations=(0,external_wp_blocks_namespaceObject.getBlockVariations)(blockType.name,'inserter');return{...blockItemBase,initialAttributes:{},description:blockType.description,category:blockType.category,keywords:blockType.keywords,parent:blockType.parent,ancestor:blockType.ancestor,variations:inserterVariations,example:blockType.example,utility:1};};const getInserterItems=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,rootClientId=null,options=DEFAULT_INSERTER_OPTIONS)=>{const buildReusableBlockInserterItem=reusableBlock=>{const icon=!reusableBlock.wp_pattern_sync_status?{src:library_symbol,foreground:'var(--wp-block-synced-color)'}:library_symbol;const id=`core/block/${reusableBlock.id}`;const{time,count=0}=getInsertUsage(state,id)||{};const frecency=calculateFrecency(time,count);return{id,name:'core/block',initialAttributes:{ref:reusableBlock.id},title:reusableBlock.title?.raw,icon,category:'reusable',keywords:['reusable'],isDisabled:false,utility:1,frecency,content:reusableBlock.content?.raw,syncStatus:reusableBlock.wp_pattern_sync_status};};const syncedPatternInserterItems=canInsertBlockTypeUnmemoized(state,'core/block',rootClientId)?unlock(select(STORE_NAME)).getReusableBlocks().map(buildReusableBlockInserterItem):[];const buildBlockTypeInserterItem=buildBlockTypeItem(state,{buildScope:'inserter'});let blockTypeInserterItems=(0,external_wp_blocks_namespaceObject.getBlockTypes)().filter(blockType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'inserter',true)).map(buildBlockTypeInserterItem);if(options[isFiltered]!==false){blockTypeInserterItems=blockTypeInserterItems.filter(blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId));}else{blockTypeInserterItems=blockTypeInserterItems.filter(blockType=>isBlockVisibleInTheInserter(state,blockType,rootClientId)).map(blockType=>({...blockType,isAllowedInCurrentRoot:canIncludeBlockTypeInInserter(state,blockType,rootClientId)}));}
const items=blockTypeInserterItems.reduce((accumulator,item)=>{const{variations=[]}=item;if(!variations.some(({isDefault})=>isDefault)){accumulator.push(item);}
if(variations.length){const variationMapper=getItemFromVariation(state,item);accumulator.push(...variations.map(variationMapper));}
return accumulator;},[]);const groupByType=(blocks,block)=>{const{core,noncore}=blocks;const type=block.name.startsWith('core/')?core:noncore;type.push(block);return blocks;};const{core:coreItems,noncore:nonCoreItems}=items.reduce(groupByType,{core:[],noncore:[]});const sortedBlockTypes=[...coreItems,...nonCoreItems];return[...sortedBlockTypes,...syncedPatternInserterItems];},(state,rootClientId)=>[(0,external_wp_blocks_namespaceObject.getBlockTypes)(),unlock(select(STORE_NAME)).getReusableBlocks(),state.blocks.order,state.preferences.insertUsage,...getInsertBlockTypeDependants(select)(state,rootClientId)]));const getBlockTransformItems=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,blocks,rootClientId=null)=>{const normalizedBlocks=Array.isArray(blocks)?blocks:[blocks];const buildBlockTypeTransformItem=buildBlockTypeItem(state,{buildScope:'transform'});const blockTypeTransformItems=(0,external_wp_blocks_namespaceObject.getBlockTypes)().filter(blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId)).map(buildBlockTypeTransformItem);const itemsByName=Object.fromEntries(Object.entries(blockTypeTransformItems).map(([,value])=>[value.name,value]));const possibleTransforms=(0,external_wp_blocks_namespaceObject.getPossibleBlockTransformations)(normalizedBlocks).reduce((accumulator,block)=>{if(itemsByName[block?.name]){accumulator.push(itemsByName[block.name]);}
return accumulator;},[]);return orderBy(possibleTransforms,block=>itemsByName[block.name].frecency,'desc');},(state,blocks,rootClientId)=>[(0,external_wp_blocks_namespaceObject.getBlockTypes)(),state.preferences.insertUsage,...getInsertBlockTypeDependants(select)(state,rootClientId)]));const hasInserterItems=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,rootClientId=null)=>{const hasBlockType=(0,external_wp_blocks_namespaceObject.getBlockTypes)().some(blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId));if(hasBlockType){return true;}
const hasReusableBlock=canInsertBlockTypeUnmemoized(state,'core/block',rootClientId)&&unlock(select(STORE_NAME)).getReusableBlocks().length>0;return hasReusableBlock;});const getAllowedBlocks=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,rootClientId=null)=>{if(!rootClientId){return;}
const blockTypes=(0,external_wp_blocks_namespaceObject.getBlockTypes)().filter(blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId));const hasReusableBlock=canInsertBlockTypeUnmemoized(state,'core/block',rootClientId)&&unlock(select(STORE_NAME)).getReusableBlocks().length>0;if(hasReusableBlock){blockTypes.push('core/block');}
return blockTypes;},(state,rootClientId)=>[(0,external_wp_blocks_namespaceObject.getBlockTypes)(),unlock(select(STORE_NAME)).getReusableBlocks(),...getInsertBlockTypeDependants(select)(state,rootClientId)]));const __experimentalGetAllowedBlocks=(0,external_wp_data_namespaceObject.createSelector)((state,rootClientId=null)=>{external_wp_deprecated_default()('wp.data.select( "core/block-editor" ).__experimentalGetAllowedBlocks',{alternative:'wp.data.select( "core/block-editor" ).getAllowedBlocks',since:'6.2',version:'6.4'});return getAllowedBlocks(state,rootClientId);},(state,rootClientId)=>getAllowedBlocks.getDependants(state,rootClientId));function getDirectInsertBlock(state,rootClientId=null){var _state$blockListSetti;if(!rootClientId){return;}
const{defaultBlock,directInsert}=(_state$blockListSetti=state.blockListSettings[rootClientId])!==null&&_state$blockListSetti!==void 0?_state$blockListSetti:{};if(!defaultBlock||!directInsert){return;}
return defaultBlock;}
function __experimentalGetDirectInsertBlock(state,rootClientId=null){external_wp_deprecated_default()('wp.data.select( "core/block-editor" ).__experimentalGetDirectInsertBlock',{alternative:'wp.data.select( "core/block-editor" ).getDirectInsertBlock',since:'6.3',version:'6.4'});return getDirectInsertBlock(state,rootClientId);}
const __experimentalGetParsedPattern=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,patternName)=>{const pattern=unlock(select(STORE_NAME)).getPatternBySlug(patternName);return pattern?getParsedPattern(pattern):null;});const getAllowedPatternsDependants=select=>(state,rootClientId)=>[...getAllPatternsDependants(select)(state),...getInsertBlockTypeDependants(select)(state,rootClientId)];const patternsWithParsedBlocks=new WeakMap();function enhancePatternWithParsedBlocks(pattern){let enhancedPattern=patternsWithParsedBlocks.get(pattern);if(!enhancedPattern){enhancedPattern={...pattern,get blocks(){return getParsedPattern(pattern).blocks;}};patternsWithParsedBlocks.set(pattern,enhancedPattern);}
return enhancedPattern;}
const __experimentalGetAllowedPatterns=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>{return(0,external_wp_data_namespaceObject.createSelector)((state,rootClientId=null,options=DEFAULT_INSERTER_OPTIONS)=>{const{getAllPatterns}=unlock(select(STORE_NAME));const patterns=getAllPatterns();const{allowedBlockTypes}=getSettings(state);const parsedPatterns=patterns.filter(({inserter=true})=>!!inserter).map(enhancePatternWithParsedBlocks);const availableParsedPatterns=parsedPatterns.filter(pattern=>checkAllowListRecursive(getGrammar(pattern),allowedBlockTypes));const patternsAllowed=availableParsedPatterns.filter(pattern=>getGrammar(pattern).every(({blockName:name})=>options[isFiltered]!==false?canInsertBlockType(state,name,rootClientId):isBlockVisibleInTheInserter(state,name,rootClientId)));return patternsAllowed;},getAllowedPatternsDependants(select));});const getPatternsByBlockTypes=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,blockNames,rootClientId=null)=>{if(!blockNames){return selectors_EMPTY_ARRAY;}
const patterns=select(STORE_NAME).__experimentalGetAllowedPatterns(rootClientId);const normalizedBlockNames=Array.isArray(blockNames)?blockNames:[blockNames];const filteredPatterns=patterns.filter(pattern=>pattern?.blockTypes?.some?.(blockName=>normalizedBlockNames.includes(blockName)));if(filteredPatterns.length===0){return selectors_EMPTY_ARRAY;}
return filteredPatterns;},(state,blockNames,rootClientId)=>getAllowedPatternsDependants(select)(state,rootClientId)));const __experimentalGetPatternsByBlockTypes=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>{external_wp_deprecated_default()('wp.data.select( "core/block-editor" ).__experimentalGetPatternsByBlockTypes',{alternative:'wp.data.select( "core/block-editor" ).getPatternsByBlockTypes',since:'6.2',version:'6.4'});return select(STORE_NAME).getPatternsByBlockTypes;});const __experimentalGetPatternTransformItems=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,blocks,rootClientId=null)=>{if(!blocks){return selectors_EMPTY_ARRAY;}
if(blocks.some(({clientId,innerBlocks})=>innerBlocks.length||areInnerBlocksControlled(state,clientId))){return selectors_EMPTY_ARRAY;}
const selectedBlockNames=Array.from(new Set(blocks.map(({name})=>name)));return select(STORE_NAME).getPatternsByBlockTypes(selectedBlockNames,rootClientId);},(state,blocks,rootClientId)=>getAllowedPatternsDependants(select)(state,rootClientId)));function getBlockListSettings(state,clientId){return state.blockListSettings[clientId];}
function getSettings(state){return state.settings;}
function isLastBlockChangePersistent(state){return state.blocks.isPersistentChange;}
const __experimentalGetBlockListSettingsForBlocks=(0,external_wp_data_namespaceObject.createSelector)((state,clientIds=[])=>{return clientIds.reduce((blockListSettingsForBlocks,clientId)=>{if(!state.blockListSettings[clientId]){return blockListSettingsForBlocks;}
return{...blockListSettingsForBlocks,[clientId]:state.blockListSettings[clientId]};},{});},state=>[state.blockListSettings]);const __experimentalGetReusableBlockTitle=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(0,external_wp_data_namespaceObject.createSelector)((state,ref)=>{external_wp_deprecated_default()("wp.data.select( 'core/block-editor' ).__experimentalGetReusableBlockTitle",{since:'6.6',version:'6.8'});const reusableBlock=unlock(select(STORE_NAME)).getReusableBlocks().find(block=>block.id===ref);if(!reusableBlock){return null;}
return reusableBlock.title?.raw;},()=>[unlock(select(STORE_NAME)).getReusableBlocks()]));function __unstableIsLastBlockChangeIgnored(state){return state.blocks.isIgnoredChange;}
function __experimentalGetLastBlockAttributeChanges(state){return state.lastBlockAttributesChange;}
function isNavigationMode(state){return __unstableGetEditorMode(state)==='navigation';}
const __unstableGetEditorMode=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{var _state$settings$edito;if(!window?.__experimentalEditorWriteMode){return'edit';}
return(_state$settings$edito=state.settings.editorTool)!==null&&_state$settings$edito!==void 0?_state$settings$edito:select(external_wp_preferences_namespaceObject.store).get('core','editorTool');});function hasBlockMovingClientId(){external_wp_deprecated_default()('wp.data.select( "core/block-editor" ).hasBlockMovingClientId',{since:'6.7',hint:'Block moving mode feature has been removed'});return false;}
function didAutomaticChange(state){return!!state.automaticChangeStatus;}
function isBlockHighlighted(state,clientId){return state.highlightedBlock===clientId;}
function areInnerBlocksControlled(state,clientId){return!!state.blocks.controlledInnerBlocks[clientId];}
const __experimentalGetActiveBlockIdByBlockNames=(0,external_wp_data_namespaceObject.createSelector)((state,validBlockNames)=>{if(!validBlockNames.length){return null;}
const selectedBlockClientId=getSelectedBlockClientId(state);if(validBlockNames.includes(getBlockName(state,selectedBlockClientId))){return selectedBlockClientId;}
const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state);const entityAreaParents=getBlockParentsByBlockName(state,selectedBlockClientId||multiSelectedBlockClientIds[0],validBlockNames);if(entityAreaParents){return entityAreaParents[entityAreaParents.length-1];}
return null;},(state,validBlockNames)=>[state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId,validBlockNames]);function wasBlockJustInserted(state,clientId,source){const{lastBlockInserted}=state;return lastBlockInserted.clientIds?.includes(clientId)&&lastBlockInserted.source===source;}
function isBlockVisible(state,clientId){var _state$blockVisibilit;return(_state$blockVisibilit=state.blockVisibility?.[clientId])!==null&&_state$blockVisibilit!==void 0?_state$blockVisibilit:true;}
function getHoveredBlockClientId(state){return state.hoveredBlockClientId;}
const __unstableGetVisibleBlocks=(0,external_wp_data_namespaceObject.createSelector)(state=>{const visibleBlocks=new Set(Object.keys(state.blockVisibility).filter(key=>state.blockVisibility[key]));if(visibleBlocks.size===0){return EMPTY_SET;}
return visibleBlocks;},state=>[state.blockVisibility]);function __unstableHasActiveBlockOverlayActive(state,clientId){if(getBlockEditingMode(state,clientId)!=='default'){return false;}
if(!canEditBlock(state,clientId)){return true;}
if(isZoomOut(state)){const sectionRootClientId=getSectionRootClientId(state);if(sectionRootClientId){const sectionClientIds=getBlockOrder(state,sectionRootClientId);if(sectionClientIds?.includes(clientId)){return true;}}else if(clientId&&!getBlockRootClientId(state,clientId)){return true;}}
const blockSupportDisable=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(getBlockName(state,clientId),'__experimentalDisableBlockOverlay',false);const shouldEnableIfUnselected=blockSupportDisable?false:areInnerBlocksControlled(state,clientId);return shouldEnableIfUnselected&&!isBlockSelected(state,clientId)&&!hasSelectedInnerBlock(state,clientId,true);}
function __unstableIsWithinBlockOverlay(state,clientId){let parent=state.blocks.parents.get(clientId);while(!!parent){if(__unstableHasActiveBlockOverlayActive(state,parent)){return true;}
parent=state.blocks.parents.get(parent);}
return false;}
const getBlockEditingMode=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,clientId='')=>{if(clientId===null){clientId='';}
const isNavMode=isNavigationMode(state);if(!isNavMode&&state.derivedBlockEditingModes?.has(clientId)){return state.derivedBlockEditingModes.get(clientId);}
if(isNavMode&&state.derivedNavModeBlockEditingModes?.has(clientId)){return state.derivedNavModeBlockEditingModes.get(clientId);}
const blockEditingMode=state.blockEditingModes.get(clientId);if(blockEditingMode){return blockEditingMode;}
if(clientId===''){return'default';}
const rootClientId=getBlockRootClientId(state,clientId);const templateLock=getTemplateLock(state,rootClientId);if(templateLock==='contentOnly'){const name=getBlockName(state,clientId);const{hasContentRoleAttribute}=unlock(select(external_wp_blocks_namespaceObject.store));const isContent=hasContentRoleAttribute(name);return isContent?'contentOnly':'disabled';}
return'default';});const isUngroupable=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,clientId='')=>{const _clientId=clientId||getSelectedBlockClientId(state);if(!_clientId){return false;}
const{getGroupingBlockName}=select(external_wp_blocks_namespaceObject.store);const block=getBlock(state,_clientId);const groupingBlockName=getGroupingBlockName();const _isUngroupable=block&&(block.name===groupingBlockName||(0,external_wp_blocks_namespaceObject.getBlockType)(block.name)?.transforms?.ungroup)&&!!block.innerBlocks.length;return _isUngroupable&&canRemoveBlock(state,_clientId);});const isGroupable=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,clientIds=selectors_EMPTY_ARRAY)=>{const{getGroupingBlockName}=select(external_wp_blocks_namespaceObject.store);const groupingBlockName=getGroupingBlockName();const _clientIds=clientIds?.length?clientIds:getSelectedBlockClientIds(state);const rootClientId=_clientIds?.length?getBlockRootClientId(state,_clientIds[0]):undefined;const groupingBlockAvailable=canInsertBlockType(state,groupingBlockName,rootClientId);const _isGroupable=groupingBlockAvailable&&_clientIds.length;return _isGroupable&&canRemoveBlocks(state,_clientIds);});const __unstableGetContentLockingParent=(state,clientId)=>{external_wp_deprecated_default()("wp.data.select( 'core/block-editor' ).__unstableGetContentLockingParent",{since:'6.1',version:'6.7'});return getContentLockingParent(state,clientId);};function __unstableGetTemporarilyEditingAsBlocks(state){external_wp_deprecated_default()("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingAsBlocks",{since:'6.1',version:'6.7'});return getTemporarilyEditingAsBlocks(state);}
function __unstableGetTemporarilyEditingFocusModeToRevert(state){external_wp_deprecated_default()("wp.data.select( 'core/block-editor' ).__unstableGetTemporarilyEditingFocusModeToRevert",{since:'6.5',version:'6.7'});return getTemporarilyEditingFocusModeToRevert(state);};const external_wp_a11y_namespaceObject=window["wp"]["a11y"];;const castArray=maybeArray=>Array.isArray(maybeArray)?maybeArray:[maybeArray];const privateSettings=['inserterMediaCategories','blockInspectorAnimation','mediaSideload'];function __experimentalUpdateSettings(settings,{stripExperimentalSettings=false,reset=false}={}){let incomingSettings=settings;if(Object.hasOwn(incomingSettings,'__unstableIsPreviewMode')){external_wp_deprecated_default()("__unstableIsPreviewMode argument in wp.data.dispatch('core/block-editor').updateSettings",{since:'6.8',alternative:'isPreviewMode'});incomingSettings={...incomingSettings};incomingSettings.isPreviewMode=incomingSettings.__unstableIsPreviewMode;delete incomingSettings.__unstableIsPreviewMode;}
let cleanSettings=incomingSettings;if(stripExperimentalSettings&&external_wp_element_namespaceObject.Platform.OS==='web'){cleanSettings={};for(const key in incomingSettings){if(!privateSettings.includes(key)){cleanSettings[key]=incomingSettings[key];}}}
return{type:'UPDATE_SETTINGS',settings:cleanSettings,reset};}
function hideBlockInterface(){return{type:'HIDE_BLOCK_INTERFACE'};}
function showBlockInterface(){return{type:'SHOW_BLOCK_INTERFACE'};}
const privateRemoveBlocks=(clientIds,selectPrevious=true,forceRemove=false)=>({select,dispatch,registry})=>{if(!clientIds||!clientIds.length){return;}
clientIds=castArray(clientIds);const canRemoveBlocks=select.canRemoveBlocks(clientIds);if(!canRemoveBlocks){return;}
const rules=!forceRemove&&select.getBlockRemovalRules();if(rules){function flattenBlocks(blocks){const result=[];const stack=[...blocks];while(stack.length){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks);result.push(block);}
return result;}
const blockList=clientIds.map(select.getBlock);const flattenedBlocks=flattenBlocks(blockList);let message;for(const rule of rules){message=rule.callback(flattenedBlocks);if(message){dispatch(displayBlockRemovalPrompt(clientIds,selectPrevious,message));return;}}}
if(selectPrevious){dispatch.selectPreviousBlock(clientIds[0],selectPrevious);}
registry.batch(()=>{dispatch({type:'REMOVE_BLOCKS',clientIds});dispatch(ensureDefaultBlock());});};const ensureDefaultBlock=()=>({select,dispatch})=>{const count=select.getBlockCount();if(count>0){return;}
const{__unstableHasCustomAppender}=select.getSettings();if(__unstableHasCustomAppender){return;}
dispatch.insertDefaultBlock();};function displayBlockRemovalPrompt(clientIds,selectPrevious,message){return{type:'DISPLAY_BLOCK_REMOVAL_PROMPT',clientIds,selectPrevious,message};}
function clearBlockRemovalPrompt(){return{type:'CLEAR_BLOCK_REMOVAL_PROMPT'};}
function setBlockRemovalRules(rules=false){return{type:'SET_BLOCK_REMOVAL_RULES',rules};}
function setOpenedBlockSettingsMenu(clientId){return{type:'SET_OPENED_BLOCK_SETTINGS_MENU',clientId};}
function setStyleOverride(id,style){return{type:'SET_STYLE_OVERRIDE',id,style};}
function deleteStyleOverride(id){return{type:'DELETE_STYLE_OVERRIDE',id};}
function setLastFocus(lastFocus=null){return{type:'LAST_FOCUS',lastFocus};}
function stopEditingAsBlocks(clientId){return({select,dispatch,registry})=>{const focusModeToRevert=unlock(registry.select(store)).getTemporarilyEditingFocusModeToRevert();dispatch.__unstableMarkNextChangeAsNotPersistent();dispatch.updateBlockAttributes(clientId,{templateLock:'contentOnly'});dispatch.updateBlockListSettings(clientId,{...select.getBlockListSettings(clientId),templateLock:'contentOnly'});dispatch.updateSettings({focusMode:focusModeToRevert});dispatch.__unstableSetTemporarilyEditingAsBlocks();};}
function startDragging(){return{type:'START_DRAGGING'};}
function stopDragging(){return{type:'STOP_DRAGGING'};}
function expandBlock(clientId){return{type:'SET_BLOCK_EXPANDED_IN_LIST_VIEW',clientId};}
function setInsertionPoint(value){return{type:'SET_INSERTION_POINT',value};}
const modifyContentLockBlock=clientId=>({select,dispatch})=>{dispatch.selectBlock(clientId);dispatch.__unstableMarkNextChangeAsNotPersistent();dispatch.updateBlockAttributes(clientId,{templateLock:undefined});dispatch.updateBlockListSettings(clientId,{...select.getBlockListSettings(clientId),templateLock:false});const focusModeToRevert=select.getSettings().focusMode;dispatch.updateSettings({focusMode:true});dispatch.__unstableSetTemporarilyEditingAsBlocks(clientId,focusModeToRevert);};const setZoomLevel=(zoom=100)=>({select,dispatch})=>{if(zoom!==100){const firstSelectedClientId=select.getBlockSelectionStart();const sectionRootClientId=select.getSectionRootClientId();if(firstSelectedClientId){let sectionClientId;if(sectionRootClientId){const sectionClientIds=select.getBlockOrder(sectionRootClientId);if(sectionClientIds?.includes(firstSelectedClientId)){sectionClientId=firstSelectedClientId;}else{sectionClientId=select.getBlockParents(firstSelectedClientId).find(parent=>sectionClientIds.includes(parent));}}else{sectionClientId=select.getBlockHierarchyRootClientId(firstSelectedClientId);}
if(sectionClientId){dispatch.selectBlock(sectionClientId);}else{dispatch.clearSelectedBlock();}
(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('You are currently in zoom-out mode.'));}}
dispatch({type:'SET_ZOOM_LEVEL',zoom});};function resetZoomLevel(){return{type:'RESET_ZOOM_LEVEL'};};const external_wp_notices_namespaceObject=window["wp"]["notices"];;const START_OF_SELECTED_AREA='\u0086';function retrieveSelectedAttribute(blockAttributes){if(!blockAttributes){return;}
return Object.keys(blockAttributes).find(name=>{const value=blockAttributes[name];return(typeof value==='string'||value instanceof external_wp_richText_namespaceObject.RichTextData)&&value.toString().indexOf(START_OF_SELECTED_AREA)!==-1;});}
function findRichTextAttributeKey(blockType){for(const[key,value]of Object.entries(blockType.attributes)){if(value.source==='rich-text'||value.source==='html'){return key;}}};const actions_castArray=maybeArray=>Array.isArray(maybeArray)?maybeArray:[maybeArray];const resetBlocks=blocks=>({dispatch})=>{dispatch({type:'RESET_BLOCKS',blocks});dispatch(validateBlocksToTemplate(blocks));};const validateBlocksToTemplate=blocks=>({select,dispatch})=>{const template=select.getTemplate();const templateLock=select.getTemplateLock();const isBlocksValidToTemplate=!template||templateLock!=='all'||(0,external_wp_blocks_namespaceObject.doBlocksMatchTemplate)(blocks,template);const isValidTemplate=select.isValidTemplate();if(isBlocksValidToTemplate!==isValidTemplate){dispatch.setTemplateValidity(isBlocksValidToTemplate);return isBlocksValidToTemplate;}};function resetSelection(selectionStart,selectionEnd,initialPosition){return{type:'RESET_SELECTION',selectionStart,selectionEnd,initialPosition};}
function receiveBlocks(blocks){external_wp_deprecated_default()('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:'5.9',alternative:'resetBlocks or insertBlocks'});return{type:'RECEIVE_BLOCKS',blocks};}
function updateBlockAttributes(clientIds,attributes,uniqueByBlock=false){return{type:'UPDATE_BLOCK_ATTRIBUTES',clientIds:actions_castArray(clientIds),attributes,uniqueByBlock};}
function updateBlock(clientId,updates){return{type:'UPDATE_BLOCK',clientId,updates};}
function selectBlock(clientId,initialPosition=0){return{type:'SELECT_BLOCK',initialPosition,clientId};}
function hoverBlock(clientId){return{type:'HOVER_BLOCK',clientId};}
const selectPreviousBlock=(clientId,fallbackToParent=false)=>({select,dispatch})=>{const previousBlockClientId=select.getPreviousBlockClientId(clientId);if(previousBlockClientId){dispatch.selectBlock(previousBlockClientId,-1);}else if(fallbackToParent){const firstParentClientId=select.getBlockRootClientId(clientId);if(firstParentClientId){dispatch.selectBlock(firstParentClientId,-1);}}};const selectNextBlock=clientId=>({select,dispatch})=>{const nextBlockClientId=select.getNextBlockClientId(clientId);if(nextBlockClientId){dispatch.selectBlock(nextBlockClientId);}};function startMultiSelect(){return{type:'START_MULTI_SELECT'};}
function stopMultiSelect(){return{type:'STOP_MULTI_SELECT'};}
const multiSelect=(start,end,__experimentalInitialPosition=0)=>({select,dispatch})=>{const startBlockRootClientId=select.getBlockRootClientId(start);const endBlockRootClientId=select.getBlockRootClientId(end);if(startBlockRootClientId!==endBlockRootClientId){return;}
dispatch({type:'MULTI_SELECT',start,end,initialPosition:__experimentalInitialPosition});const blockCount=select.getSelectedBlockCount();(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%s block selected.','%s blocks selected.',blockCount),blockCount),'assertive');};function clearSelectedBlock(){return{type:'CLEAR_SELECTED_BLOCK'};}
function toggleSelection(isSelectionEnabled=true){return{type:'TOGGLE_SELECTION',isSelectionEnabled};}
const replaceBlocks=(clientIds,blocks,indexToSelect,initialPosition=0,meta)=>({select,dispatch,registry})=>{clientIds=actions_castArray(clientIds);blocks=actions_castArray(blocks);const rootClientId=select.getBlockRootClientId(clientIds[0]);for(let index=0;index<blocks.length;index++){const block=blocks[index];const canInsertBlock=select.canInsertBlockType(block.name,rootClientId);if(!canInsertBlock){return;}}
registry.batch(()=>{dispatch({type:'REPLACE_BLOCKS',clientIds,blocks,time:Date.now(),indexToSelect,initialPosition,meta});dispatch.ensureDefaultBlock();});};function replaceBlock(clientId,block){return replaceBlocks(clientId,block);}
const createOnMove=type=>(clientIds,rootClientId)=>({select,dispatch})=>{const canMoveBlocks=select.canMoveBlocks(clientIds);if(!canMoveBlocks){return;}
dispatch({type,clientIds:actions_castArray(clientIds),rootClientId});};const moveBlocksDown=createOnMove('MOVE_BLOCKS_DOWN');const moveBlocksUp=createOnMove('MOVE_BLOCKS_UP');const moveBlocksToPosition=(clientIds,fromRootClientId='',toRootClientId='',index)=>({select,dispatch})=>{const canMoveBlocks=select.canMoveBlocks(clientIds);if(!canMoveBlocks){return;}
if(fromRootClientId!==toRootClientId){const canRemoveBlocks=select.canRemoveBlocks(clientIds);if(!canRemoveBlocks){return;}
const canInsertBlocks=select.canInsertBlocks(clientIds,toRootClientId);if(!canInsertBlocks){return;}}
dispatch({type:'MOVE_BLOCKS_TO_POSITION',fromRootClientId,toRootClientId,clientIds,index});};function moveBlockToPosition(clientId,fromRootClientId='',toRootClientId='',index){return moveBlocksToPosition([clientId],fromRootClientId,toRootClientId,index);}
function insertBlock(block,index,rootClientId,updateSelection,meta){return insertBlocks([block],index,rootClientId,updateSelection,0,meta);}
const insertBlocks=(blocks,index,rootClientId,updateSelection=true,initialPosition=0,meta)=>({select,dispatch})=>{if(initialPosition!==null&&typeof initialPosition==='object'){meta=initialPosition;initialPosition=0;external_wp_deprecated_default()("meta argument in wp.data.dispatch('core/block-editor')",{since:'5.8',hint:'The meta argument is now the 6th argument of the function'});}
blocks=actions_castArray(blocks);const allowedBlocks=[];for(const block of blocks){const isValid=select.canInsertBlockType(block.name,rootClientId);if(isValid){allowedBlocks.push(block);}}
if(allowedBlocks.length){dispatch({type:'INSERT_BLOCKS',blocks:allowedBlocks,index,rootClientId,time:Date.now(),updateSelection,initialPosition:updateSelection?initialPosition:null,meta});}};function showInsertionPoint(rootClientId,index,__unstableOptions={}){const{__unstableWithInserter,operation,nearestSide}=__unstableOptions;return{type:'SHOW_INSERTION_POINT',rootClientId,index,__unstableWithInserter,operation,nearestSide};}
const hideInsertionPoint=()=>({select,dispatch})=>{if(!select.isBlockInsertionPointVisible()){return;}
dispatch({type:'HIDE_INSERTION_POINT'});};function setTemplateValidity(isValid){return{type:'SET_TEMPLATE_VALIDITY',isValid};}
const synchronizeTemplate=()=>({select,dispatch})=>{dispatch({type:'SYNCHRONIZE_TEMPLATE'});const blocks=select.getBlocks();const template=select.getTemplate();const updatedBlockList=(0,external_wp_blocks_namespaceObject.synchronizeBlocksWithTemplate)(blocks,template);dispatch.resetBlocks(updatedBlockList);};const __unstableDeleteSelection=isForward=>({registry,select,dispatch})=>{const selectionAnchor=select.getSelectionStart();const selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId){return;}
if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined'){return false;}
const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);const focusRootClientId=select.getBlockRootClientId(selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return;}
const blockOrder=select.getBlockOrder(anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);let selectionStart,selectionEnd;if(anchorIndex>focusIndex){selectionStart=selectionFocus;selectionEnd=selectionAnchor;}else{selectionStart=selectionAnchor;selectionEnd=selectionFocus;}
const targetSelection=isForward?selectionEnd:selectionStart;const targetBlock=select.getBlock(targetSelection.clientId);const targetBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(targetBlock.name);if(!targetBlockType.merge){return;}
const selectionA=selectionStart;const selectionB=selectionEnd;const blockA=select.getBlock(selectionA.clientId);const blockB=select.getBlock(selectionB.clientId);const htmlA=blockA.attributes[selectionA.attributeKey];const htmlB=blockB.attributes[selectionB.attributeKey];let valueA=(0,external_wp_richText_namespaceObject.create)({html:htmlA});let valueB=(0,external_wp_richText_namespaceObject.create)({html:htmlB});valueA=(0,external_wp_richText_namespaceObject.remove)(valueA,selectionA.offset,valueA.text.length);valueB=(0,external_wp_richText_namespaceObject.insert)(valueB,START_OF_SELECTED_AREA,0,selectionB.offset);const cloneA=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockA,{[selectionA.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueA})});const cloneB=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockB,{[selectionB.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueB})});const followingBlock=isForward?cloneA:cloneB;const blocksWithTheSameType=blockA.name===blockB.name?[followingBlock]:(0,external_wp_blocks_namespaceObject.switchToBlockType)(followingBlock,targetBlockType.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length){return;}
let updatedAttributes;if(isForward){const blockToMerge=blocksWithTheSameType.pop();updatedAttributes=targetBlockType.merge(blockToMerge.attributes,cloneB.attributes);}else{const blockToMerge=blocksWithTheSameType.shift();updatedAttributes=targetBlockType.merge(cloneA.attributes,blockToMerge.attributes);}
const newAttributeKey=retrieveSelectedAttribute(updatedAttributes);const convertedHtml=updatedAttributes[newAttributeKey];const convertedValue=(0,external_wp_richText_namespaceObject.create)({html:convertedHtml});const newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA);const newValue=(0,external_wp_richText_namespaceObject.remove)(convertedValue,newOffset,newOffset+1);const newHtml=(0,external_wp_richText_namespaceObject.toHTMLString)({value:newValue});updatedAttributes[newAttributeKey]=newHtml;const selectedBlockClientIds=select.getSelectedBlockClientIds();const replacement=[...(isForward?blocksWithTheSameType:[]),{...targetBlock,attributes:{...targetBlock.attributes,...updatedAttributes}},...(isForward?[]:blocksWithTheSameType)];registry.batch(()=>{dispatch.selectionChange(targetBlock.clientId,newAttributeKey,newOffset,newOffset);dispatch.replaceBlocks(selectedBlockClientIds,replacement,0,select.getSelectedBlocksInitialCaretPosition());});};const __unstableSplitSelection=(blocks=[])=>({registry,select,dispatch})=>{const selectionAnchor=select.getSelectionStart();const selectionFocus=select.getSelectionEnd();const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);const focusRootClientId=select.getBlockRootClientId(selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return;}
const blockOrder=select.getBlockOrder(anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);let selectionStart,selectionEnd;if(anchorIndex>focusIndex){selectionStart=selectionFocus;selectionEnd=selectionAnchor;}else{selectionStart=selectionAnchor;selectionEnd=selectionFocus;}
const selectionA=selectionStart;const selectionB=selectionEnd;const blockA=select.getBlock(selectionA.clientId);const blockB=select.getBlock(selectionB.clientId);const blockAType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockA.name);const blockBType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockB.name);const attributeKeyA=typeof selectionA.attributeKey==='string'?selectionA.attributeKey:findRichTextAttributeKey(blockAType);const attributeKeyB=typeof selectionB.attributeKey==='string'?selectionB.attributeKey:findRichTextAttributeKey(blockBType);const blockAttributes=select.getBlockAttributes(selectionA.clientId);const bindings=blockAttributes?.metadata?.bindings;if(bindings?.[attributeKeyA]){if(blocks.length){const{createWarningNotice}=registry.dispatch(external_wp_notices_namespaceObject.store);createWarningNotice((0,external_wp_i18n_namespaceObject.__)("Blocks can't be inserted into other blocks with bindings"),{type:'snackbar'});return;}
dispatch.insertAfterBlock(selectionA.clientId);return;}
if(!attributeKeyA||!attributeKeyB||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined'){return;}
if(selectionA.clientId===selectionB.clientId&&attributeKeyA===attributeKeyB&&selectionA.offset===selectionB.offset){if(blocks.length){if((0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(blockA)){dispatch.replaceBlocks([selectionA.clientId],blocks,blocks.length-1,-1);return;}}
else if(!select.getBlockOrder(selectionA.clientId).length){function createEmpty(){const defaultBlockName=(0,external_wp_blocks_namespaceObject.getDefaultBlockName)();return select.canInsertBlockType(defaultBlockName,anchorRootClientId)?(0,external_wp_blocks_namespaceObject.createBlock)(defaultBlockName):(0,external_wp_blocks_namespaceObject.createBlock)(select.getBlockName(selectionA.clientId));}
const length=blockAttributes[attributeKeyA].length;if(selectionA.offset===0&&length){dispatch.insertBlocks([createEmpty()],select.getBlockIndex(selectionA.clientId),anchorRootClientId,false);return;}
if(selectionA.offset===length){dispatch.insertBlocks([createEmpty()],select.getBlockIndex(selectionA.clientId)+1,anchorRootClientId);return;}}}
const htmlA=blockA.attributes[attributeKeyA];const htmlB=blockB.attributes[attributeKeyB];let valueA=(0,external_wp_richText_namespaceObject.create)({html:htmlA});let valueB=(0,external_wp_richText_namespaceObject.create)({html:htmlB});valueA=(0,external_wp_richText_namespaceObject.remove)(valueA,selectionA.offset,valueA.text.length);valueB=(0,external_wp_richText_namespaceObject.remove)(valueB,0,selectionB.offset);let head={...blockA,innerBlocks:blockA.clientId===blockB.clientId?[]:blockA.innerBlocks,attributes:{...blockA.attributes,[attributeKeyA]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueA})}};let tail={...blockB,clientId:blockA.clientId===blockB.clientId?(0,external_wp_blocks_namespaceObject.createBlock)(blockB.name).clientId:blockB.clientId,attributes:{...blockB.attributes,[attributeKeyB]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueB})}};const defaultBlockName=(0,external_wp_blocks_namespaceObject.getDefaultBlockName)();if(blockA.clientId===blockB.clientId&&defaultBlockName&&tail.name!==defaultBlockName&&select.canInsertBlockType(defaultBlockName,anchorRootClientId)){const switched=(0,external_wp_blocks_namespaceObject.switchToBlockType)(tail,defaultBlockName);if(switched?.length===1){tail=switched[0];}}
if(!blocks.length){dispatch.replaceBlocks(select.getSelectedBlockClientIds(),[head,tail]);return;}
let selection;const output=[];const clonedBlocks=[...blocks];const firstBlock=clonedBlocks.shift();const headType=(0,external_wp_blocks_namespaceObject.getBlockType)(head.name);const firstBlocks=headType.merge&&firstBlock.name===headType.name?[firstBlock]:(0,external_wp_blocks_namespaceObject.switchToBlockType)(firstBlock,headType.name);if(firstBlocks?.length){const first=firstBlocks.shift();head={...head,attributes:{...head.attributes,...headType.merge(head.attributes,first.attributes)}};output.push(head);selection={clientId:head.clientId,attributeKey:attributeKeyA,offset:(0,external_wp_richText_namespaceObject.create)({html:head.attributes[attributeKeyA]}).text.length};clonedBlocks.unshift(...firstBlocks);}else{if(!(0,external_wp_blocks_namespaceObject.isUnmodifiedBlock)(head)){output.push(head);}
output.push(firstBlock);}
const lastBlock=clonedBlocks.pop();const tailType=(0,external_wp_blocks_namespaceObject.getBlockType)(tail.name);if(clonedBlocks.length){output.push(...clonedBlocks);}
if(lastBlock){const lastBlocks=tailType.merge&&tailType.name===lastBlock.name?[lastBlock]:(0,external_wp_blocks_namespaceObject.switchToBlockType)(lastBlock,tailType.name);if(lastBlocks?.length){const last=lastBlocks.pop();output.push({...tail,attributes:{...tail.attributes,...tailType.merge(last.attributes,tail.attributes)}});output.push(...lastBlocks);selection={clientId:tail.clientId,attributeKey:attributeKeyB,offset:(0,external_wp_richText_namespaceObject.create)({html:last.attributes[attributeKeyB]}).text.length};}else{output.push(lastBlock);if(!(0,external_wp_blocks_namespaceObject.isUnmodifiedBlock)(tail)){output.push(tail);}}}else if(!(0,external_wp_blocks_namespaceObject.isUnmodifiedBlock)(tail)){output.push(tail);}
registry.batch(()=>{dispatch.replaceBlocks(select.getSelectedBlockClientIds(),output,output.length-1,0);if(selection){dispatch.selectionChange(selection.clientId,selection.attributeKey,selection.offset,selection.offset);}});};const __unstableExpandSelection=()=>({select,dispatch})=>{const selectionAnchor=select.getSelectionStart();const selectionFocus=select.getSelectionEnd();dispatch.selectionChange({start:{clientId:selectionAnchor.clientId},end:{clientId:selectionFocus.clientId}});};const mergeBlocks=(firstBlockClientId,secondBlockClientId)=>({registry,select,dispatch})=>{const clientIdA=firstBlockClientId;const clientIdB=secondBlockClientId;const blockA=select.getBlock(clientIdA);const blockAType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockA.name);if(!blockAType){return;}
const blockB=select.getBlock(clientIdB);if(!blockAType.merge&&(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockA.name,'__experimentalOnMerge')){const blocksWithTheSameType=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blockB,blockAType.name);if(blocksWithTheSameType?.length!==1){dispatch.selectBlock(blockA.clientId);return;}
const[blockWithSameType]=blocksWithTheSameType;if(blockWithSameType.innerBlocks.length<1){dispatch.selectBlock(blockA.clientId);return;}
registry.batch(()=>{dispatch.insertBlocks(blockWithSameType.innerBlocks,undefined,clientIdA);dispatch.removeBlock(clientIdB);dispatch.selectBlock(blockWithSameType.innerBlocks[0].clientId);const nextBlockClientId=select.getNextBlockClientId(clientIdA);if(nextBlockClientId&&select.getBlockName(clientIdA)===select.getBlockName(nextBlockClientId)){const rootAttributes=select.getBlockAttributes(clientIdA);const previousRootAttributes=select.getBlockAttributes(nextBlockClientId);if(Object.keys(rootAttributes).every(key=>rootAttributes[key]===previousRootAttributes[key])){dispatch.moveBlocksToPosition(select.getBlockOrder(nextBlockClientId),nextBlockClientId,clientIdA);dispatch.removeBlock(nextBlockClientId,false);}}});return;}
if((0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(blockA)){dispatch.removeBlock(clientIdA,select.isBlockSelected(clientIdA));return;}
if((0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(blockB)){dispatch.removeBlock(clientIdB,select.isBlockSelected(clientIdB));return;}
if(!blockAType.merge){dispatch.selectBlock(blockA.clientId);return;}
const blockBType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockB.name);const{clientId,attributeKey,offset}=select.getSelectionStart();const selectedBlockType=clientId===clientIdA?blockAType:blockBType;const attributeDefinition=selectedBlockType.attributes[attributeKey];const canRestoreTextSelection=(clientId===clientIdA||clientId===clientIdB)&&attributeKey!==undefined&&offset!==undefined&&!!attributeDefinition;if(!attributeDefinition){if(typeof attributeKey==='number'){window.console.error(`RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was ${typeof attributeKey}`);}else{window.console.error('The RichText identifier prop does not match any attributes defined by the block.');}}
const cloneA=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockA);const cloneB=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockB);if(canRestoreTextSelection){const selectedBlock=clientId===clientIdA?cloneA:cloneB;const html=selectedBlock.attributes[attributeKey];const value=(0,external_wp_richText_namespaceObject.insert)((0,external_wp_richText_namespaceObject.create)({html}),START_OF_SELECTED_AREA,offset,offset);selectedBlock.attributes[attributeKey]=(0,external_wp_richText_namespaceObject.toHTMLString)({value});}
const blocksWithTheSameType=blockA.name===blockB.name?[cloneB]:(0,external_wp_blocks_namespaceObject.switchToBlockType)(cloneB,blockA.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length){return;}
const updatedAttributes=blockAType.merge(cloneA.attributes,blocksWithTheSameType[0].attributes);if(canRestoreTextSelection){const newAttributeKey=retrieveSelectedAttribute(updatedAttributes);const convertedHtml=updatedAttributes[newAttributeKey];const convertedValue=(0,external_wp_richText_namespaceObject.create)({html:convertedHtml});const newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA);const newValue=(0,external_wp_richText_namespaceObject.remove)(convertedValue,newOffset,newOffset+1);const newHtml=(0,external_wp_richText_namespaceObject.toHTMLString)({value:newValue});updatedAttributes[newAttributeKey]=newHtml;dispatch.selectionChange(blockA.clientId,newAttributeKey,newOffset,newOffset);}
dispatch.replaceBlocks([blockA.clientId,blockB.clientId],[{...blockA,attributes:{...blockA.attributes,...updatedAttributes}},...blocksWithTheSameType.slice(1)],0);};const removeBlocks=(clientIds,selectPrevious=true)=>privateRemoveBlocks(clientIds,selectPrevious);function removeBlock(clientId,selectPrevious){return removeBlocks([clientId],selectPrevious);}
function replaceInnerBlocks(rootClientId,blocks,updateSelection=false,initialPosition=0){return{type:'REPLACE_INNER_BLOCKS',rootClientId,blocks,updateSelection,initialPosition:updateSelection?initialPosition:null,time:Date.now()};}
function toggleBlockMode(clientId){return{type:'TOGGLE_BLOCK_MODE',clientId};}
function startTyping(){return{type:'START_TYPING'};}
function stopTyping(){return{type:'STOP_TYPING'};}
function startDraggingBlocks(clientIds=[]){return{type:'START_DRAGGING_BLOCKS',clientIds};}
function stopDraggingBlocks(){return{type:'STOP_DRAGGING_BLOCKS'};}
function enterFormattedText(){external_wp_deprecated_default()('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:'6.1',version:'6.3'});return{type:'DO_NOTHING'};}
function exitFormattedText(){external_wp_deprecated_default()('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:'6.1',version:'6.3'});return{type:'DO_NOTHING'};}
function selectionChange(clientId,attributeKey,startOffset,endOffset){if(typeof clientId==='string'){return{type:'SELECTION_CHANGE',clientId,attributeKey,startOffset,endOffset};}
return{type:'SELECTION_CHANGE',...clientId};}
const insertDefaultBlock=(attributes,rootClientId,index)=>({dispatch})=>{const defaultBlockName=(0,external_wp_blocks_namespaceObject.getDefaultBlockName)();if(!defaultBlockName){return;}
const block=(0,external_wp_blocks_namespaceObject.createBlock)(defaultBlockName,attributes);return dispatch.insertBlock(block,index,rootClientId);};function updateBlockListSettings(clientId,settings){return{type:'UPDATE_BLOCK_LIST_SETTINGS',clientId,settings};}
function updateSettings(settings){return __experimentalUpdateSettings(settings,{stripExperimentalSettings:true});}
function __unstableSaveReusableBlock(id,updatedId){return{type:'SAVE_REUSABLE_BLOCK_SUCCESS',id,updatedId};}
function __unstableMarkLastChangeAsPersistent(){return{type:'MARK_LAST_CHANGE_AS_PERSISTENT'};}
function __unstableMarkNextChangeAsNotPersistent(){return{type:'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT'};}
const __unstableMarkAutomaticChange=()=>({dispatch})=>{dispatch({type:'MARK_AUTOMATIC_CHANGE'});const{requestIdleCallback=cb=>setTimeout(cb,100)}=window;requestIdleCallback(()=>{dispatch({type:'MARK_AUTOMATIC_CHANGE_FINAL'});});};const setNavigationMode=(isNavigationMode=true)=>({dispatch})=>{dispatch.__unstableSetEditorMode(isNavigationMode?'navigation':'edit');};const __unstableSetEditorMode=mode=>({registry})=>{registry.dispatch(external_wp_preferences_namespaceObject.store).set('core','editorTool',mode);if(mode==='navigation'){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('You are currently in Write mode.'));}else if(mode==='edit'){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('You are currently in Design mode.'));}};function setBlockMovingClientId(){external_wp_deprecated_default()('wp.data.dispatch( "core/block-editor" ).setBlockMovingClientId',{since:'6.7',hint:'Block moving mode feature has been removed'});return{type:'DO_NOTHING'};}
const duplicateBlocks=(clientIds,updateSelection=true)=>({select,dispatch})=>{if(!clientIds||!clientIds.length){return;}
const blocks=select.getBlocksByClientId(clientIds);if(blocks.some(block=>!block)){return;}
const blockNames=blocks.map(block=>block.name);if(blockNames.some(blockName=>!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'multiple',true))){return;}
const rootClientId=select.getBlockRootClientId(clientIds[0]);const clientIdsArray=actions_castArray(clientIds);const lastSelectedIndex=select.getBlockIndex(clientIdsArray[clientIdsArray.length-1]);const clonedBlocks=blocks.map(block=>(0,external_wp_blocks_namespaceObject.__experimentalCloneSanitizedBlock)(block));dispatch.insertBlocks(clonedBlocks,lastSelectedIndex+1,rootClientId,updateSelection);if(clonedBlocks.length>1&&updateSelection){dispatch.multiSelect(clonedBlocks[0].clientId,clonedBlocks[clonedBlocks.length-1].clientId);}
return clonedBlocks.map(block=>block.clientId);};const insertBeforeBlock=clientId=>({select,dispatch})=>{if(!clientId){return;}
const rootClientId=select.getBlockRootClientId(clientId);const isLocked=select.getTemplateLock(rootClientId);if(isLocked){return;}
const blockIndex=select.getBlockIndex(clientId);const directInsertBlock=rootClientId?select.getDirectInsertBlock(rootClientId):null;if(!directInsertBlock){return dispatch.insertDefaultBlock({},rootClientId,blockIndex);}
const copiedAttributes={};if(directInsertBlock.attributesToCopy){const attributes=select.getBlockAttributes(clientId);directInsertBlock.attributesToCopy.forEach(key=>{if(attributes[key]){copiedAttributes[key]=attributes[key];}});}
const block=(0,external_wp_blocks_namespaceObject.createBlock)(directInsertBlock.name,{...directInsertBlock.attributes,...copiedAttributes});return dispatch.insertBlock(block,blockIndex,rootClientId);};const insertAfterBlock=clientId=>({select,dispatch})=>{if(!clientId){return;}
const rootClientId=select.getBlockRootClientId(clientId);const isLocked=select.getTemplateLock(rootClientId);if(isLocked){return;}
const blockIndex=select.getBlockIndex(clientId);const directInsertBlock=rootClientId?select.getDirectInsertBlock(rootClientId):null;if(!directInsertBlock){return dispatch.insertDefaultBlock({},rootClientId,blockIndex+1);}
const copiedAttributes={};if(directInsertBlock.attributesToCopy){const attributes=select.getBlockAttributes(clientId);directInsertBlock.attributesToCopy.forEach(key=>{if(attributes[key]){copiedAttributes[key]=attributes[key];}});}
const block=(0,external_wp_blocks_namespaceObject.createBlock)(directInsertBlock.name,{...directInsertBlock.attributes,...copiedAttributes});return dispatch.insertBlock(block,blockIndex+1,rootClientId);};function toggleBlockHighlight(clientId,isHighlighted){return{type:'TOGGLE_BLOCK_HIGHLIGHT',clientId,isHighlighted};}
const flashBlock=clientId=>async({dispatch})=>{dispatch(toggleBlockHighlight(clientId,true));await new Promise(resolve=>setTimeout(resolve,150));dispatch(toggleBlockHighlight(clientId,false));};function setHasControlledInnerBlocks(clientId,hasControlledInnerBlocks){return{type:'SET_HAS_CONTROLLED_INNER_BLOCKS',hasControlledInnerBlocks,clientId};}
function setBlockVisibility(updates){return{type:'SET_BLOCK_VISIBILITY',updates};}
function __unstableSetTemporarilyEditingAsBlocks(temporarilyEditingAsBlocks,focusModeToRevert){return{type:'SET_TEMPORARILY_EDITING_AS_BLOCKS',temporarilyEditingAsBlocks,focusModeToRevert};}
const registerInserterMediaCategory=category=>({select,dispatch})=>{if(!category||typeof category!=='object'){console.error('Category should be an `InserterMediaCategory` object.');return;}
if(!category.name){console.error('Category should have a `name` that should be unique among all media categories.');return;}
if(!category.labels?.name){console.error('Category should have a `labels.name`.');return;}
if(!['image','audio','video'].includes(category.mediaType)){console.error('Category should have `mediaType` property that is one of `image|audio|video`.');return;}
if(!category.fetch||typeof category.fetch!=='function'){console.error('Category should have a `fetch` function defined with the following signature `(InserterMediaRequest) => Promise<InserterMediaItem[]>`.');return;}
const registeredInserterMediaCategories=select.getRegisteredInserterMediaCategories();if(registeredInserterMediaCategories.some(({name})=>name===category.name)){console.error(`A category is already registered with the same name: "${category.name}".`);return;}
if(registeredInserterMediaCategories.some(({labels:{name}={}})=>name===category.labels?.name)){console.error(`A category is already registered with the same labels.name: "${category.labels.name}".`);return;}
dispatch({type:'REGISTER_INSERTER_MEDIA_CATEGORY',category:{...category,isExternalResource:true}});};function setBlockEditingMode(clientId='',mode){return{type:'SET_BLOCK_EDITING_MODE',clientId,mode};}
function unsetBlockEditingMode(clientId=''){return{type:'UNSET_BLOCK_EDITING_MODE',clientId};};const storeConfig={reducer:reducer,selectors:selectors_namespaceObject,actions:actions_namespaceObject};const store=(0,external_wp_data_namespaceObject.createReduxStore)(STORE_NAME,{...storeConfig,persist:['preferences']});const registeredStore=(0,external_wp_data_namespaceObject.registerStore)(STORE_NAME,{...storeConfig,persist:['preferences']});unlock(registeredStore).registerPrivateActions(private_actions_namespaceObject);unlock(registeredStore).registerPrivateSelectors(private_selectors_namespaceObject);unlock(store).registerPrivateActions(private_actions_namespaceObject);unlock(store).registerPrivateSelectors(private_selectors_namespaceObject);;function use_settings_useSettings(...paths){const{clientId=null}=useBlockEditContext();return(0,external_wp_data_namespaceObject.useSelect)(select=>unlock(select(store)).getBlockSettings(clientId,...paths),[clientId,...paths]);}
function useSetting(path){external_wp_deprecated_default()('wp.blockEditor.useSetting',{since:'6.5',alternative:'wp.blockEditor.useSettings',note:'The new useSettings function can retrieve multiple settings at once, with better performance.'});const[value]=use_settings_useSettings(path);return value;};const external_wp_styleEngine_namespaceObject=window["wp"]["styleEngine"];;const DEFAULT_MAXIMUM_VIEWPORT_WIDTH='1600px';const DEFAULT_MINIMUM_VIEWPORT_WIDTH='320px';const DEFAULT_SCALE_FACTOR=1;const DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN=0.25;const DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX=0.75;const DEFAULT_MINIMUM_FONT_SIZE_LIMIT='14px';function getComputedFluidTypographyValue({minimumFontSize,maximumFontSize,fontSize,minimumViewportWidth=DEFAULT_MINIMUM_VIEWPORT_WIDTH,maximumViewportWidth=DEFAULT_MAXIMUM_VIEWPORT_WIDTH,scaleFactor=DEFAULT_SCALE_FACTOR,minimumFontSizeLimit}){minimumFontSizeLimit=!!getTypographyValueAndUnit(minimumFontSizeLimit)?minimumFontSizeLimit:DEFAULT_MINIMUM_FONT_SIZE_LIMIT;if(fontSize){const fontSizeParsed=getTypographyValueAndUnit(fontSize);if(!fontSizeParsed?.unit){return null;}
const minimumFontSizeLimitParsed=getTypographyValueAndUnit(minimumFontSizeLimit,{coerceTo:fontSizeParsed.unit});if(!!minimumFontSizeLimitParsed?.value&&!minimumFontSize&&!maximumFontSize){if(fontSizeParsed?.value<=minimumFontSizeLimitParsed?.value){return null;}}
if(!maximumFontSize){maximumFontSize=`${fontSizeParsed.value}${fontSizeParsed.unit}`;}
if(!minimumFontSize){const fontSizeValueInPx=fontSizeParsed.unit==='px'?fontSizeParsed.value:fontSizeParsed.value*16;const minimumFontSizeFactor=Math.min(Math.max(1-0.075*Math.log2(fontSizeValueInPx),DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN),DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX);const calculatedMinimumFontSize=roundToPrecision(fontSizeParsed.value*minimumFontSizeFactor,3);if(!!minimumFontSizeLimitParsed?.value&&calculatedMinimumFontSize<minimumFontSizeLimitParsed?.value){minimumFontSize=`${minimumFontSizeLimitParsed.value}${minimumFontSizeLimitParsed.unit}`;}else{minimumFontSize=`${calculatedMinimumFontSize}${fontSizeParsed.unit}`;}}}
const minimumFontSizeParsed=getTypographyValueAndUnit(minimumFontSize);const fontSizeUnit=minimumFontSizeParsed?.unit||'rem';const maximumFontSizeParsed=getTypographyValueAndUnit(maximumFontSize,{coerceTo:fontSizeUnit});if(!minimumFontSizeParsed||!maximumFontSizeParsed){return null;}
const minimumFontSizeRem=getTypographyValueAndUnit(minimumFontSize,{coerceTo:'rem'});const maximumViewportWidthParsed=getTypographyValueAndUnit(maximumViewportWidth,{coerceTo:fontSizeUnit});const minimumViewportWidthParsed=getTypographyValueAndUnit(minimumViewportWidth,{coerceTo:fontSizeUnit});if(!maximumViewportWidthParsed||!minimumViewportWidthParsed||!minimumFontSizeRem){return null;}
const linearDenominator=maximumViewportWidthParsed.value-minimumViewportWidthParsed.value;if(!linearDenominator){return null;}
const minViewportWidthOffsetValue=roundToPrecision(minimumViewportWidthParsed.value / 100,3);const viewportWidthOffset=roundToPrecision(minViewportWidthOffsetValue,3)+fontSizeUnit;const linearFactor=100*((maximumFontSizeParsed.value-minimumFontSizeParsed.value)/ linearDenominator);const linearFactorScaled=roundToPrecision((linearFactor||1)*scaleFactor,3);const fluidTargetFontSize=`${minimumFontSizeRem.value}${minimumFontSizeRem.unit} + ((1vw - ${viewportWidthOffset}) * ${linearFactorScaled})`;return`clamp(${minimumFontSize}, ${fluidTargetFontSize}, ${maximumFontSize})`;}
function getTypographyValueAndUnit(rawValue,options={}){if(typeof rawValue!=='string'&&typeof rawValue!=='number'){return null;}
if(isFinite(rawValue)){rawValue=`${rawValue}px`;}
const{coerceTo,rootSizeValue,acceptableUnits}={coerceTo:'',rootSizeValue:16,acceptableUnits:['rem','px','em'],...options};const acceptableUnitsGroup=acceptableUnits?.join('|');const regexUnits=new RegExp(`^(\\d*\\.?\\d+)(${acceptableUnitsGroup}){1,1}$`);const matches=rawValue.match(regexUnits);if(!matches||matches.length<3){return null;}
let[,value,unit]=matches;let returnValue=parseFloat(value);if('px'===coerceTo&&('em'===unit||'rem'===unit)){returnValue=returnValue*rootSizeValue;unit=coerceTo;}
if('px'===unit&&('em'===coerceTo||'rem'===coerceTo)){returnValue=returnValue / rootSizeValue;unit=coerceTo;}
if(('em'===coerceTo||'rem'===coerceTo)&&('em'===unit||'rem'===unit)){unit=coerceTo;}
return{value:roundToPrecision(returnValue,3),unit};}
function roundToPrecision(value,digits=3){const base=Math.pow(10,digits);return Number.isFinite(value)?parseFloat(Math.round(value*base)/ base):undefined;};function formatFontStyle(fontStyle){if(!fontStyle){return{};}
if(typeof fontStyle==='object'){return fontStyle;}
let name;switch(fontStyle){case'normal':name=(0,external_wp_i18n_namespaceObject._x)('Regular','font style');break;case'italic':name=(0,external_wp_i18n_namespaceObject._x)('Italic','font style');break;case'oblique':name=(0,external_wp_i18n_namespaceObject._x)('Oblique','font style');break;default:name=fontStyle;break;}
return{name,value:fontStyle};};function formatFontWeight(fontWeight){if(!fontWeight){return{};}
if(typeof fontWeight==='object'){return fontWeight;}
let name;switch(fontWeight){case'normal':case'400':name=(0,external_wp_i18n_namespaceObject._x)('Regular','font weight');break;case'bold':case'700':name=(0,external_wp_i18n_namespaceObject._x)('Bold','font weight');break;case'100':name=(0,external_wp_i18n_namespaceObject._x)('Thin','font weight');break;case'200':name=(0,external_wp_i18n_namespaceObject._x)('Extra Light','font weight');break;case'300':name=(0,external_wp_i18n_namespaceObject._x)('Light','font weight');break;case'500':name=(0,external_wp_i18n_namespaceObject._x)('Medium','font weight');break;case'600':name=(0,external_wp_i18n_namespaceObject._x)('Semi Bold','font weight');break;case'800':name=(0,external_wp_i18n_namespaceObject._x)('Extra Bold','font weight');break;case'900':name=(0,external_wp_i18n_namespaceObject._x)('Black','font weight');break;case'1000':name=(0,external_wp_i18n_namespaceObject._x)('Extra Black','font weight');break;default:name=fontWeight;break;}
return{name,value:fontWeight};};const FONT_STYLES=[{name:(0,external_wp_i18n_namespaceObject._x)('Regular','font style'),value:'normal'},{name:(0,external_wp_i18n_namespaceObject._x)('Italic','font style'),value:'italic'}];const FONT_WEIGHTS=[{name:(0,external_wp_i18n_namespaceObject._x)('Thin','font weight'),value:'100'},{name:(0,external_wp_i18n_namespaceObject._x)('Extra Light','font weight'),value:'200'},{name:(0,external_wp_i18n_namespaceObject._x)('Light','font weight'),value:'300'},{name:(0,external_wp_i18n_namespaceObject._x)('Regular','font weight'),value:'400'},{name:(0,external_wp_i18n_namespaceObject._x)('Medium','font weight'),value:'500'},{name:(0,external_wp_i18n_namespaceObject._x)('Semi Bold','font weight'),value:'600'},{name:(0,external_wp_i18n_namespaceObject._x)('Bold','font weight'),value:'700'},{name:(0,external_wp_i18n_namespaceObject._x)('Extra Bold','font weight'),value:'800'},{name:(0,external_wp_i18n_namespaceObject._x)('Black','font weight'),value:'900'},{name:(0,external_wp_i18n_namespaceObject._x)('Extra Black','font weight'),value:'1000'}];function getFontStylesAndWeights(fontFamilyFaces){let fontStyles=[];let fontWeights=[];const combinedStyleAndWeightOptions=[];const isSystemFont=!fontFamilyFaces||fontFamilyFaces?.length===0;let isVariableFont=false;fontFamilyFaces?.forEach(face=>{if('string'===typeof face.fontWeight&&/\s/.test(face.fontWeight.trim())){isVariableFont=true;let[startValue,endValue]=face.fontWeight.split(' ');startValue=parseInt(startValue.slice(0,1));if(endValue==='1000'){endValue=10;}else{endValue=parseInt(endValue.slice(0,1));}
for(let i=startValue;i<=endValue;i++){const fontWeightValue=`${i.toString()}00`;if(!fontWeights.some(weight=>weight.value===fontWeightValue)){fontWeights.push(formatFontWeight(fontWeightValue));}}}
const fontWeight=formatFontWeight('number'===typeof face.fontWeight?face.fontWeight.toString():face.fontWeight);const fontStyle=formatFontStyle(face.fontStyle);if(fontStyle&&Object.keys(fontStyle).length){if(!fontStyles.some(style=>style.value===fontStyle.value)){fontStyles.push(fontStyle);}}
if(fontWeight&&Object.keys(fontWeight).length){if(!fontWeights.some(weight=>weight.value===fontWeight.value)){if(!isVariableFont){fontWeights.push(fontWeight);}}}});if(!fontWeights.some(weight=>weight.value>='600')){fontWeights.push({name:(0,external_wp_i18n_namespaceObject._x)('Bold','font weight'),value:'700'});}
if(!fontStyles.some(style=>style.value==='italic')){fontStyles.push({name:(0,external_wp_i18n_namespaceObject._x)('Italic','font style'),value:'italic'});}
if(isSystemFont){fontStyles=FONT_STYLES;fontWeights=FONT_WEIGHTS;}
fontStyles=fontStyles.length===0?FONT_STYLES:fontStyles;fontWeights=fontWeights.length===0?FONT_WEIGHTS:fontWeights;fontStyles.forEach(({name:styleName,value:styleValue})=>{fontWeights.forEach(({name:weightName,value:weightValue})=>{const optionName=styleValue==='normal'?weightName:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%1$s %2$s','font'),weightName,styleName);combinedStyleAndWeightOptions.push({key:`${styleValue}-${weightValue}`,name:optionName,style:{fontStyle:styleValue,fontWeight:weightValue}});});});return{fontStyles,fontWeights,combinedStyleAndWeightOptions,isSystemFont,isVariableFont};};function getTypographyFontSizeValue(preset,settings){const{size:defaultSize}=preset;if(!defaultSize||'0'===defaultSize||false===preset?.fluid){return defaultSize;}
if(!isFluidTypographyEnabled(settings?.typography)&&!isFluidTypographyEnabled(preset)){return defaultSize;}
let fluidTypographySettings=getFluidTypographyOptionsFromSettings(settings);fluidTypographySettings=typeof fluidTypographySettings?.fluid==='object'?fluidTypographySettings?.fluid:{};const fluidFontSizeValue=getComputedFluidTypographyValue({minimumFontSize:preset?.fluid?.min,maximumFontSize:preset?.fluid?.max,fontSize:defaultSize,minimumFontSizeLimit:fluidTypographySettings?.minFontSize,maximumViewportWidth:fluidTypographySettings?.maxViewportWidth,minimumViewportWidth:fluidTypographySettings?.minViewportWidth});if(!!fluidFontSizeValue){return fluidFontSizeValue;}
return defaultSize;}
function isFluidTypographyEnabled(typographySettings){const fluidSettings=typographySettings?.fluid;return true===fluidSettings||fluidSettings&&typeof fluidSettings==='object'&&Object.keys(fluidSettings).length>0;}
function getFluidTypographyOptionsFromSettings(settings){const typographySettings=settings?.typography;const layoutSettings=settings?.layout;const defaultMaxViewportWidth=getTypographyValueAndUnit(layoutSettings?.wideSize)?layoutSettings?.wideSize:null;return isFluidTypographyEnabled(typographySettings)&&defaultMaxViewportWidth?{fluid:{maxViewportWidth:defaultMaxViewportWidth,...typographySettings.fluid}}:{fluid:typographySettings?.fluid};}
function getMergedFontFamiliesAndFontFamilyFaces(settings,selectedFontFamily){var _fontFamilies$find$fo;const fontFamiliesFromSettings=settings?.typography?.fontFamilies;const fontFamilies=['default','theme','custom'].flatMap(key=>{var _fontFamiliesFromSett;return(_fontFamiliesFromSett=fontFamiliesFromSettings?.[key])!==null&&_fontFamiliesFromSett!==void 0?_fontFamiliesFromSett:[];});const fontFamilyFaces=(_fontFamilies$find$fo=fontFamilies.find(family=>family.fontFamily===selectedFontFamily)?.fontFace)!==null&&_fontFamilies$find$fo!==void 0?_fontFamilies$find$fo:[];return{fontFamilies,fontFamilyFaces};}
function findNearestFontWeight(availableFontWeights,newFontWeightValue){newFontWeightValue='number'===typeof newFontWeightValue?newFontWeightValue.toString():newFontWeightValue;if(!newFontWeightValue||typeof newFontWeightValue!=='string'){return'';}
if(!availableFontWeights||availableFontWeights.length===0){return newFontWeightValue;}
const nearestFontWeight=availableFontWeights?.reduce((nearest,{value:fw})=>{const currentDiff=Math.abs(parseInt(fw)-parseInt(newFontWeightValue));const nearestDiff=Math.abs(parseInt(nearest)-parseInt(newFontWeightValue));return currentDiff<nearestDiff?fw:nearest;},availableFontWeights[0]?.value);return nearestFontWeight;}
function findNearestFontStyle(availableFontStyles,newFontStyleValue){if(typeof newFontStyleValue!=='string'||!newFontStyleValue){return'';}
const validStyles=['normal','italic','oblique'];if(!validStyles.includes(newFontStyleValue)){return'';}
if(!availableFontStyles||availableFontStyles.length===0||availableFontStyles.find(style=>style.value===newFontStyleValue)){return newFontStyleValue;}
if(newFontStyleValue==='oblique'&&!availableFontStyles.find(style=>style.value==='oblique')){return'italic';}
return'';}
function findNearestStyleAndWeight(fontFamilyFaces,fontStyle,fontWeight){let nearestFontStyle=fontStyle;let nearestFontWeight=fontWeight;const{fontStyles,fontWeights,combinedStyleAndWeightOptions}=getFontStylesAndWeights(fontFamilyFaces);const hasFontStyle=fontStyles?.some(({value:fs})=>fs===fontStyle);const hasFontWeight=fontWeights?.some(({value:fw})=>fw?.toString()===fontWeight?.toString());if(!hasFontStyle){nearestFontStyle=fontStyle?findNearestFontStyle(fontStyles,fontStyle):combinedStyleAndWeightOptions?.find(option=>option.style.fontWeight===findNearestFontWeight(fontWeights,fontWeight))?.style?.fontStyle;}
if(!hasFontWeight){nearestFontWeight=fontWeight?findNearestFontWeight(fontWeights,fontWeight):combinedStyleAndWeightOptions?.find(option=>option.style.fontStyle===(nearestFontStyle||fontStyle))?.style?.fontWeight;}
return{nearestFontStyle,nearestFontWeight};};const ROOT_BLOCK_SELECTOR='body';const ROOT_CSS_PROPERTIES_SELECTOR=':root';const PRESET_METADATA=[{path:['color','palette'],valueKey:'color',cssVarInfix:'color',classes:[{classSuffix:'color',propertyName:'color'},{classSuffix:'background-color',propertyName:'background-color'},{classSuffix:'border-color',propertyName:'border-color'}]},{path:['color','gradients'],valueKey:'gradient',cssVarInfix:'gradient',classes:[{classSuffix:'gradient-background',propertyName:'background'}]},{path:['color','duotone'],valueKey:'colors',cssVarInfix:'duotone',valueFunc:({slug})=>`url( '#wp-duotone-${slug}' )`,classes:[]},{path:['shadow','presets'],valueKey:'shadow',cssVarInfix:'shadow',classes:[]},{path:['typography','fontSizes'],valueFunc:(preset,settings)=>getTypographyFontSizeValue(preset,settings),valueKey:'size',cssVarInfix:'font-size',classes:[{classSuffix:'font-size',propertyName:'font-size'}]},{path:['typography','fontFamilies'],valueKey:'fontFamily',cssVarInfix:'font-family',classes:[{classSuffix:'font-family',propertyName:'font-family'}]},{path:['spacing','spacingSizes'],valueKey:'size',cssVarInfix:'spacing',valueFunc:({size})=>size,classes:[]}];const STYLE_PATH_TO_CSS_VAR_INFIX={'color.background':'color','color.text':'color','filter.duotone':'duotone','elements.link.color.text':'color','elements.link.:hover.color.text':'color','elements.link.typography.fontFamily':'font-family','elements.link.typography.fontSize':'font-size','elements.button.color.text':'color','elements.button.color.background':'color','elements.caption.color.text':'color','elements.button.typography.fontFamily':'font-family','elements.button.typography.fontSize':'font-size','elements.heading.color':'color','elements.heading.color.background':'color','elements.heading.typography.fontFamily':'font-family','elements.heading.gradient':'gradient','elements.heading.color.gradient':'gradient','elements.h1.color':'color','elements.h1.color.background':'color','elements.h1.typography.fontFamily':'font-family','elements.h1.color.gradient':'gradient','elements.h2.color':'color','elements.h2.color.background':'color','elements.h2.typography.fontFamily':'font-family','elements.h2.color.gradient':'gradient','elements.h3.color':'color','elements.h3.color.background':'color','elements.h3.typography.fontFamily':'font-family','elements.h3.color.gradient':'gradient','elements.h4.color':'color','elements.h4.color.background':'color','elements.h4.typography.fontFamily':'font-family','elements.h4.color.gradient':'gradient','elements.h5.color':'color','elements.h5.color.background':'color','elements.h5.typography.fontFamily':'font-family','elements.h5.color.gradient':'gradient','elements.h6.color':'color','elements.h6.color.background':'color','elements.h6.typography.fontFamily':'font-family','elements.h6.color.gradient':'gradient','color.gradient':'gradient',shadow:'shadow','typography.fontSize':'font-size','typography.fontFamily':'font-family'};const STYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE={'color.background':'backgroundColor','color.text':'textColor','color.gradient':'gradient','typography.fontSize':'fontSize','typography.fontFamily':'fontFamily'};function useToolsPanelDropdownMenuProps(){const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');return!isMobile?{popoverProps:{placement:'left-start',offset:259}}:{};}
function findInPresetsBy(features,blockName,presetPath,presetProperty,presetValueValue){const orderedPresetsByOrigin=[getValueFromObjectPath(features,['blocks',blockName,...presetPath]),getValueFromObjectPath(features,presetPath)];for(const presetByOrigin of orderedPresetsByOrigin){if(presetByOrigin){const origins=['custom','theme','default'];for(const origin of origins){const presets=presetByOrigin[origin];if(presets){const presetObject=presets.find(preset=>preset[presetProperty]===presetValueValue);if(presetObject){if(presetProperty==='slug'){return presetObject;}
const highestPresetObjectWithSameSlug=findInPresetsBy(features,blockName,presetPath,'slug',presetObject.slug);if(highestPresetObjectWithSameSlug[presetProperty]===presetObject[presetProperty]){return presetObject;}
return undefined;}}}}}}
function getPresetVariableFromValue(features,blockName,variableStylePath,presetPropertyValue){if(!presetPropertyValue){return presetPropertyValue;}
const cssVarInfix=STYLE_PATH_TO_CSS_VAR_INFIX[variableStylePath];const metadata=PRESET_METADATA.find(data=>data.cssVarInfix===cssVarInfix);if(!metadata){return presetPropertyValue;}
const{valueKey,path}=metadata;const presetObject=findInPresetsBy(features,blockName,path,valueKey,presetPropertyValue);if(!presetObject){return presetPropertyValue;}
return`var:preset|${cssVarInfix}|${presetObject.slug}`;}
function getValueFromPresetVariable(features,blockName,variable,[presetType,slug]){const metadata=PRESET_METADATA.find(data=>data.cssVarInfix===presetType);if(!metadata){return variable;}
const presetObject=findInPresetsBy(features.settings,blockName,metadata.path,'slug',slug);if(presetObject){const{valueKey}=metadata;const result=presetObject[valueKey];return getValueFromVariable(features,blockName,result);}
return variable;}
function getValueFromCustomVariable(features,blockName,variable,path){var _getValueFromObjectPa;const result=(_getValueFromObjectPa=getValueFromObjectPath(features.settings,['blocks',blockName,'custom',...path]))!==null&&_getValueFromObjectPa!==void 0?_getValueFromObjectPa:getValueFromObjectPath(features.settings,['custom',...path]);if(!result){return variable;}
return getValueFromVariable(features,blockName,result);}
function getValueFromVariable(features,blockName,variable){if(!variable||typeof variable!=='string'){if(typeof variable?.ref==='string'){variable=getValueFromObjectPath(features,variable.ref);if(!variable||!!variable?.ref){return variable;}}else{return variable;}}
const USER_VALUE_PREFIX='var:';const THEME_VALUE_PREFIX='var(--wp--';const THEME_VALUE_SUFFIX=')';let parsedVar;if(variable.startsWith(USER_VALUE_PREFIX)){parsedVar=variable.slice(USER_VALUE_PREFIX.length).split('|');}else if(variable.startsWith(THEME_VALUE_PREFIX)&&variable.endsWith(THEME_VALUE_SUFFIX)){parsedVar=variable.slice(THEME_VALUE_PREFIX.length,-THEME_VALUE_SUFFIX.length).split('--');}else{return variable;}
const[type,...path]=parsedVar;if(type==='preset'){return getValueFromPresetVariable(features,blockName,variable,path);}
if(type==='custom'){return getValueFromCustomVariable(features,blockName,variable,path);}
return variable;}
function scopeSelector(scope,selector){if(!scope||!selector){return selector;}
const scopes=scope.split(',');const selectors=selector.split(',');const selectorsScoped=[];scopes.forEach(outer=>{selectors.forEach(inner=>{selectorsScoped.push(`${outer.trim()} ${inner.trim()}`);});});return selectorsScoped.join(', ');}
function scopeFeatureSelectors(scope,selectors){if(!scope||!selectors){return;}
const featureSelectors={};Object.entries(selectors).forEach(([feature,selector])=>{if(typeof selector==='string'){featureSelectors[feature]=scopeSelector(scope,selector);}
if(typeof selector==='object'){featureSelectors[feature]={};Object.entries(selector).forEach(([subfeature,subfeatureSelector])=>{featureSelectors[feature][subfeature]=scopeSelector(scope,subfeatureSelector);});}});return featureSelectors;}
function appendToSelector(selector,toAppend){if(!selector.includes(',')){return selector+toAppend;}
const selectors=selector.split(',');const newSelectors=selectors.map(sel=>sel+toAppend);return newSelectors.join(',');}
function areGlobalStyleConfigsEqual(original,variation){if(typeof original!=='object'||typeof variation!=='object'){return original===variation;}
return es6_default()(original?.styles,variation?.styles)&&es6_default()(original?.settings,variation?.settings);}
function getBlockStyleVariationSelector(variation,blockSelector){const variationClass=`.is-style-${variation}`;if(!blockSelector){return variationClass;}
const ancestorRegex=/((?::\([^)]+\))?\s*)([^\s:]+)/;const addVariationClass=(_match,group1,group2)=>{return group1+group2+variationClass;};const result=blockSelector.split(',').map(part=>part.replace(ancestorRegex,addVariationClass));return result.join(',');}
function getResolvedThemeFilePath(file,themeFileURIs){if(!file||!themeFileURIs||!Array.isArray(themeFileURIs)){return file;}
const uri=themeFileURIs.find(themeFileUri=>themeFileUri?.name===file);if(!uri?.href){return file;}
return uri?.href;}
function getResolvedRefValue(ruleValue,tree){if(!ruleValue||!tree){return ruleValue;}
if(typeof ruleValue!=='string'&&ruleValue?.ref){const resolvedRuleValue=(0,external_wp_styleEngine_namespaceObject.getCSSValueFromRawStyle)(getValueFromObjectPath(tree,ruleValue.ref));if(resolvedRuleValue?.ref){return undefined;}
if(resolvedRuleValue===undefined){return ruleValue;}
return resolvedRuleValue;}
return ruleValue;}
function getResolvedValue(ruleValue,tree){if(!ruleValue||!tree){return ruleValue;}
const resolvedValue=getResolvedRefValue(ruleValue,tree);if(resolvedValue?.url){resolvedValue.url=getResolvedThemeFilePath(resolvedValue.url,tree?._links?.['wp:theme-file']);}
return resolvedValue;};const DEFAULT_GLOBAL_STYLES_CONTEXT={user:{},base:{},merged:{},setUserConfig:()=>{}};const GlobalStylesContext=(0,external_wp_element_namespaceObject.createContext)(DEFAULT_GLOBAL_STYLES_CONTEXT);;const EMPTY_CONFIG={settings:{},styles:{}};const VALID_SETTINGS=['appearanceTools','useRootPaddingAwareAlignments','background.backgroundImage','background.backgroundRepeat','background.backgroundSize','background.backgroundPosition','border.color','border.radius','border.style','border.width','shadow.presets','shadow.defaultPresets','color.background','color.button','color.caption','color.custom','color.customDuotone','color.customGradient','color.defaultDuotone','color.defaultGradients','color.defaultPalette','color.duotone','color.gradients','color.heading','color.link','color.palette','color.text','custom','dimensions.aspectRatio','dimensions.minHeight','layout.contentSize','layout.definitions','layout.wideSize','lightbox.enabled','lightbox.allowEditing','position.fixed','position.sticky','spacing.customSpacingSize','spacing.defaultSpacingSizes','spacing.spacingSizes','spacing.spacingScale','spacing.blockGap','spacing.margin','spacing.padding','spacing.units','typography.fluid','typography.customFontSize','typography.defaultFontSizes','typography.dropCap','typography.fontFamilies','typography.fontSizes','typography.fontStyle','typography.fontWeight','typography.letterSpacing','typography.lineHeight','typography.textAlign','typography.textColumns','typography.textDecoration','typography.textTransform','typography.writingMode'];const useGlobalStylesReset=()=>{const{user,setUserConfig}=(0,external_wp_element_namespaceObject.useContext)(GlobalStylesContext);const config={settings:user.settings,styles:user.styles};const canReset=!!config&&!es6_default()(config,EMPTY_CONFIG);return[canReset,(0,external_wp_element_namespaceObject.useCallback)(()=>setUserConfig(EMPTY_CONFIG),[setUserConfig])];};function useGlobalSetting(propertyPath,blockName,source='all'){const{setUserConfig,...configs}=(0,external_wp_element_namespaceObject.useContext)(GlobalStylesContext);const appendedBlockPath=blockName?'.blocks.'+blockName:'';const appendedPropertyPath=propertyPath?'.'+propertyPath:'';const contextualPath=`settings${appendedBlockPath}${appendedPropertyPath}`;const globalPath=`settings${appendedPropertyPath}`;const sourceKey=source==='all'?'merged':source;const settingValue=(0,external_wp_element_namespaceObject.useMemo)(()=>{const configToUse=configs[sourceKey];if(!configToUse){throw'Unsupported source';}
if(propertyPath){var _getValueFromObjectPa;return(_getValueFromObjectPa=getValueFromObjectPath(configToUse,contextualPath))!==null&&_getValueFromObjectPa!==void 0?_getValueFromObjectPa:getValueFromObjectPath(configToUse,globalPath);}
let result={};VALID_SETTINGS.forEach(setting=>{var _getValueFromObjectPa2;const value=(_getValueFromObjectPa2=getValueFromObjectPath(configToUse,`settings${appendedBlockPath}.${setting}`))!==null&&_getValueFromObjectPa2!==void 0?_getValueFromObjectPa2:getValueFromObjectPath(configToUse,`settings.${setting}`);if(value!==undefined){result=setImmutably(result,setting.split('.'),value);}});return result;},[configs,sourceKey,propertyPath,contextualPath,globalPath,appendedBlockPath]);const setSetting=newValue=>{setUserConfig(currentConfig=>setImmutably(currentConfig,contextualPath.split('.'),newValue));};return[settingValue,setSetting];}
function useGlobalStyle(path,blockName,source='all',{shouldDecodeEncode=true}={}){const{merged:mergedConfig,base:baseConfig,user:userConfig,setUserConfig}=(0,external_wp_element_namespaceObject.useContext)(GlobalStylesContext);const appendedPath=path?'.'+path:'';const finalPath=!blockName?`styles${appendedPath}`:`styles.blocks.${blockName}${appendedPath}`;const setStyle=newValue=>{setUserConfig(currentConfig=>setImmutably(currentConfig,finalPath.split('.'),shouldDecodeEncode?getPresetVariableFromValue(mergedConfig.settings,blockName,path,newValue):newValue));};let rawResult,result;switch(source){case'all':rawResult=getValueFromObjectPath(mergedConfig,finalPath);result=shouldDecodeEncode?getValueFromVariable(mergedConfig,blockName,rawResult):rawResult;break;case'user':rawResult=getValueFromObjectPath(userConfig,finalPath);result=shouldDecodeEncode?getValueFromVariable(mergedConfig,blockName,rawResult):rawResult;break;case'base':rawResult=getValueFromObjectPath(baseConfig,finalPath);result=shouldDecodeEncode?getValueFromVariable(baseConfig,blockName,rawResult):rawResult;break;default:throw'Unsupported source';}
return[result,setStyle];}
function useSettingsForBlockElement(parentSettings,blockName,element){const{supportedStyles,supports}=(0,external_wp_data_namespaceObject.useSelect)(select=>{return{supportedStyles:unlock(select(external_wp_blocks_namespaceObject.store)).getSupportedStyles(blockName,element),supports:select(external_wp_blocks_namespaceObject.store).getBlockType(blockName)?.supports};},[blockName,element]);return(0,external_wp_element_namespaceObject.useMemo)(()=>{const updatedSettings={...parentSettings};if(!supportedStyles.includes('fontSize')){updatedSettings.typography={...updatedSettings.typography,fontSizes:{},customFontSize:false,defaultFontSizes:false};}
if(!supportedStyles.includes('fontFamily')){updatedSettings.typography={...updatedSettings.typography,fontFamilies:{}};}
updatedSettings.color={...updatedSettings.color,text:updatedSettings.color?.text&&supportedStyles.includes('color'),background:updatedSettings.color?.background&&(supportedStyles.includes('background')||supportedStyles.includes('backgroundColor')),button:updatedSettings.color?.button&&supportedStyles.includes('buttonColor'),heading:updatedSettings.color?.heading&&supportedStyles.includes('headingColor'),link:updatedSettings.color?.link&&supportedStyles.includes('linkColor'),caption:updatedSettings.color?.caption&&supportedStyles.includes('captionColor')};if(!supportedStyles.includes('background')){updatedSettings.color.gradients=[];updatedSettings.color.customGradient=false;}
if(!supportedStyles.includes('filter')){updatedSettings.color.defaultDuotone=false;updatedSettings.color.customDuotone=false;}
['lineHeight','fontStyle','fontWeight','letterSpacing','textAlign','textTransform','textDecoration','writingMode'].forEach(key=>{if(!supportedStyles.includes(key)){updatedSettings.typography={...updatedSettings.typography,[key]:false};}});if(!supportedStyles.includes('columnCount')){updatedSettings.typography={...updatedSettings.typography,textColumns:false};}
['contentSize','wideSize'].forEach(key=>{if(!supportedStyles.includes(key)){updatedSettings.layout={...updatedSettings.layout,[key]:false};}});['padding','margin','blockGap'].forEach(key=>{if(!supportedStyles.includes(key)){updatedSettings.spacing={...updatedSettings.spacing,[key]:false};}
const sides=Array.isArray(supports?.spacing?.[key])?supports?.spacing?.[key]:supports?.spacing?.[key]?.sides;if(sides?.length&&updatedSettings.spacing?.[key]){updatedSettings.spacing={...updatedSettings.spacing,[key]:{...updatedSettings.spacing?.[key],sides}};}});['aspectRatio','minHeight'].forEach(key=>{if(!supportedStyles.includes(key)){updatedSettings.dimensions={...updatedSettings.dimensions,[key]:false};}});['radius','color','style','width'].forEach(key=>{if(!supportedStyles.includes('border'+key.charAt(0).toUpperCase()+key.slice(1))){updatedSettings.border={...updatedSettings.border,[key]:false};}});['backgroundImage','backgroundSize'].forEach(key=>{if(!supportedStyles.includes(key)){updatedSettings.background={...updatedSettings.background,[key]:false};}});updatedSettings.shadow=supportedStyles.includes('shadow')?updatedSettings.shadow:false;if(element){updatedSettings.typography.textAlign=false;}
return updatedSettings;},[parentSettings,supportedStyles,supports,element]);}
function useColorsPerOrigin(settings){const customColors=settings?.color?.palette?.custom;const themeColors=settings?.color?.palette?.theme;const defaultColors=settings?.color?.palette?.default;const shouldDisplayDefaultColors=settings?.color?.defaultPalette;return(0,external_wp_element_namespaceObject.useMemo)(()=>{const result=[];if(themeColors&&themeColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Theme','Indicates this palette comes from the theme.'),colors:themeColors});}
if(shouldDisplayDefaultColors&&defaultColors&&defaultColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Default','Indicates this palette comes from WordPress.'),colors:defaultColors});}
if(customColors&&customColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Custom','Indicates this palette is created by the user.'),colors:customColors});}
return result;},[customColors,themeColors,defaultColors,shouldDisplayDefaultColors]);}
function useGradientsPerOrigin(settings){const customGradients=settings?.color?.gradients?.custom;const themeGradients=settings?.color?.gradients?.theme;const defaultGradients=settings?.color?.gradients?.default;const shouldDisplayDefaultGradients=settings?.color?.defaultGradients;return(0,external_wp_element_namespaceObject.useMemo)(()=>{const result=[];if(themeGradients&&themeGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Theme','Indicates this palette comes from the theme.'),gradients:themeGradients});}
if(shouldDisplayDefaultGradients&&defaultGradients&&defaultGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Default','Indicates this palette comes from WordPress.'),gradients:defaultGradients});}
if(customGradients&&customGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Custom','Indicates this palette is created by the user.'),gradients:customGradients});}
return result;},[customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients]);};function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}const dist_clsx=(clsx);;const utils_cleanEmptyObject=object=>{if(object===null||typeof object!=='object'||Array.isArray(object)){return object;}
const cleanedNestedObjects=Object.entries(object).map(([key,value])=>[key,utils_cleanEmptyObject(value)]).filter(([,value])=>value!==undefined);return!cleanedNestedObjects.length?undefined:Object.fromEntries(cleanedNestedObjects);};function transformStyles(activeSupports,migrationPaths,result,source,index,results){if(Object.values(activeSupports!==null&&activeSupports!==void 0?activeSupports:{}).every(isActive=>!isActive)){return result;}
if(results.length===1&&result.innerBlocks.length===source.length){return result;}
let referenceBlockAttributes=source[0]?.attributes;if(results.length>1&&source.length>1){if(source[index]){referenceBlockAttributes=source[index]?.attributes;}else{return result;}}
let returnBlock=result;Object.entries(activeSupports).forEach(([support,isActive])=>{if(isActive){migrationPaths[support].forEach(path=>{const styleValue=getValueFromObjectPath(referenceBlockAttributes,path);if(styleValue){returnBlock={...returnBlock,attributes:setImmutably(returnBlock.attributes,path,styleValue)};}});}});return returnBlock;}
function shouldSkipSerialization(blockNameOrType,featureSet,feature){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockNameOrType,featureSet);const skipSerialization=support?.__experimentalSkipSerialization;if(Array.isArray(skipSerialization)){return skipSerialization.includes(feature);}
return skipSerialization;}
const pendingStyleOverrides=new WeakMap();function useStyleOverride({id,css}){return usePrivateStyleOverride({id,css});}
function usePrivateStyleOverride({id,css,assets,__unstableType,variation,clientId}={}){const{setStyleOverride,deleteStyleOverride}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const registry=(0,external_wp_data_namespaceObject.useRegistry)();const fallbackId=(0,external_wp_element_namespaceObject.useId)();(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!css&&!assets){return;}
const _id=id||fallbackId;const override={id,css,assets,__unstableType,variation,clientId};if(!pendingStyleOverrides.get(registry)){pendingStyleOverrides.set(registry,[]);}
pendingStyleOverrides.get(registry).push([_id,override]);window.queueMicrotask(()=>{if(pendingStyleOverrides.get(registry)?.length){registry.batch(()=>{pendingStyleOverrides.get(registry).forEach(args=>{setStyleOverride(...args);});pendingStyleOverrides.set(registry,[]);});}});return()=>{const isPending=pendingStyleOverrides.get(registry)?.find(([currentId])=>currentId===_id);if(isPending){pendingStyleOverrides.set(registry,pendingStyleOverrides.get(registry).filter(([currentId])=>currentId!==_id));}else{deleteStyleOverride(_id);}};},[id,css,clientId,assets,__unstableType,fallbackId,setStyleOverride,deleteStyleOverride,registry]);}
function useBlockSettings(name,parentLayout){const[backgroundImage,backgroundSize,customFontFamilies,defaultFontFamilies,themeFontFamilies,defaultFontSizesEnabled,customFontSizes,defaultFontSizes,themeFontSizes,customFontSize,fontStyle,fontWeight,lineHeight,textAlign,textColumns,textDecoration,writingMode,textTransform,letterSpacing,padding,margin,blockGap,defaultSpacingSizesEnabled,customSpacingSize,userSpacingSizes,defaultSpacingSizes,themeSpacingSizes,units,aspectRatio,minHeight,layout,borderColor,borderRadius,borderStyle,borderWidth,customColorsEnabled,customColors,customDuotone,themeColors,defaultColors,defaultPalette,defaultDuotone,userDuotonePalette,themeDuotonePalette,defaultDuotonePalette,userGradientPalette,themeGradientPalette,defaultGradientPalette,defaultGradients,areCustomGradientsEnabled,isBackgroundEnabled,isLinkEnabled,isTextEnabled,isHeadingEnabled,isButtonEnabled,shadow]=use_settings_useSettings('background.backgroundImage','background.backgroundSize','typography.fontFamilies.custom','typography.fontFamilies.default','typography.fontFamilies.theme','typography.defaultFontSizes','typography.fontSizes.custom','typography.fontSizes.default','typography.fontSizes.theme','typography.customFontSize','typography.fontStyle','typography.fontWeight','typography.lineHeight','typography.textAlign','typography.textColumns','typography.textDecoration','typography.writingMode','typography.textTransform','typography.letterSpacing','spacing.padding','spacing.margin','spacing.blockGap','spacing.defaultSpacingSizes','spacing.customSpacingSize','spacing.spacingSizes.custom','spacing.spacingSizes.default','spacing.spacingSizes.theme','spacing.units','dimensions.aspectRatio','dimensions.minHeight','layout','border.color','border.radius','border.style','border.width','color.custom','color.palette.custom','color.customDuotone','color.palette.theme','color.palette.default','color.defaultPalette','color.defaultDuotone','color.duotone.custom','color.duotone.theme','color.duotone.default','color.gradients.custom','color.gradients.theme','color.gradients.default','color.defaultGradients','color.customGradient','color.background','color.link','color.text','color.heading','color.button','shadow');const rawSettings=(0,external_wp_element_namespaceObject.useMemo)(()=>{return{background:{backgroundImage,backgroundSize},color:{palette:{custom:customColors,theme:themeColors,default:defaultColors},gradients:{custom:userGradientPalette,theme:themeGradientPalette,default:defaultGradientPalette},duotone:{custom:userDuotonePalette,theme:themeDuotonePalette,default:defaultDuotonePalette},defaultGradients,defaultPalette,defaultDuotone,custom:customColorsEnabled,customGradient:areCustomGradientsEnabled,customDuotone,background:isBackgroundEnabled,link:isLinkEnabled,heading:isHeadingEnabled,button:isButtonEnabled,text:isTextEnabled},typography:{fontFamilies:{custom:customFontFamilies,default:defaultFontFamilies,theme:themeFontFamilies},fontSizes:{custom:customFontSizes,default:defaultFontSizes,theme:themeFontSizes},customFontSize,defaultFontSizes:defaultFontSizesEnabled,fontStyle,fontWeight,lineHeight,textAlign,textColumns,textDecoration,textTransform,letterSpacing,writingMode},spacing:{spacingSizes:{custom:userSpacingSizes,default:defaultSpacingSizes,theme:themeSpacingSizes},customSpacingSize,defaultSpacingSizes:defaultSpacingSizesEnabled,padding,margin,blockGap,units},border:{color:borderColor,radius:borderRadius,style:borderStyle,width:borderWidth},dimensions:{aspectRatio,minHeight},layout,parentLayout,shadow};},[backgroundImage,backgroundSize,customFontFamilies,defaultFontFamilies,themeFontFamilies,defaultFontSizesEnabled,customFontSizes,defaultFontSizes,themeFontSizes,customFontSize,fontStyle,fontWeight,lineHeight,textAlign,textColumns,textDecoration,textTransform,letterSpacing,writingMode,padding,margin,blockGap,defaultSpacingSizesEnabled,customSpacingSize,userSpacingSizes,defaultSpacingSizes,themeSpacingSizes,units,aspectRatio,minHeight,layout,parentLayout,borderColor,borderRadius,borderStyle,borderWidth,customColorsEnabled,customColors,customDuotone,themeColors,defaultColors,defaultPalette,defaultDuotone,userDuotonePalette,themeDuotonePalette,defaultDuotonePalette,userGradientPalette,themeGradientPalette,defaultGradientPalette,defaultGradients,areCustomGradientsEnabled,isBackgroundEnabled,isLinkEnabled,isTextEnabled,isHeadingEnabled,isButtonEnabled,shadow]);return useSettingsForBlockElement(rawSettings,name);}
function createBlockEditFilter(features){features=features.map(settings=>{return{...settings,Edit:(0,external_wp_element_namespaceObject.memo)(settings.edit)};});const withBlockEditHooks=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(OriginalBlockEdit=>props=>{const context=useBlockEditContext();return[...features.map((feature,i)=>{const{Edit,hasSupport,attributeKeys=[],shareWithChildBlocks}=feature;const shouldDisplayControls=context[mayDisplayControlsKey]||context[mayDisplayParentControlsKey]&&shareWithChildBlocks;if(!shouldDisplayControls||!hasSupport(props.name)){return null;}
const neededProps={};for(const key of attributeKeys){if(props.attributes[key]){neededProps[key]=props.attributes[key];}}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Edit,{name:props.name,isSelected:props.isSelected,clientId:props.clientId,setAttributes:props.setAttributes,__unstableParentLayout:props.__unstableParentLayout,...neededProps},i);}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(OriginalBlockEdit,{...props},"edit")];},'withBlockEditHooks');(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/editor/hooks',withBlockEditHooks);}
function BlockProps({index,useBlockProps:hook,setAllWrapperProps,...props}){const wrapperProps=hook(props);const setWrapperProps=next=>setAllWrapperProps(prev=>{const nextAll=[...prev];nextAll[index]=next;return nextAll;});(0,external_wp_element_namespaceObject.useEffect)(()=>{setWrapperProps(wrapperProps);return()=>{setWrapperProps(undefined);};});return null;}
const BlockPropsPure=(0,external_wp_element_namespaceObject.memo)(BlockProps);function createBlockListBlockFilter(features){const withBlockListBlockHooks=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{const[allWrapperProps,setAllWrapperProps]=(0,external_wp_element_namespaceObject.useState)(Array(features.length).fill(undefined));return[...features.map((feature,i)=>{const{hasSupport,attributeKeys=[],useBlockProps,isMatch}=feature;const neededProps={};for(const key of attributeKeys){if(props.attributes[key]){neededProps[key]=props.attributes[key];}}
if(!Object.keys(neededProps).length||!hasSupport(props.name)||isMatch&&!isMatch(neededProps)){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockPropsPure,{index:i,useBlockProps:useBlockProps,setAllWrapperProps:setAllWrapperProps,name:props.name,clientId:props.clientId,...neededProps},i);}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListBlock,{...props,wrapperProps:allWrapperProps.filter(Boolean).reduce((acc,wrapperProps)=>{return{...acc,...wrapperProps,className:dist_clsx(acc.className,wrapperProps.className),style:{...acc.style,...wrapperProps.style}};},props.wrapperProps||{})},"edit")];},'withBlockListBlockHooks');(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/editor/hooks',withBlockListBlockHooks);}
function createBlockSaveFilter(features){function extraPropsFromHooks(props,name,attributes){return features.reduce((accu,feature)=>{const{hasSupport,attributeKeys=[],addSaveProps}=feature;const neededAttributes={};for(const key of attributeKeys){if(attributes[key]){neededAttributes[key]=attributes[key];}}
if(!Object.keys(neededAttributes).length||!hasSupport(name)){return accu;}
return addSaveProps(accu,name,neededAttributes);},props);}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/editor/hooks',extraPropsFromHooks,0);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/editor/hooks',props=>{if(props.hasOwnProperty('className')&&!props.className){delete props.className;}
return props;});};function migrateLightBlockWrapper(settings){const{apiVersion=1}=settings;if(apiVersion<2&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'lightBlockWrapper',false)){settings.apiVersion=2;}
return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/compat/migrateLightBlockWrapper',migrateLightBlockWrapper);;const external_wp_components_namespaceObject=window["wp"]["components"];;const BlockControlsDefault=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControls');const BlockControlsBlock=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControlsBlock');const BlockControlsInline=(0,external_wp_components_namespaceObject.createSlotFill)('BlockFormatControls');const BlockControlsOther=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControlsOther');const BlockControlsParent=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControlsParent');const groups={default:BlockControlsDefault,block:BlockControlsBlock,inline:BlockControlsInline,other:BlockControlsOther,parent:BlockControlsParent};const block_controls_groups=(groups);;function useBlockControlsFill(group,shareWithChildBlocks){const context=useBlockEditContext();if(context[mayDisplayControlsKey]){return block_controls_groups[group]?.Fill;}
if(context[mayDisplayParentControlsKey]&&shareWithChildBlocks){return block_controls_groups.parent.Fill;}
return null;};function BlockControlsFill({group='default',controls,children,__experimentalShareWithChildBlocks=false}){const Fill=useBlockControlsFill(group,__experimentalShareWithChildBlocks);if(!Fill){return null;}
const innerMarkup=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[group==='default'&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{controls:controls}),children]});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:document,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(Fill,{children:fillProps=>{const{forwardedContext=[]}=fillProps;return forwardedContext.reduce((inner,[Provider,props])=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(Provider,{...props,children:inner}),innerMarkup);}})});};const external_wp_warning_namespaceObject=window["wp"]["warning"];var external_wp_warning_default=__webpack_require__.n(external_wp_warning_namespaceObject);;const{ComponentsContext}=unlock(external_wp_components_namespaceObject.privateApis);function BlockControlsSlot({group='default',...props}){const toolbarState=(0,external_wp_element_namespaceObject.useContext)(external_wp_components_namespaceObject.__experimentalToolbarContext);const contextState=(0,external_wp_element_namespaceObject.useContext)(ComponentsContext);const fillProps=(0,external_wp_element_namespaceObject.useMemo)(()=>({forwardedContext:[[external_wp_components_namespaceObject.__experimentalToolbarContext.Provider,{value:toolbarState}],[ComponentsContext.Provider,{value:contextState}]]}),[toolbarState,contextState]);const slotFill=block_controls_groups[group];const fills=(0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(slotFill.name);if(!slotFill){true?external_wp_warning_default()(`Unknown BlockControls group "${group}" provided.`):0;return null;}
if(!fills?.length){return null;}
const{Slot}=slotFill;const slot=(0,external_ReactJSXRuntime_namespaceObject.jsx)(Slot,{...props,bubblesVirtually:true,fillProps:fillProps});if(group==='default'){return slot;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:slot});};const BlockControls=BlockControlsFill;BlockControls.Slot=BlockControlsSlot;const BlockFormatControls=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockControlsFill,{group:"inline",...props});};BlockFormatControls.Slot=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockControlsSlot,{group:"inline",...props});};const block_controls=(BlockControls);;const justifyLeft=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"})});const justify_left=(justifyLeft);;const justifyCenter=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z"})});const justify_center=(justifyCenter);;const justifyRight=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"})});const justify_right=(justifyRight);;const justifySpaceBetween=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M9 15h6V9H9v6zm-5 5h1.5V4H4v16zM18.5 4v16H20V4h-1.5z"})});const justify_space_between=(justifySpaceBetween);;const justifyStretch=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M4 4H5.5V20H4V4ZM7 10L17 10V14L7 14V10ZM20 4H18.5V20H20V4Z"})});const justify_stretch=(justifyStretch);;const arrowRight=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})});const arrow_right=(arrowRight);;const arrowDown=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})});const arrow_down=(arrowDown);;const LAYOUT_DEFINITIONS={default:{name:'default',slug:'flow',className:'is-layout-flow',baseStyles:[{selector:' > .alignleft',rules:{float:'left','margin-inline-start':'0','margin-inline-end':'2em'}},{selector:' > .alignright',rules:{float:'right','margin-inline-start':'2em','margin-inline-end':'0'}},{selector:' > .aligncenter',rules:{'margin-left':'auto !important','margin-right':'auto !important'}}],spacingStyles:[{selector:' > :first-child',rules:{'margin-block-start':'0'}},{selector:' > :last-child',rules:{'margin-block-end':'0'}},{selector:' > *',rules:{'margin-block-start':null,'margin-block-end':'0'}}]},constrained:{name:'constrained',slug:'constrained',className:'is-layout-constrained',baseStyles:[{selector:' > .alignleft',rules:{float:'left','margin-inline-start':'0','margin-inline-end':'2em'}},{selector:' > .alignright',rules:{float:'right','margin-inline-start':'2em','margin-inline-end':'0'}},{selector:' > .aligncenter',rules:{'margin-left':'auto !important','margin-right':'auto !important'}},{selector:' > :where(:not(.alignleft):not(.alignright):not(.alignfull))',rules:{'max-width':'var(--wp--style--global--content-size)','margin-left':'auto !important','margin-right':'auto !important'}},{selector:' > .alignwide',rules:{'max-width':'var(--wp--style--global--wide-size)'}}],spacingStyles:[{selector:' > :first-child',rules:{'margin-block-start':'0'}},{selector:' > :last-child',rules:{'margin-block-end':'0'}},{selector:' > *',rules:{'margin-block-start':null,'margin-block-end':'0'}}]},flex:{name:'flex',slug:'flex',className:'is-layout-flex',displayMode:'flex',baseStyles:[{selector:'',rules:{'flex-wrap':'wrap','align-items':'center'}},{selector:' > :is(*, div)',rules:{margin:'0'}}],spacingStyles:[{selector:'',rules:{gap:null}}]},grid:{name:'grid',slug:'grid',className:'is-layout-grid',displayMode:'grid',baseStyles:[{selector:' > :is(*, div)',rules:{margin:'0'}}],spacingStyles:[{selector:'',rules:{gap:null}}]}};;function appendSelectors(selectors,append=''){return selectors.split(',').map(subselector=>`${subselector}${append ? `${append}` : ''}`).join(',');}
function getBlockGapCSS(selector,layoutDefinitions=LAYOUT_DEFINITIONS,layoutType,blockGapValue){let output='';if(layoutDefinitions?.[layoutType]?.spacingStyles?.length&&blockGapValue){layoutDefinitions[layoutType].spacingStyles.forEach(gapStyle=>{output+=`${appendSelectors(selector, gapStyle.selector.trim())} { `;output+=Object.entries(gapStyle.rules).map(([cssProperty,value])=>`${cssProperty}: ${value ? value : blockGapValue}`).join('; ');output+='; }';});}
return output;}
function getAlignmentsInfo(layout){const{contentSize,wideSize,type='default'}=layout;const alignmentInfo={};const sizeRegex=/^(?!0)\d+(px|em|rem|vw|vh|%|svw|lvw|dvw|svh|lvh|dvh|vi|svi|lvi|dvi|vb|svb|lvb|dvb|vmin|svmin|lvmin|dvmin|vmax|svmax|lvmax|dvmax)?$/i;if(sizeRegex.test(contentSize)&&type==='constrained'){alignmentInfo.none=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Max %s wide'),contentSize);}
if(sizeRegex.test(wideSize)){alignmentInfo.wide=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Max %s wide'),wideSize);}
return alignmentInfo;};const sidesAll=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z"})});const sides_all=(sidesAll);;const sidesHorizontal=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:0.25}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m4.5 7.5v9h1.5v-9z"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m18 7.5v9h1.5v-9z"})]});const sides_horizontal=(sidesHorizontal);;const sidesVertical=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:0.25}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9z"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 19.5h9v-1.5h-9z"})]});const sides_vertical=(sidesVertical);;const sidesTop=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:0.25}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m16.5 6h-9v-1.5h9z"})]});const sides_top=(sidesTop);;const sidesRight=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:0.25}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m18 16.5v-9h1.5v9z"})]});const sides_right=(sidesRight);;const sidesBottom=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:0.25}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m16.5 19.5h-9v-1.5h9z"})]});const sides_bottom=(sidesBottom);;const sidesLeft=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:0.25}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m4.5 16.5v-9h1.5v9z"})]});const sides_left=(sidesLeft);;const RANGE_CONTROL_MAX_SIZE=8;const ALL_SIDES=['top','right','bottom','left'];const DEFAULT_VALUES={top:undefined,right:undefined,bottom:undefined,left:undefined};const ICONS={custom:sides_all,axial:sides_all,horizontal:sides_horizontal,vertical:sides_vertical,top:sides_top,right:sides_right,bottom:sides_bottom,left:sides_left};const LABELS={default:(0,external_wp_i18n_namespaceObject.__)('Spacing control'),top:(0,external_wp_i18n_namespaceObject.__)('Top'),bottom:(0,external_wp_i18n_namespaceObject.__)('Bottom'),left:(0,external_wp_i18n_namespaceObject.__)('Left'),right:(0,external_wp_i18n_namespaceObject.__)('Right'),mixed:(0,external_wp_i18n_namespaceObject.__)('Mixed'),vertical:(0,external_wp_i18n_namespaceObject.__)('Vertical'),horizontal:(0,external_wp_i18n_namespaceObject.__)('Horizontal'),axial:(0,external_wp_i18n_namespaceObject.__)('Horizontal & vertical'),custom:(0,external_wp_i18n_namespaceObject.__)('Custom')};const VIEWS={axial:'axial',top:'top',right:'right',bottom:'bottom',left:'left',custom:'custom'};function isValueSpacingPreset(value){if(!value?.includes){return false;}
return value==='0'||value.includes('var:preset|spacing|');}
function getCustomValueFromPreset(value,spacingSizes){if(!isValueSpacingPreset(value)){return value;}
const slug=getSpacingPresetSlug(value);const spacingSize=spacingSizes.find(size=>String(size.slug)===slug);return spacingSize?.size;}
function getPresetValueFromCustomValue(value,spacingSizes){if(!value||isValueSpacingPreset(value)||value==='0'){return value;}
const spacingMatch=spacingSizes.find(size=>String(size.size)===String(value));if(spacingMatch?.slug){return`var:preset|spacing|${spacingMatch.slug}`;}
return value;}
function getSpacingPresetCssVar(value){if(!value){return;}
const slug=value.match(/var:preset\|spacing\|(.+)/);if(!slug){return value;}
return`var(--wp--preset--spacing--${slug[1]})`;}
function getSpacingPresetSlug(value){if(!value){return;}
if(value==='0'||value==='default'){return value;}
const slug=value.match(/var:preset\|spacing\|(.+)/);return slug?slug[1]:undefined;}
function getSliderValueFromPreset(presetValue,spacingSizes){if(presetValue===undefined){return 0;}
const slug=parseFloat(presetValue,10)===0?'0':getSpacingPresetSlug(presetValue);const sliderValue=spacingSizes.findIndex(spacingSize=>{return String(spacingSize.slug)===slug;});return sliderValue!==-1?sliderValue:NaN;}
function hasAxisSupport(sides,axis){if(!sides||!sides.length){return false;}
const hasHorizontalSupport=sides.includes('horizontal')||sides.includes('left')&&sides.includes('right');const hasVerticalSupport=sides.includes('vertical')||sides.includes('top')&&sides.includes('bottom');if(axis==='horizontal'){return hasHorizontalSupport;}
if(axis==='vertical'){return hasVerticalSupport;}
return hasHorizontalSupport||hasVerticalSupport;}
function hasBalancedSidesSupport(sides=[]){const counts={top:0,right:0,bottom:0,left:0};sides.forEach(side=>counts[side]+=1);return(counts.top+counts.bottom)%2===0&&(counts.left+counts.right)%2===0;}
function getInitialView(values={},sides){const{top,right,bottom,left}=values;const sideValues=[top,right,bottom,left].filter(Boolean);const hasMatchingAxialValues=top===bottom&&left===right&&(!!top||!!left);const hasNoValuesAndBalancedSides=!sideValues.length&&hasBalancedSidesSupport(sides);const hasOnlyAxialSides=sides?.includes('horizontal')&&sides?.includes('vertical')&&sides?.length===2;if(hasAxisSupport(sides)&&(hasMatchingAxialValues||hasNoValuesAndBalancedSides)){return VIEWS.axial;}
if(hasOnlyAxialSides&&sideValues.length===1){let side;Object.entries(values).some(([key,value])=>{side=key;return value!==undefined;});return side;}
if(sides?.length===1&&!sideValues.length){return sides[0];}
return VIEWS.custom;};function getGapBoxControlValueFromStyle(blockGapValue){if(!blockGapValue){return null;}
const isValueString=typeof blockGapValue==='string';return{top:isValueString?blockGapValue:blockGapValue?.top,left:isValueString?blockGapValue:blockGapValue?.left};}
function getGapCSSValue(blockGapValue,defaultValue='0'){const blockGapBoxControlValue=getGapBoxControlValueFromStyle(blockGapValue);if(!blockGapBoxControlValue){return null;}
const row=getSpacingPresetCssVar(blockGapBoxControlValue?.top)||defaultValue;const column=getSpacingPresetCssVar(blockGapBoxControlValue?.left)||defaultValue;return row===column?row:`${row} ${column}`;};const justifyTop=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})});const justify_top=(justifyTop);;const justifyCenterVertical=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})});const justify_center_vertical=(justifyCenterVertical);;const justifyBottom=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})});const justify_bottom=(justifyBottom);;const justifyStretchVertical=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M4 4L20 4L20 5.5L4 5.5L4 4ZM10 7L14 7L14 17L10 17L10 7ZM20 18.5L4 18.5L4 20L20 20L20 18.5Z"})});const justify_stretch_vertical=(justifyStretchVertical);;const justifySpaceBetweenVertical=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M7 4H17V8L7 8V4ZM7 16L17 16V20L7 20V16ZM20 11.25H4V12.75H20V11.25Z"})});const justify_space_between_vertical=(justifySpaceBetweenVertical);;const BLOCK_ALIGNMENTS_CONTROLS={top:{icon:justify_top,title:(0,external_wp_i18n_namespaceObject._x)('Align top','Block vertical alignment setting')},center:{icon:justify_center_vertical,title:(0,external_wp_i18n_namespaceObject._x)('Align middle','Block vertical alignment setting')},bottom:{icon:justify_bottom,title:(0,external_wp_i18n_namespaceObject._x)('Align bottom','Block vertical alignment setting')},stretch:{icon:justify_stretch_vertical,title:(0,external_wp_i18n_namespaceObject._x)('Stretch to fill','Block vertical alignment setting')},'space-between':{icon:justify_space_between_vertical,title:(0,external_wp_i18n_namespaceObject._x)('Space between','Block vertical alignment setting')}};const DEFAULT_CONTROLS=['top','center','bottom'];const DEFAULT_CONTROL='top';function BlockVerticalAlignmentUI({value,onChange,controls=DEFAULT_CONTROLS,isCollapsed=true,isToolbar}){function applyOrUnset(align){return()=>onChange(value===align?undefined:align);}
const activeAlignment=BLOCK_ALIGNMENTS_CONTROLS[value];const defaultAlignmentControl=BLOCK_ALIGNMENTS_CONTROLS[DEFAULT_CONTROL];const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const extraProps=isToolbar?{isCollapsed}:{};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(UIComponent,{icon:activeAlignment?activeAlignment.icon:defaultAlignmentControl.icon,label:(0,external_wp_i18n_namespaceObject._x)('Change vertical alignment','Block vertical alignment setting label'),controls:controls.map(control=>{return{...BLOCK_ALIGNMENTS_CONTROLS[control],isActive:value===control,role:isCollapsed?'menuitemradio':undefined,onClick:applyOrUnset(control)};}),...extraProps});}
const ui=(BlockVerticalAlignmentUI);;const BlockVerticalAlignmentControl=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ui,{...props,isToolbar:false});};const BlockVerticalAlignmentToolbar=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ui,{...props,isToolbar:true});};;const icons={left:justify_left,center:justify_center,right:justify_right,'space-between':justify_space_between,stretch:justify_stretch};function JustifyContentUI({allowedControls=['left','center','right','space-between'],isCollapsed=true,onChange,value,popoverProps,isToolbar}){const handleClick=next=>{if(next===value){onChange(undefined);}else{onChange(next);}};const icon=value?icons[value]:icons.left;const allControls=[{name:'left',icon:justify_left,title:(0,external_wp_i18n_namespaceObject.__)('Justify items left'),isActive:'left'===value,onClick:()=>handleClick('left')},{name:'center',icon:justify_center,title:(0,external_wp_i18n_namespaceObject.__)('Justify items center'),isActive:'center'===value,onClick:()=>handleClick('center')},{name:'right',icon:justify_right,title:(0,external_wp_i18n_namespaceObject.__)('Justify items right'),isActive:'right'===value,onClick:()=>handleClick('right')},{name:'space-between',icon:justify_space_between,title:(0,external_wp_i18n_namespaceObject.__)('Space between items'),isActive:'space-between'===value,onClick:()=>handleClick('space-between')},{name:'stretch',icon:justify_stretch,title:(0,external_wp_i18n_namespaceObject.__)('Stretch items'),isActive:'stretch'===value,onClick:()=>handleClick('stretch')}];const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const extraProps=isToolbar?{isCollapsed}:{};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(UIComponent,{icon:icon,popoverProps:popoverProps,label:(0,external_wp_i18n_namespaceObject.__)('Change items justification'),controls:allControls.filter(elem=>allowedControls.includes(elem.name)),...extraProps});}
const justify_content_control_ui=(JustifyContentUI);;const JustifyContentControl=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(justify_content_control_ui,{...props,isToolbar:false});};const JustifyToolbar=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(justify_content_control_ui,{...props,isToolbar:true});};;const justifyContentMap={left:'flex-start',right:'flex-end',center:'center','space-between':'space-between'};const alignItemsMap={left:'flex-start',right:'flex-end',center:'center',stretch:'stretch'};const verticalAlignmentMap={top:'flex-start',center:'center',bottom:'flex-end',stretch:'stretch','space-between':'space-between'};const flexWrapOptions=['wrap','nowrap'];const flex=({name:'flex',label:(0,external_wp_i18n_namespaceObject.__)('Flex'),inspectorControls:function FlexLayoutInspectorControls({layout={},onChange,layoutBlockSupport={}}){const{allowOrientation=true,allowJustification=true}=layoutBlockSupport;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{children:[allowJustification&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange})}),allowOrientation&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(OrientationControl,{layout:layout,onChange:onChange})})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(FlexWrapControl,{layout:layout,onChange:onChange})]});},toolBarControls:function FlexLayoutToolbarControls({layout={},onChange,layoutBlockSupport}){const{allowVerticalAlignment=true,allowJustification=true}=layoutBlockSupport;if(!allowJustification&&!allowVerticalAlignment){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(block_controls,{group:"block",__experimentalShareWithChildBlocks:true,children:[allowJustification&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange,isToolbar:true}),allowVerticalAlignment&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(FlexLayoutVerticalAlignmentControl,{layout:layout,onChange:onChange})]});},getLayoutStyle:function getLayoutStyle({selector,layout,style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const{orientation='horizontal'}=layout;const blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,'spacing','blockGap')?getGapCSSValue(style?.spacing?.blockGap,'0.5em'):undefined;const justifyContent=justifyContentMap[layout.justifyContent];const flexWrap=flexWrapOptions.includes(layout.flexWrap)?layout.flexWrap:'wrap';const verticalAlignment=verticalAlignmentMap[layout.verticalAlignment];const alignItems=alignItemsMap[layout.justifyContent]||alignItemsMap.left;let output='';const rules=[];if(flexWrap&&flexWrap!=='wrap'){rules.push(`flex-wrap: ${flexWrap}`);}
if(orientation==='horizontal'){if(verticalAlignment){rules.push(`align-items: ${verticalAlignment}`);}
if(justifyContent){rules.push(`justify-content: ${justifyContent}`);}}else{if(verticalAlignment){rules.push(`justify-content: ${verticalAlignment}`);}
rules.push('flex-direction: column');rules.push(`align-items: ${alignItems}`);}
if(rules.length){output=`${appendSelectors(selector)} {
    ${rules.join('; ')};
   }`;}
if(hasBlockGapSupport&&blockGapValue){output+=getBlockGapCSS(selector,layoutDefinitions,'flex',blockGapValue);}
return output;},getOrientation(layout){const{orientation='horizontal'}=layout;return orientation;},getAlignments(){return[];}});function FlexLayoutVerticalAlignmentControl({layout,onChange}){const{orientation='horizontal'}=layout;const defaultVerticalAlignment=orientation==='horizontal'?verticalAlignmentMap.center:verticalAlignmentMap.top;const{verticalAlignment=defaultVerticalAlignment}=layout;const onVerticalAlignmentChange=value=>{onChange({...layout,verticalAlignment:value});};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockVerticalAlignmentControl,{onChange:onVerticalAlignmentChange,value:verticalAlignment,controls:orientation==='horizontal'?['top','center','bottom','stretch']:['top','center','bottom','space-between']});}
const POPOVER_PROPS={placement:'bottom-start'};function FlexLayoutJustifyContentControl({layout,onChange,isToolbar=false}){const{justifyContent='left',orientation='horizontal'}=layout;const onJustificationChange=value=>{onChange({...layout,justifyContent:value});};const allowedControls=['left','center','right'];if(orientation==='horizontal'){allowedControls.push('space-between');}else{allowedControls.push('stretch');}
if(isToolbar){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(JustifyContentControl,{allowedControls:allowedControls,value:justifyContent,onChange:onJustificationChange,popoverProps:POPOVER_PROPS});}
const justificationOptions=[{value:'left',icon:justify_left,label:(0,external_wp_i18n_namespaceObject.__)('Justify items left')},{value:'center',icon:justify_center,label:(0,external_wp_i18n_namespaceObject.__)('Justify items center')},{value:'right',icon:justify_right,label:(0,external_wp_i18n_namespaceObject.__)('Justify items right')}];if(orientation==='horizontal'){justificationOptions.push({value:'space-between',icon:justify_space_between,label:(0,external_wp_i18n_namespaceObject.__)('Space between items')});}else{justificationOptions.push({value:'stretch',icon:justify_stretch,label:(0,external_wp_i18n_namespaceObject.__)('Stretch items')});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Justification'),value:justifyContent,onChange:onJustificationChange,className:"block-editor-hooks__flex-layout-justification-controls",children:justificationOptions.map(({value,icon,label})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{value:value,icon:icon,label:label},value);})});}
function FlexWrapControl({layout,onChange}){const{flexWrap='wrap'}=layout;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Allow to wrap to multiple lines'),onChange:value=>{onChange({...layout,flexWrap:value?'wrap':'nowrap'});},checked:flexWrap==='wrap'});}
function OrientationControl({layout,onChange}){const{orientation='horizontal',verticalAlignment,justifyContent}=layout;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,className:"block-editor-hooks__flex-layout-orientation-controls",label:(0,external_wp_i18n_namespaceObject.__)('Orientation'),value:orientation,onChange:value=>{let newVerticalAlignment=verticalAlignment;let newJustification=justifyContent;if(value==='horizontal'){if(verticalAlignment==='space-between'){newVerticalAlignment='center';}
if(justifyContent==='stretch'){newJustification='left';}}else{if(verticalAlignment==='stretch'){newVerticalAlignment='top';}
if(justifyContent==='space-between'){newJustification='left';}}
return onChange({...layout,orientation:value,verticalAlignment:newVerticalAlignment,justifyContent:newJustification});},children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{icon:arrow_right,value:"horizontal",label:(0,external_wp_i18n_namespaceObject.__)('Horizontal')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{icon:arrow_down,value:"vertical",label:(0,external_wp_i18n_namespaceObject.__)('Vertical')})]});};const flow=({name:'default',label:(0,external_wp_i18n_namespaceObject.__)('Flow'),inspectorControls:function DefaultLayoutInspectorControls(){return null;},toolBarControls:function DefaultLayoutToolbarControls(){return null;},getLayoutStyle:function getLayoutStyle({selector,style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue='';if(!shouldSkipSerialization(blockName,'spacing','blockGap')){if(blockGapStyleValue?.top){blockGapValue=getGapCSSValue(blockGapStyleValue?.top);}else if(typeof blockGapStyleValue==='string'){blockGapValue=getGapCSSValue(blockGapStyleValue);}}
let output='';if(hasBlockGapSupport&&blockGapValue){output+=getBlockGapCSS(selector,layoutDefinitions,'default',blockGapValue);}
return output;},getOrientation(){return'vertical';},getAlignments(layout,isBlockBasedTheme){const alignmentInfo=getAlignmentsInfo(layout);if(layout.alignments!==undefined){if(!layout.alignments.includes('none')){layout.alignments.unshift('none');}
return layout.alignments.map(alignment=>({name:alignment,info:alignmentInfo[alignment]}));}
const alignments=[{name:'left'},{name:'center'},{name:'right'}];if(!isBlockBasedTheme){const{contentSize,wideSize}=layout;if(contentSize){alignments.unshift({name:'full'});}
if(wideSize){alignments.unshift({name:'wide',info:alignmentInfo.wide});}}
alignments.unshift({name:'none',info:alignmentInfo.none});return alignments;}});;function Icon({icon,size=24,...props},ref){return(0,external_wp_element_namespaceObject.cloneElement)(icon,{width:size,height:size,...props,ref});}
const build_module_icon=((0,external_wp_element_namespaceObject.forwardRef)(Icon));;const alignNone=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M19 5.5H5V4h14v1.5ZM19 20H5v-1.5h14V20ZM5 9h14v6H5V9Z"})});const align_none=(alignNone);;const stretchWide=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M16 5.5H8V4h8v1.5ZM16 20H8v-1.5h8V20ZM5 9h14v6H5V9Z"})});const stretch_wide=(stretchWide);;const constrained=({name:'constrained',label:(0,external_wp_i18n_namespaceObject.__)('Constrained'),inspectorControls:function DefaultLayoutInspectorControls({layout,onChange,layoutBlockSupport={}}){const{wideSize,contentSize,justifyContent='center'}=layout;const{allowJustification=true,allowCustomContentAndWideSize=true}=layoutBlockSupport;const onJustificationChange=value=>{onChange({...layout,justifyContent:value});};const justificationOptions=[{value:'left',icon:justify_left,label:(0,external_wp_i18n_namespaceObject.__)('Justify items left')},{value:'center',icon:justify_center,label:(0,external_wp_i18n_namespaceObject.__)('Justify items center')},{value:'right',icon:justify_right,label:(0,external_wp_i18n_namespaceObject.__)('Justify items right')}];const[availableUnits]=use_settings_useSettings('spacing.units');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:availableUnits||['%','px','em','rem','vw']});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:4,className:"block-editor-hooks__layout-constrained",children:[allowCustomContentAndWideSize&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Content width'),labelPosition:"top",value:contentSize||wideSize||'',onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?'0':nextWidth;onChange({...layout,contentSize:nextWidth});},units:units,prefix:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:align_none})})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Wide width'),labelPosition:"top",value:wideSize||contentSize||'',onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?'0':nextWidth;onChange({...layout,wideSize:nextWidth});},units:units,prefix:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:stretch_wide})})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{className:"block-editor-hooks__layout-constrained-helptext",children:(0,external_wp_i18n_namespaceObject.__)('Customize the width for all elements that are assigned to the center or wide columns.')})]}),allowJustification&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Justification'),value:justifyContent,onChange:onJustificationChange,children:justificationOptions.map(({value,icon,label})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{value:value,icon:icon,label:label},value);})})]});},toolBarControls:function DefaultLayoutToolbarControls({layout={},onChange,layoutBlockSupport}){const{allowJustification=true}=layoutBlockSupport;if(!allowJustification){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls,{group:"block",__experimentalShareWithChildBlocks:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(DefaultLayoutJustifyContentControl,{layout:layout,onChange:onChange})});},getLayoutStyle:function getLayoutStyle({selector,layout={},style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const{contentSize,wideSize,justifyContent}=layout;const blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue='';if(!shouldSkipSerialization(blockName,'spacing','blockGap')){if(blockGapStyleValue?.top){blockGapValue=getGapCSSValue(blockGapStyleValue?.top);}else if(typeof blockGapStyleValue==='string'){blockGapValue=getGapCSSValue(blockGapStyleValue);}}
const marginLeft=justifyContent==='left'?'0 !important':'auto !important';const marginRight=justifyContent==='right'?'0 !important':'auto !important';let output=!!contentSize||!!wideSize?`
     ${appendSelectors(selector, '> :where(:not(.alignleft):not(.alignright):not(.alignfull))')} {
      max-width: ${contentSize !== null && contentSize !== void 0 ? contentSize : wideSize};
      margin-left: ${marginLeft};
      margin-right: ${marginRight};
     }
     ${appendSelectors(selector, '> .alignwide')}  {
      max-width: ${wideSize !== null && wideSize !== void 0 ? wideSize : contentSize};
     }
     ${appendSelectors(selector, '> .alignfull')} {
      max-width: none;
     }
    `:'';if(justifyContent==='left'){output+=`${appendSelectors(selector, '> :where(:not(.alignleft):not(.alignright):not(.alignfull))')}
   { margin-left: ${marginLeft}; }`;}else if(justifyContent==='right'){output+=`${appendSelectors(selector, '> :where(:not(.alignleft):not(.alignright):not(.alignfull))')}
   { margin-right: ${marginRight}; }`;}
if(style?.spacing?.padding){const paddingValues=(0,external_wp_styleEngine_namespaceObject.getCSSRules)(style);paddingValues.forEach(rule=>{if(rule.key==='paddingRight'){const paddingRightValue=rule.value==='0'?'0px':rule.value;output+=`
     ${appendSelectors(selector, '> .alignfull')} {
      margin-right: calc(${paddingRightValue} * -1);
     }
     `;}else if(rule.key==='paddingLeft'){const paddingLeftValue=rule.value==='0'?'0px':rule.value;output+=`
     ${appendSelectors(selector, '> .alignfull')} {
      margin-left: calc(${paddingLeftValue} * -1);
     }
     `;}});}
if(hasBlockGapSupport&&blockGapValue){output+=getBlockGapCSS(selector,layoutDefinitions,'constrained',blockGapValue);}
return output;},getOrientation(){return'vertical';},getAlignments(layout){const alignmentInfo=getAlignmentsInfo(layout);if(layout.alignments!==undefined){if(!layout.alignments.includes('none')){layout.alignments.unshift('none');}
return layout.alignments.map(alignment=>({name:alignment,info:alignmentInfo[alignment]}));}
const{contentSize,wideSize}=layout;const alignments=[{name:'left'},{name:'center'},{name:'right'}];if(contentSize){alignments.unshift({name:'full'});}
if(wideSize){alignments.unshift({name:'wide',info:alignmentInfo.wide});}
alignments.unshift({name:'none',info:alignmentInfo.none});return alignments;}});const constrained_POPOVER_PROPS={placement:'bottom-start'};function DefaultLayoutJustifyContentControl({layout,onChange}){const{justifyContent='center'}=layout;const onJustificationChange=value=>{onChange({...layout,justifyContent:value});};const allowedControls=['left','center','right'];return(0,external_ReactJSXRuntime_namespaceObject.jsx)(JustifyContentControl,{allowedControls:allowedControls,value:justifyContent,onChange:onJustificationChange,popoverProps:constrained_POPOVER_PROPS});};const RANGE_CONTROL_MAX_VALUES={px:600,'%':100,vw:100,vh:100,em:38,rem:38,svw:100,lvw:100,dvw:100,svh:100,lvh:100,dvh:100,vi:100,svi:100,lvi:100,dvi:100,vb:100,svb:100,lvb:100,dvb:100,vmin:100,svmin:100,lvmin:100,dvmin:100,vmax:100,svmax:100,lvmax:100,dvmax:100};const units=[{value:'px',label:'px',default:0},{value:'rem',label:'rem',default:0},{value:'em',label:'em',default:0}];const grid=({name:'grid',label:(0,external_wp_i18n_namespaceObject.__)('Grid'),inspectorControls:function GridLayoutInspectorControls({layout={},onChange,layoutBlockSupport={}}){const{allowSizingOnChildren=false}=layoutBlockSupport;const showColumnsControl=window.__experimentalEnableGridInteractivity||!!layout?.columnCount;const showMinWidthControl=window.__experimentalEnableGridInteractivity||!layout?.columnCount;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridLayoutTypeControl,{layout:layout,onChange:onChange}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:4,children:[showColumnsControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridLayoutColumnsAndRowsControl,{layout:layout,onChange:onChange,allowSizingOnChildren:allowSizingOnChildren}),showMinWidthControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridLayoutMinimumWidthControl,{layout:layout,onChange:onChange})]})]});},toolBarControls:function GridLayoutToolbarControls(){return null;},getLayoutStyle:function getLayoutStyle({selector,layout,style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const{minimumColumnWidth=null,columnCount=null,rowCount=null}=layout;if(false){}
const blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,'spacing','blockGap')?getGapCSSValue(style?.spacing?.blockGap,'0.5em'):undefined;let output='';const rules=[];if(minimumColumnWidth&&columnCount>0){const maxValue=`max(${minimumColumnWidth}, ( 100% - (${blockGapValue || '1.2rem'}*${columnCount - 1}) ) / ${columnCount})`;rules.push(`grid-template-columns: repeat(auto-fill, minmax(${maxValue}, 1fr))`,`container-type: inline-size`);if(rowCount){rules.push(`grid-template-rows: repeat(${rowCount}, minmax(1rem, auto))`);}}else if(columnCount){rules.push(`grid-template-columns: repeat(${columnCount}, minmax(0, 1fr))`);if(rowCount){rules.push(`grid-template-rows: repeat(${rowCount}, minmax(1rem, auto))`);}}else{rules.push(`grid-template-columns: repeat(auto-fill, minmax(min(${minimumColumnWidth || '12rem'}, 100%), 1fr))`,'container-type: inline-size');}
if(rules.length){output=`${appendSelectors(selector)} { ${rules.join('; ')}; }`;}
if(hasBlockGapSupport&&blockGapValue){output+=getBlockGapCSS(selector,layoutDefinitions,'grid',blockGapValue);}
return output;},getOrientation(){return'horizontal';},getAlignments(){return[];}});function GridLayoutMinimumWidthControl({layout,onChange}){const{minimumColumnWidth,columnCount,isManualPlacement}=layout;const defaultValue=isManualPlacement||columnCount?null:'12rem';const value=minimumColumnWidth||defaultValue;const[quantity,unit='rem']=(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(value);const handleSliderChange=next=>{onChange({...layout,minimumColumnWidth:[next,unit].join('')});};const handleUnitChange=newUnit=>{let newValue;if(['em','rem'].includes(newUnit)&&unit==='px'){newValue=(quantity / 16).toFixed(2)+newUnit;}else if(['em','rem'].includes(unit)&&newUnit==='px'){newValue=Math.round(quantity*16)+newUnit;}
onChange({...layout,minimumColumnWidth:newValue});};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend",children:(0,external_wp_i18n_namespaceObject.__)('Minimum column width')}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{gap:4,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{size:"__unstable-large",onChange:newValue=>{onChange({...layout,minimumColumnWidth:newValue===''?undefined:newValue});},onUnitChange:handleUnitChange,value:value,units:units,min:0,label:(0,external_wp_i18n_namespaceObject.__)('Minimum column width'),hideLabelFromVision:true})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.RangeControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,onChange:handleSliderChange,value:quantity||0,min:0,max:RANGE_CONTROL_MAX_VALUES[unit]||600,withInputField:false,label:(0,external_wp_i18n_namespaceObject.__)('Minimum column width'),hideLabelFromVision:true})})]})]});}
function GridLayoutColumnsAndRowsControl({layout,onChange,allowSizingOnChildren}){const defaultColumnCount=window.__experimentalEnableGridInteractivity?undefined:3;const{columnCount=defaultColumnCount,rowCount,isManualPlacement}=layout;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{children:[(!window.__experimentalEnableGridInteractivity||!isManualPlacement)&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend",children:(0,external_wp_i18n_namespaceObject.__)('Columns')}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{gap:4,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalNumberControl,{size:"__unstable-large",onChange:value=>{if(window.__experimentalEnableGridInteractivity){const defaultNewColumnCount=isManualPlacement?1:undefined;const newColumnCount=value===''||value==='0'?defaultNewColumnCount:parseInt(value,10);onChange({...layout,columnCount:newColumnCount});}else{const newColumnCount=value===''||value==='0'?1:parseInt(value,10);onChange({...layout,columnCount:newColumnCount});}},value:columnCount,min:1,label:(0,external_wp_i18n_namespaceObject.__)('Columns'),hideLabelFromVision:!window.__experimentalEnableGridInteractivity||!isManualPlacement})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,children:window.__experimentalEnableGridInteractivity&&allowSizingOnChildren&&isManualPlacement?(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalNumberControl,{size:"__unstable-large",onChange:value=>{const newRowCount=value===''||value==='0'?1:parseInt(value,10);onChange({...layout,rowCount:newRowCount});},value:rowCount,min:1,label:(0,external_wp_i18n_namespaceObject.__)('Rows')}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.RangeControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,value:columnCount!==null&&columnCount!==void 0?columnCount:1,onChange:value=>onChange({...layout,columnCount:value===''||value==='0'?1:value}),min:1,max:16,withInputField:false,label:(0,external_wp_i18n_namespaceObject.__)('Columns'),hideLabelFromVision:true})})]})]})});}
function GridLayoutTypeControl({layout,onChange}){const{columnCount,rowCount,minimumColumnWidth,isManualPlacement}=layout;const[tempColumnCount,setTempColumnCount]=(0,external_wp_element_namespaceObject.useState)(columnCount||3);const[tempRowCount,setTempRowCount]=(0,external_wp_element_namespaceObject.useState)(rowCount);const[tempMinimumColumnWidth,setTempMinimumColumnWidth]=(0,external_wp_element_namespaceObject.useState)(minimumColumnWidth||'12rem');const gridPlacement=isManualPlacement||!!columnCount&&!window.__experimentalEnableGridInteractivity?'manual':'auto';const onChangeType=value=>{if(value==='manual'){setTempMinimumColumnWidth(minimumColumnWidth||'12rem');}else{setTempColumnCount(columnCount||3);setTempRowCount(rowCount);}
onChange({...layout,columnCount:value==='manual'?tempColumnCount:null,rowCount:value==='manual'&&window.__experimentalEnableGridInteractivity?tempRowCount:undefined,isManualPlacement:value==='manual'&&window.__experimentalEnableGridInteractivity?true:undefined,minimumColumnWidth:value==='auto'?tempMinimumColumnWidth:null});};const helpText=gridPlacement==='manual'?(0,external_wp_i18n_namespaceObject.__)('Grid items can be manually placed in any position on the grid.'):(0,external_wp_i18n_namespaceObject.__)('Grid items are placed automatically depending on their order.');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Grid item position'),value:gridPlacement,onChange:onChangeType,isBlock:true,help:window.__experimentalEnableGridInteractivity?helpText:undefined,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"auto",label:(0,external_wp_i18n_namespaceObject.__)('Auto')},"auto"),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"manual",label:(0,external_wp_i18n_namespaceObject.__)('Manual')},"manual")]});};const layoutTypes=[flow,flex,constrained,grid];function getLayoutType(name='default'){return layoutTypes.find(layoutType=>layoutType.name===name);}
function getLayoutTypes(){return layoutTypes;};const defaultLayout={type:'default'};const Layout=(0,external_wp_element_namespaceObject.createContext)(defaultLayout);const LayoutProvider=Layout.Provider;function useLayout(){return(0,external_wp_element_namespaceObject.useContext)(Layout);}
function LayoutStyle({layout={},css,...props}){const layoutType=getLayoutType(layout.type);const[blockGapSupport]=use_settings_useSettings('spacing.blockGap');const hasBlockGapSupport=blockGapSupport!==null;if(layoutType){if(css){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("style",{children:css});}
const layoutStyle=layoutType.getLayoutStyle?.({hasBlockGapSupport,layout,...props});if(layoutStyle){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("style",{children:layoutStyle});}}
return null;};const use_available_alignments_EMPTY_ARRAY=[];const use_available_alignments_DEFAULT_CONTROLS=['none','left','center','right','wide','full'];const WIDE_CONTROLS=['wide','full'];function useAvailableAlignments(controls=use_available_alignments_DEFAULT_CONTROLS){if(!controls.includes('none')){controls=['none',...controls];}
const isNoneOnly=controls.length===1&&controls[0]==='none';const[wideControlsEnabled,themeSupportsLayout,isBlockBasedTheme]=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _settings$alignWide;if(isNoneOnly){return[false,false,false];}
const settings=select(store).getSettings();return[(_settings$alignWide=settings.alignWide)!==null&&_settings$alignWide!==void 0?_settings$alignWide:false,settings.supportsLayout,settings.__unstableIsBlockBasedTheme];},[isNoneOnly]);const layout=useLayout();if(isNoneOnly){return use_available_alignments_EMPTY_ARRAY;}
const layoutType=getLayoutType(layout?.type);if(themeSupportsLayout){const layoutAlignments=layoutType.getAlignments(layout,isBlockBasedTheme);const alignments=layoutAlignments.filter(alignment=>controls.includes(alignment.name));if(alignments.length===1&&alignments[0].name==='none'){return use_available_alignments_EMPTY_ARRAY;}
return alignments;}
if(layoutType.name!=='default'&&layoutType.name!=='constrained'){return use_available_alignments_EMPTY_ARRAY;}
const alignments=controls.filter(control=>{if(layout.alignments){return layout.alignments.includes(control);}
if(!wideControlsEnabled&&WIDE_CONTROLS.includes(control)){return false;}
return use_available_alignments_DEFAULT_CONTROLS.includes(control);}).map(name=>({name}));if(alignments.length===1&&alignments[0].name==='none'){return use_available_alignments_EMPTY_ARRAY;}
return alignments;};const positionLeft=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M5 5.5h8V4H5v1.5ZM5 20h8v-1.5H5V20ZM19 9H5v6h14V9Z"})});const position_left=(positionLeft);;const positionCenter=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M19 5.5H5V4h14v1.5ZM19 20H5v-1.5h14V20ZM7 9h10v6H7V9Z"})});const position_center=(positionCenter);;const positionRight=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M19 5.5h-8V4h8v1.5ZM19 20h-8v-1.5h8V20ZM5 9h14v6H5V9Z"})});const position_right=(positionRight);;const stretchFullWidth=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M5 4h14v11H5V4Zm11 16H8v-1.5h8V20Z"})});const stretch_full_width=(stretchFullWidth);;const constants_BLOCK_ALIGNMENTS_CONTROLS={none:{icon:align_none,title:(0,external_wp_i18n_namespaceObject._x)('None','Alignment option')},left:{icon:position_left,title:(0,external_wp_i18n_namespaceObject.__)('Align left')},center:{icon:position_center,title:(0,external_wp_i18n_namespaceObject.__)('Align center')},right:{icon:position_right,title:(0,external_wp_i18n_namespaceObject.__)('Align right')},wide:{icon:stretch_wide,title:(0,external_wp_i18n_namespaceObject.__)('Wide width')},full:{icon:stretch_full_width,title:(0,external_wp_i18n_namespaceObject.__)('Full width')}};const constants_DEFAULT_CONTROL='none';;function BlockAlignmentUI({value,onChange,controls,isToolbar,isCollapsed=true}){const enabledControls=useAvailableAlignments(controls);const hasEnabledControls=!!enabledControls.length;if(!hasEnabledControls){return null;}
function onChangeAlignment(align){onChange([value,'none'].includes(align)?undefined:align);}
const activeAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS[value];const defaultAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS[constants_DEFAULT_CONTROL];const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const commonProps={icon:activeAlignmentControl?activeAlignmentControl.icon:defaultAlignmentControl.icon,label:(0,external_wp_i18n_namespaceObject.__)('Align')};const extraProps=isToolbar?{isCollapsed,controls:enabledControls.map(({name:controlName})=>{return{...constants_BLOCK_ALIGNMENTS_CONTROLS[controlName],isActive:value===controlName||!value&&controlName==='none',role:isCollapsed?'menuitemradio':undefined,onClick:()=>onChangeAlignment(controlName)};})}:{toggleProps:{description:(0,external_wp_i18n_namespaceObject.__)('Change alignment')},children:({onClose})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{className:"block-editor-block-alignment-control__menu-group",children:enabledControls.map(({name:controlName,info})=>{const{icon,title}=constants_BLOCK_ALIGNMENTS_CONTROLS[controlName];const isSelected=controlName===value||!value&&controlName==='none';return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{icon:icon,iconPosition:"left",className:dist_clsx('components-dropdown-menu__menu-item',{'is-active':isSelected}),isSelected:isSelected,onClick:()=>{onChangeAlignment(controlName);onClose();},role:"menuitemradio",info:info,children:title},controlName);})})});}};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(UIComponent,{...commonProps,...extraProps});}
const block_alignment_control_ui=(BlockAlignmentUI);;const BlockAlignmentControl=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_alignment_control_ui,{...props,isToolbar:false});};const BlockAlignmentToolbar=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_alignment_control_ui,{...props,isToolbar:true});};;function useBlockEditingMode(mode){const context=useBlockEditContext();const{clientId=''}=context;const{setBlockEditingMode,unsetBlockEditingMode}=(0,external_wp_data_namespaceObject.useDispatch)(store);const globalBlockEditingMode=(0,external_wp_data_namespaceObject.useSelect)(select=>clientId?null:select(store).getBlockEditingMode(),[clientId]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(mode){setBlockEditingMode(clientId,mode);}
return()=>{if(mode){unsetBlockEditingMode(clientId);}};},[clientId,mode,setBlockEditingMode,unsetBlockEditingMode]);return clientId?context[blockEditingModeKey]:globalBlockEditingMode;};const ALL_ALIGNMENTS=['left','center','right','wide','full'];const WIDE_ALIGNMENTS=['wide','full'];function getValidAlignments(blockAlign,hasWideBlockSupport=true,hasWideEnabled=true){let validAlignments;if(Array.isArray(blockAlign)){validAlignments=ALL_ALIGNMENTS.filter(value=>blockAlign.includes(value));}else if(blockAlign===true){validAlignments=[...ALL_ALIGNMENTS];}else{validAlignments=[];}
if(!hasWideEnabled||blockAlign===true&&!hasWideBlockSupport){return validAlignments.filter(alignment=>!WIDE_ALIGNMENTS.includes(alignment));}
return validAlignments;}
function addAttribute(settings){var _settings$attributes$;if('type'in((_settings$attributes$=settings.attributes?.align)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'align')){settings.attributes={...settings.attributes,align:{type:'string',enum:[...ALL_ALIGNMENTS,'']}};}
return settings;}
function BlockEditAlignmentToolbarControlsPure({name:blockName,align,setAttributes}){const blockAllowedAlignments=getValidAlignments((0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,'align'),(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'alignWide',true));const validAlignments=useAvailableAlignments(blockAllowedAlignments).map(({name})=>name);const blockEditingMode=useBlockEditingMode();if(!validAlignments.length||blockEditingMode!=='default'){return null;}
const updateAlignment=nextAlign=>{if(!nextAlign){const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);const blockDefaultAlign=blockType?.attributes?.align?.default;if(blockDefaultAlign){nextAlign='';}}
setAttributes({align:nextAlign});};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls,{group:"block",__experimentalShareWithChildBlocks:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockAlignmentControl,{value:align,onChange:updateAlignment,controls:validAlignments})});}
const align=({shareWithChildBlocks:true,edit:BlockEditAlignmentToolbarControlsPure,useBlockProps,addSaveProps:addAssignedAlign,attributeKeys:['align'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'align',false);}});function useBlockProps({name,align}){const blockAllowedAlignments=getValidAlignments((0,external_wp_blocks_namespaceObject.getBlockSupport)(name,'align'),(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'alignWide',true));const validAlignments=useAvailableAlignments(blockAllowedAlignments);if(validAlignments.some(alignment=>alignment.name===align)){return{'data-align':align};}
return{};}
function addAssignedAlign(props,blockType,attributes){const{align}=attributes;const blockAlign=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,'align');const hasWideBlockSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'alignWide',true);const isAlignValid=getValidAlignments(blockAlign,hasWideBlockSupport).includes(align);if(isAlignValid){props.className=dist_clsx(`align${align}`,props.className);}
return props;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/editor/align/addAttribute',addAttribute);;const InspectorControlsDefault=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControls');const InspectorControlsAdvanced=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorAdvancedControls');const InspectorControlsBindings=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsBindings');const InspectorControlsBackground=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsBackground');const InspectorControlsBorder=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsBorder');const InspectorControlsColor=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsColor');const InspectorControlsFilter=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsFilter');const InspectorControlsDimensions=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsDimensions');const InspectorControlsPosition=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsPosition');const InspectorControlsTypography=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsTypography');const InspectorControlsListView=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsListView');const InspectorControlsStyles=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsStyles');const InspectorControlsEffects=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsEffects');const groups_groups={default:InspectorControlsDefault,advanced:InspectorControlsAdvanced,background:InspectorControlsBackground,bindings:InspectorControlsBindings,border:InspectorControlsBorder,color:InspectorControlsColor,dimensions:InspectorControlsDimensions,effects:InspectorControlsEffects,filter:InspectorControlsFilter,list:InspectorControlsListView,position:InspectorControlsPosition,settings:InspectorControlsDefault,styles:InspectorControlsStyles,typography:InspectorControlsTypography};const inspector_controls_groups=(groups_groups);;function InspectorControlsFill({children,group='default',__experimentalGroup,resetAllFilter}){if(__experimentalGroup){external_wp_deprecated_default()('`__experimentalGroup` property in `InspectorControlsFill`',{since:'6.2',version:'6.4',alternative:'`group`'});group=__experimentalGroup;}
const context=useBlockEditContext();const Fill=inspector_controls_groups[group]?.Fill;if(!Fill){true?external_wp_warning_default()(`Unknown InspectorControls group "${group}" provided.`):0;return null;}
if(!context[mayDisplayControlsKey]){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:document,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(Fill,{children:fillProps=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ToolsPanelInspectorControl,{fillProps:fillProps,children:children,resetAllFilter:resetAllFilter});}})});}
function RegisterResetAll({resetAllFilter,children}){const{registerResetAllFilter,deregisterResetAllFilter}=(0,external_wp_element_namespaceObject.useContext)(external_wp_components_namespaceObject.__experimentalToolsPanelContext);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(resetAllFilter&&registerResetAllFilter&&deregisterResetAllFilter){registerResetAllFilter(resetAllFilter);return()=>{deregisterResetAllFilter(resetAllFilter);};}},[resetAllFilter,registerResetAllFilter,deregisterResetAllFilter]);return children;}
function ToolsPanelInspectorControl({children,resetAllFilter,fillProps}){const{forwardedContext=[]}=fillProps;const innerMarkup=(0,external_ReactJSXRuntime_namespaceObject.jsx)(RegisterResetAll,{resetAllFilter:resetAllFilter,children:children});return forwardedContext.reduce((inner,[Provider,props])=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(Provider,{...props,children:inner}),innerMarkup);};function BlockSupportToolsPanel({children,group,label}){const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{getBlockAttributes,getMultiSelectedBlockClientIds,getSelectedBlockClientId,hasMultiSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);const dropdownMenuProps=useToolsPanelDropdownMenuProps();const panelId=getSelectedBlockClientId();const resetAll=(0,external_wp_element_namespaceObject.useCallback)((resetFilters=[])=>{const newAttributes={};const clientIds=hasMultiSelection()?getMultiSelectedBlockClientIds():[panelId];clientIds.forEach(clientId=>{const{style}=getBlockAttributes(clientId);let newBlockAttributes={style};resetFilters.forEach(resetFilter=>{newBlockAttributes={...newBlockAttributes,...resetFilter(newBlockAttributes)};});newBlockAttributes={...newBlockAttributes,style:utils_cleanEmptyObject(newBlockAttributes.style)};newAttributes[clientId]=newBlockAttributes;});updateBlockAttributes(clientIds,newAttributes,true);},[getBlockAttributes,getMultiSelectedBlockClientIds,hasMultiSelection,panelId,updateBlockAttributes]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{className:`${group}-block-support-panel`,label:label,resetAll:resetAll,panelId:panelId,hasInnerWrapper:true,shouldRenderPlaceholderItems:true,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",dropdownMenuProps:dropdownMenuProps,children:children},panelId);};function BlockSupportSlotContainer({Slot,fillProps,...props}){const toolsPanelContext=(0,external_wp_element_namespaceObject.useContext)(external_wp_components_namespaceObject.__experimentalToolsPanelContext);const computedFillProps=(0,external_wp_element_namespaceObject.useMemo)(()=>{var _fillProps$forwardedC;return{...(fillProps!==null&&fillProps!==void 0?fillProps:{}),forwardedContext:[...((_fillProps$forwardedC=fillProps?.forwardedContext)!==null&&_fillProps$forwardedC!==void 0?_fillProps$forwardedC:[]),[external_wp_components_namespaceObject.__experimentalToolsPanelContext.Provider,{value:toolsPanelContext}]]};},[toolsPanelContext,fillProps]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Slot,{...props,fillProps:computedFillProps,bubblesVirtually:true});};function InspectorControlsSlot({__experimentalGroup,group='default',label,fillProps,...props}){if(__experimentalGroup){external_wp_deprecated_default()('`__experimentalGroup` property in `InspectorControlsSlot`',{since:'6.2',version:'6.4',alternative:'`group`'});group=__experimentalGroup;}
const slotFill=inspector_controls_groups[group];const fills=(0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(slotFill?.name);if(!slotFill){true?external_wp_warning_default()(`Unknown InspectorControls group "${group}" provided.`):0;return null;}
if(!fills?.length){return null;}
const{Slot}=slotFill;if(label){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockSupportToolsPanel,{group:group,label:label,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockSupportSlotContainer,{...props,fillProps:fillProps,Slot:Slot})});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Slot,{...props,fillProps:fillProps,bubblesVirtually:true});};const InspectorControls=InspectorControlsFill;InspectorControls.Slot=InspectorControlsSlot;const InspectorAdvancedControls=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(InspectorControlsFill,{...props,group:"advanced"});};InspectorAdvancedControls.Slot=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(InspectorControlsSlot,{...props,group:"advanced"});};InspectorAdvancedControls.slotName='InspectorAdvancedControls';const inspector_controls=(InspectorControls);;const external_wp_url_namespaceObject=window["wp"]["url"];;const external_wp_dom_namespaceObject=window["wp"]["dom"];;const external_wp_blob_namespaceObject=window["wp"]["blob"];;const external_wp_keycodes_namespaceObject=window["wp"]["keycodes"];;const media=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]});const library_media=(media);;const upload=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})});const library_upload=(upload);;const postFeaturedImage=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"})});const post_featured_image=(postFeaturedImage);;const MediaUpload=()=>null;const media_upload=((0,external_wp_components_namespaceObject.withFilters)('editor.MediaUpload')(MediaUpload));;function MediaUploadCheck({fallback=null,children}){const hasUploadPermissions=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return!!getSettings().mediaUpload;},[]);return hasUploadPermissions?children:fallback;}
const check=(MediaUploadCheck);;const external_wp_isShallowEqual_namespaceObject=window["wp"]["isShallowEqual"];var external_wp_isShallowEqual_default=__webpack_require__.n(external_wp_isShallowEqual_namespaceObject);;const keyboardReturn=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m6.734 16.106 2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.158 1.093-1.028-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734Z"})});const keyboard_return=(keyboardReturn);;const chevronLeftSmall=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})});const chevron_left_small=(chevronLeftSmall);;const chevronRightSmall=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"})});const chevron_right_small=(chevronRightSmall);;function LinkSettingsDrawer({children,settingsOpen,setSettingsOpen}){const prefersReducedMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();const MaybeAnimatePresence=prefersReducedMotion?external_wp_element_namespaceObject.Fragment:external_wp_components_namespaceObject.__unstableAnimatePresence;const MaybeMotionDiv=prefersReducedMotion?'div':external_wp_components_namespaceObject.__unstableMotion.div;const id=(0,external_wp_compose_namespaceObject.useInstanceId)(LinkSettingsDrawer);const settingsDrawerId=`link-control-settings-drawer-${id}`;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:"block-editor-link-control__drawer-toggle","aria-expanded":settingsOpen,onClick:()=>setSettingsOpen(!settingsOpen),icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left_small:chevron_right_small,"aria-controls":settingsDrawerId,children:(0,external_wp_i18n_namespaceObject._x)('Advanced','Additional link settings')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(MaybeAnimatePresence,{children:settingsOpen&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(MaybeMotionDiv,{className:"block-editor-link-control__drawer",hidden:!settingsOpen,id:settingsDrawerId,initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:'auto'},collapsed:{opacity:0,height:0}},transition:{duration:0.1},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-link-control__drawer-inner",children:children})})})]});}
const settings_drawer=(LinkSettingsDrawer);var external_React_=__webpack_require__(1609);;function isFunction(maybeFunc){return typeof maybeFunc==='function';}
class URLInput extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.onChange=this.onChange.bind(this);this.onFocus=this.onFocus.bind(this);this.onKeyDown=this.onKeyDown.bind(this);this.selectLink=this.selectLink.bind(this);this.handleOnClick=this.handleOnClick.bind(this);this.bindSuggestionNode=this.bindSuggestionNode.bind(this);this.autocompleteRef=props.autocompleteRef||(0,external_wp_element_namespaceObject.createRef)();this.inputRef=(0,external_wp_element_namespaceObject.createRef)();this.updateSuggestions=(0,external_wp_compose_namespaceObject.debounce)(this.updateSuggestions.bind(this),200);this.suggestionNodes=[];this.suggestionsRequest=null;this.state={suggestions:[],showSuggestions:false,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:'',suggestionOptionIdPrefix:''};}
componentDidUpdate(prevProps){const{showSuggestions,selectedSuggestion}=this.state;const{value,__experimentalShowInitialSuggestions=false}=this.props;if(showSuggestions&&selectedSuggestion!==null&&this.suggestionNodes[selectedSuggestion]){this.suggestionNodes[selectedSuggestion].scrollIntoView({behavior:'instant',block:'nearest',inline:'nearest'});}
if(prevProps.value!==value&&!this.props.disableSuggestions){if(value?.length){this.updateSuggestions(value);}else if(__experimentalShowInitialSuggestions){this.updateSuggestions();}}}
componentDidMount(){if(this.shouldShowInitialSuggestions()){this.updateSuggestions();}}
componentWillUnmount(){this.suggestionsRequest?.cancel?.();this.suggestionsRequest=null;}
bindSuggestionNode(index){return ref=>{this.suggestionNodes[index]=ref;};}
shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions=false,value}=this.props;return __experimentalShowInitialSuggestions&&!(value&&value.length);}
updateSuggestions(value=''){const{__experimentalFetchLinkSuggestions:fetchLinkSuggestions,__experimentalHandleURLSuggestions:handleURLSuggestions}=this.props;if(!fetchLinkSuggestions){return;}
const isInitialSuggestions=!value?.length;value=value.trim();if(!isInitialSuggestions&&(value.length<2||!handleURLSuggestions&&(0,external_wp_url_namespaceObject.isURL)(value))){this.suggestionsRequest?.cancel?.();this.suggestionsRequest=null;this.setState({suggestions:[],showSuggestions:false,suggestionsValue:value,selectedSuggestion:null,loading:false});return;}
this.setState({selectedSuggestion:null,loading:true});const request=fetchLinkSuggestions(value,{isInitialSuggestions});request.then(suggestions=>{if(this.suggestionsRequest!==request){return;}
this.setState({suggestions,suggestionsValue:value,loading:false,showSuggestions:!!suggestions.length});if(!!suggestions.length){this.props.debouncedSpeak((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found, use up and down arrow keys to navigate.','%d results found, use up and down arrow keys to navigate.',suggestions.length),suggestions.length),'assertive');}else{this.props.debouncedSpeak((0,external_wp_i18n_namespaceObject.__)('No results.'),'assertive');}}).catch(()=>{if(this.suggestionsRequest!==request){return;}
this.setState({loading:false});}).finally(()=>{if(this.suggestionsRequest===request){this.suggestionsRequest=null;}});this.suggestionsRequest=request;}
onChange(newValue){this.props.onChange(newValue);}
onFocus(){const{suggestions}=this.state;const{disableSuggestions,value}=this.props;if(value&&!disableSuggestions&&!(suggestions&&suggestions.length)&&this.suggestionsRequest===null){this.updateSuggestions(value);}}
onKeyDown(event){this.props.onKeyDown?.(event);const{showSuggestions,selectedSuggestion,suggestions,loading}=this.state;if(!showSuggestions||!suggestions.length||loading){switch(event.keyCode){case external_wp_keycodes_namespaceObject.UP:{if(0!==event.target.selectionStart){event.preventDefault();event.target.setSelectionRange(0,0);}
break;}
case external_wp_keycodes_namespaceObject.DOWN:{if(this.props.value.length!==event.target.selectionStart){event.preventDefault();event.target.setSelectionRange(this.props.value.length,this.props.value.length);}
break;}
case external_wp_keycodes_namespaceObject.ENTER:{if(this.props.onSubmit){event.preventDefault();this.props.onSubmit(null,event);}
break;}}
return;}
const suggestion=this.state.suggestions[this.state.selectedSuggestion];switch(event.keyCode){case external_wp_keycodes_namespaceObject.UP:{event.preventDefault();const previousIndex=!selectedSuggestion?suggestions.length-1:selectedSuggestion-1;this.setState({selectedSuggestion:previousIndex});break;}
case external_wp_keycodes_namespaceObject.DOWN:{event.preventDefault();const nextIndex=selectedSuggestion===null||selectedSuggestion===suggestions.length-1?0:selectedSuggestion+1;this.setState({selectedSuggestion:nextIndex});break;}
case external_wp_keycodes_namespaceObject.TAB:{if(this.state.selectedSuggestion!==null){this.selectLink(suggestion);this.props.speak((0,external_wp_i18n_namespaceObject.__)('Link selected.'));}
break;}
case external_wp_keycodes_namespaceObject.ENTER:{event.preventDefault();if(this.state.selectedSuggestion!==null){this.selectLink(suggestion);if(this.props.onSubmit){this.props.onSubmit(suggestion,event);}}else if(this.props.onSubmit){this.props.onSubmit(null,event);}
break;}}}
selectLink(suggestion){this.props.onChange(suggestion.url,suggestion);this.setState({selectedSuggestion:null,showSuggestions:false});}
handleOnClick(suggestion){this.selectLink(suggestion);this.inputRef.current.focus();}
static getDerivedStateFromProps({value,instanceId,disableSuggestions,__experimentalShowInitialSuggestions=false},{showSuggestions}){let shouldShowSuggestions=showSuggestions;const hasValue=value&&value.length;if(!__experimentalShowInitialSuggestions&&!hasValue){shouldShowSuggestions=false;}
if(disableSuggestions===true){shouldShowSuggestions=false;}
return{showSuggestions:shouldShowSuggestions,suggestionsListboxId:`block-editor-url-input-suggestions-${instanceId}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${instanceId}`};}
render(){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[this.renderControl(),this.renderSuggestions()]});}
renderControl(){const{label=null,className,isFullWidth,instanceId,placeholder=(0,external_wp_i18n_namespaceObject.__)('Paste URL or type to search'),__experimentalRenderControl:renderControl,value='',hideLabelFromVision=false}=this.props;const{loading,showSuggestions,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix}=this.state;const inputId=`url-input-control-${instanceId}`;const controlProps={id:inputId,label,className:dist_clsx('block-editor-url-input',className,{'is-full-width':isFullWidth}),hideLabelFromVision};const inputProps={id:inputId,value,required:true,type:'text',onChange:this.onChange,onFocus:this.onFocus,placeholder,onKeyDown:this.onKeyDown,role:'combobox','aria-label':label?undefined:(0,external_wp_i18n_namespaceObject.__)('URL'),'aria-expanded':showSuggestions,'aria-autocomplete':'list','aria-owns':suggestionsListboxId,'aria-activedescendant':selectedSuggestion!==null?`${suggestionOptionIdPrefix}-${selectedSuggestion}`:undefined,ref:this.inputRef,suffix:this.props.suffix};if(renderControl){return renderControl(controlProps,inputProps,loading);}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.BaseControl,{__nextHasNoMarginBottom:true,...controlProps,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControl,{...inputProps,__next40pxDefaultSize:true}),loading&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Spinner,{})]});}
renderSuggestions(){const{className,__experimentalRenderSuggestions:renderSuggestions}=this.props;const{showSuggestions,suggestions,suggestionsValue,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix,loading}=this.state;if(!showSuggestions||suggestions.length===0){return null;}
const suggestionsListProps={id:suggestionsListboxId,ref:this.autocompleteRef,role:'listbox'};const buildSuggestionItemProps=(suggestion,index)=>{return{role:'option',tabIndex:'-1',id:`${suggestionOptionIdPrefix}-${index}`,ref:this.bindSuggestionNode(index),'aria-selected':index===selectedSuggestion?true:undefined};};if(isFunction(renderSuggestions)){return renderSuggestions({suggestions,selectedSuggestion,suggestionsListProps,buildSuggestionItemProps,isLoading:loading,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!suggestionsValue?.length,currentInputValue:suggestionsValue});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{placement:"bottom",focusOnMount:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...suggestionsListProps,className:dist_clsx('block-editor-url-input__suggestions',{[`${className}__suggestions`]:className}),children:suggestions.map((suggestion,index)=>(0,external_React_.createElement)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,...buildSuggestionItemProps(suggestion,index),key:suggestion.id,className:dist_clsx('block-editor-url-input__suggestion',{'is-selected':index===selectedSuggestion}),onClick:()=>this.handleOnClick(suggestion)},suggestion.title))})});}}
const url_input=((0,external_wp_compose_namespaceObject.compose)(external_wp_compose_namespaceObject.withSafeTimeout,external_wp_components_namespaceObject.withSpokenMessages,external_wp_compose_namespaceObject.withInstanceId,(0,external_wp_data_namespaceObject.withSelect)((select,props)=>{if(isFunction(props.__experimentalFetchLinkSuggestions)){return;}
const{getSettings}=select(store);return{__experimentalFetchLinkSuggestions:getSettings().__experimentalFetchLinkSuggestions};}))(URLInput));;const plus=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});const library_plus=(plus);;const LinkControlSearchCreate=({searchTerm,onClick,itemProps,buttonText})=>{if(!searchTerm){return null;}
let text;if(buttonText){text=typeof buttonText==='function'?buttonText(searchTerm):buttonText;}else{text=(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Create: <mark>%s</mark>'),searchTerm),{mark:(0,external_ReactJSXRuntime_namespaceObject.jsx)("mark",{})});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{...itemProps,iconPosition:"left",icon:library_plus,className:"block-editor-link-control__search-item",onClick:onClick,children:text});};const search_create_button=(LinkControlSearchCreate);;const postList=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M18 5.5H6a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm1 5h1.5v1.5H7V9Zm1.5 4.5H7V15h1.5v-1.5ZM10 9h7v1.5h-7V9Zm7 4.5h-7V15h7v-1.5Z"})});const post_list=(postList);;const page=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z"})]});const library_page=(page);;const tag=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M4.75 4a.75.75 0 0 0-.75.75v7.826c0 .2.08.39.22.53l6.72 6.716a2.313 2.313 0 0 0 3.276-.001l5.61-5.611-.531-.53.532.528a2.315 2.315 0 0 0 0-3.264L13.104 4.22a.75.75 0 0 0-.53-.22H4.75ZM19 12.576a.815.815 0 0 1-.236.574l-5.61 5.611a.814.814 0 0 1-1.153 0L5.5 12.264V5.5h6.763l6.5 6.502a.816.816 0 0 1 .237.574ZM8.75 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})});const library_tag=(tag);;const category=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})});const library_category=(category);;const file=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12.848 8a1 1 0 0 1-.914-.594l-.723-1.63a.5.5 0 0 0-.447-.276H5a.5.5 0 0 0-.5.5v11.5a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5v-9A.5.5 0 0 0 19 8h-6.152Zm.612-1.5a.5.5 0 0 1-.462-.31l-.445-1.084A2 2 0 0 0 10.763 4H5a2 2 0 0 0-2 2v11.5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-5.54Z"})});const library_file=(file);;const globe=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z"})});const library_globe=(globe);;const home=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z"})});const library_home=(home);;const verse=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z"})});const library_verse=(verse);;const ICONS_MAP={post:post_list,page:library_page,post_tag:library_tag,category:library_category,attachment:library_file};function SearchItemIcon({isURL,suggestion}){let icon=null;if(isURL){icon=library_globe;}else if(suggestion.type in ICONS_MAP){icon=ICONS_MAP[suggestion.type];if(suggestion.type==='page'){if(suggestion.isFrontPage){icon=library_home;}
if(suggestion.isBlogHome){icon=library_verse;}}}
if(icon){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{className:"block-editor-link-control__search-item-icon",icon:icon});}
return null;}
function addLeadingSlash(url){const trimmedURL=url?.trim();if(!trimmedURL?.length){return url;}
return url?.replace(/^\/?/,'/');}
function removeTrailingSlash(url){const trimmedURL=url?.trim();if(!trimmedURL?.length){return url;}
return url?.replace(/\/$/,'');}
const partialRight=(fn,...partialArgs)=>(...args)=>fn(...args,...partialArgs);const defaultTo=d=>v=>{return v===null||v===undefined||v!==v?d:v;};function getURLForDisplay(url){if(!url){return url;}
return(0,external_wp_compose_namespaceObject.pipe)(external_wp_url_namespaceObject.safeDecodeURI,external_wp_url_namespaceObject.getPath,defaultTo(''),partialRight(external_wp_url_namespaceObject.filterURLForDisplay,24),removeTrailingSlash,addLeadingSlash)(url);}
const LinkControlSearchItem=({itemProps,suggestion,searchTerm,onClick,isURL=false,shouldShowType=false})=>{const info=isURL?(0,external_wp_i18n_namespaceObject.__)('Press ENTER to add this link'):getURLForDisplay(suggestion.url);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{...itemProps,info:info,iconPosition:"left",icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(SearchItemIcon,{suggestion:suggestion,isURL:isURL}),onClick:onClick,shortcut:shouldShowType&&getVisualTypeName(suggestion),className:"block-editor-link-control__search-item",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextHighlight,{text:(0,external_wp_dom_namespaceObject.__unstableStripHTML)(suggestion.title),highlight:searchTerm})});};function getVisualTypeName(suggestion){if(suggestion.isFrontPage){return'front page';}
if(suggestion.isBlogHome){return'blog home';}
return suggestion.type==='post_tag'?'tag':suggestion.type;}
const search_item=(LinkControlSearchItem);const __experimentalLinkControlSearchItem=props=>{external_wp_deprecated_default()('wp.blockEditor.__experimentalLinkControlSearchItem',{since:'6.8'});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(LinkControlSearchItem,{...props});};;const CREATE_TYPE='__CREATE__';const TEL_TYPE='tel';const URL_TYPE='link';const MAILTO_TYPE='mailto';const INTERNAL_TYPE='internal';const LINK_ENTRY_TYPES=[URL_TYPE,MAILTO_TYPE,TEL_TYPE,INTERNAL_TYPE];const DEFAULT_LINK_SETTINGS=[{id:'opensInNewTab',title:(0,external_wp_i18n_namespaceObject.__)('Open in new tab')}];;function LinkControlSearchResults({withCreateSuggestion,currentInputValue,handleSuggestionClick,suggestionsListProps,buildSuggestionItemProps,suggestions,selectedSuggestion,isLoading,isInitialSuggestions,createSuggestionButtonText,suggestionsQuery}){const resultsListClasses=dist_clsx('block-editor-link-control__search-results',{'is-loading':isLoading});const isSingleDirectEntryResult=suggestions.length===1&&LINK_ENTRY_TYPES.includes(suggestions[0].type);const shouldShowCreateSuggestion=withCreateSuggestion&&!isSingleDirectEntryResult&&!isInitialSuggestions;const shouldShowSuggestionsTypes=!suggestionsQuery?.type;const labelText=isInitialSuggestions?(0,external_wp_i18n_namespaceObject.__)('Suggestions'):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Search results for "%s"'),currentInputValue);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-link-control__search-results-wrapper",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...suggestionsListProps,className:resultsListClasses,"aria-label":labelText,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{children:suggestions.map((suggestion,index)=>{if(shouldShowCreateSuggestion&&CREATE_TYPE===suggestion.type){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(search_create_button,{searchTerm:currentInputValue,buttonText:createSuggestionButtonText,onClick:()=>handleSuggestionClick(suggestion),itemProps:buildSuggestionItemProps(suggestion,index),isSelected:index===selectedSuggestion},suggestion.type);}
if(CREATE_TYPE===suggestion.type){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(search_item,{itemProps:buildSuggestionItemProps(suggestion,index),suggestion:suggestion,index:index,onClick:()=>{handleSuggestionClick(suggestion);},isSelected:index===selectedSuggestion,isURL:LINK_ENTRY_TYPES.includes(suggestion.type),searchTerm:currentInputValue,shouldShowType:shouldShowSuggestionsTypes,isFrontPage:suggestion?.isFrontPage,isBlogHome:suggestion?.isBlogHome},`${suggestion.id}-${suggestion.type}`);})})})});}
const search_results=(LinkControlSearchResults);const __experimentalLinkControlSearchResults=props=>{external_wp_deprecated_default()('wp.blockEditor.__experimentalLinkControlSearchResults',{since:'6.8'});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(LinkControlSearchResults,{...props});};;function isURLLike(val){const hasSpaces=val.includes(' ');if(hasSpaces){return false;}
const protocol=(0,external_wp_url_namespaceObject.getProtocol)(val);const protocolIsValid=(0,external_wp_url_namespaceObject.isValidProtocol)(protocol);const mayBeTLD=hasPossibleTLD(val);const isWWW=val?.startsWith('www.');const isInternal=val?.startsWith('#')&&(0,external_wp_url_namespaceObject.isValidFragment)(val);return protocolIsValid||isWWW||isInternal||mayBeTLD;}
function hasPossibleTLD(url,maxLength=6){const cleanedURL=url.split(/[?#]/)[0];const regex=new RegExp(`(?<=\\S)\\.(?:[a-zA-Z_]{2,${maxLength}})(?:\\/|$)`);return regex.test(cleanedURL);};const handleNoop=()=>Promise.resolve([]);const handleDirectEntry=val=>{let type=URL_TYPE;const protocol=(0,external_wp_url_namespaceObject.getProtocol)(val)||'';if(protocol.includes('mailto')){type=MAILTO_TYPE;}
if(protocol.includes('tel')){type=TEL_TYPE;}
if(val?.startsWith('#')){type=INTERNAL_TYPE;}
return Promise.resolve([{id:val,title:val,url:type==='URL'?(0,external_wp_url_namespaceObject.prependHTTP)(val):val,type}]);};const handleEntitySearch=async(val,suggestionsQuery,fetchSearchSuggestions,withCreateSuggestion,pageOnFront,pageForPosts)=>{const{isInitialSuggestions}=suggestionsQuery;const results=await fetchSearchSuggestions(val,suggestionsQuery);results.map(result=>{if(Number(result.id)===pageOnFront){result.isFrontPage=true;return result;}else if(Number(result.id)===pageForPosts){result.isBlogHome=true;return result;}
return result;});if(isInitialSuggestions){return results;}
return isURLLike(val)||!withCreateSuggestion?results:results.concat({title:val,url:val,type:CREATE_TYPE});};function useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion){const{fetchSearchSuggestions,pageOnFront,pageForPosts}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return{pageOnFront:getSettings().pageOnFront,pageForPosts:getSettings().pageForPosts,fetchSearchSuggestions:getSettings().__experimentalFetchLinkSuggestions};},[]);const directEntryHandler=allowDirectEntry?handleDirectEntry:handleNoop;return(0,external_wp_element_namespaceObject.useCallback)((val,{isInitialSuggestions})=>{return isURLLike(val)?directEntryHandler(val,{isInitialSuggestions}):handleEntitySearch(val,{...suggestionsQuery,isInitialSuggestions},fetchSearchSuggestions,withCreateSuggestion,pageOnFront,pageForPosts);},[directEntryHandler,fetchSearchSuggestions,pageOnFront,pageForPosts,suggestionsQuery,withCreateSuggestion]);};const noopSearchHandler=()=>Promise.resolve([]);const noop=()=>{};const LinkControlSearchInput=(0,external_wp_element_namespaceObject.forwardRef)(({value,children,currentLink={},className=null,placeholder=null,withCreateSuggestion=false,onCreateSuggestion=noop,onChange=noop,onSelect=noop,showSuggestions=true,renderSuggestions=props=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(search_results,{...props}),fetchSuggestions=null,allowDirectEntry=true,showInitialSuggestions=false,suggestionsQuery={},withURLSuggestion=true,createSuggestionButtonText,hideLabelFromVision=false,suffix},ref)=>{const genericSearchHandler=useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion,withURLSuggestion);const searchHandler=showSuggestions?fetchSuggestions||genericSearchHandler:noopSearchHandler;const[focusedSuggestion,setFocusedSuggestion]=(0,external_wp_element_namespaceObject.useState)();const onInputChange=(selection,suggestion)=>{onChange(selection);setFocusedSuggestion(suggestion);};const handleRenderSuggestions=props=>renderSuggestions({...props,withCreateSuggestion,createSuggestionButtonText,suggestionsQuery,handleSuggestionClick:suggestion=>{if(props.handleSuggestionClick){props.handleSuggestionClick(suggestion);}
onSuggestionSelected(suggestion);}});const onSuggestionSelected=async selectedSuggestion=>{let suggestion=selectedSuggestion;if(CREATE_TYPE===selectedSuggestion.type){try{suggestion=await onCreateSuggestion(selectedSuggestion.title);if(suggestion?.url){onSelect(suggestion);}}catch(e){}
return;}
if(allowDirectEntry||suggestion&&Object.keys(suggestion).length>=1){const{id,url,...restLinkProps}=currentLink!==null&&currentLink!==void 0?currentLink:{};onSelect({...restLinkProps,...suggestion},suggestion);}};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-link-control__search-input-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(url_input,{disableSuggestions:currentLink?.url===value,label:(0,external_wp_i18n_namespaceObject.__)('Link'),hideLabelFromVision:hideLabelFromVision,className:className,value:value,onChange:onInputChange,placeholder:placeholder!==null&&placeholder!==void 0?placeholder:(0,external_wp_i18n_namespaceObject.__)('Search or type URL'),__experimentalRenderSuggestions:showSuggestions?handleRenderSuggestions:null,__experimentalFetchLinkSuggestions:searchHandler,__experimentalHandleURLSuggestions:true,__experimentalShowInitialSuggestions:showInitialSuggestions,onSubmit:(suggestion,event)=>{const hasSuggestion=suggestion||focusedSuggestion;if(!hasSuggestion&&!value?.trim()?.length){event.preventDefault();}else{onSuggestionSelected(hasSuggestion||{url:value});}},ref:ref,suffix:suffix}),children]});});const search_input=(LinkControlSearchInput);const __experimentalLinkControlSearchInput=props=>{external_wp_deprecated_default()('wp.blockEditor.__experimentalLinkControlSearchInput',{since:'6.8'});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(LinkControlSearchInput,{...props});};;const info=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})});const library_info=(info);;const pencil=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})});const library_pencil=(pencil);;const edit=(library_pencil);;const linkOff=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})});const link_off=(linkOff);;const copySmall=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.625 5.5h9.75c.069 0 .125.056.125.125v9.75a.125.125 0 0 1-.125.125h-9.75a.125.125 0 0 1-.125-.125v-9.75c0-.069.056-.125.125-.125ZM4 5.625C4 4.728 4.728 4 5.625 4h9.75C16.273 4 17 4.728 17 5.625v9.75c0 .898-.727 1.625-1.625 1.625h-9.75A1.625 1.625 0 0 1 4 15.375v-9.75Zm14.5 11.656v-9H20v9C20 18.8 18.77 20 17.251 20H6.25v-1.5h11.001c.69 0 1.249-.528 1.249-1.219Z"})});const copy_small=(copySmall);;const{Slot:ViewerSlot,Fill:ViewerFill}=(0,external_wp_components_namespaceObject.createSlotFill)('BlockEditorLinkControlViewer');const viewer_slot=((null&&(ViewerSlot)));;function use_rich_url_data_reducer(state,action){switch(action.type){case'RESOLVED':return{...state,isFetching:false,richData:action.richData};case'ERROR':return{...state,isFetching:false,richData:null};case'LOADING':return{...state,isFetching:true};default:throw new Error(`Unexpected action type ${action.type}`);}}
function useRemoteUrlData(url){const[state,dispatch]=(0,external_wp_element_namespaceObject.useReducer)(use_rich_url_data_reducer,{richData:null,isFetching:false});const{fetchRichUrlData}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return{fetchRichUrlData:getSettings().__experimentalFetchRichUrlData};},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(url?.length&&fetchRichUrlData&&typeof AbortController!=='undefined'){dispatch({type:'LOADING'});const controller=new window.AbortController();const signal=controller.signal;fetchRichUrlData(url,{signal}).then(urlData=>{dispatch({type:'RESOLVED',richData:urlData});}).catch(()=>{if(!signal.aborted){dispatch({type:'ERROR'});}});return()=>{controller.abort();};}},[url]);return state;}
const use_rich_url_data=(useRemoteUrlData);;function filterTitleForDisplay(title){return title.replace(/^[a-z\-.\+]+[0-9]*:(\/\/)?/i,'').replace(/^www\./i,'');}
function LinkPreview({value,onEditClick,hasRichPreviews=false,hasUnlinkControl=false,onRemove}){const showIconLabels=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_preferences_namespaceObject.store).get('core','showIconLabels'),[]);const showRichPreviews=hasRichPreviews?value?.url:null;const{richData,isFetching}=use_rich_url_data(showRichPreviews);const hasRichData=richData&&Object.keys(richData).length;const displayURL=value&&(0,external_wp_url_namespaceObject.filterURLForDisplay)((0,external_wp_url_namespaceObject.safeDecodeURI)(value.url),24)||'';const isEmptyURL=!value?.url?.length;const displayTitle=!isEmptyURL&&(0,external_wp_dom_namespaceObject.__unstableStripHTML)(richData?.title||value?.title||displayURL);const isUrlRedundant=!value?.url||filterTitleForDisplay(displayTitle)===displayURL;let icon;if(richData?.icon){icon=(0,external_ReactJSXRuntime_namespaceObject.jsx)("img",{src:richData?.icon,alt:""});}else if(isEmptyURL){icon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:library_info,size:32});}else{icon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:library_globe});}
const{createNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const ref=(0,external_wp_compose_namespaceObject.useCopyToClipboard)(value.url,()=>{createNotice('info',(0,external_wp_i18n_namespaceObject.__)('Link copied to clipboard.'),{isDismissible:true,type:'snackbar'});});return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{role:"group","aria-label":(0,external_wp_i18n_namespaceObject.__)('Manage link'),className:dist_clsx('block-editor-link-control__search-item',{'is-current':true,'is-rich':hasRichData,'is-fetching':!!isFetching,'is-preview':true,'is-error':isEmptyURL,'is-url-title':displayTitle===displayURL}),children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-link-control__search-item-top",children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("span",{className:"block-editor-link-control__search-item-header",role:"figure","aria-label":(0,external_wp_i18n_namespaceObject.__)('Link information'),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:dist_clsx('block-editor-link-control__search-item-icon',{'is-image':richData?.icon}),children:icon}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-link-control__search-item-details",children:!isEmptyURL?(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ExternalLink,{className:"block-editor-link-control__search-item-title",href:value.url,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{numberOfLines:1,children:displayTitle})}),!isUrlRedundant&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-link-control__search-item-info",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{numberOfLines:1,children:displayURL})})]}):(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-link-control__search-item-error-notice",children:(0,external_wp_i18n_namespaceObject.__)('Link is empty')})})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{icon:edit,label:(0,external_wp_i18n_namespaceObject.__)('Edit link'),onClick:onEditClick,size:"compact",showTooltip:!showIconLabels}),hasUnlinkControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{icon:link_off,label:(0,external_wp_i18n_namespaceObject.__)('Remove link'),onClick:onRemove,size:"compact",showTooltip:!showIconLabels}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{icon:copy_small,label:(0,external_wp_i18n_namespaceObject.__)('Copy link'),ref:ref,accessibleWhenDisabled:true,disabled:isEmptyURL,size:"compact",showTooltip:!showIconLabels}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(ViewerSlot,{fillProps:value})]})});};const settings_noop=()=>{};const LinkControlSettings=({value,onChange=settings_noop,settings})=>{if(!settings||!settings.length){return null;}
const handleSettingChange=setting=>newValue=>{onChange({...value,[setting.id]:newValue});};const theSettings=settings.map(setting=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CheckboxControl,{__nextHasNoMarginBottom:true,className:"block-editor-link-control__setting",label:setting.title,onChange:handleSettingChange(setting),checked:value?!!value[setting.id]:false,help:setting?.help},setting.id));return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{className:"block-editor-link-control__settings",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{as:"legend",children:(0,external_wp_i18n_namespaceObject.__)('Currently selected link settings')}),theSettings]});};const link_control_settings=(LinkControlSettings);;function useCreatePage(handleCreatePage){const cancelableCreateSuggestion=(0,external_wp_element_namespaceObject.useRef)();const[isCreatingPage,setIsCreatingPage]=(0,external_wp_element_namespaceObject.useState)(false);const[errorMessage,setErrorMessage]=(0,external_wp_element_namespaceObject.useState)(null);const createPage=async function(suggestionTitle){setIsCreatingPage(true);setErrorMessage(null);try{cancelableCreateSuggestion.current=makeCancelable(Promise.resolve(handleCreatePage(suggestionTitle)));return await cancelableCreateSuggestion.current.promise;}catch(error){if(error&&error.isCanceled){return;}
setErrorMessage(error.message||(0,external_wp_i18n_namespaceObject.__)('An unknown error occurred during creation. Please try again.'));throw error;}finally{setIsCreatingPage(false);}};(0,external_wp_element_namespaceObject.useEffect)(()=>{return()=>{if(cancelableCreateSuggestion.current){cancelableCreateSuggestion.current.cancel();}};},[]);return{createPage,isCreatingPage,errorMessage};}
const makeCancelable=promise=>{let hasCanceled_=false;const wrappedPromise=new Promise((resolve,reject)=>{promise.then(val=>hasCanceled_?reject({isCanceled:true}):resolve(val),error=>hasCanceled_?reject({isCanceled:true}):reject(error));});return{promise:wrappedPromise,cancel(){hasCanceled_=true;}};};var fast_deep_equal=__webpack_require__(5215);var fast_deep_equal_default=__webpack_require__.n(fast_deep_equal);;function useInternalValue(value){const[internalValue,setInternalValue]=(0,external_wp_element_namespaceObject.useState)(value||{});const[previousValue,setPreviousValue]=(0,external_wp_element_namespaceObject.useState)(value);if(!fast_deep_equal_default()(value,previousValue)){setPreviousValue(value);setInternalValue(value);}
const setInternalURLInputValue=nextValue=>{setInternalValue({...internalValue,url:nextValue});};const setInternalTextInputValue=nextValue=>{setInternalValue({...internalValue,title:nextValue});};const createSetInternalSettingValueHandler=settingsKeys=>nextValue=>{const settingsUpdates=Object.keys(nextValue).reduce((acc,key)=>{if(settingsKeys.includes(key)){acc[key]=nextValue[key];}
return acc;},{});setInternalValue({...internalValue,...settingsUpdates});};return[internalValue,setInternalValue,setInternalURLInputValue,setInternalTextInputValue,createSetInternalSettingValueHandler];};const link_control_noop=()=>{};const PREFERENCE_SCOPE='core/block-editor';const PREFERENCE_KEY='linkControlSettingsDrawer';function LinkControl({searchInputPlaceholder,value,settings=DEFAULT_LINK_SETTINGS,onChange=link_control_noop,onRemove,onCancel,noDirectEntry=false,showSuggestions=true,showInitialSuggestions,forceIsEditingLink,createSuggestion,withCreateSuggestion,inputValue:propInputValue='',suggestionsQuery={},noURLSuggestion=false,createSuggestionButtonText,hasRichPreviews=false,hasTextControl=false,renderControlBottom=null}){if(withCreateSuggestion===undefined&&createSuggestion){withCreateSuggestion=true;}
const[settingsOpen,setSettingsOpen]=(0,external_wp_element_namespaceObject.useState)(false);const{advancedSettingsPreference}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _prefsStore$get;const prefsStore=select(external_wp_preferences_namespaceObject.store);return{advancedSettingsPreference:(_prefsStore$get=prefsStore.get(PREFERENCE_SCOPE,PREFERENCE_KEY))!==null&&_prefsStore$get!==void 0?_prefsStore$get:false};},[]);const{set:setPreference}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_preferences_namespaceObject.store);const setSettingsOpenWithPreference=prefVal=>{if(setPreference){setPreference(PREFERENCE_SCOPE,PREFERENCE_KEY,prefVal);}
setSettingsOpen(prefVal);};const isSettingsOpen=advancedSettingsPreference||settingsOpen;const isMountingRef=(0,external_wp_element_namespaceObject.useRef)(true);const wrapperNode=(0,external_wp_element_namespaceObject.useRef)();const textInputRef=(0,external_wp_element_namespaceObject.useRef)();const isEndingEditWithFocusRef=(0,external_wp_element_namespaceObject.useRef)(false);const settingsKeys=settings.map(({id})=>id);const[internalControlValue,setInternalControlValue,setInternalURLInputValue,setInternalTextInputValue,createSetInternalSettingValueHandler]=useInternalValue(value);const valueHasChanges=value&&!(0,external_wp_isShallowEqual_namespaceObject.isShallowEqualObjects)(internalControlValue,value);const[isEditingLink,setIsEditingLink]=(0,external_wp_element_namespaceObject.useState)(forceIsEditingLink!==undefined?forceIsEditingLink:!value||!value.url);const{createPage,isCreatingPage,errorMessage}=useCreatePage(createSuggestion);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(forceIsEditingLink===undefined){return;}
setIsEditingLink(forceIsEditingLink);},[forceIsEditingLink]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(isMountingRef.current){return;}
const nextFocusTarget=external_wp_dom_namespaceObject.focus.focusable.find(wrapperNode.current)[0]||wrapperNode.current;nextFocusTarget.focus();isEndingEditWithFocusRef.current=false;},[isEditingLink,isCreatingPage]);(0,external_wp_element_namespaceObject.useEffect)(()=>{isMountingRef.current=false;return()=>{isMountingRef.current=true;};},[]);const hasLinkValue=value?.url?.trim()?.length>0;const stopEditing=()=>{isEndingEditWithFocusRef.current=!!wrapperNode.current?.contains(wrapperNode.current.ownerDocument.activeElement);setIsEditingLink(false);};const handleSelectSuggestion=updatedValue=>{const nonSettingsChanges=Object.keys(updatedValue).reduce((acc,key)=>{if(!settingsKeys.includes(key)){acc[key]=updatedValue[key];}
return acc;},{});onChange({...internalControlValue,...nonSettingsChanges,title:internalControlValue?.title||updatedValue?.title});stopEditing();};const handleSubmit=()=>{if(valueHasChanges){onChange({...value,...internalControlValue,url:currentUrlInputValue});}
stopEditing();};const handleSubmitWithEnter=event=>{const{keyCode}=event;if(keyCode===external_wp_keycodes_namespaceObject.ENTER&&!currentInputIsEmpty){event.preventDefault();handleSubmit();}};const resetInternalValues=()=>{setInternalControlValue(value);};const handleCancel=event=>{event.preventDefault();event.stopPropagation();resetInternalValues();if(hasLinkValue){stopEditing();}else{onRemove?.();}
onCancel?.();};const currentUrlInputValue=propInputValue||internalControlValue?.url||'';const currentInputIsEmpty=!currentUrlInputValue?.trim()?.length;const shownUnlinkControl=onRemove&&value&&!isEditingLink&&!isCreatingPage;const showActions=isEditingLink&&hasLinkValue;const showTextControl=hasLinkValue&&hasTextControl;const isEditing=(isEditingLink||!value)&&!isCreatingPage;const isDisabled=!valueHasChanges||currentInputIsEmpty;const showSettings=!!settings?.length&&isEditingLink&&hasLinkValue;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{tabIndex:-1,ref:wrapperNode,className:"block-editor-link-control",children:[isCreatingPage&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-link-control__loading",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Spinner,{})," ",(0,external_wp_i18n_namespaceObject.__)('Creating'),"\u2026"]}),isEditing&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx({'block-editor-link-control__search-input-wrapper':true,'has-text-control':showTextControl,'has-actions':showActions}),children:[showTextControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextControl,{__nextHasNoMarginBottom:true,ref:textInputRef,className:"block-editor-link-control__field block-editor-link-control__text-content",label:(0,external_wp_i18n_namespaceObject.__)('Text'),value:internalControlValue?.title,onChange:setInternalTextInputValue,onKeyDown:handleSubmitWithEnter,__next40pxDefaultSize:true}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(search_input,{currentLink:value,className:"block-editor-link-control__field block-editor-link-control__search-input",placeholder:searchInputPlaceholder,value:currentUrlInputValue,withCreateSuggestion:withCreateSuggestion,onCreateSuggestion:createPage,onChange:setInternalURLInputValue,onSelect:handleSelectSuggestion,showInitialSuggestions:showInitialSuggestions,allowDirectEntry:!noDirectEntry,showSuggestions:showSuggestions,suggestionsQuery:suggestionsQuery,withURLSuggestion:!noURLSuggestion,createSuggestionButtonText:createSuggestionButtonText,hideLabelFromVision:!showTextControl,suffix:showActions?undefined:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControlSuffixWrapper,{variant:"control",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{onClick:isDisabled?link_control_noop:handleSubmit,label:(0,external_wp_i18n_namespaceObject.__)('Submit'),icon:keyboard_return,className:"block-editor-link-control__search-submit","aria-disabled":isDisabled,size:"small"})})})]}),errorMessage&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Notice,{className:"block-editor-link-control__search-error",status:"error",isDismissible:false,children:errorMessage})]}),value&&!isEditingLink&&!isCreatingPage&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(LinkPreview,{value:value,onEditClick:()=>setIsEditingLink(true),hasRichPreviews:hasRichPreviews,hasUnlinkControl:shownUnlinkControl,onRemove:()=>{onRemove();setIsEditingLink(true);}},value?.url),showSettings&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-link-control__tools",children:!currentInputIsEmpty&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(settings_drawer,{settingsOpen:isSettingsOpen,setSettingsOpen:setSettingsOpenWithPreference,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(link_control_settings,{value:internalControlValue,settings:settings,onChange:createSetInternalSettingValueHandler(settingsKeys)})})}),showActions&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"right",className:"block-editor-link-control__search-actions",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"tertiary",onClick:handleCancel,children:(0,external_wp_i18n_namespaceObject.__)('Cancel')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"primary",onClick:isDisabled?link_control_noop:handleSubmit,className:"block-editor-link-control__search-submit","aria-disabled":isDisabled,children:(0,external_wp_i18n_namespaceObject.__)('Save')})]}),!isCreatingPage&&renderControlBottom&&renderControlBottom()]});}
LinkControl.ViewerFill=ViewerFill;LinkControl.DEFAULT_LINK_SETTINGS=DEFAULT_LINK_SETTINGS;const DeprecatedExperimentalLinkControl=props=>{external_wp_deprecated_default()('wp.blockEditor.__experimentalLinkControl',{since:'6.8',alternative:'wp.blockEditor.LinkControl'});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(LinkControl,{...props});};DeprecatedExperimentalLinkControl.ViewerFill=LinkControl.ViewerFill;DeprecatedExperimentalLinkControl.DEFAULT_LINK_SETTINGS=LinkControl.DEFAULT_LINK_SETTINGS;const link_control=(LinkControl);;const media_replace_flow_noop=()=>{};let uniqueId=0;const MediaReplaceFlow=({mediaURL,mediaId,mediaIds,allowedTypes,accept,onError,onSelect,onSelectURL,onReset,onToggleFeaturedImage,useFeaturedImage,onFilesUpload=media_replace_flow_noop,name=(0,external_wp_i18n_namespaceObject.__)('Replace'),createNotice,removeNotice,children,multiple=false,addToGallery,handleUpload=true,popoverProps,renderToggle})=>{const{getSettings}=(0,external_wp_data_namespaceObject.useSelect)(store);const errorNoticeID=`block-editor/media-replace-flow/error-notice/${++uniqueId}`;const onUploadError=message=>{const safeMessage=(0,external_wp_dom_namespaceObject.__unstableStripHTML)(message);if(onError){onError(safeMessage);return;}
setTimeout(()=>{createNotice('error',safeMessage,{speak:true,id:errorNoticeID,isDismissible:true});},1000);};const selectMedia=(media,closeMenu)=>{if(useFeaturedImage&&onToggleFeaturedImage){onToggleFeaturedImage();}
closeMenu();onSelect(media);(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('The media file has been replaced'));removeNotice(errorNoticeID);};const uploadFiles=(event,closeMenu)=>{const files=event.target.files;if(!handleUpload){closeMenu();return onSelect(files);}
onFilesUpload(files);getSettings().mediaUpload({allowedTypes,filesList:files,onFileChange:([media])=>{selectMedia(media,closeMenu);},onError:onUploadError});};const openOnArrowDown=event=>{if(event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();event.target.click();}};const onlyAllowsImages=()=>{if(!allowedTypes||allowedTypes.length===0){return false;}
return allowedTypes.every(allowedType=>allowedType==='image'||allowedType.startsWith('image/'));};const gallery=multiple&&onlyAllowsImages();return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:popoverProps,contentClassName:"block-editor-media-replace-flow__options",renderToggle:({isOpen,onToggle})=>{if(renderToggle){return renderToggle({'aria-expanded':isOpen,'aria-haspopup':'true',onClick:onToggle,onKeyDown:openOnArrowDown,children:name});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,onKeyDown:openOnArrowDown,children:name});},renderContent:({onClose})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.NavigableMenu,{className:"block-editor-media-replace-flow__media-upload-menu",children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(check,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(media_upload,{gallery:gallery,addToGallery:addToGallery,multiple:multiple,value:multiple?mediaIds:mediaId,onSelect:media=>selectMedia(media,onClose),allowedTypes:allowedTypes,render:({open})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{icon:library_media,onClick:open,children:(0,external_wp_i18n_namespaceObject.__)('Open Media Library')})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FormFileUpload,{onChange:event=>{uploadFiles(event,onClose);},accept:accept,multiple:!!multiple,render:({openFileDialog})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{icon:library_upload,onClick:()=>{openFileDialog();},children:(0,external_wp_i18n_namespaceObject._x)('Upload','verb')});}})]}),onToggleFeaturedImage&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{icon:post_featured_image,onClick:onToggleFeaturedImage,isPressed:useFeaturedImage,children:(0,external_wp_i18n_namespaceObject.__)('Use featured image')}),mediaURL&&onReset&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{onReset();onClose();},children:(0,external_wp_i18n_namespaceObject.__)('Reset')}),typeof children==='function'?children({onClose}):children]}),onSelectURL&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("form",{className:"block-editor-media-flow__url-input",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-media-replace-flow__image-url-label",children:(0,external_wp_i18n_namespaceObject.__)('Current media URL:')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(link_control,{value:{url:mediaURL},settings:[],showSuggestions:false,onChange:({url})=>{onSelectURL(url);}})]})]})});};const media_replace_flow=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{const{createNotice,removeNotice}=dispatch(external_wp_notices_namespaceObject.store);return{createNotice,removeNotice};}),(0,external_wp_components_namespaceObject.withFilters)('editor.MediaReplaceFlow')])(MediaReplaceFlow));;const IMAGE_BACKGROUND_TYPE='image';const BACKGROUND_POPOVER_PROPS={placement:'left-start',offset:36,shift:true,className:'block-editor-global-styles-background-panel__popover'};const background_image_control_noop=()=>{};function backgroundSizeHelpText(value){if(value==='cover'||value===undefined){return(0,external_wp_i18n_namespaceObject.__)('Image covers the space evenly.');}
if(value==='contain'){return(0,external_wp_i18n_namespaceObject.__)('Image is contained without distortion.');}
return(0,external_wp_i18n_namespaceObject.__)('Image has a fixed width.');}
const coordsToBackgroundPosition=value=>{if(!value||isNaN(value.x)&&isNaN(value.y)){return undefined;}
const x=isNaN(value.x)?0.5:value.x;const y=isNaN(value.y)?0.5:value.y;return`${x * 100}% ${y * 100}%`;};const backgroundPositionToCoords=value=>{if(!value){return{x:undefined,y:undefined};}
let[x,y]=value.split(' ').map(v=>parseFloat(v)/ 100);x=isNaN(x)?undefined:x;y=isNaN(y)?x:y;return{x,y};};function InspectorImagePreviewItem({as='span',imgUrl,toggleProps={},filename,label,className,onToggleCallback=background_image_control_noop}){(0,external_wp_element_namespaceObject.useEffect)(()=>{if(typeof toggleProps?.isOpen!=='undefined'){onToggleCallback(toggleProps?.isOpen);}},[toggleProps?.isOpen,onToggleCallback]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalItemGroup,{as:as,className:className,...toggleProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start",as:"span",className:"block-editor-global-styles-background-panel__inspector-preview-inner",children:[imgUrl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-global-styles-background-panel__inspector-image-indicator-wrapper","aria-hidden":true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-global-styles-background-panel__inspector-image-indicator",style:{backgroundImage:`url(${imgUrl})`}})}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.FlexItem,{as:"span",style:imgUrl?{}:{flexGrow:1},children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{numberOfLines:1,className:"block-editor-global-styles-background-panel__inspector-media-replace-title",children:label}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{as:"span",children:imgUrl?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Background image: %s'),filename||label):(0,external_wp_i18n_namespaceObject.__)('No background image selected')})]})]})});}
function BackgroundControlsPanel({label,filename,url:imgUrl,children,onToggle:onToggleCallback=background_image_control_noop,hasImageValue}){if(!hasImageValue){return;}
const imgLabel=label||(0,external_wp_url_namespaceObject.getFilename)(imgUrl)||(0,external_wp_i18n_namespaceObject.__)('Add background image');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:BACKGROUND_POPOVER_PROPS,renderToggle:({onToggle,isOpen})=>{const toggleProps={onClick:onToggle,className:'block-editor-global-styles-background-panel__dropdown-toggle','aria-expanded':isOpen,'aria-label':(0,external_wp_i18n_namespaceObject.__)('Background size, position and repeat options.'),isOpen};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(InspectorImagePreviewItem,{imgUrl:imgUrl,filename:filename,label:imgLabel,toggleProps:toggleProps,as:"button",onToggleCallback:onToggleCallback});},renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{className:"block-editor-global-styles-background-panel__dropdown-content-wrapper",paddingSize:"medium",children:children})});}
function LoadingSpinner(){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Placeholder,{className:"block-editor-global-styles-background-panel__loading",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Spinner,{})});}
function BackgroundImageControls({onChange,style,inheritedValue,onRemoveImage=background_image_control_noop,onResetImage=background_image_control_noop,displayInPanel,defaultValues}){const[isUploading,setIsUploading]=(0,external_wp_element_namespaceObject.useState)(false);const{getSettings}=(0,external_wp_data_namespaceObject.useSelect)(store);const{id,title,url}=style?.background?.backgroundImage||{...inheritedValue?.background?.backgroundImage};const replaceContainerRef=(0,external_wp_element_namespaceObject.useRef)();const{createErrorNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const onUploadError=message=>{createErrorNotice(message,{type:'snackbar'});setIsUploading(false);};const resetBackgroundImage=()=>onChange(setImmutably(style,['background','backgroundImage'],undefined));const onSelectMedia=media=>{if(!media||!media.url){resetBackgroundImage();setIsUploading(false);return;}
if((0,external_wp_blob_namespaceObject.isBlobURL)(media.url)){setIsUploading(true);return;}
if(media.media_type&&media.media_type!==IMAGE_BACKGROUND_TYPE||!media.media_type&&media.type&&media.type!==IMAGE_BACKGROUND_TYPE){onUploadError((0,external_wp_i18n_namespaceObject.__)('Only images can be used as a background image.'));return;}
const sizeValue=style?.background?.backgroundSize||defaultValues?.backgroundSize;const positionValue=style?.background?.backgroundPosition;onChange(setImmutably(style,['background'],{...style?.background,backgroundImage:{url:media.url,id:media.id,source:'file',title:media.title||undefined},backgroundPosition:!positionValue&&('auto'===sizeValue||!sizeValue)?'50% 0':positionValue,backgroundSize:sizeValue}));setIsUploading(false);};const onFilesDrop=filesList=>{getSettings().mediaUpload({allowedTypes:[IMAGE_BACKGROUND_TYPE],filesList,onFileChange([image]){onSelectMedia(image);},onError:onUploadError,multiple:false});};const hasValue=hasBackgroundImageValue(style);const closeAndFocus=()=>{const[toggleButton]=external_wp_dom_namespaceObject.focus.tabbable.find(replaceContainerRef.current);toggleButton?.focus();toggleButton?.click();};const onRemove=()=>onChange(setImmutably(style,['background'],{backgroundImage:'none'}));const canRemove=!hasValue&&hasBackgroundImageValue(inheritedValue);const imgLabel=title||(0,external_wp_url_namespaceObject.getFilename)(url)||(0,external_wp_i18n_namespaceObject.__)('Add background image');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{ref:replaceContainerRef,className:"block-editor-global-styles-background-panel__image-tools-panel-item",children:[isUploading&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(LoadingSpinner,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(media_replace_flow,{mediaId:id,mediaURL:url,allowedTypes:[IMAGE_BACKGROUND_TYPE],accept:"image/*",onSelect:onSelectMedia,popoverProps:{className:dist_clsx({'block-editor-global-styles-background-panel__media-replace-popover':displayInPanel})},name:(0,external_ReactJSXRuntime_namespaceObject.jsx)(InspectorImagePreviewItem,{className:"block-editor-global-styles-background-panel__image-preview",imgUrl:url,filename:title,label:imgLabel}),renderToggle:props=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{...props,__next40pxDefaultSize:true}),onError:onUploadError,onReset:()=>{closeAndFocus();onResetImage();},children:canRemove&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{closeAndFocus();onRemove();onRemoveImage();},children:(0,external_wp_i18n_namespaceObject.__)('Remove')})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropZone,{onFilesDrop:onFilesDrop,label:(0,external_wp_i18n_namespaceObject.__)('Drop to upload')})]});}
function BackgroundSizeControls({onChange,style,inheritedValue,defaultValues}){const sizeValue=style?.background?.backgroundSize||inheritedValue?.background?.backgroundSize;const repeatValue=style?.background?.backgroundRepeat||inheritedValue?.background?.backgroundRepeat;const imageValue=style?.background?.backgroundImage?.url||inheritedValue?.background?.backgroundImage?.url;const isUploadedImage=style?.background?.backgroundImage?.id;const positionValue=style?.background?.backgroundPosition||inheritedValue?.background?.backgroundPosition;const attachmentValue=style?.background?.backgroundAttachment||inheritedValue?.background?.backgroundAttachment;let currentValueForToggle=!sizeValue&&isUploadedImage?defaultValues?.backgroundSize:sizeValue||'auto';currentValueForToggle=!['cover','contain','auto'].includes(currentValueForToggle)?'auto':currentValueForToggle;const repeatCheckedValue=!(repeatValue==='no-repeat'||currentValueForToggle==='cover'&&repeatValue===undefined);const updateBackgroundSize=next=>{let nextRepeat=repeatValue;let nextPosition=positionValue;if(next==='contain'){nextRepeat='no-repeat';nextPosition=undefined;}
if(next==='cover'){nextRepeat=undefined;nextPosition=undefined;}
if((currentValueForToggle==='cover'||currentValueForToggle==='contain')&&next==='auto'){nextRepeat=undefined;if(!!style?.background?.backgroundImage?.id){nextPosition='50% 0';}}
if(!next&&currentValueForToggle==='auto'){next='auto';}
onChange(setImmutably(style,['background'],{...style?.background,backgroundPosition:nextPosition,backgroundRepeat:nextRepeat,backgroundSize:next}));};const updateBackgroundPosition=next=>{onChange(setImmutably(style,['background','backgroundPosition'],coordsToBackgroundPosition(next)));};const toggleIsRepeated=()=>onChange(setImmutably(style,['background','backgroundRepeat'],repeatCheckedValue===true?'no-repeat':'repeat'));const toggleScrollWithPage=()=>onChange(setImmutably(style,['background','backgroundAttachment'],attachmentValue==='fixed'?'scroll':'fixed'));const backgroundPositionValue=!positionValue&&isUploadedImage&&'contain'===sizeValue?defaultValues?.backgroundPosition:positionValue;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:3,className:"single-column",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FocalPointPicker,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Focal point'),url:imageValue,value:backgroundPositionToCoords(backgroundPositionValue),onChange:updateBackgroundPosition}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Fixed background'),checked:attachmentValue==='fixed',onChange:toggleScrollWithPage}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:true,size:"__unstable-large",label:(0,external_wp_i18n_namespaceObject.__)('Size'),value:currentValueForToggle,onChange:updateBackgroundSize,isBlock:true,help:backgroundSizeHelpText(sizeValue||defaultValues?.backgroundSize),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"cover",label:(0,external_wp_i18n_namespaceObject._x)('Cover','Size option for background image control')},"cover"),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"contain",label:(0,external_wp_i18n_namespaceObject._x)('Contain','Size option for background image control')},"contain"),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"auto",label:(0,external_wp_i18n_namespaceObject._x)('Tile','Size option for background image control')},"tile")]}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start",spacing:2,as:"span",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{"aria-label":(0,external_wp_i18n_namespaceObject.__)('Background image width'),onChange:updateBackgroundSize,value:sizeValue,size:"__unstable-large",__unstableInputWidth:"100px",min:0,placeholder:(0,external_wp_i18n_namespaceObject.__)('Auto'),disabled:currentValueForToggle!=='auto'||currentValueForToggle===undefined}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Repeat'),checked:repeatCheckedValue,onChange:toggleIsRepeated,disabled:currentValueForToggle==='cover'})]})]});}
function BackgroundImagePanel({value,onChange,inheritedValue=value,settings,defaultValues={}}){const{globalStyles,_links}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);const _settings=getSettings();return{globalStyles:_settings[globalStylesDataKey],_links:_settings[globalStylesLinksDataKey]};},[]);const resolvedInheritedValue=(0,external_wp_element_namespaceObject.useMemo)(()=>{const resolvedValues={background:{}};if(!inheritedValue?.background){return inheritedValue;}
Object.entries(inheritedValue?.background).forEach(([key,backgroundValue])=>{resolvedValues.background[key]=getResolvedValue(backgroundValue,{styles:globalStyles,_links});});return resolvedValues;},[globalStyles,_links,inheritedValue]);const resetBackground=()=>onChange(setImmutably(value,['background'],{}));const{title,url}=value?.background?.backgroundImage||{...resolvedInheritedValue?.background?.backgroundImage};const hasImageValue=hasBackgroundImageValue(value)||hasBackgroundImageValue(resolvedInheritedValue);const imageValue=value?.background?.backgroundImage||inheritedValue?.background?.backgroundImage;const shouldShowBackgroundImageControls=hasImageValue&&'none'!==imageValue&&(settings?.background?.backgroundSize||settings?.background?.backgroundPosition||settings?.background?.backgroundRepeat);const[isDropDownOpen,setIsDropDownOpen]=(0,external_wp_element_namespaceObject.useState)(false);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:dist_clsx('block-editor-global-styles-background-panel__inspector-media-replace-container',{'is-open':isDropDownOpen}),children:shouldShowBackgroundImageControls?(0,external_ReactJSXRuntime_namespaceObject.jsx)(BackgroundControlsPanel,{label:title,filename:title,url:url,onToggle:setIsDropDownOpen,hasImageValue:hasImageValue,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:3,className:"single-column",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(BackgroundImageControls,{onChange:onChange,style:value,inheritedValue:resolvedInheritedValue,displayInPanel:true,onResetImage:()=>{setIsDropDownOpen(false);resetBackground();},onRemoveImage:()=>setIsDropDownOpen(false),defaultValues:defaultValues}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BackgroundSizeControls,{onChange:onChange,style:value,defaultValues:defaultValues,inheritedValue:resolvedInheritedValue})]})}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(BackgroundImageControls,{onChange:onChange,style:value,inheritedValue:resolvedInheritedValue,defaultValues:defaultValues,onResetImage:()=>{setIsDropDownOpen(false);resetBackground();},onRemoveImage:()=>setIsDropDownOpen(false)})});};const background_panel_DEFAULT_CONTROLS={backgroundImage:true};function useHasBackgroundPanel(settings){return external_wp_element_namespaceObject.Platform.OS==='web'&&settings?.background?.backgroundImage;}
function hasBackgroundSizeValue(style){return style?.background?.backgroundPosition!==undefined||style?.background?.backgroundSize!==undefined;}
function hasBackgroundImageValue(style){return!!style?.background?.backgroundImage?.id||'string'===typeof style?.background?.backgroundImage||!!style?.background?.backgroundImage?.url;}
function BackgroundToolsPanel({resetAllFilter,onChange,value,panelId,children,headerLabel}){const dropdownMenuProps=useToolsPanelDropdownMenuProps();const resetAll=()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:headerLabel,resetAll:resetAll,panelId:panelId,dropdownMenuProps:dropdownMenuProps,children:children});}
function background_panel_BackgroundImagePanel({as:Wrapper=BackgroundToolsPanel,value,onChange,inheritedValue,settings,panelId,defaultControls=background_panel_DEFAULT_CONTROLS,defaultValues={},headerLabel=(0,external_wp_i18n_namespaceObject.__)('Background image')}){const showBackgroundImageControl=useHasBackgroundPanel(settings);const resetBackground=()=>onChange(setImmutably(value,['background'],{}));const resetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(previousValue=>{return{...previousValue,background:{}};},[]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId,headerLabel:headerLabel,children:showBackgroundImageControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>!!value?.background,label:(0,external_wp_i18n_namespaceObject.__)('Image'),onDeselect:resetBackground,isShownByDefault:defaultControls.backgroundImage,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BackgroundImagePanel,{value:value,onChange:onChange,settings:settings,inheritedValue:inheritedValue,defaultControls:defaultControls,defaultValues:defaultValues})})});};const BACKGROUND_SUPPORT_KEY='background';const BACKGROUND_BLOCK_DEFAULT_VALUES={backgroundSize:'cover',backgroundPosition:'50% 50%'};function hasBackgroundSupport(blockName,feature='any'){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,BACKGROUND_SUPPORT_KEY);if(support===true){return true;}
if(feature==='any'){return!!support?.backgroundImage||!!support?.backgroundSize||!!support?.backgroundRepeat;}
return!!support?.[feature];}
function setBackgroundStyleDefaults(backgroundStyle){if(!backgroundStyle||!backgroundStyle?.backgroundImage?.url){return;}
let backgroundStylesWithDefaults;if(!backgroundStyle?.backgroundSize){backgroundStylesWithDefaults={backgroundSize:BACKGROUND_BLOCK_DEFAULT_VALUES.backgroundSize};}
if('contain'===backgroundStyle?.backgroundSize&&!backgroundStyle?.backgroundPosition){backgroundStylesWithDefaults={backgroundPosition:BACKGROUND_BLOCK_DEFAULT_VALUES.backgroundPosition};}
return backgroundStylesWithDefaults;}
function background_useBlockProps({name,style}){if(!hasBackgroundSupport(name)||!style?.background?.backgroundImage){return;}
const backgroundStyles=setBackgroundStyleDefaults(style?.background);if(!backgroundStyles){return;}
return{style:{...backgroundStyles}};}
function getBackgroundImageClasses(style){return hasBackgroundImageValue(style)?'has-background':'';}
function BackgroundInspectorControl({children}){const resetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(attributes=>{return{...attributes,style:{...attributes.style,background:undefined}};},[]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"background",resetAllFilter:resetAllFilter,children:children});}
function background_BackgroundImagePanel({clientId,name,setAttributes,settings}){const{style,inheritedValue}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockAttributes,getSettings}=select(store);const _settings=getSettings();return{style:getBlockAttributes(clientId)?.style,inheritedValue:_settings[globalStylesDataKey]?.blocks?.[name]};},[clientId,name]);if(!useHasBackgroundPanel(settings)||!hasBackgroundSupport(name,'backgroundImage')){return null;}
const onChange=newStyle=>{setAttributes({style:utils_cleanEmptyObject(newStyle)});};const updatedSettings={...settings,background:{...settings.background,backgroundSize:settings?.background?.backgroundSize&&hasBackgroundSupport(name,'backgroundSize')}};const defaultControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[BACKGROUND_SUPPORT_KEY,'defaultControls']);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(background_panel_BackgroundImagePanel,{inheritedValue:inheritedValue,as:BackgroundInspectorControl,panelId:clientId,defaultValues:BACKGROUND_BLOCK_DEFAULT_VALUES,settings:updatedSettings,onChange:onChange,defaultControls:defaultControls,value:style});}
const background=({useBlockProps:background_useBlockProps,attributeKeys:['style'],hasSupport:hasBackgroundSupport});;function lock_addAttribute(settings){var _settings$attributes$;if('type'in((_settings$attributes$=settings.attributes?.lock)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
settings.attributes={...settings.attributes,lock:{type:'object'}};return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/lock/addAttribute',lock_addAttribute);;const ANCHOR_REGEX=/[\s#]/g;const ANCHOR_SCHEMA={type:'string',source:'attribute',attribute:'id',selector:'*'};function anchor_addAttribute(settings){var _settings$attributes$;if('type'in((_settings$attributes$=settings.attributes?.anchor)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'anchor')){settings.attributes={...settings.attributes,anchor:ANCHOR_SCHEMA};}
return settings;}
function BlockEditAnchorControlPure({anchor,setAttributes}){const blockEditingMode=useBlockEditingMode();if(blockEditingMode!=='default'){return null;}
const isWeb=external_wp_element_namespaceObject.Platform.OS==='web';return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"advanced",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextControl,{__nextHasNoMarginBottom:true,__next40pxDefaultSize:true,className:"html-anchor-control",label:(0,external_wp_i18n_namespaceObject.__)('HTML anchor'),help:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_wp_i18n_namespaceObject.__)('Enter a word or two  without spaces  to make a unique web address just for this block, called an anchor. Then, youll be able to link directly to this section of your page.'),isWeb&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[' ',(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/documentation/article/page-jumps/'),children:(0,external_wp_i18n_namespaceObject.__)('Learn more about anchors')})]})]}),value:anchor||'',placeholder:!isWeb?(0,external_wp_i18n_namespaceObject.__)('Add an anchor'):null,onChange:nextValue=>{nextValue=nextValue.replace(ANCHOR_REGEX,'-');setAttributes({anchor:nextValue});},autoCapitalize:"none",autoComplete:"off"})});}
const hooks_anchor=({addSaveProps,edit:BlockEditAnchorControlPure,attributeKeys:['anchor'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'anchor');}});function addSaveProps(extraProps,blockType,attributes){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'anchor')){extraProps.id=attributes.anchor===''?null:attributes.anchor;}
return extraProps;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/anchor/attribute',anchor_addAttribute);;function aria_label_addAttribute(settings){if(settings?.attributes?.ariaLabel?.type){return settings;}
if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'ariaLabel')){settings.attributes={...settings.attributes,ariaLabel:{type:'string'}};}
return settings;}
function aria_label_addSaveProps(extraProps,blockType,attributes){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'ariaLabel')){extraProps['aria-label']=attributes.ariaLabel===''?null:attributes.ariaLabel;}
return extraProps;}
const aria_label=({addSaveProps:aria_label_addSaveProps,attributeKeys:['ariaLabel'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'ariaLabel');}});(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/ariaLabel/attribute',aria_label_addAttribute);;function custom_class_name_addAttribute(settings){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'customClassName',true)){settings.attributes={...settings.attributes,className:{type:'string'}};}
return settings;}
function CustomClassNameControlsPure({className,setAttributes}){const blockEditingMode=useBlockEditingMode();if(blockEditingMode!=='default'){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"advanced",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextControl,{__nextHasNoMarginBottom:true,__next40pxDefaultSize:true,autoComplete:"off",label:(0,external_wp_i18n_namespaceObject.__)('Additional CSS class(es)'),value:className||'',onChange:nextValue=>{setAttributes({className:nextValue!==''?nextValue:undefined});},help:(0,external_wp_i18n_namespaceObject.__)('Separate multiple classes with spaces.')})});}
const custom_class_name=({edit:CustomClassNameControlsPure,addSaveProps:custom_class_name_addSaveProps,attributeKeys:['className'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'customClassName',true);}});function custom_class_name_addSaveProps(extraProps,blockType,attributes){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'customClassName',true)&&attributes.className){extraProps.className=dist_clsx(extraProps.className,attributes.className);}
return extraProps;}
function addTransforms(result,source,index,results){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(result.name,'customClassName',true)){return result;}
if(results.length===1&&result.innerBlocks.length===source.length){return result;}
if(results.length===1&&source.length>1||results.length>1&&source.length===1){return result;}
if(source[index]){const originClassName=source[index]?.attributes.className;if(originClassName&&result.attributes.className===undefined){return{...result,attributes:{...result.attributes,className:originClassName}};}}
return result;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/editor/custom-class-name/attribute',custom_class_name_addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.switchToBlockType.transformedBlock','core/color/addTransforms',addTransforms);;function addGeneratedClassName(extraProps,blockType){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'className',true)){if(typeof extraProps.className==='string'){extraProps.className=[...new Set([(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(blockType.name),...extraProps.className.split(' ')])].join(' ').trim();}else{extraProps.className=(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(blockType.name);}}
return extraProps;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/generated-class-name/save-props',addGeneratedClassName);;var colord_r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return"string"==typeof r?r.length>0:"number"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u="deg"),Number(e)*(colord_r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},"hsl"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},"rgb"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},"hsl"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},"hsv"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return"string"==typeof r?N(r.trim(),y.string):"object"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},colord_j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):"","#"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?"rgba("+t+", "+n+", "+e+", "+u+")":"rgb("+t+", "+n+", "+e+")";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?"hsla("+t+", "+n+"%, "+e+"%, "+u+")":"hsl("+t+", "+n+"%, "+e+"%)";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return"number"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return"number"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof colord_j?r:new colord_j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(colord_j,y),S.push(r))})},E=function(){return new colord_j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};;function names(e,f){var a={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b="black";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d="transparent"===r?"#0000":a[r];return d?new e(d).toRgb():null},"name"])};var a11y_o=function(o){var t=o/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},a11y_t=function(t){return.2126*a11y_o(t.r)+.7152*a11y_o(t.g)+.0722*a11y_o(t.b)};function a11y(o){o.prototype.luminance=function(){return o=a11y_t(this.rgba),void 0===(r=2)&&(r=0),void 0===n&&(n=Math.pow(10,r)),Math.round(n*o)/n+0;var o,r,n},o.prototype.contrast=function(r){void 0===r&&(r="#FFF");var n,a,i,e,v,u,d,c=r instanceof o?r:new o(r);return e=this.rgba,v=c.toRgb(),u=a11y_t(e),d=a11y_t(v),n=u>d?(u+.05)/(d+.05):(d+.05)/(u+.05),void 0===(a=2)&&(a=0),void 0===i&&(i=Math.pow(10,a)),Math.floor(i*n)/i+0},o.prototype.isReadable=function(o,t){return void 0===o&&(o="#FFF"),void 0===t&&(t={}),this.contrast(o)>=(e=void 0===(i=(r=t).size)?"normal":i,"AAA"===(a=void 0===(n=r.level)?"AA":n)&&"normal"===e?7:"AA"===a&&"large"===e?3:4.5);var r,n,a,i,e}};k([names,a11y]);const{kebabCase}=unlock(external_wp_components_namespaceObject.privateApis);const getColorObjectByAttributeValues=(colors,definedColor,customColor)=>{if(definedColor){const colorObj=colors?.find(color=>color.slug===definedColor);if(colorObj){return colorObj;}}
return{color:customColor};};const getColorObjectByColorValue=(colors,colorValue)=>{return colors?.find(color=>color.color===colorValue);};function getColorClassName(colorContextName,colorSlug){if(!colorContextName||!colorSlug){return undefined;}
return`has-${kebabCase(colorSlug)}-${colorContextName}`;}
function getMostReadableColor(colors,colorValue){const colordColor=w(colorValue);const getColorContrast=({color})=>colordColor.contrast(color);const maxContrast=Math.max(...colors.map(getColorContrast));return colors.find(color=>getColorContrast(color)===maxContrast).color;};function useMultipleOriginColorsAndGradients(){const[enableCustomColors,customColors,themeColors,defaultColors,shouldDisplayDefaultColors,enableCustomGradients,customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients]=use_settings_useSettings('color.custom','color.palette.custom','color.palette.theme','color.palette.default','color.defaultPalette','color.customGradient','color.gradients.custom','color.gradients.theme','color.gradients.default','color.defaultGradients');const colorGradientSettings={disableCustomColors:!enableCustomColors,disableCustomGradients:!enableCustomGradients};colorGradientSettings.colors=(0,external_wp_element_namespaceObject.useMemo)(()=>{const result=[];if(themeColors&&themeColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Theme','Indicates this palette comes from the theme.'),slug:'theme',colors:themeColors});}
if(shouldDisplayDefaultColors&&defaultColors&&defaultColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Default','Indicates this palette comes from WordPress.'),slug:'default',colors:defaultColors});}
if(customColors&&customColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Custom','Indicates this palette is created by the user.'),slug:'custom',colors:customColors});}
return result;},[customColors,themeColors,defaultColors,shouldDisplayDefaultColors]);colorGradientSettings.gradients=(0,external_wp_element_namespaceObject.useMemo)(()=>{const result=[];if(themeGradients&&themeGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Theme','Indicates this palette comes from the theme.'),slug:'theme',gradients:themeGradients});}
if(shouldDisplayDefaultGradients&&defaultGradients&&defaultGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Default','Indicates this palette comes from WordPress.'),slug:'default',gradients:defaultGradients});}
if(customGradients&&customGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Custom','Indicates this palette is created by the user.'),slug:'custom',gradients:customGradients});}
return result;},[customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients]);colorGradientSettings.hasColorsOrGradients=!!colorGradientSettings.colors.length||!!colorGradientSettings.gradients.length;return colorGradientSettings;};function mode(inputArray){const arr=[...inputArray];return arr.sort((a,b)=>inputArray.filter(v=>v===b).length-inputArray.filter(v=>v===a).length).shift();}
function getAllUnit(selectedUnits={}){const{flat,...cornerUnits}=selectedUnits;return flat||mode(Object.values(cornerUnits).filter(Boolean))||'px';}
function getAllValue(values={}){if(typeof values==='string'){return values;}
const parsedQuantitiesAndUnits=Object.values(values).map(value=>(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(value));const allValues=parsedQuantitiesAndUnits.map(value=>{var _value$;return(_value$=value[0])!==null&&_value$!==void 0?_value$:'';});const allUnits=parsedQuantitiesAndUnits.map(value=>value[1]);const value=allValues.every(v=>v===allValues[0])?allValues[0]:'';const unit=mode(allUnits);const allValue=value===0||value?`${value}${unit}`:undefined;return allValue;}
function hasMixedValues(values={}){const allValue=getAllValue(values);const isMixed=typeof values==='string'?false:isNaN(parseFloat(allValue));return isMixed;}
function hasDefinedValues(values){if(!values){return false;}
if(typeof values==='string'){return true;}
const filteredValues=Object.values(values).filter(value=>{return!!value||value===0;});return!!filteredValues.length;};function AllInputControl({onChange,selectedUnits,setSelectedUnits,values,...props}){let allValue=getAllValue(values);if(allValue===undefined){allValue=getAllUnit(selectedUnits);}
const hasValues=hasDefinedValues(values);const isMixed=hasValues&&hasMixedValues(values);const allPlaceholder=isMixed?(0,external_wp_i18n_namespaceObject.__)('Mixed'):null;const handleOnChange=next=>{const isNumeric=!isNaN(parseFloat(next));const nextValue=isNumeric?next:undefined;onChange(nextValue);};const handleOnUnitChange=unit=>{setSelectedUnits({topLeft:unit,topRight:unit,bottomLeft:unit,bottomRight:unit});};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{...props,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Border radius'),disableUnits:isMixed,isOnly:true,value:allValue,onChange:handleOnChange,onUnitChange:handleOnUnitChange,placeholder:allPlaceholder,size:"__unstable-large"});};const CORNERS={topLeft:(0,external_wp_i18n_namespaceObject.__)('Top left'),topRight:(0,external_wp_i18n_namespaceObject.__)('Top right'),bottomLeft:(0,external_wp_i18n_namespaceObject.__)('Bottom left'),bottomRight:(0,external_wp_i18n_namespaceObject.__)('Bottom right')};function BoxInputControls({onChange,selectedUnits,setSelectedUnits,values:valuesProp,...props}){const createHandleOnChange=corner=>next=>{if(!onChange){return;}
const isNumeric=!isNaN(parseFloat(next));const nextValue=isNumeric?next:undefined;onChange({...values,[corner]:nextValue});};const createHandleOnUnitChange=side=>next=>{const newUnits={...selectedUnits};newUnits[side]=next;setSelectedUnits(newUnits);};const values=typeof valuesProp!=='string'?valuesProp:{topLeft:valuesProp,topRight:valuesProp,bottomLeft:valuesProp,bottomRight:valuesProp};return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"components-border-radius-control__input-controls-wrapper",children:Object.entries(CORNERS).map(([corner,label])=>{const[parsedQuantity,parsedUnit]=(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values[corner]);const computedUnit=values[corner]?parsedUnit:selectedUnits[corner]||selectedUnits.flat;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Tooltip,{text:label,placement:"top",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"components-border-radius-control__tooltip-wrapper",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{...props,"aria-label":label,value:[parsedQuantity,computedUnit].join(''),onChange:createHandleOnChange(corner),onUnitChange:createHandleOnUnitChange(corner),size:"__unstable-large"})})},corner);})});};const link_link=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});const library_link=(link_link);;function LinkedButton({isLinked,...props}){const label=isLinked?(0,external_wp_i18n_namespaceObject.__)('Unlink radii'):(0,external_wp_i18n_namespaceObject.__)('Link radii');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{...props,className:"component-border-radius-control__linked-button",size:"small",icon:isLinked?library_link:link_off,iconSize:24,label:label});};const border_radius_control_DEFAULT_VALUES={topLeft:undefined,topRight:undefined,bottomLeft:undefined,bottomRight:undefined};const MIN_BORDER_RADIUS_VALUE=0;const MAX_BORDER_RADIUS_VALUES={px:100,em:20,rem:20};function BorderRadiusControl({onChange,values}){const[isLinked,setIsLinked]=(0,external_wp_element_namespaceObject.useState)(!hasDefinedValues(values)||!hasMixedValues(values));const[selectedUnits,setSelectedUnits]=(0,external_wp_element_namespaceObject.useState)({flat:typeof values==='string'?(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values)[1]:undefined,topLeft:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values?.topLeft)[1],topRight:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values?.topRight)[1],bottomLeft:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values?.bottomLeft)[1],bottomRight:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values?.bottomRight)[1]});const[availableUnits]=use_settings_useSettings('spacing.units');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:availableUnits||['px','em','rem']});const unit=getAllUnit(selectedUnits);const unitConfig=units&&units.find(item=>item.value===unit);const step=unitConfig?.step||1;const[allValue]=(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(getAllValue(values));const toggleLinked=()=>setIsLinked(!isLinked);const handleSliderChange=next=>{onChange(next!==undefined?`${next}${unit}`:undefined);};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{className:"components-border-radius-control",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend",children:(0,external_wp_i18n_namespaceObject.__)('Radius')}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"components-border-radius-control__wrapper",children:[isLinked?(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(AllInputControl,{className:"components-border-radius-control__unit-control",values:values,min:MIN_BORDER_RADIUS_VALUE,onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,units:units}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.RangeControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Border radius'),hideLabelFromVision:true,className:"components-border-radius-control__range-control",value:allValue!==null&&allValue!==void 0?allValue:'',min:MIN_BORDER_RADIUS_VALUE,max:MAX_BORDER_RADIUS_VALUES[unit],initialPosition:0,withInputField:false,onChange:handleSliderChange,step:step,__nextHasNoMarginBottom:true})]}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(BoxInputControls,{min:MIN_BORDER_RADIUS_VALUE,onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,values:values||border_radius_control_DEFAULT_VALUES,units:units}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(LinkedButton,{onClick:toggleLinked,isLinked:isLinked})]})]});};const check_check=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})});const library_check=(check_check);;const shadow=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M12 8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6.5c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zM12.8 3h-1.5v3h1.5V3zm-1.6 18h1.5v-3h-1.5v3zm6.8-9.8v1.5h3v-1.5h-3zm-12 0H3v1.5h3v-1.5zm9.7 5.6 2.1 2.1 1.1-1.1-2.1-2.1-1.1 1.1zM8.3 7.2 6.2 5.1 5.1 6.2l2.1 2.1 1.1-1.1zM5.1 17.8l1.1 1.1 2.1-2.1-1.1-1.1-2.1 2.1zM18.9 6.2l-1.1-1.1-2.1 2.1 1.1 1.1 2.1-2.1z"})});const library_shadow=(shadow);;const reset_reset=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M7 11.5h10V13H7z"})});const library_reset=(reset_reset);;const shadow_panel_components_EMPTY_ARRAY=[];function ShadowPopoverContainer({shadow,onShadowChange,settings}){const shadows=useShadowPresets(settings);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-global-styles__shadow-popover-container",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:4,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalHeading,{level:5,children:(0,external_wp_i18n_namespaceObject.__)('Drop shadow')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(ShadowPresets,{presets:shadows,activeShadow:shadow,onSelect:onShadowChange}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-global-styles__clear-shadow",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"tertiary",onClick:()=>onShadowChange(undefined),disabled:!shadow,accessibleWhenDisabled:true,children:(0,external_wp_i18n_namespaceObject.__)('Clear')})})]})});}
function ShadowPresets({presets,activeShadow,onSelect}){return!presets?null:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite,{role:"listbox",className:"block-editor-global-styles__shadow__list","aria-label":(0,external_wp_i18n_namespaceObject.__)('Drop shadows'),children:presets.map(({name,slug,shadow})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(ShadowIndicator,{label:name,isActive:shadow===activeShadow,type:slug==='unset'?'unset':'preset',onSelect:()=>onSelect(shadow===activeShadow?undefined:shadow),shadow:shadow},slug))});}
function ShadowIndicator({type,label,isActive,onSelect,shadow}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Tooltip,{text:label,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite.Item,{role:"option","aria-label":label,"aria-selected":isActive,className:dist_clsx('block-editor-global-styles__shadow__item',{'is-active':isActive}),render:(0,external_ReactJSXRuntime_namespaceObject.jsx)("button",{className:dist_clsx('block-editor-global-styles__shadow-indicator',{unset:type==='unset'}),onClick:onSelect,style:{boxShadow:shadow},"aria-label":label,children:isActive&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:library_check})})})});}
function ShadowPopover({shadow,onShadowChange,settings}){const popoverProps={placement:'left-start',offset:36,shift:true};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:popoverProps,className:"block-editor-global-styles__shadow-dropdown",renderToggle:renderShadowToggle(shadow,onShadowChange),renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{paddingSize:"medium",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(ShadowPopoverContainer,{shadow:shadow,onShadowChange:onShadowChange,settings:settings})})});}
function renderShadowToggle(shadow,onShadowChange){return({onToggle,isOpen})=>{const shadowButtonRef=(0,external_wp_element_namespaceObject.useRef)(undefined);const toggleProps={onClick:onToggle,className:dist_clsx({'is-open':isOpen}),'aria-expanded':isOpen,ref:shadowButtonRef};const removeButtonProps={onClick:()=>{if(isOpen){onToggle();}
onShadowChange(undefined);shadowButtonRef.current?.focus();},className:dist_clsx('block-editor-global-styles__shadow-editor__remove-button',{'is-open':isOpen}),label:(0,external_wp_i18n_namespaceObject.__)('Remove')};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,...toggleProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{className:"block-editor-global-styles__toggle-icon",icon:library_shadow,size:24}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_wp_i18n_namespaceObject.__)('Drop shadow')})]})}),!!shadow&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,size:"small",icon:library_reset,...removeButtonProps})]});};}
function useShadowPresets(settings){return(0,external_wp_element_namespaceObject.useMemo)(()=>{var _settings$shadow$pres;if(!settings?.shadow){return shadow_panel_components_EMPTY_ARRAY;}
const defaultPresetsEnabled=settings?.shadow?.defaultPresets;const{default:defaultShadows,theme:themeShadows,custom:customShadows}=(_settings$shadow$pres=settings?.shadow?.presets)!==null&&_settings$shadow$pres!==void 0?_settings$shadow$pres:{};const unsetShadow={name:(0,external_wp_i18n_namespaceObject.__)('Unset'),slug:'unset',shadow:'none'};const shadowPresets=[...(defaultPresetsEnabled&&defaultShadows||shadow_panel_components_EMPTY_ARRAY),...(themeShadows||shadow_panel_components_EMPTY_ARRAY),...(customShadows||shadow_panel_components_EMPTY_ARRAY)];if(shadowPresets.length){shadowPresets.unshift(unsetShadow);}
return shadowPresets;},[settings]);};function useHasBorderPanel(settings){const controls=Object.values(useHasBorderPanelControls(settings));return controls.some(Boolean);}
function useHasBorderPanelControls(settings){const controls={hasBorderColor:useHasBorderColorControl(settings),hasBorderRadius:useHasBorderRadiusControl(settings),hasBorderStyle:useHasBorderStyleControl(settings),hasBorderWidth:useHasBorderWidthControl(settings),hasShadow:useHasShadowControl(settings)};return controls;}
function useHasBorderColorControl(settings){return settings?.border?.color;}
function useHasBorderRadiusControl(settings){return settings?.border?.radius;}
function useHasBorderStyleControl(settings){return settings?.border?.style;}
function useHasBorderWidthControl(settings){return settings?.border?.width;}
function useHasShadowControl(settings){const shadows=useShadowPresets(settings);return!!settings?.shadow&&shadows.length>0;}
function BorderToolsPanel({resetAllFilter,onChange,value,panelId,children,label}){const dropdownMenuProps=useToolsPanelDropdownMenuProps();const resetAll=()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:label,resetAll:resetAll,panelId:panelId,dropdownMenuProps:dropdownMenuProps,children:children});}
const border_panel_DEFAULT_CONTROLS={radius:true,color:true,width:true,shadow:true};function BorderPanel({as:Wrapper=BorderToolsPanel,value,onChange,inheritedValue=value,settings,panelId,name,defaultControls=border_panel_DEFAULT_CONTROLS}){var _settings$shadow$pres,_ref,_ref2,_shadowPresets$custom;const colors=useColorsPerOrigin(settings);const decodeValue=(0,external_wp_element_namespaceObject.useCallback)(rawValue=>getValueFromVariable({settings},'',rawValue),[settings]);const encodeColorValue=colorValue=>{const allColors=colors.flatMap(({colors:originColors})=>originColors);const colorObject=allColors.find(({color})=>color===colorValue);return colorObject?'var:preset|color|'+colorObject.slug:colorValue;};const border=(0,external_wp_element_namespaceObject.useMemo)(()=>{if((0,external_wp_components_namespaceObject.__experimentalHasSplitBorders)(inheritedValue?.border)){const borderValue={...inheritedValue?.border};['top','right','bottom','left'].forEach(side=>{borderValue[side]={...borderValue[side],color:decodeValue(borderValue[side]?.color)};});return borderValue;}
return{...inheritedValue?.border,color:inheritedValue?.border?.color?decodeValue(inheritedValue?.border?.color):undefined};},[inheritedValue?.border,decodeValue]);const setBorder=newBorder=>onChange({...value,border:newBorder});const showBorderColor=useHasBorderColorControl(settings);const showBorderStyle=useHasBorderStyleControl(settings);const showBorderWidth=useHasBorderWidthControl(settings);const showBorderRadius=useHasBorderRadiusControl(settings);const borderRadiusValues=decodeValue(border?.radius);const setBorderRadius=newBorderRadius=>setBorder({...border,radius:newBorderRadius});const hasBorderRadius=()=>{const borderValues=value?.border?.radius;if(typeof borderValues==='object'){return Object.entries(borderValues).some(Boolean);}
return!!borderValues;};const hasShadowControl=useHasShadowControl(settings);const shadow=decodeValue(inheritedValue?.shadow);const shadowPresets=(_settings$shadow$pres=settings?.shadow?.presets)!==null&&_settings$shadow$pres!==void 0?_settings$shadow$pres:{};const mergedShadowPresets=(_ref=(_ref2=(_shadowPresets$custom=shadowPresets.custom)!==null&&_shadowPresets$custom!==void 0?_shadowPresets$custom:shadowPresets.theme)!==null&&_ref2!==void 0?_ref2:shadowPresets.default)!==null&&_ref!==void 0?_ref:[];const setShadow=newValue=>{const slug=mergedShadowPresets?.find(({shadow:shadowName})=>shadowName===newValue)?.slug;onChange(setImmutably(value,['shadow'],slug?`var:preset|shadow|${slug}`:newValue||undefined));};const hasShadow=()=>!!value?.shadow;const resetShadow=()=>setShadow(undefined);const resetBorder=()=>{if(hasBorderRadius()){return setBorder({radius:value?.border?.radius});}
setBorder(undefined);};const onBorderChange=newBorder=>{const updatedBorder={...newBorder};if((0,external_wp_components_namespaceObject.__experimentalHasSplitBorders)(updatedBorder)){['top','right','bottom','left'].forEach(side=>{if(updatedBorder[side]){updatedBorder[side]={...updatedBorder[side],color:encodeColorValue(updatedBorder[side]?.color)};}});}else if(updatedBorder){updatedBorder.color=encodeColorValue(updatedBorder.color);}
setBorder({radius:border?.radius,...updatedBorder});};const resetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(previousValue=>{return{...previousValue,border:undefined,shadow:undefined};},[]);const showBorderByDefault=defaultControls?.color||defaultControls?.width;const hasBorderControl=showBorderColor||showBorderStyle||showBorderWidth||showBorderRadius;const label=useBorderPanelLabel({blockName:name,hasShadowControl,hasBorderControl});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId,label:label,children:[(showBorderWidth||showBorderColor)&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>(0,external_wp_components_namespaceObject.__experimentalIsDefinedBorder)(value?.border),label:(0,external_wp_i18n_namespaceObject.__)('Border'),onDeselect:()=>resetBorder(),isShownByDefault:showBorderByDefault,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BorderBoxControl,{colors:colors,enableAlpha:true,enableStyle:showBorderStyle,onChange:onBorderChange,popoverOffset:40,popoverPlacement:"left-start",value:border,__experimentalIsRenderedInSidebar:true,size:"__unstable-large",hideLabelFromVision:!hasShadowControl,label:(0,external_wp_i18n_namespaceObject.__)('Border')})}),showBorderRadius&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:hasBorderRadius,label:(0,external_wp_i18n_namespaceObject.__)('Radius'),onDeselect:()=>setBorderRadius(undefined),isShownByDefault:defaultControls.radius,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BorderRadiusControl,{values:borderRadiusValues,onChange:newValue=>{setBorderRadius(newValue||undefined);}})}),hasShadowControl&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Shadow'),hasValue:hasShadow,onDeselect:resetShadow,isShownByDefault:defaultControls.shadow,panelId:panelId,children:[hasBorderControl?(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend",children:(0,external_wp_i18n_namespaceObject.__)('Shadow')}):null,(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalItemGroup,{isBordered:true,isSeparated:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(ShadowPopover,{shadow:shadow,onShadowChange:setShadow,settings:settings})})]})]});};const BORDER_SUPPORT_KEY='__experimentalBorder';const SHADOW_SUPPORT_KEY='shadow';const getColorByProperty=(colors,property,value)=>{let matchedColor;colors.some(origin=>origin.colors.some(color=>{if(color[property]===value){matchedColor=color;return true;}
return false;}));return matchedColor;};const getMultiOriginColor=({colors,namedColor,customColor})=>{if(namedColor){const colorObject=getColorByProperty(colors,'slug',namedColor);if(colorObject){return colorObject;}}
if(!customColor){return{color:undefined};}
const colorObject=getColorByProperty(colors,'color',customColor);return colorObject?colorObject:{color:customColor};};function getColorSlugFromVariable(value){const namedColor=/var:preset\|color\|(.+)/.exec(value);if(namedColor&&namedColor[1]){return namedColor[1];}
return null;}
function styleToAttributes(style){if((0,external_wp_components_namespaceObject.__experimentalHasSplitBorders)(style?.border)){return{style,borderColor:undefined};}
const borderColorValue=style?.border?.color;const borderColorSlug=borderColorValue?.startsWith('var:preset|color|')?borderColorValue.substring('var:preset|color|'.length):undefined;const updatedStyle={...style};updatedStyle.border={...updatedStyle.border,color:borderColorSlug?undefined:borderColorValue};return{style:utils_cleanEmptyObject(updatedStyle),borderColor:borderColorSlug};}
function attributesToStyle(attributes){if((0,external_wp_components_namespaceObject.__experimentalHasSplitBorders)(attributes.style?.border)){return attributes.style;}
return{...attributes.style,border:{...attributes.style?.border,color:attributes.borderColor?'var:preset|color|'+attributes.borderColor:attributes.style?.border?.color}};}
function BordersInspectorControl({label,children,resetAllFilter}){const attributesResetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(attributes=>{const existingStyle=attributesToStyle(attributes);const updatedStyle=resetAllFilter(existingStyle);return{...attributes,...styleToAttributes(updatedStyle)};},[resetAllFilter]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"border",resetAllFilter:attributesResetAllFilter,label:label,children:children});}
function border_BorderPanel({clientId,name,setAttributes,settings}){const isEnabled=useHasBorderPanel(settings);function selector(select){const{style,borderColor}=select(store).getBlockAttributes(clientId)||{};return{style,borderColor};}
const{style,borderColor}=(0,external_wp_data_namespaceObject.useSelect)(selector,[clientId]);const value=(0,external_wp_element_namespaceObject.useMemo)(()=>{return attributesToStyle({style,borderColor});},[style,borderColor]);const onChange=newStyle=>{setAttributes(styleToAttributes(newStyle));};if(!isEnabled){return null;}
const defaultControls={...(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[BORDER_SUPPORT_KEY,'__experimentalDefaultControls']),...(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[SHADOW_SUPPORT_KEY,'__experimentalDefaultControls'])};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BorderPanel,{as:BordersInspectorControl,panelId:clientId,settings:settings,value:value,onChange:onChange,defaultControls:defaultControls});}
function hasBorderSupport(blockName,feature='any'){if(external_wp_element_namespaceObject.Platform.OS!=='web'){return false;}
const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,BORDER_SUPPORT_KEY);if(support===true){return true;}
if(feature==='any'){return!!(support?.color||support?.radius||support?.width||support?.style);}
return!!support?.[feature];}
function hasShadowSupport(blockName){return hasBlockSupport(blockName,SHADOW_SUPPORT_KEY);}
function useBorderPanelLabel({blockName,hasBorderControl,hasShadowControl}={}){const settings=useBlockSettings(blockName);const controls=useHasBorderPanelControls(settings);if(!hasBorderControl&&!hasShadowControl&&blockName){hasBorderControl=controls?.hasBorderColor||controls?.hasBorderStyle||controls?.hasBorderWidth||controls?.hasBorderRadius;hasShadowControl=controls?.hasShadow;}
if(hasBorderControl&&hasShadowControl){return(0,external_wp_i18n_namespaceObject.__)('Border & Shadow');}
if(hasShadowControl){return(0,external_wp_i18n_namespaceObject.__)('Shadow');}
return(0,external_wp_i18n_namespaceObject.__)('Border');}
function removeBorderAttribute(style,attribute){return cleanEmptyObject({...style,border:{...style?.border,[attribute]:undefined}});}
function addAttributes(settings){if(!hasBorderSupport(settings,'color')){return settings;}
if(settings.attributes.borderColor){return settings;}
return{...settings,attributes:{...settings.attributes,borderColor:{type:'string'}}};}
function border_addSaveProps(props,blockNameOrType,attributes){if(!hasBorderSupport(blockNameOrType,'color')||shouldSkipSerialization(blockNameOrType,BORDER_SUPPORT_KEY,'color')){return props;}
const borderClasses=getBorderClasses(attributes);const newClassName=dist_clsx(props.className,borderClasses);props.className=newClassName?newClassName:undefined;return props;}
function getBorderClasses(attributes){const{borderColor,style}=attributes;const borderColorClass=getColorClassName('border-color',borderColor);return dist_clsx({'has-border-color':borderColor||style?.border?.color,[borderColorClass]:!!borderColorClass});}
function border_useBlockProps({name,borderColor,style}){const{colors}=useMultipleOriginColorsAndGradients();if(!hasBorderSupport(name,'color')||shouldSkipSerialization(name,BORDER_SUPPORT_KEY,'color')){return{};}
const{color:borderColorValue}=getMultiOriginColor({colors,namedColor:borderColor});const{color:borderTopColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.top?.color)});const{color:borderRightColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.right?.color)});const{color:borderBottomColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.bottom?.color)});const{color:borderLeftColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.left?.color)});const extraStyles={borderTopColor:borderTopColor||borderColorValue,borderRightColor:borderRightColor||borderColorValue,borderBottomColor:borderBottomColor||borderColorValue,borderLeftColor:borderLeftColor||borderColorValue};return border_addSaveProps({style:utils_cleanEmptyObject(extraStyles)||{}},name,{borderColor,style});}
const border=({useBlockProps:border_useBlockProps,addSaveProps:border_addSaveProps,attributeKeys:['borderColor','style'],hasSupport(name){return hasBorderSupport(name,'color');}});(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/border/addAttributes',addAttributes);;function __experimentalGetGradientClass(gradientSlug){if(!gradientSlug){return undefined;}
return`has-${gradientSlug}-gradient-background`;}
function getGradientValueBySlug(gradients,slug){const gradient=gradients?.find(g=>g.slug===slug);return gradient&&gradient.gradient;}
function __experimentalGetGradientObjectByGradientValue(gradients,value){const gradient=gradients?.find(g=>g.gradient===value);return gradient;}
function getGradientSlugByValue(gradients,value){const gradient=__experimentalGetGradientObjectByGradientValue(gradients,value);return gradient&&gradient.slug;}
function __experimentalUseGradient({gradientAttribute='gradient',customGradientAttribute='customGradient'}={}){const{clientId}=useBlockEditContext();const[userGradientPalette,themeGradientPalette,defaultGradientPalette]=use_settings_useSettings('color.gradients.custom','color.gradients.theme','color.gradients.default');const allGradients=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userGradientPalette||[]),...(themeGradientPalette||[]),...(defaultGradientPalette||[])],[userGradientPalette,themeGradientPalette,defaultGradientPalette]);const{gradient,customGradient}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockAttributes}=select(store);const attributes=getBlockAttributes(clientId)||{};return{customGradient:attributes[customGradientAttribute],gradient:attributes[gradientAttribute]};},[clientId,gradientAttribute,customGradientAttribute]);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const setGradient=(0,external_wp_element_namespaceObject.useCallback)(newGradientValue=>{const slug=getGradientSlugByValue(allGradients,newGradientValue);if(slug){updateBlockAttributes(clientId,{[gradientAttribute]:slug,[customGradientAttribute]:undefined});return;}
updateBlockAttributes(clientId,{[gradientAttribute]:undefined,[customGradientAttribute]:newGradientValue});},[allGradients,clientId,updateBlockAttributes]);const gradientClass=__experimentalGetGradientClass(gradient);let gradientValue;if(gradient){gradientValue=getGradientValueBySlug(allGradients,gradient);}else{gradientValue=customGradient;}
return{gradientClass,gradientValue,setGradient};};const{Tabs}=unlock(external_wp_components_namespaceObject.privateApis);const colorsAndGradientKeys=['colors','disableCustomColors','gradients','disableCustomGradients'];const TAB_IDS={color:'color',gradient:'gradient'};function ColorGradientControlInner({colors,gradients,disableCustomColors,disableCustomGradients,__experimentalIsRenderedInSidebar,className,label,onColorChange,onGradientChange,colorValue,gradientValue,clearable,showTitle=true,enableAlpha,headingLevel}){const canChooseAColor=onColorChange&&(colors&&colors.length>0||!disableCustomColors);const canChooseAGradient=onGradientChange&&(gradients&&gradients.length>0||!disableCustomGradients);if(!canChooseAColor&&!canChooseAGradient){return null;}
const tabPanels={[TAB_IDS.color]:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ColorPalette,{value:colorValue,onChange:canChooseAGradient?newColor=>{onColorChange(newColor);onGradientChange();}:onColorChange,colors,disableCustomColors,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,clearable:clearable,enableAlpha:enableAlpha,headingLevel:headingLevel}),[TAB_IDS.gradient]:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.GradientPicker,{value:gradientValue,onChange:canChooseAColor?newGradient=>{onGradientChange(newGradient);onColorChange();}:onGradientChange,gradients,disableCustomGradients,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,clearable:clearable,headingLevel:headingLevel})};const renderPanelType=type=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-color-gradient-control__panel",children:tabPanels[type]});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl,{__nextHasNoMarginBottom:true,className:dist_clsx('block-editor-color-gradient-control',className),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("fieldset",{className:"block-editor-color-gradient-control__fieldset",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:1,children:[showTitle&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("legend",{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-color-gradient-control__color-indicator",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{children:label})})}),canChooseAColor&&canChooseAGradient&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Tabs,{defaultTabId:gradientValue?TAB_IDS.gradient:!!canChooseAColor&&TAB_IDS.color,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Tabs.TabList,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(Tabs.Tab,{tabId:TAB_IDS.color,children:(0,external_wp_i18n_namespaceObject.__)('Color')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(Tabs.Tab,{tabId:TAB_IDS.gradient,children:(0,external_wp_i18n_namespaceObject.__)('Gradient')})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(Tabs.TabPanel,{tabId:TAB_IDS.color,className:"block-editor-color-gradient-control__panel",focusable:false,children:tabPanels.color}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(Tabs.TabPanel,{tabId:TAB_IDS.gradient,className:"block-editor-color-gradient-control__panel",focusable:false,children:tabPanels.gradient})]})}),!canChooseAGradient&&renderPanelType(TAB_IDS.color),!canChooseAColor&&renderPanelType(TAB_IDS.gradient)]})})});}
function ColorGradientControlSelect(props){const[colors,gradients,customColors,customGradients]=use_settings_useSettings('color.palette','color.gradients','color.custom','color.customGradient');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorGradientControlInner,{colors:colors,gradients:gradients,disableCustomColors:!customColors,disableCustomGradients:!customGradients,...props});}
function ColorGradientControl(props){if(colorsAndGradientKeys.every(key=>props.hasOwnProperty(key))){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorGradientControlInner,{...props});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorGradientControlSelect,{...props});}
const control=(ColorGradientControl);;function useHasColorPanel(settings){const hasTextPanel=useHasTextPanel(settings);const hasBackgroundPanel=useHasBackgroundColorPanel(settings);const hasLinkPanel=useHasLinkPanel(settings);const hasHeadingPanel=useHasHeadingPanel(settings);const hasButtonPanel=useHasButtonPanel(settings);const hasCaptionPanel=useHasCaptionPanel(settings);return hasTextPanel||hasBackgroundPanel||hasLinkPanel||hasHeadingPanel||hasButtonPanel||hasCaptionPanel;}
function useHasTextPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.text&&(colors?.length>0||settings?.color?.custom);}
function useHasLinkPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.link&&(colors?.length>0||settings?.color?.custom);}
function useHasCaptionPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.caption&&(colors?.length>0||settings?.color?.custom);}
function useHasHeadingPanel(settings){const colors=useColorsPerOrigin(settings);const gradients=useGradientsPerOrigin(settings);return settings?.color?.heading&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient);}
function useHasButtonPanel(settings){const colors=useColorsPerOrigin(settings);const gradients=useGradientsPerOrigin(settings);return settings?.color?.button&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient);}
function useHasBackgroundColorPanel(settings){const colors=useColorsPerOrigin(settings);const gradients=useGradientsPerOrigin(settings);return settings?.color?.background&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient);}
function ColorToolsPanel({resetAllFilter,onChange,value,panelId,children}){const dropdownMenuProps=useToolsPanelDropdownMenuProps();const resetAll=()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:(0,external_wp_i18n_namespaceObject.__)('Elements'),resetAll:resetAll,panelId:panelId,hasInnerWrapper:true,headingLevel:3,className:"color-block-support-panel",__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",dropdownMenuProps:dropdownMenuProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"color-block-support-panel__inner-wrapper",children:children})});}
const color_panel_DEFAULT_CONTROLS={text:true,background:true,link:true,heading:true,button:true,caption:true};const popoverProps={placement:'left-start',offset:36,shift:true};const{Tabs:color_panel_Tabs}=unlock(external_wp_components_namespaceObject.privateApis);const LabeledColorIndicators=({indicators,label})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalZStack,{isLayered:false,offset:-8,children:indicators.map((indicator,index)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Flex,{expanded:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ColorIndicator,{colorValue:indicator})},index))}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",children:label})]});function ColorPanelTab({isGradient,inheritedValue,userValue,setValue,colorGradientControlSettings}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(control,{...colorGradientControlSettings,showTitle:false,enableAlpha:true,__experimentalIsRenderedInSidebar:true,colorValue:isGradient?undefined:inheritedValue,gradientValue:isGradient?inheritedValue:undefined,onColorChange:isGradient?undefined:setValue,onGradientChange:isGradient?setValue:undefined,clearable:inheritedValue===userValue,headingLevel:3});}
function ColorPanelDropdown({label,hasValue,resetValue,isShownByDefault,indicators,tabs,colorGradientControlSettings,panelId}){var _tabs$;const currentTab=tabs.find(tab=>tab.userValue!==undefined);const{key:firstTabKey,...firstTab}=(_tabs$=tabs[0])!==null&&_tabs$!==void 0?_tabs$:{};const colorGradientDropdownButtonRef=(0,external_wp_element_namespaceObject.useRef)(undefined);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:hasValue,label:label,onDeselect:resetValue,isShownByDefault:isShownByDefault,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:popoverProps,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle,isOpen})=>{const toggleProps={onClick:onToggle,className:dist_clsx('block-editor-panel-color-gradient-settings__dropdown',{'is-open':isOpen}),'aria-expanded':isOpen,ref:colorGradientDropdownButtonRef};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{...toggleProps,__next40pxDefaultSize:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(LabeledColorIndicators,{indicators:indicators,label:label})}),hasValue()&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Reset'),className:"block-editor-panel-color-gradient-settings__reset",size:"small",icon:library_reset,onClick:()=>{resetValue();if(isOpen){onToggle();}
colorGradientDropdownButtonRef.current?.focus();}})]});},renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:[tabs.length===1&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorPanelTab,{...firstTab,colorGradientControlSettings:colorGradientControlSettings},firstTabKey),tabs.length>1&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(color_panel_Tabs,{defaultTabId:currentTab?.key,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(color_panel_Tabs.TabList,{children:tabs.map(tab=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(color_panel_Tabs.Tab,{tabId:tab.key,children:tab.label},tab.key))}),tabs.map(tab=>{const{key:tabKey,...restTabProps}=tab;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(color_panel_Tabs.TabPanel,{tabId:tabKey,focusable:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorPanelTab,{...restTabProps,colorGradientControlSettings:colorGradientControlSettings},tabKey)},tabKey);})]})]})})})});}
function ColorPanel({as:Wrapper=ColorToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=color_panel_DEFAULT_CONTROLS,children}){const colors=useColorsPerOrigin(settings);const gradients=useGradientsPerOrigin(settings);const areCustomSolidsEnabled=settings?.color?.custom;const areCustomGradientsEnabled=settings?.color?.customGradient;const hasSolidColors=colors.length>0||areCustomSolidsEnabled;const hasGradientColors=gradients.length>0||areCustomGradientsEnabled;const decodeValue=rawValue=>getValueFromVariable({settings},'',rawValue);const encodeColorValue=colorValue=>{const allColors=colors.flatMap(({colors:originColors})=>originColors);const colorObject=allColors.find(({color})=>color===colorValue);return colorObject?'var:preset|color|'+colorObject.slug:colorValue;};const encodeGradientValue=gradientValue=>{const allGradients=gradients.flatMap(({gradients:originGradients})=>originGradients);const gradientObject=allGradients.find(({gradient})=>gradient===gradientValue);return gradientObject?'var:preset|gradient|'+gradientObject.slug:gradientValue;};const showBackgroundPanel=useHasBackgroundColorPanel(settings);const backgroundColor=decodeValue(inheritedValue?.color?.background);const userBackgroundColor=decodeValue(value?.color?.background);const gradient=decodeValue(inheritedValue?.color?.gradient);const userGradient=decodeValue(value?.color?.gradient);const hasBackground=()=>!!userBackgroundColor||!!userGradient;const setBackgroundColor=newColor=>{const newValue=setImmutably(value,['color','background'],encodeColorValue(newColor));newValue.color.gradient=undefined;onChange(newValue);};const setGradient=newGradient=>{const newValue=setImmutably(value,['color','gradient'],encodeGradientValue(newGradient));newValue.color.background=undefined;onChange(newValue);};const resetBackground=()=>{const newValue=setImmutably(value,['color','background'],undefined);newValue.color.gradient=undefined;onChange(newValue);};const showLinkPanel=useHasLinkPanel(settings);const linkColor=decodeValue(inheritedValue?.elements?.link?.color?.text);const userLinkColor=decodeValue(value?.elements?.link?.color?.text);const setLinkColor=newColor=>{onChange(setImmutably(value,['elements','link','color','text'],encodeColorValue(newColor)));};const hoverLinkColor=decodeValue(inheritedValue?.elements?.link?.[':hover']?.color?.text);const userHoverLinkColor=decodeValue(value?.elements?.link?.[':hover']?.color?.text);const setHoverLinkColor=newColor=>{onChange(setImmutably(value,['elements','link',':hover','color','text'],encodeColorValue(newColor)));};const hasLink=()=>!!userLinkColor||!!userHoverLinkColor;const resetLink=()=>{let newValue=setImmutably(value,['elements','link',':hover','color','text'],undefined);newValue=setImmutably(newValue,['elements','link','color','text'],undefined);onChange(newValue);};const showTextPanel=useHasTextPanel(settings);const textColor=decodeValue(inheritedValue?.color?.text);const userTextColor=decodeValue(value?.color?.text);const hasTextColor=()=>!!userTextColor;const setTextColor=newColor=>{let changedObject=setImmutably(value,['color','text'],encodeColorValue(newColor));if(textColor===linkColor){changedObject=setImmutably(changedObject,['elements','link','color','text'],encodeColorValue(newColor));}
onChange(changedObject);};const resetTextColor=()=>setTextColor(undefined);const elements=[{name:'caption',label:(0,external_wp_i18n_namespaceObject.__)('Captions'),showPanel:useHasCaptionPanel(settings)},{name:'button',label:(0,external_wp_i18n_namespaceObject.__)('Button'),showPanel:useHasButtonPanel(settings)},{name:'heading',label:(0,external_wp_i18n_namespaceObject.__)('Heading'),showPanel:useHasHeadingPanel(settings)},{name:'h1',label:(0,external_wp_i18n_namespaceObject.__)('H1'),showPanel:useHasHeadingPanel(settings)},{name:'h2',label:(0,external_wp_i18n_namespaceObject.__)('H2'),showPanel:useHasHeadingPanel(settings)},{name:'h3',label:(0,external_wp_i18n_namespaceObject.__)('H3'),showPanel:useHasHeadingPanel(settings)},{name:'h4',label:(0,external_wp_i18n_namespaceObject.__)('H4'),showPanel:useHasHeadingPanel(settings)},{name:'h5',label:(0,external_wp_i18n_namespaceObject.__)('H5'),showPanel:useHasHeadingPanel(settings)},{name:'h6',label:(0,external_wp_i18n_namespaceObject.__)('H6'),showPanel:useHasHeadingPanel(settings)}];const resetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(previousValue=>{return{...previousValue,color:undefined,elements:{...previousValue?.elements,link:{...previousValue?.elements?.link,color:undefined,':hover':{color:undefined}},...elements.reduce((acc,element)=>{return{...acc,[element.name]:{...previousValue?.elements?.[element.name],color:undefined}};},{})}};},[]);const items=[showTextPanel&&{key:'text',label:(0,external_wp_i18n_namespaceObject.__)('Text'),hasValue:hasTextColor,resetValue:resetTextColor,isShownByDefault:defaultControls.text,indicators:[textColor],tabs:[{key:'text',label:(0,external_wp_i18n_namespaceObject.__)('Text'),inheritedValue:textColor,setValue:setTextColor,userValue:userTextColor}]},showBackgroundPanel&&{key:'background',label:(0,external_wp_i18n_namespaceObject.__)('Background'),hasValue:hasBackground,resetValue:resetBackground,isShownByDefault:defaultControls.background,indicators:[gradient!==null&&gradient!==void 0?gradient:backgroundColor],tabs:[hasSolidColors&&{key:'background',label:(0,external_wp_i18n_namespaceObject.__)('Color'),inheritedValue:backgroundColor,setValue:setBackgroundColor,userValue:userBackgroundColor},hasGradientColors&&{key:'gradient',label:(0,external_wp_i18n_namespaceObject.__)('Gradient'),inheritedValue:gradient,setValue:setGradient,userValue:userGradient,isGradient:true}].filter(Boolean)},showLinkPanel&&{key:'link',label:(0,external_wp_i18n_namespaceObject.__)('Link'),hasValue:hasLink,resetValue:resetLink,isShownByDefault:defaultControls.link,indicators:[linkColor,hoverLinkColor],tabs:[{key:'link',label:(0,external_wp_i18n_namespaceObject.__)('Default'),inheritedValue:linkColor,setValue:setLinkColor,userValue:userLinkColor},{key:'hover',label:(0,external_wp_i18n_namespaceObject.__)('Hover'),inheritedValue:hoverLinkColor,setValue:setHoverLinkColor,userValue:userHoverLinkColor}]}].filter(Boolean);elements.forEach(({name,label,showPanel})=>{if(!showPanel){return;}
const elementBackgroundColor=decodeValue(inheritedValue?.elements?.[name]?.color?.background);const elementGradient=decodeValue(inheritedValue?.elements?.[name]?.color?.gradient);const elementTextColor=decodeValue(inheritedValue?.elements?.[name]?.color?.text);const elementBackgroundUserColor=decodeValue(value?.elements?.[name]?.color?.background);const elementGradientUserColor=decodeValue(value?.elements?.[name]?.color?.gradient);const elementTextUserColor=decodeValue(value?.elements?.[name]?.color?.text);const hasElement=()=>!!(elementTextUserColor||elementBackgroundUserColor||elementGradientUserColor);const resetElement=()=>{const newValue=setImmutably(value,['elements',name,'color','background'],undefined);newValue.elements[name].color.gradient=undefined;newValue.elements[name].color.text=undefined;onChange(newValue);};const setElementTextColor=newTextColor=>{onChange(setImmutably(value,['elements',name,'color','text'],encodeColorValue(newTextColor)));};const setElementBackgroundColor=newBackgroundColor=>{const newValue=setImmutably(value,['elements',name,'color','background'],encodeColorValue(newBackgroundColor));newValue.elements[name].color.gradient=undefined;onChange(newValue);};const setElementGradient=newGradient=>{const newValue=setImmutably(value,['elements',name,'color','gradient'],encodeGradientValue(newGradient));newValue.elements[name].color.background=undefined;onChange(newValue);};const supportsTextColor=true;const supportsBackground=name!=='caption';items.push({key:name,label,hasValue:hasElement,resetValue:resetElement,isShownByDefault:defaultControls[name],indicators:supportsTextColor&&supportsBackground?[elementTextColor,elementGradient!==null&&elementGradient!==void 0?elementGradient:elementBackgroundColor]:[supportsTextColor?elementTextColor:elementGradient!==null&&elementGradient!==void 0?elementGradient:elementBackgroundColor],tabs:[hasSolidColors&&supportsTextColor&&{key:'text',label:(0,external_wp_i18n_namespaceObject.__)('Text'),inheritedValue:elementTextColor,setValue:setElementTextColor,userValue:elementTextUserColor},hasSolidColors&&supportsBackground&&{key:'background',label:(0,external_wp_i18n_namespaceObject.__)('Background'),inheritedValue:elementBackgroundColor,setValue:setElementBackgroundColor,userValue:elementBackgroundUserColor},hasGradientColors&&supportsBackground&&{key:'gradient',label:(0,external_wp_i18n_namespaceObject.__)('Gradient'),inheritedValue:elementGradient,setValue:setElementGradient,userValue:elementGradientUserColor,isGradient:true}].filter(Boolean)});});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId,children:[items.map(item=>{const{key,...restItem}=item;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorPanelDropdown,{...restItem,colorGradientControlSettings:{colors,disableCustomColors:!areCustomSolidsEnabled,gradients,disableCustomGradients:!areCustomGradientsEnabled},panelId:panelId},key);}),children]});};k([names,a11y]);function ContrastChecker({backgroundColor,fallbackBackgroundColor,fallbackTextColor,fallbackLinkColor,fontSize,isLargeText,textColor,linkColor,enableAlphaChecker=false}){const currentBackgroundColor=backgroundColor||fallbackBackgroundColor;if(!currentBackgroundColor){return null;}
const currentTextColor=textColor||fallbackTextColor;const currentLinkColor=linkColor||fallbackLinkColor;if(!currentTextColor&&!currentLinkColor){return null;}
const textColors=[{color:currentTextColor,description:(0,external_wp_i18n_namespaceObject.__)('text color')},{color:currentLinkColor,description:(0,external_wp_i18n_namespaceObject.__)('link color')}];const colordBackgroundColor=w(currentBackgroundColor);const backgroundColorHasTransparency=colordBackgroundColor.alpha()<1;const backgroundColorBrightness=colordBackgroundColor.brightness();const isReadableOptions={level:'AA',size:isLargeText||isLargeText!==false&&fontSize>=24?'large':'small'};let message='';let speakMessage='';for(const item of textColors){if(!item.color){continue;}
const colordTextColor=w(item.color);const isColordTextReadable=colordTextColor.isReadable(colordBackgroundColor,isReadableOptions);const textHasTransparency=colordTextColor.alpha()<1;if(!isColordTextReadable){if(backgroundColorHasTransparency||textHasTransparency){continue;}
message=backgroundColorBrightness<colordTextColor.brightness()?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('This color combination may be hard for people to read. Try using a darker background color and/or a brighter %s.'),item.description):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('This color combination may be hard for people to read. Try using a brighter background color and/or a darker %s.'),item.description);speakMessage=(0,external_wp_i18n_namespaceObject.__)('This color combination may be hard for people to read.');break;}
if(textHasTransparency&&enableAlphaChecker){message=(0,external_wp_i18n_namespaceObject.__)('Transparent text may be hard for people to read.');speakMessage=(0,external_wp_i18n_namespaceObject.__)('Transparent text may be hard for people to read.');}}
if(!message){return null;}
(0,external_wp_a11y_namespaceObject.speak)(speakMessage);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-contrast-checker",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Notice,{spokenMessage:null,status:"warning",isDismissible:false,children:message})});}
const contrast_checker=(ContrastChecker);;const BlockRefs=(0,external_wp_element_namespaceObject.createContext)({refsMap:(0,external_wp_compose_namespaceObject.observableMap)()});function BlockRefsProvider({children}){const value=(0,external_wp_element_namespaceObject.useMemo)(()=>({refsMap:(0,external_wp_compose_namespaceObject.observableMap)()}),[]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockRefs.Provider,{value:value,children:children});};function useBlockRefProvider(clientId){const{refsMap}=(0,external_wp_element_namespaceObject.useContext)(BlockRefs);return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{refsMap.set(clientId,element);return()=>refsMap.delete(clientId);},[clientId]);}
function assignRef(ref,value){if(typeof ref==='function'){ref(value);}else if(ref){ref.current=value;}}
function useBlockElementRef(clientId,ref){const{refsMap}=(0,external_wp_element_namespaceObject.useContext)(BlockRefs);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{assignRef(ref,refsMap.get(clientId));const unsubscribe=refsMap.subscribe(clientId,()=>assignRef(ref,refsMap.get(clientId)));return()=>{unsubscribe();assignRef(ref,null);};},[refsMap,clientId,ref]);}
function useBlockElement(clientId){const[blockElement,setBlockElement]=(0,external_wp_element_namespaceObject.useState)(null);useBlockElementRef(clientId,setBlockElement);return blockElement;};function getComputedValue(node,property){return node.ownerDocument.defaultView.getComputedStyle(node).getPropertyValue(property);}
function getBlockElementColors(blockEl){if(!blockEl){return{};}
const firstLinkElement=blockEl.querySelector('a');const linkColor=!!firstLinkElement?.innerText?getComputedValue(firstLinkElement,'color'):undefined;const textColor=getComputedValue(blockEl,'color');let backgroundColorNode=blockEl;let backgroundColor=getComputedValue(backgroundColorNode,'background-color');while(backgroundColor==='rgba(0, 0, 0, 0)'&&backgroundColorNode.parentNode&&backgroundColorNode.parentNode.nodeType===backgroundColorNode.parentNode.ELEMENT_NODE){backgroundColorNode=backgroundColorNode.parentNode;backgroundColor=getComputedValue(backgroundColorNode,'background-color');}
return{textColor,backgroundColor,linkColor};}
function contrast_checker_reducer(prevColors,newColors){const hasChanged=Object.keys(newColors).some(key=>prevColors[key]!==newColors[key]);return hasChanged?newColors:prevColors;}
function BlockColorContrastChecker({clientId}){const blockEl=useBlockElement(clientId);const[colors,setColors]=(0,external_wp_element_namespaceObject.useReducer)(contrast_checker_reducer,{});(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!blockEl){return;}
function updateColors(){setColors(getBlockElementColors(blockEl));}
window.requestAnimationFrame(()=>window.requestAnimationFrame(updateColors));});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(contrast_checker,{backgroundColor:colors.backgroundColor,textColor:colors.textColor,linkColor:colors.linkColor,enableAlphaChecker:true});};const COLOR_SUPPORT_KEY='color';const hasColorSupport=blockNameOrType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockNameOrType,COLOR_SUPPORT_KEY);return colorSupport&&(colorSupport.link===true||colorSupport.gradient===true||colorSupport.background!==false||colorSupport.text!==false);};const hasLinkColorSupport=blockType=>{if(external_wp_element_namespaceObject.Platform.OS!=='web'){return false;}
const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport!==null&&typeof colorSupport==='object'&&!!colorSupport.link;};const hasGradientSupport=blockNameOrType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockNameOrType,COLOR_SUPPORT_KEY);return colorSupport!==null&&typeof colorSupport==='object'&&!!colorSupport.gradients;};const hasBackgroundColorSupport=blockType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&colorSupport.background!==false;};const hasTextColorSupport=blockType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&colorSupport.text!==false;};function color_addAttributes(settings){if(!hasColorSupport(settings)){return settings;}
if(!settings.attributes.backgroundColor){Object.assign(settings.attributes,{backgroundColor:{type:'string'}});}
if(!settings.attributes.textColor){Object.assign(settings.attributes,{textColor:{type:'string'}});}
if(hasGradientSupport(settings)&&!settings.attributes.gradient){Object.assign(settings.attributes,{gradient:{type:'string'}});}
return settings;}
function color_addSaveProps(props,blockNameOrType,attributes){if(!hasColorSupport(blockNameOrType)||shouldSkipSerialization(blockNameOrType,COLOR_SUPPORT_KEY)){return props;}
const hasGradient=hasGradientSupport(blockNameOrType);const{backgroundColor,textColor,gradient,style}=attributes;const shouldSerialize=feature=>!shouldSkipSerialization(blockNameOrType,COLOR_SUPPORT_KEY,feature);const textClass=shouldSerialize('text')?getColorClassName('color',textColor):undefined;const gradientClass=shouldSerialize('gradients')?__experimentalGetGradientClass(gradient):undefined;const backgroundClass=shouldSerialize('background')?getColorClassName('background-color',backgroundColor):undefined;const serializeHasBackground=shouldSerialize('background')||shouldSerialize('gradients');const hasBackground=backgroundColor||style?.color?.background||hasGradient&&(gradient||style?.color?.gradient);const newClassName=dist_clsx(props.className,textClass,gradientClass,{[backgroundClass]:(!hasGradient||!style?.color?.gradient)&&!!backgroundClass,'has-text-color':shouldSerialize('text')&&(textColor||style?.color?.text),'has-background':serializeHasBackground&&hasBackground,'has-link-color':shouldSerialize('link')&&style?.elements?.link?.color});props.className=newClassName?newClassName:undefined;return props;}
function color_styleToAttributes(style){const textColorValue=style?.color?.text;const textColorSlug=textColorValue?.startsWith('var:preset|color|')?textColorValue.substring('var:preset|color|'.length):undefined;const backgroundColorValue=style?.color?.background;const backgroundColorSlug=backgroundColorValue?.startsWith('var:preset|color|')?backgroundColorValue.substring('var:preset|color|'.length):undefined;const gradientValue=style?.color?.gradient;const gradientSlug=gradientValue?.startsWith('var:preset|gradient|')?gradientValue.substring('var:preset|gradient|'.length):undefined;const updatedStyle={...style};updatedStyle.color={...updatedStyle.color,text:textColorSlug?undefined:textColorValue,background:backgroundColorSlug?undefined:backgroundColorValue,gradient:gradientSlug?undefined:gradientValue};return{style:utils_cleanEmptyObject(updatedStyle),textColor:textColorSlug,backgroundColor:backgroundColorSlug,gradient:gradientSlug};}
function color_attributesToStyle(attributes){return{...attributes.style,color:{...attributes.style?.color,text:attributes.textColor?'var:preset|color|'+attributes.textColor:attributes.style?.color?.text,background:attributes.backgroundColor?'var:preset|color|'+attributes.backgroundColor:attributes.style?.color?.background,gradient:attributes.gradient?'var:preset|gradient|'+attributes.gradient:attributes.style?.color?.gradient}};}
function ColorInspectorControl({children,resetAllFilter}){const attributesResetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(attributes=>{const existingStyle=color_attributesToStyle(attributes);const updatedStyle=resetAllFilter(existingStyle);return{...attributes,...color_styleToAttributes(updatedStyle)};},[resetAllFilter]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"color",resetAllFilter:attributesResetAllFilter,children:children});}
function ColorEdit({clientId,name,setAttributes,settings}){const isEnabled=useHasColorPanel(settings);function selector(select){const{style,textColor,backgroundColor,gradient}=select(store).getBlockAttributes(clientId)||{};return{style,textColor,backgroundColor,gradient};}
const{style,textColor,backgroundColor,gradient}=(0,external_wp_data_namespaceObject.useSelect)(selector,[clientId]);const value=(0,external_wp_element_namespaceObject.useMemo)(()=>{return color_attributesToStyle({style,textColor,backgroundColor,gradient});},[style,textColor,backgroundColor,gradient]);const onChange=newStyle=>{setAttributes(color_styleToAttributes(newStyle));};if(!isEnabled){return null;}
const defaultControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[COLOR_SUPPORT_KEY,'__experimentalDefaultControls']);const enableContrastChecking=external_wp_element_namespaceObject.Platform.OS==='web'&&!value?.color?.gradient&&(settings?.color?.text||settings?.color?.link)&&false!==(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[COLOR_SUPPORT_KEY,'enableContrastChecker']);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorPanel,{as:ColorInspectorControl,panelId:clientId,settings:settings,value:value,onChange:onChange,defaultControls:defaultControls,enableContrastChecker:false!==(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[COLOR_SUPPORT_KEY,'enableContrastChecker']),children:enableContrastChecking&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockColorContrastChecker,{clientId:clientId})});}
function color_useBlockProps({name,backgroundColor,textColor,gradient,style}){const[userPalette,themePalette,defaultPalette]=use_settings_useSettings('color.palette.custom','color.palette.theme','color.palette.default');const colors=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPalette||[]),...(themePalette||[]),...(defaultPalette||[])],[userPalette,themePalette,defaultPalette]);if(!hasColorSupport(name)||shouldSkipSerialization(name,COLOR_SUPPORT_KEY)){return{};}
const extraStyles={};if(textColor&&!shouldSkipSerialization(name,COLOR_SUPPORT_KEY,'text')){extraStyles.color=getColorObjectByAttributeValues(colors,textColor)?.color;}
if(backgroundColor&&!shouldSkipSerialization(name,COLOR_SUPPORT_KEY,'background')){extraStyles.backgroundColor=getColorObjectByAttributeValues(colors,backgroundColor)?.color;}
const saveProps=color_addSaveProps({style:extraStyles},name,{textColor,backgroundColor,gradient,style});const hasBackgroundValue=backgroundColor||style?.color?.background||gradient||style?.color?.gradient;return{...saveProps,className:dist_clsx(saveProps.className,!hasBackgroundValue&&getBackgroundImageClasses(style))};}
const color=({useBlockProps:color_useBlockProps,addSaveProps:color_addSaveProps,attributeKeys:['backgroundColor','textColor','gradient','style'],hasSupport:hasColorSupport});const MIGRATION_PATHS={linkColor:[['style','elements','link','color','text']],textColor:[['textColor'],['style','color','text']],backgroundColor:[['backgroundColor'],['style','color','background']],gradient:[['gradient'],['style','color','gradient']]};function color_addTransforms(result,source,index,results){const destinationBlockType=result.name;const activeSupports={linkColor:hasLinkColorSupport(destinationBlockType),textColor:hasTextColorSupport(destinationBlockType),backgroundColor:hasBackgroundColorSupport(destinationBlockType),gradient:hasGradientSupport(destinationBlockType)};return transformStyles(activeSupports,MIGRATION_PATHS,result,source,index,results);}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/color/addAttribute',color_addAttributes);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.switchToBlockType.transformedBlock','core/color/addTransforms',color_addTransforms);;function FontFamilyControl({__next40pxDefaultSize=false,__nextHasNoMarginBottom=false,value='',onChange,fontFamilies,className,...props}){var _options$find;const[blockLevelFontFamilies]=use_settings_useSettings('typography.fontFamilies');if(!fontFamilies){fontFamilies=blockLevelFontFamilies;}
if(!fontFamilies||fontFamilies.length===0){return null;}
const options=[{key:'',name:(0,external_wp_i18n_namespaceObject.__)('Default')},...fontFamilies.map(({fontFamily,name})=>({key:fontFamily,name:name||fontFamily,style:{fontFamily}}))];if(!__nextHasNoMarginBottom){external_wp_deprecated_default()('Bottom margin styles for wp.blockEditor.FontFamilyControl',{since:'6.7',version:'7.0',hint:'Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version'});}
if(!__next40pxDefaultSize&&(props.size===undefined||props.size==='default')){external_wp_deprecated_default()(`36px default size for wp.blockEditor.__experimentalFontFamilyControl`,{since:'6.8',version:'7.1',hint:'Set the `__next40pxDefaultSize` prop to true to start opting into the new default size, which will become the default in a future version.'});}
const selectedValue=(_options$find=options.find(option=>option.key===value))!==null&&_options$find!==void 0?_options$find:'';return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CustomSelectControl,{__next40pxDefaultSize:__next40pxDefaultSize,__shouldNotWarnDeprecated36pxSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Font'),value:selectedValue,onChange:({selectedItem})=>onChange(selectedItem.key),options:options,className:dist_clsx('block-editor-font-family-control',className,{'is-next-has-no-margin-bottom':__nextHasNoMarginBottom}),...props});};const getFontAppearanceLabel=(hasFontStyles,hasFontWeights)=>{if(!hasFontStyles){return(0,external_wp_i18n_namespaceObject.__)('Font weight');}
if(!hasFontWeights){return(0,external_wp_i18n_namespaceObject.__)('Font style');}
return(0,external_wp_i18n_namespaceObject.__)('Appearance');};function FontAppearanceControl(props){const{__next40pxDefaultSize=false,onChange,hasFontStyles=true,hasFontWeights=true,fontFamilyFaces,value:{fontStyle,fontWeight},...otherProps}=props;const hasStylesOrWeights=hasFontStyles||hasFontWeights;const label=getFontAppearanceLabel(hasFontStyles,hasFontWeights);const defaultOption={key:'default',name:(0,external_wp_i18n_namespaceObject.__)('Default'),style:{fontStyle:undefined,fontWeight:undefined}};const{fontStyles,fontWeights,combinedStyleAndWeightOptions}=getFontStylesAndWeights(fontFamilyFaces);const combineOptions=()=>{const combinedOptions=[defaultOption];if(combinedStyleAndWeightOptions){combinedOptions.push(...combinedStyleAndWeightOptions);}
return combinedOptions;};const styleOptions=()=>{const combinedOptions=[defaultOption];fontStyles.forEach(({name,value})=>{combinedOptions.push({key:value,name,style:{fontStyle:value,fontWeight:undefined}});});return combinedOptions;};const weightOptions=()=>{const combinedOptions=[defaultOption];fontWeights.forEach(({name,value})=>{combinedOptions.push({key:value,name,style:{fontStyle:undefined,fontWeight:value}});});return combinedOptions;};const selectOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(hasFontStyles&&hasFontWeights){return combineOptions();}
return hasFontStyles?styleOptions():weightOptions();},[props.options,fontStyles,fontWeights,combinedStyleAndWeightOptions]);const currentSelection=selectOptions.find(option=>option.style.fontStyle===fontStyle&&option.style.fontWeight===fontWeight)||selectOptions[0];const getDescribedBy=()=>{if(!currentSelection){return(0,external_wp_i18n_namespaceObject.__)('No selected font appearance');}
if(!hasFontStyles){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Currently selected font weight: %s'),currentSelection.name);}
if(!hasFontWeights){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Currently selected font style: %s'),currentSelection.name);}
return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Currently selected font appearance: %s'),currentSelection.name);};if(!__next40pxDefaultSize&&(otherProps.size===undefined||otherProps.size==='default')){external_wp_deprecated_default()(`36px default size for wp.blockEditor.__experimentalFontAppearanceControl`,{since:'6.8',version:'7.1',hint:'Set the `__next40pxDefaultSize` prop to true to start opting into the new default size, which will become the default in a future version.'});}
return hasStylesOrWeights&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CustomSelectControl,{...otherProps,className:"components-font-appearance-control",__next40pxDefaultSize:__next40pxDefaultSize,__shouldNotWarnDeprecated36pxSize:true,label:label,describedBy:getDescribedBy(),options:selectOptions,value:currentSelection,onChange:({selectedItem})=>onChange(selectedItem.style)});};const BASE_DEFAULT_VALUE=1.5;const STEP=0.01;const SPIN_FACTOR=10;const RESET_VALUE='';function isLineHeightDefined(lineHeight){return lineHeight!==undefined&&lineHeight!==RESET_VALUE;};const line_height_control_LineHeightControl=({__next40pxDefaultSize=false,value:lineHeight,onChange,__unstableInputWidth='60px',...otherProps})=>{const isDefined=isLineHeightDefined(lineHeight);const adjustNextValue=(nextValue,wasTypedOrPasted)=>{if(isDefined){return nextValue;}
const spin=STEP*SPIN_FACTOR;switch(`${nextValue}`){case`${spin}`:return BASE_DEFAULT_VALUE+spin;case'0':{if(wasTypedOrPasted){return nextValue;}
return BASE_DEFAULT_VALUE-spin;}
case'':return BASE_DEFAULT_VALUE;default:return nextValue;}};const stateReducer=(state,action)=>{const wasTypedOrPasted=['insertText','insertFromPaste'].includes(action.payload.event.nativeEvent?.inputType);const value=adjustNextValue(state.value,wasTypedOrPasted);return{...state,value};};const value=isDefined?lineHeight:RESET_VALUE;const handleOnChange=(nextValue,{event})=>{if(nextValue===''){onChange();return;}
if(event.type==='click'){onChange(adjustNextValue(`${nextValue}`,false));return;}
onChange(`${nextValue}`);};if(!__next40pxDefaultSize&&(otherProps.size===undefined||otherProps.size==='default')){external_wp_deprecated_default()(`36px default size for wp.blockEditor.LineHeightControl`,{since:'6.8',version:'7.1',hint:'Set the `__next40pxDefaultSize` prop to true to start opting into the new default size, which will become the default in a future version.'});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-line-height-control",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalNumberControl,{...otherProps,__shouldNotWarnDeprecated36pxSize:true,__next40pxDefaultSize:__next40pxDefaultSize,__unstableInputWidth:__unstableInputWidth,__unstableStateReducer:stateReducer,onChange:handleOnChange,label:(0,external_wp_i18n_namespaceObject.__)('Line height'),placeholder:BASE_DEFAULT_VALUE,step:STEP,spinFactor:SPIN_FACTOR,value:value,min:0,spinControls:"custom"})});};const line_height_control=(line_height_control_LineHeightControl);;function LetterSpacingControl({__next40pxDefaultSize=false,value,onChange,__unstableInputWidth='60px',...otherProps}){const[availableUnits]=use_settings_useSettings('spacing.units');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:availableUnits||['px','em','rem'],defaultValues:{px:2,em:0.2,rem:0.2}});if(!__next40pxDefaultSize&&(otherProps.size===undefined||otherProps.size==='default')){external_wp_deprecated_default()(`36px default size for wp.blockEditor.__experimentalLetterSpacingControl`,{since:'6.8',version:'7.1',hint:'Set the `__next40pxDefaultSize` prop to true to start opting into the new default size, which will become the default in a future version.'});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{__next40pxDefaultSize:__next40pxDefaultSize,__shouldNotWarnDeprecated36pxSize:true,...otherProps,label:(0,external_wp_i18n_namespaceObject.__)('Letter spacing'),value:value,__unstableInputWidth:__unstableInputWidth,units:units,onChange:onChange});};const alignLeft=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})});const align_left=(alignLeft);;const alignCenter=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})});const align_center=(alignCenter);;const alignRight=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})});const align_right=(alignRight);;const alignJustify=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})});const align_justify=(alignJustify);;const TEXT_ALIGNMENT_OPTIONS=[{label:(0,external_wp_i18n_namespaceObject.__)('Align text left'),value:'left',icon:align_left},{label:(0,external_wp_i18n_namespaceObject.__)('Align text center'),value:'center',icon:align_center},{label:(0,external_wp_i18n_namespaceObject.__)('Align text right'),value:'right',icon:align_right},{label:(0,external_wp_i18n_namespaceObject.__)('Justify text'),value:'justify',icon:align_justify}];const DEFAULT_OPTIONS=['left','center','right'];function TextAlignmentControl({className,value,onChange,options=DEFAULT_OPTIONS}){const validOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>TEXT_ALIGNMENT_OPTIONS.filter(option=>options.includes(option.value)),[options]);if(!validOptions.length){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{isDeselectable:true,__nextHasNoMarginBottom:true,__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Text alignment'),className:dist_clsx('block-editor-text-alignment-control',className),value:value,onChange:newValue=>{onChange(newValue===value?undefined:newValue);},children:validOptions.map(option=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{value:option.value,icon:option.icon,label:option.label},option.value);})});};const formatUppercase=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M6.1 6.8L2.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H6.1zm-.8 6.8L7 8.9l1.7 4.7H5.3zm15.1-.7c-.4-.5-.9-.8-1.6-1 .4-.2.7-.5.8-.9.2-.4.3-.9.3-1.4 0-.9-.3-1.6-.8-2-.6-.5-1.3-.7-2.4-.7h-3.5V18h4.2c1.1 0 2-.3 2.6-.8.6-.6 1-1.4 1-2.4-.1-.8-.3-1.4-.6-1.9zm-5.7-4.7h1.8c.6 0 1.1.1 1.4.4.3.2.5.7.5 1.3 0 .6-.2 1.1-.5 1.3-.3.2-.8.4-1.4.4h-1.8V8.2zm4 8c-.4.3-.9.5-1.5.5h-2.6v-3.8h2.6c1.4 0 2 .6 2 1.9.1.6-.1 1-.5 1.4z"})});const format_uppercase=(formatUppercase);;const formatLowercase=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M11 16.8c-.1-.1-.2-.3-.3-.5v-2.6c0-.9-.1-1.7-.3-2.2-.2-.5-.5-.9-.9-1.2-.4-.2-.9-.3-1.6-.3-.5 0-1 .1-1.5.2s-.9.3-1.2.6l.2 1.2c.4-.3.7-.4 1.1-.5.3-.1.7-.2 1-.2.6 0 1 .1 1.3.4.3.2.4.7.4 1.4-1.2 0-2.3.2-3.3.7s-1.4 1.1-1.4 2.1c0 .7.2 1.2.7 1.6.4.4 1 .6 1.8.6.9 0 1.7-.4 2.4-1.2.1.3.2.5.4.7.1.2.3.3.6.4.3.1.6.1 1.1.1h.1l.2-1.2h-.1c-.4.1-.6 0-.7-.1zM9.2 16c-.2.3-.5.6-.9.8-.3.1-.7.2-1.1.2-.4 0-.7-.1-.9-.3-.2-.2-.3-.5-.3-.9 0-.6.2-1 .7-1.3.5-.3 1.3-.4 2.5-.5v2zm10.6-3.9c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2s-.2 1.4-.6 2z"})});const format_lowercase=(formatLowercase);;const formatCapitalize=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M7.1 6.8L3.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H7.1zm-.8 6.8L8 8.9l1.7 4.7H6.3zm14.5-1.5c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2 .1.8-.2 1.4-.6 2z"})});const format_capitalize=(formatCapitalize);;const TEXT_TRANSFORMS=[{label:(0,external_wp_i18n_namespaceObject.__)('None'),value:'none',icon:library_reset},{label:(0,external_wp_i18n_namespaceObject.__)('Uppercase'),value:'uppercase',icon:format_uppercase},{label:(0,external_wp_i18n_namespaceObject.__)('Lowercase'),value:'lowercase',icon:format_lowercase},{label:(0,external_wp_i18n_namespaceObject.__)('Capitalize'),value:'capitalize',icon:format_capitalize}];function TextTransformControl({className,value,onChange}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{isDeselectable:true,__nextHasNoMarginBottom:true,__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Letter case'),className:dist_clsx('block-editor-text-transform-control',className),value:value,onChange:newValue=>{onChange(newValue===value?undefined:newValue);},children:TEXT_TRANSFORMS.map(option=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{value:option.value,icon:option.icon,label:option.label},option.value);})});};const formatUnderline=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M7 18v1h10v-1H7zm5-2c1.5 0 2.6-.4 3.4-1.2.8-.8 1.1-2 1.1-3.5V5H15v5.8c0 1.2-.2 2.1-.6 2.8-.4.7-1.2 1-2.4 1s-2-.3-2.4-1c-.4-.7-.6-1.6-.6-2.8V5H7.5v6.2c0 1.5.4 2.7 1.1 3.5.8.9 1.9 1.3 3.4 1.3z"})});const format_underline=(formatUnderline);;const formatStrikethrough=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z"})});const format_strikethrough=(formatStrikethrough);;const TEXT_DECORATIONS=[{label:(0,external_wp_i18n_namespaceObject.__)('None'),value:'none',icon:library_reset},{label:(0,external_wp_i18n_namespaceObject.__)('Underline'),value:'underline',icon:format_underline},{label:(0,external_wp_i18n_namespaceObject.__)('Strikethrough'),value:'line-through',icon:format_strikethrough}];function TextDecorationControl({value,onChange,className}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{isDeselectable:true,__nextHasNoMarginBottom:true,__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Decoration'),className:dist_clsx('block-editor-text-decoration-control',className),value:value,onChange:newValue=>{onChange(newValue===value?undefined:newValue);},children:TEXT_DECORATIONS.map(option=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{value:option.value,icon:option.icon,label:option.label},option.value);})});};const textHorizontal=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M8.2 14.4h3.9L13 17h1.7L11 6.5H9.3L5.6 17h1.7l.9-2.6zm2-5.5 1.4 4H8.8l1.4-4zm7.4 7.5-1.3.8.8 1.4H5.5V20h14.3l-2.2-3.6z"})});const text_horizontal=(textHorizontal);;const textVertical=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M7 5.6v1.7l2.6.9v3.9L7 13v1.7L17.5 11V9.3L7 5.6zm4.2 6V8.8l4 1.4-4 1.4zm-5.7 5.6V5.5H4v14.3l3.6-2.2-.8-1.3-1.3.9z"})});const text_vertical=(textVertical);;const WRITING_MODES=[{label:(0,external_wp_i18n_namespaceObject.__)('Horizontal'),value:'horizontal-tb',icon:text_horizontal},{label:(0,external_wp_i18n_namespaceObject.__)('Vertical'),value:(0,external_wp_i18n_namespaceObject.isRTL)()?'vertical-lr':'vertical-rl',icon:text_vertical}];function WritingModeControl({className,value,onChange}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{isDeselectable:true,__nextHasNoMarginBottom:true,__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Orientation'),className:dist_clsx('block-editor-writing-mode-control',className),value:value,onChange:newValue=>{onChange(newValue===value?undefined:newValue);},children:WRITING_MODES.map(option=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{value:option.value,icon:option.icon,label:option.label},option.value);})});};const MIN_TEXT_COLUMNS=1;const MAX_TEXT_COLUMNS=6;function useHasTypographyPanel(settings){const hasFontFamily=useHasFontFamilyControl(settings);const hasLineHeight=useHasLineHeightControl(settings);const hasFontAppearance=useHasAppearanceControl(settings);const hasLetterSpacing=useHasLetterSpacingControl(settings);const hasTextAlign=useHasTextAlignmentControl(settings);const hasTextTransform=useHasTextTransformControl(settings);const hasTextDecoration=useHasTextDecorationControl(settings);const hasWritingMode=useHasWritingModeControl(settings);const hasTextColumns=useHasTextColumnsControl(settings);const hasFontSize=useHasFontSizeControl(settings);return hasFontFamily||hasLineHeight||hasFontAppearance||hasLetterSpacing||hasTextAlign||hasTextTransform||hasFontSize||hasTextDecoration||hasWritingMode||hasTextColumns;}
function useHasFontSizeControl(settings){return settings?.typography?.defaultFontSizes!==false&&settings?.typography?.fontSizes?.default?.length||settings?.typography?.fontSizes?.theme?.length||settings?.typography?.fontSizes?.custom?.length||settings?.typography?.customFontSize;}
function useHasFontFamilyControl(settings){return['default','theme','custom'].some(key=>settings?.typography?.fontFamilies?.[key]?.length);}
function useHasLineHeightControl(settings){return settings?.typography?.lineHeight;}
function useHasAppearanceControl(settings){return settings?.typography?.fontStyle||settings?.typography?.fontWeight;}
function useAppearanceControlLabel(settings){if(!settings?.typography?.fontStyle){return(0,external_wp_i18n_namespaceObject.__)('Font weight');}
if(!settings?.typography?.fontWeight){return(0,external_wp_i18n_namespaceObject.__)('Font style');}
return(0,external_wp_i18n_namespaceObject.__)('Appearance');}
function useHasLetterSpacingControl(settings){return settings?.typography?.letterSpacing;}
function useHasTextTransformControl(settings){return settings?.typography?.textTransform;}
function useHasTextAlignmentControl(settings){return settings?.typography?.textAlign;}
function useHasTextDecorationControl(settings){return settings?.typography?.textDecoration;}
function useHasWritingModeControl(settings){return settings?.typography?.writingMode;}
function useHasTextColumnsControl(settings){return settings?.typography?.textColumns;}
function getMergedFontSizes(settings){var _fontSizes$custom,_fontSizes$theme,_fontSizes$default;const fontSizes=settings?.typography?.fontSizes;const defaultFontSizesEnabled=!!settings?.typography?.defaultFontSizes;return[...((_fontSizes$custom=fontSizes?.custom)!==null&&_fontSizes$custom!==void 0?_fontSizes$custom:[]),...((_fontSizes$theme=fontSizes?.theme)!==null&&_fontSizes$theme!==void 0?_fontSizes$theme:[]),...(defaultFontSizesEnabled?(_fontSizes$default=fontSizes?.default)!==null&&_fontSizes$default!==void 0?_fontSizes$default:[]:[])];}
function TypographyToolsPanel({resetAllFilter,onChange,value,panelId,children}){const dropdownMenuProps=useToolsPanelDropdownMenuProps();const resetAll=()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:(0,external_wp_i18n_namespaceObject.__)('Typography'),resetAll:resetAll,panelId:panelId,dropdownMenuProps:dropdownMenuProps,children:children});}
const typography_panel_DEFAULT_CONTROLS={fontFamily:true,fontSize:true,fontAppearance:true,lineHeight:true,letterSpacing:true,textAlign:true,textTransform:true,textDecoration:true,writingMode:true,textColumns:true};function TypographyPanel({as:Wrapper=TypographyToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=typography_panel_DEFAULT_CONTROLS}){const decodeValue=rawValue=>getValueFromVariable({settings},'',rawValue);const hasFontFamilyEnabled=useHasFontFamilyControl(settings);const fontFamily=decodeValue(inheritedValue?.typography?.fontFamily);const{fontFamilies,fontFamilyFaces}=(0,external_wp_element_namespaceObject.useMemo)(()=>{return getMergedFontFamiliesAndFontFamilyFaces(settings,fontFamily);},[settings,fontFamily]);const setFontFamily=newValue=>{const slug=fontFamilies?.find(({fontFamily:f})=>f===newValue)?.slug;onChange(setImmutably(value,['typography','fontFamily'],slug?`var:preset|font-family|${slug}`:newValue||undefined));};const hasFontFamily=()=>!!value?.typography?.fontFamily;const resetFontFamily=()=>setFontFamily(undefined);const hasFontSizeEnabled=useHasFontSizeControl(settings);const disableCustomFontSizes=!settings?.typography?.customFontSize;const mergedFontSizes=getMergedFontSizes(settings);const fontSize=decodeValue(inheritedValue?.typography?.fontSize);const setFontSize=(newValue,metadata)=>{const actualValue=!!metadata?.slug?`var:preset|font-size|${metadata?.slug}`:newValue;onChange(setImmutably(value,['typography','fontSize'],actualValue||undefined));};const hasFontSize=()=>!!value?.typography?.fontSize;const resetFontSize=()=>setFontSize(undefined);const hasAppearanceControl=useHasAppearanceControl(settings);const appearanceControlLabel=useAppearanceControlLabel(settings);const hasFontStyles=settings?.typography?.fontStyle;const hasFontWeights=settings?.typography?.fontWeight;const fontStyle=decodeValue(inheritedValue?.typography?.fontStyle);const fontWeight=decodeValue(inheritedValue?.typography?.fontWeight);const{nearestFontStyle,nearestFontWeight}=findNearestStyleAndWeight(fontFamilyFaces,fontStyle,fontWeight);const setFontAppearance=(0,external_wp_element_namespaceObject.useCallback)(({fontStyle:newFontStyle,fontWeight:newFontWeight})=>{if(newFontStyle!==fontStyle||newFontWeight!==fontWeight){onChange({...value,typography:{...value?.typography,fontStyle:newFontStyle||undefined,fontWeight:newFontWeight||undefined}});}},[fontStyle,fontWeight,onChange,value]);const hasFontAppearance=()=>!!value?.typography?.fontStyle||!!value?.typography?.fontWeight;const resetFontAppearance=(0,external_wp_element_namespaceObject.useCallback)(()=>{setFontAppearance({});},[setFontAppearance]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(nearestFontStyle&&nearestFontWeight){setFontAppearance({fontStyle:nearestFontStyle,fontWeight:nearestFontWeight});}else{resetFontAppearance();}},[nearestFontStyle,nearestFontWeight,resetFontAppearance,setFontAppearance]);const hasLineHeightEnabled=useHasLineHeightControl(settings);const lineHeight=decodeValue(inheritedValue?.typography?.lineHeight);const setLineHeight=newValue=>{onChange(setImmutably(value,['typography','lineHeight'],newValue||undefined));};const hasLineHeight=()=>value?.typography?.lineHeight!==undefined;const resetLineHeight=()=>setLineHeight(undefined);const hasLetterSpacingControl=useHasLetterSpacingControl(settings);const letterSpacing=decodeValue(inheritedValue?.typography?.letterSpacing);const setLetterSpacing=newValue=>{onChange(setImmutably(value,['typography','letterSpacing'],newValue||undefined));};const hasLetterSpacing=()=>!!value?.typography?.letterSpacing;const resetLetterSpacing=()=>setLetterSpacing(undefined);const hasTextColumnsControl=useHasTextColumnsControl(settings);const textColumns=decodeValue(inheritedValue?.typography?.textColumns);const setTextColumns=newValue=>{onChange(setImmutably(value,['typography','textColumns'],newValue||undefined));};const hasTextColumns=()=>!!value?.typography?.textColumns;const resetTextColumns=()=>setTextColumns(undefined);const hasTextTransformControl=useHasTextTransformControl(settings);const textTransform=decodeValue(inheritedValue?.typography?.textTransform);const setTextTransform=newValue=>{onChange(setImmutably(value,['typography','textTransform'],newValue||undefined));};const hasTextTransform=()=>!!value?.typography?.textTransform;const resetTextTransform=()=>setTextTransform(undefined);const hasTextDecorationControl=useHasTextDecorationControl(settings);const textDecoration=decodeValue(inheritedValue?.typography?.textDecoration);const setTextDecoration=newValue=>{onChange(setImmutably(value,['typography','textDecoration'],newValue||undefined));};const hasTextDecoration=()=>!!value?.typography?.textDecoration;const resetTextDecoration=()=>setTextDecoration(undefined);const hasWritingModeControl=useHasWritingModeControl(settings);const writingMode=decodeValue(inheritedValue?.typography?.writingMode);const setWritingMode=newValue=>{onChange(setImmutably(value,['typography','writingMode'],newValue||undefined));};const hasWritingMode=()=>!!value?.typography?.writingMode;const resetWritingMode=()=>setWritingMode(undefined);const hasTextAlignmentControl=useHasTextAlignmentControl(settings);const textAlign=decodeValue(inheritedValue?.typography?.textAlign);const setTextAlign=newValue=>{onChange(setImmutably(value,['typography','textAlign'],newValue||undefined));};const hasTextAlign=()=>!!value?.typography?.textAlign;const resetTextAlign=()=>setTextAlign(undefined);const resetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(previousValue=>{return{...previousValue,typography:{}};},[]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId,children:[hasFontFamilyEnabled&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Font'),hasValue:hasFontFamily,onDeselect:resetFontFamily,isShownByDefault:defaultControls.fontFamily,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(FontFamilyControl,{fontFamilies:fontFamilies,value:fontFamily,onChange:setFontFamily,size:"__unstable-large",__nextHasNoMarginBottom:true})}),hasFontSizeEnabled&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Size'),hasValue:hasFontSize,onDeselect:resetFontSize,isShownByDefault:defaultControls.fontSize,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FontSizePicker,{value:fontSize,onChange:setFontSize,fontSizes:mergedFontSizes,disableCustomFontSizes:disableCustomFontSizes,withReset:false,withSlider:true,size:"__unstable-large"})}),hasAppearanceControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",label:appearanceControlLabel,hasValue:hasFontAppearance,onDeselect:resetFontAppearance,isShownByDefault:defaultControls.fontAppearance,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(FontAppearanceControl,{value:{fontStyle,fontWeight},onChange:setFontAppearance,hasFontStyles:hasFontStyles,hasFontWeights:hasFontWeights,fontFamilyFaces:fontFamilyFaces,size:"__unstable-large"})}),hasLineHeightEnabled&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",label:(0,external_wp_i18n_namespaceObject.__)('Line height'),hasValue:hasLineHeight,onDeselect:resetLineHeight,isShownByDefault:defaultControls.lineHeight,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(line_height_control,{__unstableInputWidth:"auto",value:lineHeight,onChange:setLineHeight,size:"__unstable-large"})}),hasLetterSpacingControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",label:(0,external_wp_i18n_namespaceObject.__)('Letter spacing'),hasValue:hasLetterSpacing,onDeselect:resetLetterSpacing,isShownByDefault:defaultControls.letterSpacing,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(LetterSpacingControl,{value:letterSpacing,onChange:setLetterSpacing,size:"__unstable-large",__unstableInputWidth:"auto"})}),hasTextColumnsControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",label:(0,external_wp_i18n_namespaceObject.__)('Columns'),hasValue:hasTextColumns,onDeselect:resetTextColumns,isShownByDefault:defaultControls.textColumns,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalNumberControl,{label:(0,external_wp_i18n_namespaceObject.__)('Columns'),max:MAX_TEXT_COLUMNS,min:MIN_TEXT_COLUMNS,onChange:setTextColumns,size:"__unstable-large",spinControls:"custom",value:textColumns,initialPosition:1})}),hasTextDecorationControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",label:(0,external_wp_i18n_namespaceObject.__)('Decoration'),hasValue:hasTextDecoration,onDeselect:resetTextDecoration,isShownByDefault:defaultControls.textDecoration,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(TextDecorationControl,{value:textDecoration,onChange:setTextDecoration,size:"__unstable-large",__unstableInputWidth:"auto"})}),hasWritingModeControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",label:(0,external_wp_i18n_namespaceObject.__)('Orientation'),hasValue:hasWritingMode,onDeselect:resetWritingMode,isShownByDefault:defaultControls.writingMode,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(WritingModeControl,{value:writingMode,onChange:setWritingMode,size:"__unstable-large",__nextHasNoMarginBottom:true})}),hasTextTransformControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Letter case'),hasValue:hasTextTransform,onDeselect:resetTextTransform,isShownByDefault:defaultControls.textTransform,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(TextTransformControl,{value:textTransform,onChange:setTextTransform,showNone:true,isBlock:true,size:"__unstable-large",__nextHasNoMarginBottom:true})}),hasTextAlignmentControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Text alignment'),hasValue:hasTextAlign,onDeselect:resetTextAlign,isShownByDefault:defaultControls.textAlign,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(TextAlignmentControl,{value:textAlign,onChange:setTextAlign,size:"__unstable-large",__nextHasNoMarginBottom:true})})]});};const LINE_HEIGHT_SUPPORT_KEY='typography.lineHeight';function LineHeightEdit(props){const{attributes:{style},setAttributes}=props;const onChange=newLineHeightValue=>{const newStyle={...style,typography:{...style?.typography,lineHeight:newLineHeightValue}};setAttributes({style:cleanEmptyObject(newStyle)});};return _jsx(LineHeightControl,{__unstableInputWidth:"100%",value:style?.typography?.lineHeight,onChange:onChange,size:"__unstable-large"});}
function useIsLineHeightDisabled({name:blockName}={}){const[isEnabled]=useSettings('typography.lineHeight');return!isEnabled||!hasBlockSupport(blockName,LINE_HEIGHT_SUPPORT_KEY);};const external_wp_tokenList_namespaceObject=window["wp"]["tokenList"];var external_wp_tokenList_default=__webpack_require__.n(external_wp_tokenList_namespaceObject);;const FONT_FAMILY_SUPPORT_KEY='typography.__experimentalFontFamily';const{kebabCase:font_family_kebabCase}=unlock(external_wp_components_namespaceObject.privateApis);function font_family_addAttributes(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,FONT_FAMILY_SUPPORT_KEY)){return settings;}
if(!settings.attributes.fontFamily){Object.assign(settings.attributes,{fontFamily:{type:'string'}});}
return settings;}
function font_family_addSaveProps(props,blockType,attributes){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,FONT_FAMILY_SUPPORT_KEY)){return props;}
if(shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,'fontFamily')){return props;}
if(!attributes?.fontFamily){return props;}
const classes=new(external_wp_tokenList_default())(props.className);classes.add(`has-${font_family_kebabCase(attributes?.fontFamily)}-font-family`);const newClassName=classes.value;props.className=newClassName?newClassName:undefined;return props;}
function font_family_useBlockProps({name,fontFamily}){return font_family_addSaveProps({},name,{fontFamily});}
const font_family=({useBlockProps:font_family_useBlockProps,addSaveProps:font_family_addSaveProps,attributeKeys:['fontFamily'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,FONT_FAMILY_SUPPORT_KEY);}});function resetFontFamily({setAttributes}){setAttributes({fontFamily:undefined});}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/fontFamily/addAttribute',font_family_addAttributes);;const{kebabCase:utils_kebabCase}=unlock(external_wp_components_namespaceObject.privateApis);const utils_getFontSize=(fontSizes,fontSizeAttribute,customFontSizeAttribute)=>{if(fontSizeAttribute){const fontSizeObject=fontSizes?.find(({slug})=>slug===fontSizeAttribute);if(fontSizeObject){return fontSizeObject;}}
return{size:customFontSizeAttribute};};function utils_getFontSizeObjectByValue(fontSizes,value){const fontSizeObject=fontSizes?.find(({size})=>size===value);if(fontSizeObject){return fontSizeObject;}
return{size:value};}
function getFontSizeClass(fontSizeSlug){if(!fontSizeSlug){return;}
return`has-${utils_kebabCase(fontSizeSlug)}-font-size`;};const FONT_SIZE_SUPPORT_KEY='typography.fontSize';function font_size_addAttributes(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,FONT_SIZE_SUPPORT_KEY)){return settings;}
if(!settings.attributes.fontSize){Object.assign(settings.attributes,{fontSize:{type:'string'}});}
return settings;}
function font_size_addSaveProps(props,blockNameOrType,attributes){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockNameOrType,FONT_SIZE_SUPPORT_KEY)){return props;}
if(shouldSkipSerialization(blockNameOrType,TYPOGRAPHY_SUPPORT_KEY,'fontSize')){return props;}
const classes=new(external_wp_tokenList_default())(props.className);classes.add(getFontSizeClass(attributes.fontSize));const newClassName=classes.value;props.className=newClassName?newClassName:undefined;return props;}
function FontSizeEdit(props){const{attributes:{fontSize,style},setAttributes}=props;const[fontSizes]=useSettings('typography.fontSizes');const onChange=value=>{const fontSizeSlug=getFontSizeObjectByValue(fontSizes,value).slug;setAttributes({style:cleanEmptyObject({...style,typography:{...style?.typography,fontSize:fontSizeSlug?undefined:value}}),fontSize:fontSizeSlug});};const fontSizeObject=getFontSize(fontSizes,fontSize,style?.typography?.fontSize);const fontSizeValue=fontSizeObject?.size||style?.typography?.fontSize||fontSize;return _jsx(FontSizePicker,{onChange:onChange,value:fontSizeValue,withReset:false,withSlider:true,size:"__unstable-large"});}
function useIsFontSizeDisabled({name:blockName}={}){const[fontSizes]=useSettings('typography.fontSizes');const hasFontSizes=!!fontSizes?.length;return!hasBlockSupport(blockName,FONT_SIZE_SUPPORT_KEY)||!hasFontSizes;}
function font_size_useBlockProps({name,fontSize,style}){const[fontSizes,fluidTypographySettings,layoutSettings]=use_settings_useSettings('typography.fontSizes','typography.fluid','layout');if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,FONT_SIZE_SUPPORT_KEY)||shouldSkipSerialization(name,TYPOGRAPHY_SUPPORT_KEY,'fontSize')||!fontSize&&!style?.typography?.fontSize){return;}
let props;if(style?.typography?.fontSize){props={style:{fontSize:getTypographyFontSizeValue({size:style.typography.fontSize},{typography:{fluid:fluidTypographySettings},layout:layoutSettings})}};}
if(fontSize){props={style:{fontSize:utils_getFontSize(fontSizes,fontSize,style?.typography?.fontSize).size}};}
if(!props){return;}
return font_size_addSaveProps(props,name,{fontSize});}
const font_size=({useBlockProps:font_size_useBlockProps,addSaveProps:font_size_addSaveProps,attributeKeys:['fontSize','style'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,FONT_SIZE_SUPPORT_KEY);}});const font_size_MIGRATION_PATHS={fontSize:[['fontSize'],['style','typography','fontSize']]};function font_size_addTransforms(result,source,index,results){const destinationBlockType=result.name;const activeSupports={fontSize:(0,external_wp_blocks_namespaceObject.hasBlockSupport)(destinationBlockType,FONT_SIZE_SUPPORT_KEY)};return transformStyles(activeSupports,font_size_MIGRATION_PATHS,result,source,index,results);}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/font/addAttribute',font_size_addAttributes);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.switchToBlockType.transformedBlock','core/font-size/addTransforms',font_size_addTransforms);;const DEFAULT_ALIGNMENT_CONTROLS=[{icon:align_left,title:(0,external_wp_i18n_namespaceObject.__)('Align text left'),align:'left'},{icon:align_center,title:(0,external_wp_i18n_namespaceObject.__)('Align text center'),align:'center'},{icon:align_right,title:(0,external_wp_i18n_namespaceObject.__)('Align text right'),align:'right'}];const ui_POPOVER_PROPS={placement:'bottom-start'};function AlignmentUI({value,onChange,alignmentControls=DEFAULT_ALIGNMENT_CONTROLS,label=(0,external_wp_i18n_namespaceObject.__)('Align text'),description=(0,external_wp_i18n_namespaceObject.__)('Change text alignment'),isCollapsed=true,isToolbar}){function applyOrUnset(align){return()=>onChange(value===align?undefined:align);}
const activeAlignment=alignmentControls.find(control=>control.align===value);function setIcon(){if(activeAlignment){return activeAlignment.icon;}
return(0,external_wp_i18n_namespaceObject.isRTL)()?align_right:align_left;}
const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const extraProps=isToolbar?{isCollapsed}:{toggleProps:{description},popoverProps:ui_POPOVER_PROPS};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(UIComponent,{icon:setIcon(),label:label,controls:alignmentControls.map(control=>{const{align}=control;const isActive=value===align;return{...control,isActive,role:isCollapsed?'menuitemradio':undefined,onClick:applyOrUnset(align)};}),...extraProps});}
const alignment_control_ui=(AlignmentUI);;const AlignmentControl=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(alignment_control_ui,{...props,isToolbar:false});};const AlignmentToolbar=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(alignment_control_ui,{...props,isToolbar:true});};;const TEXT_ALIGN_SUPPORT_KEY='typography.textAlign';const text_align_TEXT_ALIGNMENT_OPTIONS=[{icon:align_left,title:(0,external_wp_i18n_namespaceObject.__)('Align text left'),align:'left'},{icon:align_center,title:(0,external_wp_i18n_namespaceObject.__)('Align text center'),align:'center'},{icon:align_right,title:(0,external_wp_i18n_namespaceObject.__)('Align text right'),align:'right'}];const VALID_TEXT_ALIGNMENTS=['left','center','right'];const NO_TEXT_ALIGNMENTS=[];function getValidTextAlignments(blockTextAlign){if(Array.isArray(blockTextAlign)){return VALID_TEXT_ALIGNMENTS.filter(textAlign=>blockTextAlign.includes(textAlign));}
return blockTextAlign===true?VALID_TEXT_ALIGNMENTS:NO_TEXT_ALIGNMENTS;}
function BlockEditTextAlignmentToolbarControlsPure({style,name:blockName,setAttributes}){const settings=useBlockSettings(blockName);const hasTextAlignControl=settings?.typography?.textAlign;const blockEditingMode=useBlockEditingMode();if(!hasTextAlignControl||blockEditingMode!=='default'){return null;}
const validTextAlignments=getValidTextAlignments((0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,TEXT_ALIGN_SUPPORT_KEY));if(!validTextAlignments.length){return null;}
const textAlignmentControls=text_align_TEXT_ALIGNMENT_OPTIONS.filter(control=>validTextAlignments.includes(control.align));const onChange=newTextAlignValue=>{const newStyle={...style,typography:{...style?.typography,textAlign:newTextAlignValue}};setAttributes({style:utils_cleanEmptyObject(newStyle)});};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls,{group:"block",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(AlignmentControl,{value:style?.typography?.textAlign,onChange:onChange,alignmentControls:textAlignmentControls})});}
const text_align=({edit:BlockEditTextAlignmentToolbarControlsPure,useBlockProps:text_align_useBlockProps,addSaveProps:addAssignedTextAlign,attributeKeys:['style'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,TEXT_ALIGN_SUPPORT_KEY,false);}});function text_align_useBlockProps({name,style}){if(!style?.typography?.textAlign){return null;}
const validTextAlignments=getValidTextAlignments((0,external_wp_blocks_namespaceObject.getBlockSupport)(name,TEXT_ALIGN_SUPPORT_KEY));if(!validTextAlignments.length){return null;}
if(shouldSkipSerialization(name,TYPOGRAPHY_SUPPORT_KEY,'textAlign')){return null;}
const textAlign=style.typography.textAlign;const className=dist_clsx({[`has-text-align-${textAlign}`]:textAlign});return{className};}
function addAssignedTextAlign(props,blockType,attributes){if(!attributes?.style?.typography?.textAlign){return props;}
const{textAlign}=attributes.style.typography;const blockTextAlign=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,TEXT_ALIGN_SUPPORT_KEY);const isTextAlignValid=getValidTextAlignments(blockTextAlign).includes(textAlign);if(isTextAlignValid&&!shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,'textAlign')){props.className=dist_clsx(`has-text-align-${textAlign}`,props.className);}
return props;};function omit(object,keys){return Object.fromEntries(Object.entries(object).filter(([key])=>!keys.includes(key)));}
const LETTER_SPACING_SUPPORT_KEY='typography.__experimentalLetterSpacing';const TEXT_TRANSFORM_SUPPORT_KEY='typography.__experimentalTextTransform';const TEXT_DECORATION_SUPPORT_KEY='typography.__experimentalTextDecoration';const TEXT_COLUMNS_SUPPORT_KEY='typography.textColumns';const FONT_STYLE_SUPPORT_KEY='typography.__experimentalFontStyle';const FONT_WEIGHT_SUPPORT_KEY='typography.__experimentalFontWeight';const WRITING_MODE_SUPPORT_KEY='typography.__experimentalWritingMode';const TYPOGRAPHY_SUPPORT_KEY='typography';const TYPOGRAPHY_SUPPORT_KEYS=[LINE_HEIGHT_SUPPORT_KEY,FONT_SIZE_SUPPORT_KEY,FONT_STYLE_SUPPORT_KEY,FONT_WEIGHT_SUPPORT_KEY,FONT_FAMILY_SUPPORT_KEY,TEXT_ALIGN_SUPPORT_KEY,TEXT_COLUMNS_SUPPORT_KEY,TEXT_DECORATION_SUPPORT_KEY,WRITING_MODE_SUPPORT_KEY,TEXT_TRANSFORM_SUPPORT_KEY,LETTER_SPACING_SUPPORT_KEY];function typography_styleToAttributes(style){const updatedStyle={...omit(style,['fontFamily'])};const fontSizeValue=style?.typography?.fontSize;const fontFamilyValue=style?.typography?.fontFamily;const fontSizeSlug=fontSizeValue?.startsWith('var:preset|font-size|')?fontSizeValue.substring('var:preset|font-size|'.length):undefined;const fontFamilySlug=fontFamilyValue?.startsWith('var:preset|font-family|')?fontFamilyValue.substring('var:preset|font-family|'.length):undefined;updatedStyle.typography={...omit(updatedStyle.typography,['fontFamily']),fontSize:fontSizeSlug?undefined:fontSizeValue};return{style:utils_cleanEmptyObject(updatedStyle),fontFamily:fontFamilySlug,fontSize:fontSizeSlug};}
function typography_attributesToStyle(attributes){return{...attributes.style,typography:{...attributes.style?.typography,fontFamily:attributes.fontFamily?'var:preset|font-family|'+attributes.fontFamily:undefined,fontSize:attributes.fontSize?'var:preset|font-size|'+attributes.fontSize:attributes.style?.typography?.fontSize}};}
function TypographyInspectorControl({children,resetAllFilter}){const attributesResetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(attributes=>{const existingStyle=typography_attributesToStyle(attributes);const updatedStyle=resetAllFilter(existingStyle);return{...attributes,...typography_styleToAttributes(updatedStyle)};},[resetAllFilter]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"typography",resetAllFilter:attributesResetAllFilter,children:children});}
function typography_TypographyPanel({clientId,name,setAttributes,settings}){function selector(select){const{style,fontFamily,fontSize}=select(store).getBlockAttributes(clientId)||{};return{style,fontFamily,fontSize};}
const{style,fontFamily,fontSize}=(0,external_wp_data_namespaceObject.useSelect)(selector,[clientId]);const isEnabled=useHasTypographyPanel(settings);const value=(0,external_wp_element_namespaceObject.useMemo)(()=>typography_attributesToStyle({style,fontFamily,fontSize}),[style,fontSize,fontFamily]);const onChange=newStyle=>{setAttributes(typography_styleToAttributes(newStyle));};if(!isEnabled){return null;}
const defaultControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[TYPOGRAPHY_SUPPORT_KEY,'__experimentalDefaultControls']);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(TypographyPanel,{as:TypographyInspectorControl,panelId:clientId,settings:settings,value:value,onChange:onChange,defaultControls:defaultControls});}
const hasTypographySupport=blockName=>{return TYPOGRAPHY_SUPPORT_KEYS.some(key=>hasBlockSupport(blockName,key));};;const use_spacing_sizes_EMPTY_ARRAY=[];const compare=new Intl.Collator('und',{numeric:true}).compare;function useSpacingSizes(){const[customSpacingSizes,themeSpacingSizes,defaultSpacingSizes,defaultSpacingSizesEnabled]=use_settings_useSettings('spacing.spacingSizes.custom','spacing.spacingSizes.theme','spacing.spacingSizes.default','spacing.defaultSpacingSizes');const customSizes=customSpacingSizes!==null&&customSpacingSizes!==void 0?customSpacingSizes:use_spacing_sizes_EMPTY_ARRAY;const themeSizes=themeSpacingSizes!==null&&themeSpacingSizes!==void 0?themeSpacingSizes:use_spacing_sizes_EMPTY_ARRAY;const defaultSizes=defaultSpacingSizes&&defaultSpacingSizesEnabled!==false?defaultSpacingSizes:use_spacing_sizes_EMPTY_ARRAY;return(0,external_wp_element_namespaceObject.useMemo)(()=>{const sizes=[{name:(0,external_wp_i18n_namespaceObject.__)('None'),slug:'0',size:0},...customSizes,...themeSizes,...defaultSizes];if(sizes.every(({slug})=>/^[0-9]/.test(slug))){sizes.sort((a,b)=>compare(a.slug,b.slug));}
return sizes.length>RANGE_CONTROL_MAX_SIZE?[{name:(0,external_wp_i18n_namespaceObject.__)('Default'),slug:'default',size:undefined},...sizes]:sizes;},[customSizes,themeSizes,defaultSizes]);};const settings_settings=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]});const library_settings=(settings_settings);;const CUSTOM_VALUE_SETTINGS={px:{max:300,steps:1},'%':{max:100,steps:1},vw:{max:100,steps:1},vh:{max:100,steps:1},em:{max:10,steps:0.1},rm:{max:10,steps:0.1},svw:{max:100,steps:1},lvw:{max:100,steps:1},dvw:{max:100,steps:1},svh:{max:100,steps:1},lvh:{max:100,steps:1},dvh:{max:100,steps:1},vi:{max:100,steps:1},svi:{max:100,steps:1},lvi:{max:100,steps:1},dvi:{max:100,steps:1},vb:{max:100,steps:1},svb:{max:100,steps:1},lvb:{max:100,steps:1},dvb:{max:100,steps:1},vmin:{max:100,steps:1},svmin:{max:100,steps:1},lvmin:{max:100,steps:1},dvmin:{max:100,steps:1},vmax:{max:100,steps:1},svmax:{max:100,steps:1},lvmax:{max:100,steps:1},dvmax:{max:100,steps:1}};function SpacingInputControl({icon,isMixed=false,minimumCustomValue,onChange,onMouseOut,onMouseOver,showSideInLabel=true,side,spacingSizes,type,value}){var _CUSTOM_VALUE_SETTING,_CUSTOM_VALUE_SETTING2;value=getPresetValueFromCustomValue(value,spacingSizes);let selectListSizes=spacingSizes;const showRangeControl=spacingSizes.length<=RANGE_CONTROL_MAX_SIZE;const disableCustomSpacingSizes=(0,external_wp_data_namespaceObject.useSelect)(select=>{const editorSettings=select(store).getSettings();return editorSettings?.disableCustomSpacingSizes;});const[showCustomValueControl,setShowCustomValueControl]=(0,external_wp_element_namespaceObject.useState)(!disableCustomSpacingSizes&&value!==undefined&&!isValueSpacingPreset(value));const[minValue,setMinValue]=(0,external_wp_element_namespaceObject.useState)(minimumCustomValue);const previousValue=(0,external_wp_compose_namespaceObject.usePrevious)(value);if(!!value&&previousValue!==value&&!isValueSpacingPreset(value)&&showCustomValueControl!==true){setShowCustomValueControl(true);}
const[availableUnits]=use_settings_useSettings('spacing.units');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:availableUnits||['px','em','rem']});let currentValue=null;const showCustomValueInSelectList=!showRangeControl&&!showCustomValueControl&&value!==undefined&&(!isValueSpacingPreset(value)||isValueSpacingPreset(value)&&isMixed);if(showCustomValueInSelectList){selectListSizes=[...spacingSizes,{name:!isMixed?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Custom (%s)'),value):(0,external_wp_i18n_namespaceObject.__)('Mixed'),slug:'custom',size:value}];currentValue=selectListSizes.length-1;}else if(!isMixed){currentValue=!showCustomValueControl?getSliderValueFromPreset(value,spacingSizes):getCustomValueFromPreset(value,spacingSizes);}
const selectedUnit=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(currentValue),[currentValue])[1]||units[0]?.value;const setInitialValue=()=>{if(value===undefined){onChange('0');}};const customTooltipContent=newValue=>value===undefined?undefined:spacingSizes[newValue]?.name;const customRangeValue=parseFloat(currentValue,10);const getNewCustomValue=newSize=>{const isNumeric=!isNaN(parseFloat(newSize));const nextValue=isNumeric?newSize:undefined;return nextValue;};const getNewPresetValue=(newSize,controlType)=>{const size=parseInt(newSize,10);if(controlType==='selectList'){if(size===0){return undefined;}
if(size===1){return'0';}}else if(size===0){return'0';}
return`var:preset|spacing|${spacingSizes[newSize]?.slug}`;};const handleCustomValueSliderChange=next=>{onChange([next,selectedUnit].join(''));};const allPlaceholder=isMixed?(0,external_wp_i18n_namespaceObject.__)('Mixed'):null;const options=selectListSizes.map((size,index)=>({key:index,name:size.name}));const marks=spacingSizes.slice(1,spacingSizes.length-1).map((_newValue,index)=>({value:index+1,label:undefined}));const sideLabel=ALL_SIDES.includes(side)&&showSideInLabel?LABELS[side]:'';const typeLabel=showSideInLabel?type?.toLowerCase():type;const ariaLabel=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%1$s %2$s','spacing'),sideLabel,typeLabel).trim();return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{className:"spacing-sizes-control__wrapper",children:[icon&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{className:"spacing-sizes-control__icon",icon:icon,size:24}),showCustomValueControl&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{onMouseOver:onMouseOver,onMouseOut:onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut,onChange:newSize=>onChange(getNewCustomValue(newSize)),value:currentValue,units:units,min:minValue,placeholder:allPlaceholder,disableUnits:isMixed,label:ariaLabel,hideLabelFromVision:true,className:"spacing-sizes-control__custom-value-input",size:"__unstable-large",onDragStart:()=>{if(value?.charAt(0)==='-'){setMinValue(0);}},onDrag:()=>{if(value?.charAt(0)==='-'){setMinValue(0);}},onDragEnd:()=>{setMinValue(minimumCustomValue);}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.RangeControl,{__next40pxDefaultSize:true,onMouseOver:onMouseOver,onMouseOut:onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut,value:customRangeValue,min:0,max:(_CUSTOM_VALUE_SETTING=CUSTOM_VALUE_SETTINGS[selectedUnit]?.max)!==null&&_CUSTOM_VALUE_SETTING!==void 0?_CUSTOM_VALUE_SETTING:10,step:(_CUSTOM_VALUE_SETTING2=CUSTOM_VALUE_SETTINGS[selectedUnit]?.steps)!==null&&_CUSTOM_VALUE_SETTING2!==void 0?_CUSTOM_VALUE_SETTING2:0.1,withInputField:false,onChange:handleCustomValueSliderChange,className:"spacing-sizes-control__custom-value-range",__nextHasNoMarginBottom:true,label:ariaLabel,hideLabelFromVision:true})]}),showRangeControl&&!showCustomValueControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.RangeControl,{__next40pxDefaultSize:true,onMouseOver:onMouseOver,onMouseOut:onMouseOut,className:"spacing-sizes-control__range-control",value:currentValue,onChange:newSize=>onChange(getNewPresetValue(newSize)),onMouseDown:event=>{if(event?.nativeEvent?.offsetX<35){setInitialValue();}},withInputField:false,"aria-valuenow":currentValue,"aria-valuetext":spacingSizes[currentValue]?.name,renderTooltipContent:customTooltipContent,min:0,max:spacingSizes.length-1,marks:marks,label:ariaLabel,hideLabelFromVision:true,__nextHasNoMarginBottom:true,onFocus:onMouseOver,onBlur:onMouseOut}),!showRangeControl&&!showCustomValueControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CustomSelectControl,{className:"spacing-sizes-control__custom-select-control",value:options.find(option=>option.key===currentValue)||'',onChange:selection=>{onChange(getNewPresetValue(selection.selectedItem.key,'selectList'));},options:options,label:ariaLabel,hideLabelFromVision:true,size:"__unstable-large",onMouseOver:onMouseOver,onMouseOut:onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut}),!disableCustomSpacingSizes&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{label:showCustomValueControl?(0,external_wp_i18n_namespaceObject.__)('Use size preset'):(0,external_wp_i18n_namespaceObject.__)('Set custom size'),icon:library_settings,onClick:()=>{setShowCustomValueControl(!showCustomValueControl);},isPressed:showCustomValueControl,size:"small",className:"spacing-sizes-control__custom-toggle",iconSize:24})]});};const groupedSides=['vertical','horizontal'];function AxialInputControls({minimumCustomValue,onChange,onMouseOut,onMouseOver,sides,spacingSizes,type,values}){const createHandleOnChange=side=>next=>{if(!onChange){return;}
const nextValues={...Object.keys(values).reduce((acc,key)=>{acc[key]=getPresetValueFromCustomValue(values[key],spacingSizes);return acc;},{})};if(side==='vertical'){nextValues.top=next;nextValues.bottom=next;}
if(side==='horizontal'){nextValues.left=next;nextValues.right=next;}
onChange(nextValues);};const filteredSides=sides?.length?groupedSides.filter(side=>hasAxisSupport(sides,side)):groupedSides;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:filteredSides.map(side=>{const axisValue=side==='vertical'?values.top:values.left;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingInputControl,{icon:ICONS[side],label:LABELS[side],minimumCustomValue:minimumCustomValue,onChange:createHandleOnChange(side),onMouseOut:onMouseOut,onMouseOver:onMouseOver,side:side,spacingSizes:spacingSizes,type:type,value:axisValue,withInputField:false},`spacing-sizes-control-${side}`);})});};function SeparatedInputControls({minimumCustomValue,onChange,onMouseOut,onMouseOver,sides,spacingSizes,type,values}){const filteredSides=sides?.length?ALL_SIDES.filter(side=>sides.includes(side)):ALL_SIDES;const createHandleOnChange=side=>next=>{const nextValues={...Object.keys(values).reduce((acc,key)=>{acc[key]=getPresetValueFromCustomValue(values[key],spacingSizes);return acc;},{})};nextValues[side]=next;onChange(nextValues);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:filteredSides.map(side=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingInputControl,{icon:ICONS[side],label:LABELS[side],minimumCustomValue:minimumCustomValue,onChange:createHandleOnChange(side),onMouseOut:onMouseOut,onMouseOver:onMouseOver,side:side,spacingSizes:spacingSizes,type:type,value:values[side],withInputField:false},`spacing-sizes-control-${side}`);})});};function SingleInputControl({minimumCustomValue,onChange,onMouseOut,onMouseOver,showSideInLabel,side,spacingSizes,type,values}){const createHandleOnChange=currentSide=>next=>{const nextValues={...Object.keys(values).reduce((acc,key)=>{acc[key]=getPresetValueFromCustomValue(values[key],spacingSizes);return acc;},{})};nextValues[currentSide]=next;onChange(nextValues);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingInputControl,{label:LABELS[side],minimumCustomValue:minimumCustomValue,onChange:createHandleOnChange(side),onMouseOut:onMouseOut,onMouseOver:onMouseOver,showSideInLabel:showSideInLabel,side:side,spacingSizes:spacingSizes,type:type,value:values[side],withInputField:false});};function linked_button_LinkedButton({isLinked,...props}){const label=isLinked?(0,external_wp_i18n_namespaceObject.__)('Unlink sides'):(0,external_wp_i18n_namespaceObject.__)('Link sides');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{...props,size:"small",icon:isLinked?library_link:link_off,iconSize:24,label:label});};function SpacingSizesControl({inputProps,label:labelProp,minimumCustomValue=0,onChange,onMouseOut,onMouseOver,showSideInLabel=true,sides=ALL_SIDES,useSelect,values}){const spacingSizes=useSpacingSizes();const inputValues=values||DEFAULT_VALUES;const hasOneSide=sides?.length===1;const hasOnlyAxialSides=sides?.includes('horizontal')&&sides?.includes('vertical')&&sides?.length===2;const[view,setView]=(0,external_wp_element_namespaceObject.useState)(getInitialView(inputValues,sides));const toggleLinked=()=>{setView(view===VIEWS.axial?VIEWS.custom:VIEWS.axial);};const handleOnChange=nextValue=>{const newValues={...values,...nextValue};onChange(newValues);};const inputControlProps={...inputProps,minimumCustomValue,onChange:handleOnChange,onMouseOut,onMouseOver,sides,spacingSizes,type:labelProp,useSelect,values:inputValues};const renderControls=()=>{if(view===VIEWS.axial){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(AxialInputControls,{...inputControlProps});}
if(view===VIEWS.custom){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(SeparatedInputControls,{...inputControlProps});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(SingleInputControl,{side:view,...inputControlProps,showSideInLabel:showSideInLabel});};const sideLabel=ALL_SIDES.includes(view)&&showSideInLabel?LABELS[view]:'';const label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%1$s %2$s','spacing'),labelProp,sideLabel).trim();return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{className:"spacing-sizes-control",children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{className:"spacing-sizes-control__header",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend",className:"spacing-sizes-control__label",children:label}),!hasOneSide&&!hasOnlyAxialSides&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(linked_button_LinkedButton,{label:labelProp,onClick:toggleLinked,isLinked:view===VIEWS.axial})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:0.5,children:renderControls()})]});};const RANGE_CONTROL_CUSTOM_SETTINGS={px:{max:1000,step:1},'%':{max:100,step:1},vw:{max:100,step:1},vh:{max:100,step:1},em:{max:50,step:0.1},rem:{max:50,step:0.1},svw:{max:100,step:1},lvw:{max:100,step:1},dvw:{max:100,step:1},svh:{max:100,step:1},lvh:{max:100,step:1},dvh:{max:100,step:1},vi:{max:100,step:1},svi:{max:100,step:1},lvi:{max:100,step:1},dvi:{max:100,step:1},vb:{max:100,step:1},svb:{max:100,step:1},lvb:{max:100,step:1},dvb:{max:100,step:1},vmin:{max:100,step:1},svmin:{max:100,step:1},lvmin:{max:100,step:1},dvmin:{max:100,step:1},vmax:{max:100,step:1},svmax:{max:100,step:1},lvmax:{max:100,step:1},dvmax:{max:100,step:1}};function HeightControl({label=(0,external_wp_i18n_namespaceObject.__)('Height'),onChange,value}){var _RANGE_CONTROL_CUSTOM,_RANGE_CONTROL_CUSTOM2;const customRangeValue=parseFloat(value);const[availableUnits]=use_settings_useSettings('spacing.units');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:availableUnits||['%','px','em','rem','vh','vw']});const selectedUnit=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(value),[value])[1]||units[0]?.value||'px';const handleSliderChange=next=>{onChange([next,selectedUnit].join(''));};const handleUnitChange=newUnit=>{const[currentValue,currentUnit]=(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(value);if(['em','rem'].includes(newUnit)&&currentUnit==='px'){onChange((currentValue / 16).toFixed(2)+newUnit);}else if(['em','rem'].includes(currentUnit)&&newUnit==='px'){onChange(Math.round(currentValue*16)+newUnit);}else if(['%','vw','svw','lvw','dvw','vh','svh','lvh','dvh','vi','svi','lvi','dvi','vb','svb','lvb','dvb','vmin','svmin','lvmin','dvmin','vmax','svmax','lvmax','dvmax'].includes(newUnit)&&currentValue>100){onChange(100+newUnit);}};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{className:"block-editor-height-control",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend",children:label}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{value:value,units:units,onChange:onChange,onUnitChange:handleUnitChange,min:0,size:"__unstable-large",label:label,hideLabelFromVision:true})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalSpacer,{marginX:2,marginBottom:0,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.RangeControl,{__next40pxDefaultSize:true,value:customRangeValue,min:0,max:(_RANGE_CONTROL_CUSTOM=RANGE_CONTROL_CUSTOM_SETTINGS[selectedUnit]?.max)!==null&&_RANGE_CONTROL_CUSTOM!==void 0?_RANGE_CONTROL_CUSTOM:100,step:(_RANGE_CONTROL_CUSTOM2=RANGE_CONTROL_CUSTOM_SETTINGS[selectedUnit]?.step)!==null&&_RANGE_CONTROL_CUSTOM2!==void 0?_RANGE_CONTROL_CUSTOM2:0.1,withInputField:false,onChange:handleSliderChange,__nextHasNoMarginBottom:true,label:label,hideLabelFromVision:true})})})]})]});};function useGetNumberOfBlocksBeforeCell(gridClientId,numColumns){const{getBlockOrder,getBlockAttributes}=(0,external_wp_data_namespaceObject.useSelect)(store);const getNumberOfBlocksBeforeCell=(column,row)=>{const targetIndex=(row-1)*numColumns+column-1;let count=0;for(const clientId of getBlockOrder(gridClientId)){var _getBlockAttributes$s;const{columnStart,rowStart}=(_getBlockAttributes$s=getBlockAttributes(clientId).style?.layout)!==null&&_getBlockAttributes$s!==void 0?_getBlockAttributes$s:{};const cellIndex=(rowStart-1)*numColumns+columnStart-1;if(cellIndex<targetIndex){count++;}}
return count;};return getNumberOfBlocksBeforeCell;};function helpText(selfStretch,parentLayout){const{orientation='horizontal'}=parentLayout;if(selfStretch==='fill'){return(0,external_wp_i18n_namespaceObject.__)('Stretch to fill available space.');}
if(selfStretch==='fixed'&&orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.__)('Specify a fixed width.');}else if(selfStretch==='fixed'){return(0,external_wp_i18n_namespaceObject.__)('Specify a fixed height.');}
return(0,external_wp_i18n_namespaceObject.__)('Fit contents.');}
function ChildLayoutControl({value:childLayout={},onChange,parentLayout,isShownByDefault,panelId}){const{type:parentType,default:{type:defaultParentType='default'}={}}=parentLayout!==null&&parentLayout!==void 0?parentLayout:{};const parentLayoutType=parentType||defaultParentType;if(parentLayoutType==='flex'){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(FlexControls,{childLayout:childLayout,onChange:onChange,parentLayout:parentLayout,isShownByDefault:isShownByDefault,panelId:panelId});}else if(parentLayoutType==='grid'){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridControls,{childLayout:childLayout,onChange:onChange,parentLayout:parentLayout,isShownByDefault:isShownByDefault,panelId:panelId});}
return null;}
function FlexControls({childLayout,onChange,parentLayout,isShownByDefault,panelId}){const{selfStretch,flexSize}=childLayout;const{orientation='horizontal'}=parentLayout!==null&&parentLayout!==void 0?parentLayout:{};const hasFlexValue=()=>!!selfStretch;const flexResetLabel=orientation==='horizontal'?(0,external_wp_i18n_namespaceObject.__)('Width'):(0,external_wp_i18n_namespaceObject.__)('Height');const[availableUnits]=use_settings_useSettings('spacing.units');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:availableUnits||['%','px','em','rem','vh','vw']});const resetFlex=()=>{onChange({selfStretch:undefined,flexSize:undefined});};(0,external_wp_element_namespaceObject.useEffect)(()=>{if(selfStretch==='fixed'&&!flexSize){onChange({...childLayout,selfStretch:'fit'});}},[]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{as:external_wp_components_namespaceObject.__experimentalToolsPanelItem,spacing:2,hasValue:hasFlexValue,label:flexResetLabel,onDeselect:resetFlex,isShownByDefault:isShownByDefault,panelId:panelId,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:true,size:"__unstable-large",label:childLayoutOrientation(parentLayout),value:selfStretch||'fit',help:helpText(selfStretch,parentLayout),onChange:value=>{const newFlexSize=value!=='fixed'?null:flexSize;onChange({selfStretch:value,flexSize:newFlexSize});},isBlock:true,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"fit",label:(0,external_wp_i18n_namespaceObject._x)('Fit','Intrinsic block width in flex layout')},"fit"),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"fill",label:(0,external_wp_i18n_namespaceObject._x)('Grow','Block with expanding width in flex layout')},"fill"),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:"fixed",label:(0,external_wp_i18n_namespaceObject._x)('Fixed','Block with fixed width in flex layout')},"fixed")]}),selfStretch==='fixed'&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{size:"__unstable-large",units:units,onChange:value=>{onChange({selfStretch,flexSize:value});},value:flexSize,label:flexResetLabel,hideLabelFromVision:true})]});}
function childLayoutOrientation(parentLayout){const{orientation='horizontal'}=parentLayout;return orientation==='horizontal'?(0,external_wp_i18n_namespaceObject.__)('Width'):(0,external_wp_i18n_namespaceObject.__)('Height');}
function GridControls({childLayout,onChange,parentLayout,isShownByDefault,panelId}){const{columnStart,rowStart,columnSpan,rowSpan}=childLayout;const{columnCount=3,rowCount}=parentLayout!==null&&parentLayout!==void 0?parentLayout:{};const rootClientId=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlockRootClientId(panelId));const{moveBlocksToPosition,__unstableMarkNextChangeAsNotPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(store);const getNumberOfBlocksBeforeCell=useGetNumberOfBlocksBeforeCell(rootClientId,columnCount);const hasStartValue=()=>!!columnStart||!!rowStart;const hasSpanValue=()=>!!columnSpan||!!rowSpan;const resetGridStarts=()=>{onChange({columnStart:undefined,rowStart:undefined});};const resetGridSpans=()=>{onChange({columnSpan:undefined,rowSpan:undefined});};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{as:external_wp_components_namespaceObject.__experimentalToolsPanelItem,hasValue:hasSpanValue,label:(0,external_wp_i18n_namespaceObject.__)('Grid span'),onDeselect:resetGridSpans,isShownByDefault:isShownByDefault,panelId:panelId,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControl,{size:"__unstable-large",label:(0,external_wp_i18n_namespaceObject.__)('Column span'),type:"number",onChange:value=>{const newColumnSpan=value===''?1:parseInt(value,10);onChange({columnStart,rowStart,rowSpan,columnSpan:newColumnSpan});},value:columnSpan!==null&&columnSpan!==void 0?columnSpan:1,min:1}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControl,{size:"__unstable-large",label:(0,external_wp_i18n_namespaceObject.__)('Row span'),type:"number",onChange:value=>{const newRowSpan=value===''?1:parseInt(value,10);onChange({columnStart,rowStart,columnSpan,rowSpan:newRowSpan});},value:rowSpan!==null&&rowSpan!==void 0?rowSpan:1,min:1})]}),window.__experimentalEnableGridInteractivity&&columnCount&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{as:external_wp_components_namespaceObject.__experimentalToolsPanelItem,hasValue:hasStartValue,label:(0,external_wp_i18n_namespaceObject.__)('Grid placement'),onDeselect:resetGridStarts,isShownByDefault:false,panelId:panelId,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{style:{width:'50%'},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControl,{size:"__unstable-large",label:(0,external_wp_i18n_namespaceObject.__)('Column'),type:"number",onChange:value=>{const newColumnStart=value===''?1:parseInt(value,10);onChange({columnStart:newColumnStart,rowStart,columnSpan,rowSpan});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([panelId],rootClientId,rootClientId,getNumberOfBlocksBeforeCell(newColumnStart,rowStart));},value:columnStart!==null&&columnStart!==void 0?columnStart:1,min:1,max:columnCount?columnCount-(columnSpan!==null&&columnSpan!==void 0?columnSpan:1)+1:undefined})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{style:{width:'50%'},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControl,{size:"__unstable-large",label:(0,external_wp_i18n_namespaceObject.__)('Row'),type:"number",onChange:value=>{const newRowStart=value===''?1:parseInt(value,10);onChange({columnStart,rowStart:newRowStart,columnSpan,rowSpan});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([panelId],rootClientId,rootClientId,getNumberOfBlocksBeforeCell(columnStart,newRowStart));},value:rowStart!==null&&rowStart!==void 0?rowStart:1,min:1,max:rowCount?rowCount-(rowSpan!==null&&rowSpan!==void 0?rowSpan:1)+1:undefined})})]})]});};function AspectRatioTool({panelId,value,onChange=()=>{},options,defaultValue='auto',hasValue,isShownByDefault=true}){const displayValue=value!==null&&value!==void 0?value:'auto';const[defaultRatios,themeRatios,showDefaultRatios]=use_settings_useSettings('dimensions.aspectRatios.default','dimensions.aspectRatios.theme','dimensions.defaultAspectRatios');const themeOptions=themeRatios?.map(({name,ratio})=>({label:name,value:ratio}));const defaultOptions=defaultRatios?.map(({name,ratio})=>({label:name,value:ratio}));const aspectRatioOptions=[{label:(0,external_wp_i18n_namespaceObject._x)('Original','Aspect ratio option for dimensions control'),value:'auto'},...(showDefaultRatios?defaultOptions:[]),...(themeOptions?themeOptions:[]),{label:(0,external_wp_i18n_namespaceObject._x)('Custom','Aspect ratio option for dimensions control'),value:'custom',disabled:true,hidden:true}];return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:hasValue?hasValue:()=>displayValue!==defaultValue,label:(0,external_wp_i18n_namespaceObject.__)('Aspect ratio'),onDeselect:()=>onChange(undefined),isShownByDefault:isShownByDefault,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SelectControl,{label:(0,external_wp_i18n_namespaceObject.__)('Aspect ratio'),value:displayValue,options:options!==null&&options!==void 0?options:aspectRatioOptions,onChange:onChange,size:"__unstable-large",__nextHasNoMarginBottom:true})});};const AXIAL_SIDES=['horizontal','vertical'];function useHasDimensionsPanel(settings){const hasContentSize=useHasContentSize(settings);const hasWideSize=useHasWideSize(settings);const hasPadding=useHasPadding(settings);const hasMargin=useHasMargin(settings);const hasGap=useHasGap(settings);const hasMinHeight=useHasMinHeight(settings);const hasAspectRatio=useHasAspectRatio(settings);const hasChildLayout=useHasChildLayout(settings);return external_wp_element_namespaceObject.Platform.OS==='web'&&(hasContentSize||hasWideSize||hasPadding||hasMargin||hasGap||hasMinHeight||hasAspectRatio||hasChildLayout);}
function useHasContentSize(settings){return settings?.layout?.contentSize;}
function useHasWideSize(settings){return settings?.layout?.wideSize;}
function useHasPadding(settings){return settings?.spacing?.padding;}
function useHasMargin(settings){return settings?.spacing?.margin;}
function useHasGap(settings){return settings?.spacing?.blockGap;}
function useHasMinHeight(settings){return settings?.dimensions?.minHeight;}
function useHasAspectRatio(settings){return settings?.dimensions?.aspectRatio;}
function useHasChildLayout(settings){var _settings$parentLayou;const{type:parentLayoutType='default',default:{type:defaultParentLayoutType='default'}={},allowSizingOnChildren=false}=(_settings$parentLayou=settings?.parentLayout)!==null&&_settings$parentLayou!==void 0?_settings$parentLayou:{};const support=(defaultParentLayoutType==='flex'||parentLayoutType==='flex'||defaultParentLayoutType==='grid'||parentLayoutType==='grid')&&allowSizingOnChildren;return!!settings?.layout&&support;}
function useHasSpacingPresets(settings){const{defaultSpacingSizes,spacingSizes}=settings?.spacing||{};return defaultSpacingSizes!==false&&spacingSizes?.default?.length>0||spacingSizes?.theme?.length>0||spacingSizes?.custom?.length>0;}
function filterValuesBySides(values,sides){if(!sides||!values){return values;}
const filteredValues={};sides.forEach(side=>{if(side==='vertical'){filteredValues.top=values.top;filteredValues.bottom=values.bottom;}
if(side==='horizontal'){filteredValues.left=values.left;filteredValues.right=values.right;}
filteredValues[side]=values?.[side];});return filteredValues;}
function splitStyleValue(value){if(value&&typeof value==='string'){return{top:value,right:value,bottom:value,left:value};}
return value;}
function splitGapValue(value,isAxialGap){if(!value){return value;}
if(typeof value==='string'){return isAxialGap?{top:value,right:value,bottom:value,left:value}:{top:value};}
return{...value,right:value?.left,bottom:value?.top};}
function DimensionsToolsPanel({resetAllFilter,onChange,value,panelId,children}){const dropdownMenuProps=useToolsPanelDropdownMenuProps();const resetAll=()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:(0,external_wp_i18n_namespaceObject.__)('Dimensions'),resetAll:resetAll,panelId:panelId,dropdownMenuProps:dropdownMenuProps,children:children});}
const dimensions_panel_DEFAULT_CONTROLS={contentSize:true,wideSize:true,padding:true,margin:true,blockGap:true,minHeight:true,aspectRatio:true,childLayout:true};function DimensionsPanel({as:Wrapper=DimensionsToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=dimensions_panel_DEFAULT_CONTROLS,onVisualize=()=>{},includeLayoutControls=false}){var _defaultControls$cont,_defaultControls$wide,_defaultControls$padd,_defaultControls$marg,_defaultControls$bloc,_defaultControls$chil,_defaultControls$minH,_defaultControls$aspe;const{dimensions,spacing}=settings;const decodeValue=rawValue=>{if(rawValue&&typeof rawValue==='object'){return Object.keys(rawValue).reduce((acc,key)=>{acc[key]=getValueFromVariable({settings:{dimensions,spacing}},'',rawValue[key]);return acc;},{});}
return getValueFromVariable({settings:{dimensions,spacing}},'',rawValue);};const showSpacingPresetsControl=useHasSpacingPresets(settings);const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:settings?.spacing?.units||['%','px','em','rem','vw']});const minimumMargin=-Infinity;const[minMarginValue,setMinMarginValue]=(0,external_wp_element_namespaceObject.useState)(minimumMargin);const showContentSizeControl=useHasContentSize(settings)&&includeLayoutControls;const contentSizeValue=decodeValue(inheritedValue?.layout?.contentSize);const setContentSizeValue=newValue=>{onChange(setImmutably(value,['layout','contentSize'],newValue||undefined));};const hasUserSetContentSizeValue=()=>!!value?.layout?.contentSize;const resetContentSizeValue=()=>setContentSizeValue(undefined);const showWideSizeControl=useHasWideSize(settings)&&includeLayoutControls;const wideSizeValue=decodeValue(inheritedValue?.layout?.wideSize);const setWideSizeValue=newValue=>{onChange(setImmutably(value,['layout','wideSize'],newValue||undefined));};const hasUserSetWideSizeValue=()=>!!value?.layout?.wideSize;const resetWideSizeValue=()=>setWideSizeValue(undefined);const showPaddingControl=useHasPadding(settings);const rawPadding=decodeValue(inheritedValue?.spacing?.padding);const paddingValues=splitStyleValue(rawPadding);const paddingSides=Array.isArray(settings?.spacing?.padding)?settings?.spacing?.padding:settings?.spacing?.padding?.sides;const isAxialPadding=paddingSides&&paddingSides.some(side=>AXIAL_SIDES.includes(side));const setPaddingValues=newPaddingValues=>{const padding=filterValuesBySides(newPaddingValues,paddingSides);onChange(setImmutably(value,['spacing','padding'],padding));};const hasPaddingValue=()=>!!value?.spacing?.padding&&Object.keys(value?.spacing?.padding).length;const resetPaddingValue=()=>setPaddingValues(undefined);const onMouseOverPadding=()=>onVisualize('padding');const showMarginControl=useHasMargin(settings);const rawMargin=decodeValue(inheritedValue?.spacing?.margin);const marginValues=splitStyleValue(rawMargin);const marginSides=Array.isArray(settings?.spacing?.margin)?settings?.spacing?.margin:settings?.spacing?.margin?.sides;const isAxialMargin=marginSides&&marginSides.some(side=>AXIAL_SIDES.includes(side));const setMarginValues=newMarginValues=>{const margin=filterValuesBySides(newMarginValues,marginSides);onChange(setImmutably(value,['spacing','margin'],margin));};const hasMarginValue=()=>!!value?.spacing?.margin&&Object.keys(value?.spacing?.margin).length;const resetMarginValue=()=>setMarginValues(undefined);const onMouseOverMargin=()=>onVisualize('margin');const showGapControl=useHasGap(settings);const gapSides=Array.isArray(settings?.spacing?.blockGap)?settings?.spacing?.blockGap:settings?.spacing?.blockGap?.sides;const isAxialGap=gapSides&&gapSides.some(side=>AXIAL_SIDES.includes(side));const gapValue=decodeValue(inheritedValue?.spacing?.blockGap);const gapValues=splitGapValue(gapValue,isAxialGap);const setGapValue=newGapValue=>{onChange(setImmutably(value,['spacing','blockGap'],newGapValue));};const setGapValues=nextBoxGapValue=>{if(!nextBoxGapValue){setGapValue(null);}
if(!isAxialGap&&nextBoxGapValue?.hasOwnProperty('top')){setGapValue(nextBoxGapValue.top);}else{setGapValue({top:nextBoxGapValue?.top,left:nextBoxGapValue?.left});}};const resetGapValue=()=>setGapValue(undefined);const hasGapValue=()=>!!value?.spacing?.blockGap;const showMinHeightControl=useHasMinHeight(settings);const minHeightValue=decodeValue(inheritedValue?.dimensions?.minHeight);const setMinHeightValue=newValue=>{const tempValue=setImmutably(value,['dimensions','minHeight'],newValue);onChange(setImmutably(tempValue,['dimensions','aspectRatio'],undefined));};const resetMinHeightValue=()=>{setMinHeightValue(undefined);};const hasMinHeightValue=()=>!!value?.dimensions?.minHeight;const showAspectRatioControl=useHasAspectRatio(settings);const aspectRatioValue=decodeValue(inheritedValue?.dimensions?.aspectRatio);const setAspectRatioValue=newValue=>{const tempValue=setImmutably(value,['dimensions','aspectRatio'],newValue);onChange(setImmutably(tempValue,['dimensions','minHeight'],undefined));};const hasAspectRatioValue=()=>!!value?.dimensions?.aspectRatio;const showChildLayoutControl=useHasChildLayout(settings);const childLayout=inheritedValue?.layout;const setChildLayout=newChildLayout=>{onChange({...value,layout:{...newChildLayout}});};const resetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(previousValue=>{return{...previousValue,layout:utils_cleanEmptyObject({...previousValue?.layout,contentSize:undefined,wideSize:undefined,selfStretch:undefined,flexSize:undefined,columnStart:undefined,rowStart:undefined,columnSpan:undefined,rowSpan:undefined}),spacing:{...previousValue?.spacing,padding:undefined,margin:undefined,blockGap:undefined},dimensions:{...previousValue?.dimensions,minHeight:undefined,aspectRatio:undefined}};},[]);const onMouseLeaveControls=()=>onVisualize(false);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId,children:[(showContentSizeControl||showWideSizeControl)&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"span-columns",children:(0,external_wp_i18n_namespaceObject.__)('Set the width of the main content area.')}),showContentSizeControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Content width'),hasValue:hasUserSetContentSizeValue,onDeselect:resetContentSizeValue,isShownByDefault:(_defaultControls$cont=defaultControls.contentSize)!==null&&_defaultControls$cont!==void 0?_defaultControls$cont:dimensions_panel_DEFAULT_CONTROLS.contentSize,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Content width'),labelPosition:"top",value:contentSizeValue||'',onChange:nextContentSize=>{setContentSizeValue(nextContentSize);},units:units,prefix:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:align_none})})})}),showWideSizeControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Wide width'),hasValue:hasUserSetWideSizeValue,onDeselect:resetWideSizeValue,isShownByDefault:(_defaultControls$wide=defaultControls.wideSize)!==null&&_defaultControls$wide!==void 0?_defaultControls$wide:dimensions_panel_DEFAULT_CONTROLS.wideSize,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Wide width'),labelPosition:"top",value:wideSizeValue||'',onChange:nextWideSize=>{setWideSizeValue(nextWideSize);},units:units,prefix:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:stretch_wide})})})}),showPaddingControl&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:hasPaddingValue,label:(0,external_wp_i18n_namespaceObject.__)('Padding'),onDeselect:resetPaddingValue,isShownByDefault:(_defaultControls$padd=defaultControls.padding)!==null&&_defaultControls$padd!==void 0?_defaultControls$padd:dimensions_panel_DEFAULT_CONTROLS.padding,className:dist_clsx({'tools-panel-item-spacing':showSpacingPresetsControl}),panelId:panelId,children:[!showSpacingPresetsControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BoxControl,{__next40pxDefaultSize:true,values:paddingValues,onChange:setPaddingValues,label:(0,external_wp_i18n_namespaceObject.__)('Padding'),sides:paddingSides,units:units,allowReset:false,splitOnAxis:isAxialPadding,inputProps:{onMouseOver:onMouseOverPadding,onMouseOut:onMouseLeaveControls}}),showSpacingPresetsControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingSizesControl,{values:paddingValues,onChange:setPaddingValues,label:(0,external_wp_i18n_namespaceObject.__)('Padding'),sides:paddingSides,units:units,allowReset:false,onMouseOver:onMouseOverPadding,onMouseOut:onMouseLeaveControls})]}),showMarginControl&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:hasMarginValue,label:(0,external_wp_i18n_namespaceObject.__)('Margin'),onDeselect:resetMarginValue,isShownByDefault:(_defaultControls$marg=defaultControls.margin)!==null&&_defaultControls$marg!==void 0?_defaultControls$marg:dimensions_panel_DEFAULT_CONTROLS.margin,className:dist_clsx({'tools-panel-item-spacing':showSpacingPresetsControl}),panelId:panelId,children:[!showSpacingPresetsControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BoxControl,{__next40pxDefaultSize:true,values:marginValues,onChange:setMarginValues,inputProps:{min:minMarginValue,onDragStart:()=>{setMinMarginValue(0);},onDragEnd:()=>{setMinMarginValue(minimumMargin);},onMouseOver:onMouseOverMargin,onMouseOut:onMouseLeaveControls},label:(0,external_wp_i18n_namespaceObject.__)('Margin'),sides:marginSides,units:units,allowReset:false,splitOnAxis:isAxialMargin}),showSpacingPresetsControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingSizesControl,{values:marginValues,onChange:setMarginValues,minimumCustomValue:-Infinity,label:(0,external_wp_i18n_namespaceObject.__)('Margin'),sides:marginSides,units:units,allowReset:false,onMouseOver:onMouseOverMargin,onMouseOut:onMouseLeaveControls})]}),showGapControl&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:hasGapValue,label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),onDeselect:resetGapValue,isShownByDefault:(_defaultControls$bloc=defaultControls.blockGap)!==null&&_defaultControls$bloc!==void 0?_defaultControls$bloc:dimensions_panel_DEFAULT_CONTROLS.blockGap,className:dist_clsx({'tools-panel-item-spacing':showSpacingPresetsControl,'single-column':!showSpacingPresetsControl&&!isAxialGap}),panelId:panelId,children:[!showSpacingPresetsControl&&(isAxialGap?(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BoxControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),min:0,onChange:setGapValues,units:units,sides:gapSides,values:gapValues,allowReset:false,splitOnAxis:isAxialGap}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),min:0,onChange:setGapValue,units:units,value:gapValue})),showSpacingPresetsControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingSizesControl,{label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),min:0,onChange:setGapValues,showSideInLabel:false,sides:isAxialGap?gapSides:['top'],values:gapValues,allowReset:false})]}),showChildLayoutControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ChildLayoutControl,{value:childLayout,onChange:setChildLayout,parentLayout:settings?.parentLayout,panelId:panelId,isShownByDefault:(_defaultControls$chil=defaultControls.childLayout)!==null&&_defaultControls$chil!==void 0?_defaultControls$chil:dimensions_panel_DEFAULT_CONTROLS.childLayout}),showMinHeightControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:hasMinHeightValue,label:(0,external_wp_i18n_namespaceObject.__)('Minimum height'),onDeselect:resetMinHeightValue,isShownByDefault:(_defaultControls$minH=defaultControls.minHeight)!==null&&_defaultControls$minH!==void 0?_defaultControls$minH:dimensions_panel_DEFAULT_CONTROLS.minHeight,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(HeightControl,{label:(0,external_wp_i18n_namespaceObject.__)('Minimum height'),value:minHeightValue,onChange:setMinHeightValue})}),showAspectRatioControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(AspectRatioTool,{hasValue:hasAspectRatioValue,value:aspectRatioValue,onChange:setAspectRatioValue,panelId:panelId,isShownByDefault:(_defaultControls$aspe=defaultControls.aspectRatio)!==null&&_defaultControls$aspe!==void 0?_defaultControls$aspe:dimensions_panel_DEFAULT_CONTROLS.aspectRatio})]});};const scrollContainerCache=new WeakMap();function usePopoverScroll(contentRef){const effect=(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onWheel(event){const{deltaX,deltaY}=event;const contentEl=contentRef.current;let scrollContainer=scrollContainerCache.get(contentEl);if(!scrollContainer){scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(contentEl);scrollContainerCache.set(contentEl,scrollContainer);}
scrollContainer.scrollBy(deltaX,deltaY);}
const options={passive:true};node.addEventListener('wheel',onWheel,options);return()=>{node.removeEventListener('wheel',onWheel,options);};},[contentRef]);return contentRef?effect:null;}
const use_popover_scroll=(usePopoverScroll);;const BLOCK_SELECTOR='.block-editor-block-list__block';const APPENDER_SELECTOR='.block-list-appender';const BLOCK_APPENDER_CLASS='.block-editor-button-block-appender';function isInSameBlock(a,b){return a.closest(BLOCK_SELECTOR)===b.closest(BLOCK_SELECTOR);}
function isInsideRootBlock(blockElement,element){const parentBlock=element.closest([BLOCK_SELECTOR,APPENDER_SELECTOR,BLOCK_APPENDER_CLASS].join(','));return parentBlock===blockElement;}
function getBlockClientId(node){while(node&&node.nodeType!==node.ELEMENT_NODE){node=node.parentNode;}
if(!node){return;}
const elementNode=node;const blockNode=elementNode.closest(BLOCK_SELECTOR);if(!blockNode){return;}
return blockNode.id.slice('block-'.length);}
function rectUnion(rect1,rect2){const left=Math.min(rect1.left,rect2.left);const right=Math.max(rect1.right,rect2.right);const bottom=Math.max(rect1.bottom,rect2.bottom);const top=Math.min(rect1.top,rect2.top);return new window.DOMRectReadOnly(left,top,right-left,bottom-top);}
function isElementVisible(element){const viewport=element.ownerDocument.defaultView;if(!viewport){return false;}
if(element.classList.contains('components-visually-hidden')){return false;}
const bounds=element.getBoundingClientRect();if(bounds.width===0||bounds.height===0){return false;}
if(element.checkVisibility){return element.checkVisibility?.({opacityProperty:true,contentVisibilityAuto:true,visibilityProperty:true});}
const style=viewport.getComputedStyle(element);if(style.display==='none'||style.visibility==='hidden'||style.opacity==='0'){return false;}
return true;}
function isScrollable(element){const style=window.getComputedStyle(element);return style.overflowX==='auto'||style.overflowX==='scroll'||style.overflowY==='auto'||style.overflowY==='scroll';}
const WITH_OVERFLOW_ELEMENT_BLOCKS=['core/navigation'];function getElementBounds(element){const viewport=element.ownerDocument.defaultView;if(!viewport){return new window.DOMRectReadOnly();}
let bounds=element.getBoundingClientRect();const dataType=element.getAttribute('data-type');if(dataType&&WITH_OVERFLOW_ELEMENT_BLOCKS.includes(dataType)){const stack=[element];let currentElement;while(currentElement=stack.pop()){if(!isScrollable(currentElement)){for(const child of currentElement.children){if(isElementVisible(child)){const childBounds=child.getBoundingClientRect();bounds=rectUnion(bounds,childBounds);stack.push(child);}}}}}
const left=Math.max(bounds.left,0);const right=Math.min(bounds.right,viewport.innerWidth);bounds=new window.DOMRectReadOnly(left,bounds.top,right-left,bounds.height);return bounds;};const MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;function BlockPopover({clientId,bottomClientId,children,__unstablePopoverSlot,__unstableContentRef,shift=true,...props},ref){const selectedElement=useBlockElement(clientId);const lastSelectedElement=useBlockElement(bottomClientId!==null&&bottomClientId!==void 0?bottomClientId:clientId);const mergedRefs=(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,use_popover_scroll(__unstableContentRef)]);const[popoverDimensionsRecomputeCounter,forceRecomputePopoverDimensions]=(0,external_wp_element_namespaceObject.useReducer)(s=>(s+1)%MAX_POPOVER_RECOMPUTE_COUNTER,0);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!selectedElement){return;}
const observer=new window.MutationObserver(forceRecomputePopoverDimensions);observer.observe(selectedElement,{attributes:true});return()=>{observer.disconnect();};},[selectedElement]);const popoverAnchor=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(popoverDimensionsRecomputeCounter<0||!selectedElement||bottomClientId&&!lastSelectedElement){return undefined;}
return{getBoundingClientRect(){return lastSelectedElement?rectUnion(getElementBounds(selectedElement),getElementBounds(lastSelectedElement)):getElementBounds(selectedElement);},contextElement:selectedElement};},[popoverDimensionsRecomputeCounter,selectedElement,bottomClientId,lastSelectedElement]);if(!selectedElement||bottomClientId&&!lastSelectedElement){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{ref:mergedRefs,animate:false,focusOnMount:false,anchor:popoverAnchor,__unstableSlotName:__unstablePopoverSlot,inline:!__unstablePopoverSlot,placement:"top-start",resize:false,flip:false,shift:shift,...props,className:dist_clsx('block-editor-block-popover',props.className),variant:"unstyled",children:children});}
const PrivateBlockPopover=(0,external_wp_element_namespaceObject.forwardRef)(BlockPopover);const PublicBlockPopover=({clientId,bottomClientId,children,...props},ref)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateBlockPopover,{...props,bottomClientId:bottomClientId,clientId:clientId,__unstableContentRef:undefined,__unstablePopoverSlot:undefined,ref:ref,children:children});const block_popover=((0,external_wp_element_namespaceObject.forwardRef)(PublicBlockPopover));;function BlockPopoverCover({clientId,bottomClientId,children,shift=false,additionalStyles,...props},ref){var _bottomClientId;(_bottomClientId=bottomClientId)!==null&&_bottomClientId!==void 0?_bottomClientId:bottomClientId=clientId;const selectedElement=useBlockElement(clientId);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateBlockPopover,{ref:ref,clientId:clientId,bottomClientId:bottomClientId,shift:shift,...props,children:selectedElement&&clientId===bottomClientId?(0,external_ReactJSXRuntime_namespaceObject.jsx)(CoverContainer,{selectedElement:selectedElement,additionalStyles:additionalStyles,children:children}):children});}
function CoverContainer({selectedElement,additionalStyles={},children}){const[width,setWidth]=(0,external_wp_element_namespaceObject.useState)(selectedElement.offsetWidth);const[height,setHeight]=(0,external_wp_element_namespaceObject.useState)(selectedElement.offsetHeight);(0,external_wp_element_namespaceObject.useEffect)(()=>{const observer=new window.ResizeObserver(()=>{setWidth(selectedElement.offsetWidth);setHeight(selectedElement.offsetHeight);});observer.observe(selectedElement,{box:'border-box'});return()=>observer.disconnect();},[selectedElement]);const style=(0,external_wp_element_namespaceObject.useMemo)(()=>{return{position:'absolute',width,height,...additionalStyles};},[width,height,additionalStyles]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{style:style,children:children});}
const cover=((0,external_wp_element_namespaceObject.forwardRef)(BlockPopoverCover));;function SpacingVisualizer({clientId,value,computeStyle,forceShow}){const blockElement=useBlockElement(clientId);const[style,updateStyle]=(0,external_wp_element_namespaceObject.useReducer)(()=>computeStyle(blockElement));(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!blockElement){return;}
window.requestAnimationFrame(()=>window.requestAnimationFrame(updateStyle));},[blockElement,value]);const previousValueRef=(0,external_wp_element_namespaceObject.useRef)(value);const[isActive,setIsActive]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(external_wp_isShallowEqual_default()(value,previousValueRef.current)||forceShow){return;}
setIsActive(true);previousValueRef.current=value;const timeout=setTimeout(()=>{setIsActive(false);},400);return()=>{setIsActive(false);clearTimeout(timeout);};},[value,forceShow]);if(!isActive&&!forceShow){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(cover,{clientId:clientId,__unstablePopoverSlot:"block-toolbar",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor__spacing-visualizer",style:style})});}
function getComputedCSS(element,property){return element.ownerDocument.defaultView.getComputedStyle(element).getPropertyValue(property);}
function MarginVisualizer({clientId,value,forceShow}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingVisualizer,{clientId:clientId,value:value?.spacing?.margin,computeStyle:blockElement=>{const top=getComputedCSS(blockElement,'margin-top');const right=getComputedCSS(blockElement,'margin-right');const bottom=getComputedCSS(blockElement,'margin-bottom');const left=getComputedCSS(blockElement,'margin-left');return{borderTopWidth:top,borderRightWidth:right,borderBottomWidth:bottom,borderLeftWidth:left,top:top?`-${top}`:0,right:right?`-${right}`:0,bottom:bottom?`-${bottom}`:0,left:left?`-${left}`:0};},forceShow:forceShow});}
function PaddingVisualizer({clientId,value,forceShow}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(SpacingVisualizer,{clientId:clientId,value:value?.spacing?.padding,computeStyle:blockElement=>({borderTopWidth:getComputedCSS(blockElement,'padding-top'),borderRightWidth:getComputedCSS(blockElement,'padding-right'),borderBottomWidth:getComputedCSS(blockElement,'padding-bottom'),borderLeftWidth:getComputedCSS(blockElement,'padding-left')}),forceShow:forceShow});};const DIMENSIONS_SUPPORT_KEY='dimensions';const SPACING_SUPPORT_KEY='spacing';const dimensions_ALL_SIDES=(null&&(['top','right','bottom','left']));const dimensions_AXIAL_SIDES=(null&&(['vertical','horizontal']));function useVisualizer(){const[property,setProperty]=(0,external_wp_element_namespaceObject.useState)(false);const{hideBlockInterface,showBlockInterface}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!property){showBlockInterface();}else{hideBlockInterface();}},[property,showBlockInterface,hideBlockInterface]);return[property,setProperty];}
function DimensionsInspectorControl({children,resetAllFilter}){const attributesResetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(attributes=>{const existingStyle=attributes.style;const updatedStyle=resetAllFilter(existingStyle);return{...attributes,style:updatedStyle};},[resetAllFilter]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"dimensions",resetAllFilter:attributesResetAllFilter,children:children});}
function dimensions_DimensionsPanel({clientId,name,setAttributes,settings}){const isEnabled=useHasDimensionsPanel(settings);const value=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlockAttributes(clientId)?.style,[clientId]);const[visualizedProperty,setVisualizedProperty]=useVisualizer();const onChange=newStyle=>{setAttributes({style:utils_cleanEmptyObject(newStyle)});};if(!isEnabled){return null;}
const defaultDimensionsControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[DIMENSIONS_SUPPORT_KEY,'__experimentalDefaultControls']);const defaultSpacingControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,[SPACING_SUPPORT_KEY,'__experimentalDefaultControls']);const defaultControls={...defaultDimensionsControls,...defaultSpacingControls};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(DimensionsPanel,{as:DimensionsInspectorControl,panelId:clientId,settings:settings,value:value,onChange:onChange,defaultControls:defaultControls,onVisualize:setVisualizedProperty}),!!settings?.spacing?.padding&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(PaddingVisualizer,{forceShow:visualizedProperty==='padding',clientId:clientId,value:value}),!!settings?.spacing?.margin&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(MarginVisualizer,{forceShow:visualizedProperty==='margin',clientId:clientId,value:value})]});}
function hasDimensionsSupport(blockName,feature='any'){if(external_wp_element_namespaceObject.Platform.OS!=='web'){return false;}
const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,DIMENSIONS_SUPPORT_KEY);if(support===true){return true;}
if(feature==='any'){return!!(support?.aspectRatio||!!support?.minHeight);}
return!!support?.[feature];}
const dimensions=({useBlockProps:dimensions_useBlockProps,attributeKeys:['minHeight','style'],hasSupport(name){return hasDimensionsSupport(name,'aspectRatio');}});function dimensions_useBlockProps({name,minHeight,style}){if(!hasDimensionsSupport(name,'aspectRatio')||shouldSkipSerialization(name,DIMENSIONS_SUPPORT_KEY,'aspectRatio')){return{};}
const className=dist_clsx({'has-aspect-ratio':!!style?.dimensions?.aspectRatio});const inlineStyleOverrides={};if(style?.dimensions?.aspectRatio){inlineStyleOverrides.minHeight='unset';}else if(minHeight||style?.dimensions?.minHeight){inlineStyleOverrides.aspectRatio='unset';}
return{className,style:inlineStyleOverrides};}
function useCustomSides(){external_wp_deprecated_default()('wp.blockEditor.__experimentalUseCustomSides',{since:'6.3',version:'6.4'});};const styleSupportKeys=[...TYPOGRAPHY_SUPPORT_KEYS,BORDER_SUPPORT_KEY,COLOR_SUPPORT_KEY,DIMENSIONS_SUPPORT_KEY,BACKGROUND_SUPPORT_KEY,SPACING_SUPPORT_KEY,SHADOW_SUPPORT_KEY];const hasStyleSupport=nameOrType=>styleSupportKeys.some(key=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,key));function getInlineStyles(styles={}){const output={};(0,external_wp_styleEngine_namespaceObject.getCSSRules)(styles).forEach(rule=>{output[rule.key]=rule.value;});return output;}
function style_addAttribute(settings){if(!hasStyleSupport(settings)){return settings;}
if(!settings.attributes.style){Object.assign(settings.attributes,{style:{type:'object'}});}
return settings;}
const skipSerializationPathsEdit={[`${BORDER_SUPPORT_KEY}.__experimentalSkipSerialization`]:['border'],[`${COLOR_SUPPORT_KEY}.__experimentalSkipSerialization`]:[COLOR_SUPPORT_KEY],[`${TYPOGRAPHY_SUPPORT_KEY}.__experimentalSkipSerialization`]:[TYPOGRAPHY_SUPPORT_KEY],[`${DIMENSIONS_SUPPORT_KEY}.__experimentalSkipSerialization`]:[DIMENSIONS_SUPPORT_KEY],[`${SPACING_SUPPORT_KEY}.__experimentalSkipSerialization`]:[SPACING_SUPPORT_KEY],[`${SHADOW_SUPPORT_KEY}.__experimentalSkipSerialization`]:[SHADOW_SUPPORT_KEY]};const skipSerializationPathsSave={...skipSerializationPathsEdit,[`${DIMENSIONS_SUPPORT_KEY}.aspectRatio`]:[`${DIMENSIONS_SUPPORT_KEY}.aspectRatio`],[`${BACKGROUND_SUPPORT_KEY}`]:[BACKGROUND_SUPPORT_KEY]};const skipSerializationPathsSaveChecks={[`${DIMENSIONS_SUPPORT_KEY}.aspectRatio`]:true,[`${BACKGROUND_SUPPORT_KEY}`]:true};const renamedFeatures={gradients:'gradient'};function omitStyle(style,paths,preserveReference=false){if(!style){return style;}
let newStyle=style;if(!preserveReference){newStyle=JSON.parse(JSON.stringify(style));}
if(!Array.isArray(paths)){paths=[paths];}
paths.forEach(path=>{if(!Array.isArray(path)){path=path.split('.');}
if(path.length>1){const[firstSubpath,...restPath]=path;omitStyle(newStyle[firstSubpath],[restPath],true);}else if(path.length===1){delete newStyle[path[0]];}});return newStyle;}
function style_addSaveProps(props,blockNameOrType,attributes,skipPaths=skipSerializationPathsSave){if(!hasStyleSupport(blockNameOrType)){return props;}
let{style}=attributes;Object.entries(skipPaths).forEach(([indicator,path])=>{const skipSerialization=skipSerializationPathsSaveChecks[indicator]||(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockNameOrType,indicator);if(skipSerialization===true){style=omitStyle(style,path);}
if(Array.isArray(skipSerialization)){skipSerialization.forEach(featureName=>{const feature=renamedFeatures[featureName]||featureName;style=omitStyle(style,[[...path,feature]]);});}});props.style={...getInlineStyles(style),...props.style};return props;}
function BlockStyleControls({clientId,name,setAttributes,__unstableParentLayout}){const settings=useBlockSettings(name,__unstableParentLayout);const blockEditingMode=useBlockEditingMode();const passedProps={clientId,name,setAttributes,settings:{...settings,typography:{...settings.typography,textAlign:false}}};if(blockEditingMode!=='default'){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorEdit,{...passedProps}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(background_BackgroundImagePanel,{...passedProps}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(typography_TypographyPanel,{...passedProps}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(border_BorderPanel,{...passedProps}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(dimensions_DimensionsPanel,{...passedProps})]});}
const style=({edit:BlockStyleControls,hasSupport:hasStyleSupport,addSaveProps:style_addSaveProps,attributeKeys:['style'],useBlockProps:style_useBlockProps});const elementTypes=[{elementType:'button'},{elementType:'link',pseudo:[':hover']},{elementType:'heading',elements:['h1','h2','h3','h4','h5','h6']}];const STYLE_BLOCK_PROPS_REFERENCE={};function style_useBlockProps({name,style}){const blockElementsContainerIdentifier=(0,external_wp_compose_namespaceObject.useInstanceId)(STYLE_BLOCK_PROPS_REFERENCE,'wp-elements');const baseElementSelector=`.${blockElementsContainerIdentifier}`;const blockElementStyles=style?.elements;const styles=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!blockElementStyles){return;}
const elementCSSRules=[];elementTypes.forEach(({elementType,pseudo,elements})=>{const skipSerialization=shouldSkipSerialization(name,COLOR_SUPPORT_KEY,elementType);if(skipSerialization){return;}
const elementStyles=blockElementStyles?.[elementType];if(elementStyles){const selector=scopeSelector(baseElementSelector,external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[elementType]);elementCSSRules.push((0,external_wp_styleEngine_namespaceObject.compileCSS)(elementStyles,{selector}));if(pseudo){pseudo.forEach(pseudoSelector=>{if(elementStyles[pseudoSelector]){elementCSSRules.push((0,external_wp_styleEngine_namespaceObject.compileCSS)(elementStyles[pseudoSelector],{selector:scopeSelector(baseElementSelector,`${external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[elementType]}${pseudoSelector}`)}));}});}}
if(elements){elements.forEach(element=>{if(blockElementStyles[element]){elementCSSRules.push((0,external_wp_styleEngine_namespaceObject.compileCSS)(blockElementStyles[element],{selector:scopeSelector(baseElementSelector,external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[element])}));}});}});return elementCSSRules.length>0?elementCSSRules.join(''):undefined;},[baseElementSelector,blockElementStyles,name]);useStyleOverride({css:styles});return style_addSaveProps({className:blockElementsContainerIdentifier},name,{style},skipSerializationPathsEdit);}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/style/addAttribute',style_addAttribute);;const hasSettingsSupport=blockType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'__experimentalSettings',false);function settings_addAttribute(settings){if(!hasSettingsSupport(settings)){return settings;}
if(!settings?.attributes?.settings){settings.attributes={...settings.attributes,settings:{type:'object'}};}
return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/settings/addAttribute',settings_addAttribute);;const filter=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M12 4 4 19h16L12 4zm0 3.2 5.5 10.3H12V7.2z"})});const library_filter=(filter);;function DuotoneControl({id:idProp,colorPalette,duotonePalette,disableCustomColors,disableCustomDuotone,value,onChange}){let toolbarIcon;if(value==='unset'){toolbarIcon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ColorIndicator,{className:"block-editor-duotone-control__unset-indicator"});}else if(value){toolbarIcon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DuotoneSwatch,{values:value});}else{toolbarIcon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:library_filter});}
const actionLabel=(0,external_wp_i18n_namespaceObject.__)('Apply duotone filter');const id=(0,external_wp_compose_namespaceObject.useInstanceId)(DuotoneControl,'duotone-control',idProp);const descriptionId=`${id}__description`;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:{className:'block-editor-duotone-control__popover',headerTitle:(0,external_wp_i18n_namespaceObject.__)('Duotone')},renderToggle:({isOpen,onToggle})=>{const openOnArrowDown=event=>{if(!isOpen&&event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();onToggle();}};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{showTooltip:true,onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:openOnArrowDown,label:actionLabel,icon:toolbarIcon});},renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Duotone'),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:(0,external_wp_i18n_namespaceObject.__)('Create a two-tone color effect without losing your original image.')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DuotonePicker,{"aria-label":actionLabel,"aria-describedby":descriptionId,colorPalette:colorPalette,duotonePalette:duotonePalette,disableCustomColors:disableCustomColors,disableCustomDuotone:disableCustomDuotone,value:value,onChange:onChange})]})});}
const duotone_control=(DuotoneControl);;function getValuesFromColors(colors=[]){const values={r:[],g:[],b:[],a:[]};colors.forEach(color=>{const rgbColor=w(color).toRgb();values.r.push(rgbColor.r / 255);values.g.push(rgbColor.g / 255);values.b.push(rgbColor.b / 255);values.a.push(rgbColor.a);});return values;}
function getDuotoneUnsetStylesheet(selector){return`${selector}{filter:none}`;}
function getDuotoneStylesheet(selector,id){return`${selector}{filter:url(#${id})}`;}
function getDuotoneFilter(id,colors){const values=getValuesFromColors(colors);return`
<svg
 xmlns:xlink="http://www.w3.org/1999/xlink"
 viewBox="0 0 0 0"
 width="0"
 height="0"
 focusable="false"
 role="none"
 aria-hidden="true"
 style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"
>
 <defs>
  <filter id="${id}">
   <!--
    Use sRGB instead of linearRGB so transparency looks correct.
    Use perceptual brightness to convert to grayscale.
   -->
   <feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix>
   <!-- Use sRGB instead of linearRGB to be consistent with how CSS gradients work. -->
   <feComponentTransfer color-interpolation-filters="sRGB">
    <feFuncR type="table" tableValues="${values.r.join(' ')}"></feFuncR>
    <feFuncG type="table" tableValues="${values.g.join(' ')}"></feFuncG>
    <feFuncB type="table" tableValues="${values.b.join(' ')}"></feFuncB>
    <feFuncA type="table" tableValues="${values.a.join(' ')}"></feFuncA>
   </feComponentTransfer>
   <!-- Re-mask the image with the original transparency since the feColorMatrix above loses that information. -->
   <feComposite in2="SourceGraphic" operator="in"></feComposite>
  </filter>
 </defs>
</svg>`;};function getBlockCSSSelector(blockType,target='root',options={}){if(!target){return null;}
const{fallback=false}=options;const{name,selectors,supports}=blockType;const hasSelectors=selectors&&Object.keys(selectors).length>0;const path=Array.isArray(target)?target.join('.'):target;let rootSelector=null;if(hasSelectors&&selectors.root){rootSelector=selectors?.root;}else if(supports?.__experimentalSelector){rootSelector=supports.__experimentalSelector;}else{rootSelector='.wp-block-'+name.replace('core/','').replace('/','-');}
if(path==='root'){return rootSelector;}
const pathArray=Array.isArray(target)?target:target.split('.');if(pathArray.length===1){const fallbackSelector=fallback?rootSelector:null;if(hasSelectors){const featureSelector=getValueFromObjectPath(selectors,`${path}.root`,null)||getValueFromObjectPath(selectors,path,null);return featureSelector||fallbackSelector;}
const featureSelector=getValueFromObjectPath(supports,`${path}.__experimentalSelector`,null);if(!featureSelector){return fallbackSelector;}
return scopeSelector(rootSelector,featureSelector);}
let subfeatureSelector;if(hasSelectors){subfeatureSelector=getValueFromObjectPath(selectors,path,null);}
if(subfeatureSelector){return subfeatureSelector;}
if(fallback){return getBlockCSSSelector(blockType,pathArray[0],options);}
return null;};const filters_panel_EMPTY_ARRAY=[];function useMultiOriginColorPresets(settings,{presetSetting,defaultSetting}){const disableDefault=!settings?.color?.[defaultSetting];const userPresets=settings?.color?.[presetSetting]?.custom||filters_panel_EMPTY_ARRAY;const themePresets=settings?.color?.[presetSetting]?.theme||filters_panel_EMPTY_ARRAY;const defaultPresets=settings?.color?.[presetSetting]?.default||filters_panel_EMPTY_ARRAY;return(0,external_wp_element_namespaceObject.useMemo)(()=>[...userPresets,...themePresets,...(disableDefault?filters_panel_EMPTY_ARRAY:defaultPresets)],[disableDefault,userPresets,themePresets,defaultPresets]);}
function useHasFiltersPanel(settings){return useHasDuotoneControl(settings);}
function useHasDuotoneControl(settings){return settings.color.customDuotone||settings.color.defaultDuotone||settings.color.duotone.length>0;}
function FiltersToolsPanel({resetAllFilter,onChange,value,panelId,children}){const dropdownMenuProps=useToolsPanelDropdownMenuProps();const resetAll=()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:(0,external_wp_i18n_namespaceObject._x)('Filters','Name for applying graphical effects'),resetAll:resetAll,panelId:panelId,dropdownMenuProps:dropdownMenuProps,children:children});}
const filters_panel_DEFAULT_CONTROLS={duotone:true};const filters_panel_popoverProps={placement:'left-start',offset:36,shift:true,className:'block-editor-duotone-control__popover',headerTitle:(0,external_wp_i18n_namespaceObject.__)('Duotone')};const LabeledColorIndicator=({indicator,label})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalZStack,{isLayered:false,offset:-8,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Flex,{expanded:false,children:indicator==='unset'||!indicator?(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ColorIndicator,{className:"block-editor-duotone-control__unset-indicator"}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DuotoneSwatch,{values:indicator})})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{title:label,children:label})]});const renderToggle=(duotone,resetDuotone)=>({onToggle,isOpen})=>{const duotoneButtonRef=(0,external_wp_element_namespaceObject.useRef)(undefined);const toggleProps={onClick:onToggle,className:dist_clsx({'is-open':isOpen}),'aria-expanded':isOpen,ref:duotoneButtonRef};const removeButtonProps={onClick:()=>{if(isOpen){onToggle();}
resetDuotone();duotoneButtonRef.current?.focus();},className:'block-editor-panel-duotone-settings__reset',label:(0,external_wp_i18n_namespaceObject.__)('Reset')};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,...toggleProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(LabeledColorIndicator,{indicator:duotone,label:(0,external_wp_i18n_namespaceObject.__)('Duotone')})}),duotone&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"small",icon:library_reset,...removeButtonProps})]});};function FiltersPanel({as:Wrapper=FiltersToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=filters_panel_DEFAULT_CONTROLS}){const decodeValue=rawValue=>getValueFromVariable({settings},'',rawValue);const hasDuotoneEnabled=useHasDuotoneControl(settings);const duotonePalette=useMultiOriginColorPresets(settings,{presetSetting:'duotone',defaultSetting:'defaultDuotone'});const colorPalette=useMultiOriginColorPresets(settings,{presetSetting:'palette',defaultSetting:'defaultPalette'});const duotone=decodeValue(inheritedValue?.filter?.duotone);const setDuotone=newValue=>{const duotonePreset=duotonePalette.find(({colors})=>{return colors===newValue;});const duotoneValue=duotonePreset?`var:preset|duotone|${duotonePreset.slug}`:newValue;onChange(setImmutably(value,['filter','duotone'],duotoneValue));};const hasDuotone=()=>!!value?.filter?.duotone;const resetDuotone=()=>setDuotone(undefined);const resetAllFilter=(0,external_wp_element_namespaceObject.useCallback)(previousValue=>{return{...previousValue,filter:{...previousValue.filter,duotone:undefined}};},[]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId,children:hasDuotoneEnabled&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Duotone'),hasValue:hasDuotone,onDeselect:resetDuotone,isShownByDefault:defaultControls.duotone,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:filters_panel_popoverProps,className:"block-editor-global-styles-filters-panel__dropdown",renderToggle:renderToggle(duotone,resetDuotone),renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{paddingSize:"small",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Duotone'),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:(0,external_wp_i18n_namespaceObject.__)('Create a two-tone color effect without losing your original image.')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DuotonePicker,{colorPalette:colorPalette,duotonePalette:duotonePalette,disableCustomColors:true,disableCustomDuotone:true,value:duotone,onChange:setDuotone})]})})})})});};const duotone_EMPTY_ARRAY=[];const isSafari=window?.navigator.userAgent&&window.navigator.userAgent.includes('Safari')&&!window.navigator.userAgent.includes('Chrome')&&!window.navigator.userAgent.includes('Chromium');k([names]);function useMultiOriginPresets({presetSetting,defaultSetting}){const[enableDefault,userPresets,themePresets,defaultPresets]=use_settings_useSettings(defaultSetting,`${presetSetting}.custom`,`${presetSetting}.theme`,`${presetSetting}.default`);return(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPresets||duotone_EMPTY_ARRAY),...(themePresets||duotone_EMPTY_ARRAY),...(enableDefault&&defaultPresets||duotone_EMPTY_ARRAY)],[enableDefault,userPresets,themePresets,defaultPresets]);}
function getColorsFromDuotonePreset(duotone,duotonePalette){if(!duotone){return;}
const preset=duotonePalette?.find(({slug})=>{return duotone===`var:preset|duotone|${slug}`;});return preset?preset.colors:undefined;}
function getDuotonePresetFromColors(colors,duotonePalette){if(!colors||!Array.isArray(colors)){return;}
const preset=duotonePalette?.find(duotonePreset=>{return duotonePreset?.colors?.every((val,index)=>val===colors[index]);});return preset?`var:preset|duotone|${preset.slug}`:undefined;}
function DuotonePanelPure({style,setAttributes,name}){const duotoneStyle=style?.color?.duotone;const settings=useBlockSettings(name);const blockEditingMode=useBlockEditingMode();const duotonePalette=useMultiOriginPresets({presetSetting:'color.duotone',defaultSetting:'color.defaultDuotone'});const colorPalette=useMultiOriginPresets({presetSetting:'color.palette',defaultSetting:'color.defaultPalette'});const[enableCustomColors,enableCustomDuotone]=use_settings_useSettings('color.custom','color.customDuotone');const disableCustomColors=!enableCustomColors;const disableCustomDuotone=!enableCustomDuotone||colorPalette?.length===0&&disableCustomColors;if(duotonePalette?.length===0&&disableCustomDuotone){return null;}
if(blockEditingMode!=='default'){return null;}
const duotonePresetOrColors=!Array.isArray(duotoneStyle)?getColorsFromDuotonePreset(duotoneStyle,duotonePalette):duotoneStyle;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"filter",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(FiltersPanel,{value:{filter:{duotone:duotonePresetOrColors}},onChange:newDuotone=>{const newStyle={...style,color:{...newDuotone?.filter}};setAttributes({style:newStyle});},settings:settings})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls,{group:"block",__experimentalShareWithChildBlocks:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(duotone_control,{duotonePalette:duotonePalette,colorPalette:colorPalette,disableCustomDuotone:disableCustomDuotone,disableCustomColors:disableCustomColors,value:duotonePresetOrColors,onChange:newDuotone=>{const maybePreset=getDuotonePresetFromColors(newDuotone,duotonePalette);const newStyle={...style,color:{...style?.color,duotone:maybePreset!==null&&maybePreset!==void 0?maybePreset:newDuotone}};setAttributes({style:newStyle});},settings:settings})})]});}
const duotone=({shareWithChildBlocks:true,edit:DuotonePanelPure,useBlockProps:duotone_useBlockProps,attributeKeys:['style'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'filter.duotone');}});function addDuotoneAttributes(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'filter.duotone')){return settings;}
if(!settings.attributes.style){Object.assign(settings.attributes,{style:{type:'object'}});}
return settings;}
function useDuotoneStyles({clientId,id:filterId,selector:duotoneSelector,attribute:duotoneAttr}){const duotonePalette=useMultiOriginPresets({presetSetting:'color.duotone',defaultSetting:'color.defaultDuotone'});const isCustom=Array.isArray(duotoneAttr);const duotonePreset=isCustom?undefined:getColorsFromDuotonePreset(duotoneAttr,duotonePalette);const isPreset=typeof duotoneAttr==='string'&&duotonePreset;const isCSS=typeof duotoneAttr==='string'&&!isPreset;let colors=null;if(isPreset){colors=duotonePreset;}else if(isCSS){colors=duotoneAttr;}else if(isCustom){colors=duotoneAttr;}
const selectors=duotoneSelector.split(',');const selectorsScoped=selectors.map(selectorPart=>{return`.${filterId}${selectorPart.trim()}`;});const selector=selectorsScoped.join(', ');const isValidFilter=Array.isArray(colors)||colors==='unset';usePrivateStyleOverride(isValidFilter?{css:colors!=='unset'?getDuotoneStylesheet(selector,filterId):getDuotoneUnsetStylesheet(selector),__unstableType:'presets'}:undefined);usePrivateStyleOverride(isValidFilter?{assets:colors!=='unset'?getDuotoneFilter(filterId,colors):'',__unstableType:'svgs'}:undefined);const blockElement=useBlockElement(clientId);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isValidFilter){return;}
if(blockElement&&isSafari){const display=blockElement.style.display;blockElement.style.setProperty('display','inline-block');blockElement.offsetHeight;blockElement.style.setProperty('display',display);}},[isValidFilter,blockElement,colors]);}
const DUOTONE_BLOCK_PROPS_REFERENCE={};function duotone_useBlockProps({clientId,name,style}){const id=(0,external_wp_compose_namespaceObject.useInstanceId)(DUOTONE_BLOCK_PROPS_REFERENCE);const selector=(0,external_wp_element_namespaceObject.useMemo)(()=>{const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);if(blockType){const duotoneSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,'filter.duotone',false);if(!duotoneSupport){return null;}
const experimentalDuotone=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,'color.__experimentalDuotone',false);if(experimentalDuotone){const rootSelector=getBlockCSSSelector(blockType);return typeof experimentalDuotone==='string'?scopeSelector(rootSelector,experimentalDuotone):rootSelector;}
return getBlockCSSSelector(blockType,'filter.duotone',{fallback:true});}},[name]);const attribute=style?.color?.duotone;const filterClass=`wp-duotone-${id}`;const shouldRender=selector&&attribute;useDuotoneStyles({clientId,id:filterClass,selector,attribute});return{className:shouldRender?filterClass:''};}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/editor/duotone/add-attributes',addDuotoneAttributes);;function getPositionTypeLabel(attributes){const positionType=attributes?.style?.position?.type;if(positionType==='sticky'){return(0,external_wp_i18n_namespaceObject.__)('Sticky');}
if(positionType==='fixed'){return(0,external_wp_i18n_namespaceObject.__)('Fixed');}
return null;}
function useBlockDisplayInformation(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!clientId){return null;}
const{getBlockName,getBlockAttributes}=select(store);const{getBlockType,getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const blockName=getBlockName(clientId);const blockType=getBlockType(blockName);if(!blockType){return null;}
const attributes=getBlockAttributes(clientId);const match=getActiveBlockVariation(blockName,attributes);const isSynced=(0,external_wp_blocks_namespaceObject.isReusableBlock)(blockType)||(0,external_wp_blocks_namespaceObject.isTemplatePart)(blockType);const syncedTitle=isSynced?(0,external_wp_blocks_namespaceObject.__experimentalGetBlockLabel)(blockType,attributes):undefined;const title=syncedTitle||blockType.title;const positionLabel=getPositionTypeLabel(attributes);const blockTypeInfo={isSynced,title,icon:blockType.icon,description:blockType.description,anchor:attributes?.anchor,positionLabel,positionType:attributes?.style?.position?.type,name:attributes?.metadata?.name};if(!match){return blockTypeInfo;}
return{isSynced,title:match.title||blockType.title,icon:match.icon||blockType.icon,description:match.description||blockType.description,anchor:attributes?.anchor,positionLabel,positionType:attributes?.style?.position?.type,name:attributes?.metadata?.name};},[clientId]);};const POSITION_SUPPORT_KEY='position';const DEFAULT_OPTION={key:'default',value:'',name:(0,external_wp_i18n_namespaceObject.__)('Default')};const STICKY_OPTION={key:'sticky',value:'sticky',name:(0,external_wp_i18n_namespaceObject._x)('Sticky','Name for the value of the CSS position property'),hint:(0,external_wp_i18n_namespaceObject.__)('The block will stick to the top of the window instead of scrolling.')};const FIXED_OPTION={key:'fixed',value:'fixed',name:(0,external_wp_i18n_namespaceObject._x)('Fixed','Name for the value of the CSS position property'),hint:(0,external_wp_i18n_namespaceObject.__)('The block will not move when the page is scrolled.')};const POSITION_SIDES=['top','right','bottom','left'];const VALID_POSITION_TYPES=['sticky','fixed'];function getPositionCSS({selector,style}){let output='';const{type:positionType}=style?.position||{};if(!VALID_POSITION_TYPES.includes(positionType)){return output;}
output+=`${selector} {`;output+=`position: ${positionType};`;POSITION_SIDES.forEach(side=>{if(style?.position?.[side]!==undefined){output+=`${side}: ${style.position[side]};`;}});if(positionType==='sticky'||positionType==='fixed'){output+=`z-index: 10`;}
output+=`}`;return output;}
function hasStickyPositionSupport(blockType){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,POSITION_SUPPORT_KEY);return!!(true===support||support?.sticky);}
function hasFixedPositionSupport(blockType){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,POSITION_SUPPORT_KEY);return!!(true===support||support?.fixed);}
function hasPositionSupport(blockType){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,POSITION_SUPPORT_KEY);return!!support;}
function hasPositionValue(props){return props.attributes.style?.position?.type!==undefined;}
function hasStickyOrFixedPositionValue(attributes){const positionType=attributes?.style?.position?.type;return positionType==='sticky'||positionType==='fixed';}
function resetPosition({attributes={},setAttributes}){const{style={}}=attributes;setAttributes({style:cleanEmptyObject({...style,position:{...style?.position,type:undefined,top:undefined,right:undefined,bottom:undefined,left:undefined}})});}
function useIsPositionDisabled({name:blockName}={}){const[allowFixed,allowSticky]=use_settings_useSettings('position.fixed','position.sticky');const isDisabled=!allowFixed&&!allowSticky;return!hasPositionSupport(blockName)||isDisabled;}
function PositionPanelPure({style={},clientId,name:blockName,setAttributes}){const allowFixed=hasFixedPositionSupport(blockName);const allowSticky=hasStickyPositionSupport(blockName);const value=style?.position?.type;const{firstParentClientId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockParents}=select(store);const parents=getBlockParents(clientId);return{firstParentClientId:parents[parents.length-1]};},[clientId]);const blockInformation=useBlockDisplayInformation(firstParentClientId);const stickyHelpText=allowSticky&&value===STICKY_OPTION.value&&blockInformation?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('The block will stick to the scrollable area of the parent %s block.'),blockInformation.title):null;const options=(0,external_wp_element_namespaceObject.useMemo)(()=>{const availableOptions=[DEFAULT_OPTION];if(allowSticky||value===STICKY_OPTION.value){availableOptions.push(STICKY_OPTION);}
if(allowFixed||value===FIXED_OPTION.value){availableOptions.push(FIXED_OPTION);}
return availableOptions;},[allowFixed,allowSticky,value]);const onChangeType=next=>{const placementValue='0px';const newStyle={...style,position:{...style?.position,type:next,top:next==='sticky'||next==='fixed'?placementValue:undefined}};setAttributes({style:utils_cleanEmptyObject(newStyle)});};const selectedOption=value?options.find(option=>option.value===value)||DEFAULT_OPTION:DEFAULT_OPTION;return external_wp_element_namespaceObject.Platform.select({web:options.length>1?(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"position",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.BaseControl,{__nextHasNoMarginBottom:true,help:stickyHelpText,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CustomSelectControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Position'),hideLabelFromVision:true,describedBy:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Currently selected position: %s'),selectedOption.name),options:options,value:selectedOption,onChange:({selectedItem})=>{onChangeType(selectedItem.value);},size:"__unstable-large"})})}):null,native:null});}
const position=({edit:function Edit(props){const isPositionDisabled=useIsPositionDisabled(props);if(isPositionDisabled){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PositionPanelPure,{...props});},useBlockProps:position_useBlockProps,attributeKeys:['style'],hasSupport(name){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,POSITION_SUPPORT_KEY);}});const POSITION_BLOCK_PROPS_REFERENCE={};function position_useBlockProps({name,style}){const hasPositionBlockSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,POSITION_SUPPORT_KEY);const isPositionDisabled=useIsPositionDisabled({name});const allowPositionStyles=hasPositionBlockSupport&&!isPositionDisabled;const id=(0,external_wp_compose_namespaceObject.useInstanceId)(POSITION_BLOCK_PROPS_REFERENCE);const positionSelector=`.wp-container-${id}.wp-container-${id}`;let css;if(allowPositionStyles){css=getPositionCSS({selector:positionSelector,style})||'';}
const className=dist_clsx({[`wp-container-${id}`]:allowPositionStyles&&!!css,[`is-position-${style?.position?.type}`]:allowPositionStyles&&!!css&&!!style?.position?.type});useStyleOverride({css});return{className};};const ELEMENT_CLASS_NAMES={button:'wp-element-button',caption:'wp-element-caption'};const BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS={__experimentalBorder:'border',color:'color',spacing:'spacing',typography:'typography'};const{kebabCase:use_global_styles_output_kebabCase}=unlock(external_wp_components_namespaceObject.privateApis);function getPresetsDeclarations(blockPresets={},mergedSettings){return PRESET_METADATA.reduce((declarations,{path,valueKey,valueFunc,cssVarInfix})=>{const presetByOrigin=getValueFromObjectPath(blockPresets,path,[]);['default','theme','custom'].forEach(origin=>{if(presetByOrigin[origin]){presetByOrigin[origin].forEach(value=>{if(valueKey&&!valueFunc){declarations.push(`--wp--preset--${cssVarInfix}--${use_global_styles_output_kebabCase(value.slug)}: ${value[valueKey]}`);}else if(valueFunc&&typeof valueFunc==='function'){declarations.push(`--wp--preset--${cssVarInfix}--${use_global_styles_output_kebabCase(value.slug)}: ${valueFunc(value, mergedSettings)}`);}});}});return declarations;},[]);}
function getPresetsClasses(blockSelector='*',blockPresets={}){return PRESET_METADATA.reduce((declarations,{path,cssVarInfix,classes})=>{if(!classes){return declarations;}
const presetByOrigin=getValueFromObjectPath(blockPresets,path,[]);['default','theme','custom'].forEach(origin=>{if(presetByOrigin[origin]){presetByOrigin[origin].forEach(({slug})=>{classes.forEach(({classSuffix,propertyName})=>{const classSelectorToUse=`.has-${use_global_styles_output_kebabCase(slug)}-${classSuffix}`;const selectorToUse=blockSelector.split(',').map(selector=>`${selector}${classSelectorToUse}`).join(',');const value=`var(--wp--preset--${cssVarInfix}--${use_global_styles_output_kebabCase(slug)})`;declarations+=`${selectorToUse}{${propertyName}: ${value} !important;}`;});});}});return declarations;},'');}
function getPresetsSvgFilters(blockPresets={}){return PRESET_METADATA.filter(metadata=>metadata.path.at(-1)==='duotone').flatMap(metadata=>{const presetByOrigin=getValueFromObjectPath(blockPresets,metadata.path,{});return['default','theme'].filter(origin=>presetByOrigin[origin]).flatMap(origin=>presetByOrigin[origin].map(preset=>getDuotoneFilter(`wp-duotone-${preset.slug}`,preset.colors))).join('');});}
function flattenTree(input={},prefix,token){let result=[];Object.keys(input).forEach(key=>{const newKey=prefix+use_global_styles_output_kebabCase(key.replace('/','-'));const newLeaf=input[key];if(newLeaf instanceof Object){const newPrefix=newKey+token;result=[...result,...flattenTree(newLeaf,newPrefix,token)];}else{result.push(`${newKey}: ${newLeaf}`);}});return result;}
function concatFeatureVariationSelectorString(featureSelector,styleVariationSelector){const featureSelectors=featureSelector.split(',');const combinedSelectors=[];featureSelectors.forEach(selector=>{combinedSelectors.push(`${styleVariationSelector.trim()}${selector.trim()}`);});return combinedSelectors.join(', ');}
const getFeatureDeclarations=(selectors,styles)=>{const declarations={};Object.entries(selectors).forEach(([feature,selector])=>{if(feature==='root'||!styles?.[feature]){return;}
const isShorthand=typeof selector==='string';if(!isShorthand){Object.entries(selector).forEach(([subfeature,subfeatureSelector])=>{if(subfeature==='root'||!styles?.[feature][subfeature]){return;}
const subfeatureStyles={[feature]:{[subfeature]:styles[feature][subfeature]}};const newDeclarations=getStylesDeclarations(subfeatureStyles);declarations[subfeatureSelector]=[...(declarations[subfeatureSelector]||[]),...newDeclarations];delete styles[feature][subfeature];});}
if(isShorthand||selector.root){const featureSelector=isShorthand?selector:selector.root;const featureStyles={[feature]:styles[feature]};const newDeclarations=getStylesDeclarations(featureStyles);declarations[featureSelector]=[...(declarations[featureSelector]||[]),...newDeclarations];delete styles[feature];}});return declarations;};function getStylesDeclarations(blockStyles={},selector='',useRootPaddingAlign,tree={},disableRootPadding=false){const isRoot=ROOT_BLOCK_SELECTOR===selector;const output=Object.entries(external_wp_blocks_namespaceObject.__EXPERIMENTAL_STYLE_PROPERTY).reduce((declarations,[key,{value,properties,useEngine,rootOnly}])=>{if(rootOnly&&!isRoot){return declarations;}
const pathToValue=value;if(pathToValue[0]==='elements'||useEngine){return declarations;}
const styleValue=getValueFromObjectPath(blockStyles,pathToValue);if(key==='--wp--style--root--padding'&&(typeof styleValue==='string'||!useRootPaddingAlign)){return declarations;}
if(properties&&typeof styleValue!=='string'){Object.entries(properties).forEach(entry=>{const[name,prop]=entry;if(!getValueFromObjectPath(styleValue,[prop],false)){return;}
const cssProperty=name.startsWith('--')?name:use_global_styles_output_kebabCase(name);declarations.push(`${cssProperty}: ${(0,external_wp_styleEngine_namespaceObject.getCSSValueFromRawStyle)(getValueFromObjectPath(styleValue, [prop]))}`);});}else if(getValueFromObjectPath(blockStyles,pathToValue,false)){const cssProperty=key.startsWith('--')?key:use_global_styles_output_kebabCase(key);declarations.push(`${cssProperty}: ${(0,external_wp_styleEngine_namespaceObject.getCSSValueFromRawStyle)(getValueFromObjectPath(blockStyles, pathToValue))}`);}
return declarations;},[]);if(!!blockStyles.background){if(blockStyles.background?.backgroundImage){blockStyles.background.backgroundImage=getResolvedValue(blockStyles.background.backgroundImage,tree);}
if(!isRoot&&!!blockStyles.background?.backgroundImage?.id){blockStyles={...blockStyles,background:{...blockStyles.background,...setBackgroundStyleDefaults(blockStyles.background)}};}}
const extraRules=(0,external_wp_styleEngine_namespaceObject.getCSSRules)(blockStyles);extraRules.forEach(rule=>{if(isRoot&&(useRootPaddingAlign||disableRootPadding)&&rule.key.startsWith('padding')){return;}
const cssProperty=rule.key.startsWith('--')?rule.key:use_global_styles_output_kebabCase(rule.key);let ruleValue=getResolvedValue(rule.value,tree,null);if(cssProperty==='font-size'){ruleValue=getTypographyFontSizeValue({size:ruleValue},tree?.settings);}
if(cssProperty==='aspect-ratio'){output.push('min-height: unset');}
output.push(`${cssProperty}: ${ruleValue}`);});return output;}
function getLayoutStyles({layoutDefinitions=LAYOUT_DEFINITIONS,style,selector,hasBlockGapSupport,hasFallbackGapSupport,fallbackGapValue}){let ruleset='';let gapValue=hasBlockGapSupport?getGapCSSValue(style?.spacing?.blockGap):'';if(hasFallbackGapSupport){if(selector===ROOT_BLOCK_SELECTOR){gapValue=!gapValue?'0.5em':gapValue;}else if(!hasBlockGapSupport&&fallbackGapValue){gapValue=fallbackGapValue;}}
if(gapValue&&layoutDefinitions){Object.values(layoutDefinitions).forEach(({className,name,spacingStyles})=>{if(!hasBlockGapSupport&&'flex'!==name&&'grid'!==name){return;}
if(spacingStyles?.length){spacingStyles.forEach(spacingStyle=>{const declarations=[];if(spacingStyle.rules){Object.entries(spacingStyle.rules).forEach(([cssProperty,cssValue])=>{declarations.push(`${cssProperty}: ${cssValue ? cssValue : gapValue}`);});}
if(declarations.length){let combinedSelector='';if(!hasBlockGapSupport){combinedSelector=selector===ROOT_BLOCK_SELECTOR?`:where(.${className}${spacingStyle?.selector || ''})`:`:where(${selector}.${className}${spacingStyle?.selector || ''})`;}else{combinedSelector=selector===ROOT_BLOCK_SELECTOR?`:root :where(.${className})${spacingStyle?.selector || ''}`:`:root :where(${selector}-${className})${spacingStyle?.selector || ''}`;}
ruleset+=`${combinedSelector} { ${declarations.join('; ')}; }`;}});}});if(selector===ROOT_BLOCK_SELECTOR&&hasBlockGapSupport){ruleset+=`${ROOT_CSS_PROPERTIES_SELECTOR} { --wp--style--block-gap: ${gapValue}; }`;}}
if(selector===ROOT_BLOCK_SELECTOR&&layoutDefinitions){const validDisplayModes=['block','flex','grid'];Object.values(layoutDefinitions).forEach(({className,displayMode,baseStyles})=>{if(displayMode&&validDisplayModes.includes(displayMode)){ruleset+=`${selector} .${className} { display:${displayMode}; }`;}
if(baseStyles?.length){baseStyles.forEach(baseStyle=>{const declarations=[];if(baseStyle.rules){Object.entries(baseStyle.rules).forEach(([cssProperty,cssValue])=>{declarations.push(`${cssProperty}: ${cssValue}`);});}
if(declarations.length){const combinedSelector=`.${className}${baseStyle?.selector || ''}`;ruleset+=`${combinedSelector} { ${declarations.join('; ')}; }`;}});}});}
return ruleset;}
const STYLE_KEYS=['border','color','dimensions','spacing','typography','filter','outline','shadow','background'];function pickStyleKeys(treeToPickFrom){if(!treeToPickFrom){return{};}
const entries=Object.entries(treeToPickFrom);const pickedEntries=entries.filter(([key])=>STYLE_KEYS.includes(key));const clonedEntries=pickedEntries.map(([key,style])=>[key,JSON.parse(JSON.stringify(style))]);return Object.fromEntries(clonedEntries);}
const getNodesWithStyles=(tree,blockSelectors)=>{var _tree$styles$blocks;const nodes=[];if(!tree?.styles){return nodes;}
const styles=pickStyleKeys(tree.styles);if(styles){nodes.push({styles,selector:ROOT_BLOCK_SELECTOR,skipSelectorWrapper:true});}
Object.entries(external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS).forEach(([name,selector])=>{if(tree.styles?.elements?.[name]){nodes.push({styles:tree.styles?.elements?.[name],selector,skipSelectorWrapper:!ELEMENT_CLASS_NAMES[name]});}});Object.entries((_tree$styles$blocks=tree.styles?.blocks)!==null&&_tree$styles$blocks!==void 0?_tree$styles$blocks:{}).forEach(([blockName,node])=>{var _node$elements;const blockStyles=pickStyleKeys(node);if(node?.variations){const variations={};Object.entries(node.variations).forEach(([variationName,variation])=>{var _variation$elements,_variation$blocks;variations[variationName]=pickStyleKeys(variation);if(variation?.css){variations[variationName].css=variation.css;}
const variationSelector=blockSelectors[blockName]?.styleVariationSelectors?.[variationName];Object.entries((_variation$elements=variation?.elements)!==null&&_variation$elements!==void 0?_variation$elements:{}).forEach(([element,elementStyles])=>{if(elementStyles&&external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[element]){nodes.push({styles:elementStyles,selector:scopeSelector(variationSelector,external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[element])});}});Object.entries((_variation$blocks=variation?.blocks)!==null&&_variation$blocks!==void 0?_variation$blocks:{}).forEach(([variationBlockName,variationBlockStyles])=>{var _variationBlockStyles;const variationBlockSelector=scopeSelector(variationSelector,blockSelectors[variationBlockName]?.selector);const variationDuotoneSelector=scopeSelector(variationSelector,blockSelectors[variationBlockName]?.duotoneSelector);const variationFeatureSelectors=scopeFeatureSelectors(variationSelector,blockSelectors[variationBlockName]?.featureSelectors);const variationBlockStyleNodes=pickStyleKeys(variationBlockStyles);if(variationBlockStyles?.css){variationBlockStyleNodes.css=variationBlockStyles.css;}
nodes.push({selector:variationBlockSelector,duotoneSelector:variationDuotoneSelector,featureSelectors:variationFeatureSelectors,fallbackGapValue:blockSelectors[variationBlockName]?.fallbackGapValue,hasLayoutSupport:blockSelectors[variationBlockName]?.hasLayoutSupport,styles:variationBlockStyleNodes});Object.entries((_variationBlockStyles=variationBlockStyles.elements)!==null&&_variationBlockStyles!==void 0?_variationBlockStyles:{}).forEach(([variationBlockElement,variationBlockElementStyles])=>{if(variationBlockElementStyles&&external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[variationBlockElement]){nodes.push({styles:variationBlockElementStyles,selector:scopeSelector(variationBlockSelector,external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[variationBlockElement])});}});});});blockStyles.variations=variations;}
if(blockSelectors?.[blockName]?.selector){nodes.push({duotoneSelector:blockSelectors[blockName].duotoneSelector,fallbackGapValue:blockSelectors[blockName].fallbackGapValue,hasLayoutSupport:blockSelectors[blockName].hasLayoutSupport,selector:blockSelectors[blockName].selector,styles:blockStyles,featureSelectors:blockSelectors[blockName].featureSelectors,styleVariationSelectors:blockSelectors[blockName].styleVariationSelectors});}
Object.entries((_node$elements=node?.elements)!==null&&_node$elements!==void 0?_node$elements:{}).forEach(([elementName,value])=>{if(value&&blockSelectors?.[blockName]&&external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[elementName]){nodes.push({styles:value,selector:blockSelectors[blockName]?.selector.split(',').map(sel=>{const elementSelectors=external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[elementName].split(',');return elementSelectors.map(elementSelector=>sel+' '+elementSelector);}).join(',')});}});});return nodes;};const getNodesWithSettings=(tree,blockSelectors)=>{var _tree$settings$blocks;const nodes=[];if(!tree?.settings){return nodes;}
const pickPresets=treeToPickFrom=>{let presets={};PRESET_METADATA.forEach(({path})=>{const value=getValueFromObjectPath(treeToPickFrom,path,false);if(value!==false){presets=setImmutably(presets,path,value);}});return presets;};const presets=pickPresets(tree.settings);const custom=tree.settings?.custom;if(Object.keys(presets).length>0||custom){nodes.push({presets,custom,selector:ROOT_CSS_PROPERTIES_SELECTOR});}
Object.entries((_tree$settings$blocks=tree.settings?.blocks)!==null&&_tree$settings$blocks!==void 0?_tree$settings$blocks:{}).forEach(([blockName,node])=>{const blockPresets=pickPresets(node);const blockCustom=node.custom;if(Object.keys(blockPresets).length>0||blockCustom){nodes.push({presets:blockPresets,custom:blockCustom,selector:blockSelectors[blockName]?.selector});}});return nodes;};const toCustomProperties=(tree,blockSelectors)=>{const settings=getNodesWithSettings(tree,blockSelectors);let ruleset='';settings.forEach(({presets,custom,selector})=>{const declarations=getPresetsDeclarations(presets,tree?.settings);const customProps=flattenTree(custom,'--wp--custom--','--');if(customProps.length>0){declarations.push(...customProps);}
if(declarations.length>0){ruleset+=`${selector}{${declarations.join(';')};}`;}});return ruleset;};const toStyles=(tree,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles=false,disableRootPadding=false,styleOptions=undefined)=>{const options={blockGap:true,blockStyles:true,layoutStyles:true,marginReset:true,presets:true,rootPadding:true,variationStyles:false,...styleOptions};const nodesWithStyles=getNodesWithStyles(tree,blockSelectors);const nodesWithSettings=getNodesWithSettings(tree,blockSelectors);const useRootPaddingAlign=tree?.settings?.useRootPaddingAwareAlignments;const{contentSize,wideSize}=tree?.settings?.layout||{};const hasBodyStyles=options.marginReset||options.rootPadding||options.layoutStyles;let ruleset='';if(options.presets&&(contentSize||wideSize)){ruleset+=`${ROOT_CSS_PROPERTIES_SELECTOR} {`;ruleset=contentSize?ruleset+` --wp--style--global--content-size: ${contentSize};`:ruleset;ruleset=wideSize?ruleset+` --wp--style--global--wide-size: ${wideSize};`:ruleset;ruleset+='}';}
if(hasBodyStyles){ruleset+=':where(body) {margin: 0;';if(options.rootPadding&&useRootPaddingAlign){ruleset+=`padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }
    .has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }
    .has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }
    .has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) { padding-right: 0; padding-left: 0; }
    .has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) > .alignfull { margin-left: 0; margin-right: 0;
    `;}
ruleset+='}';}
if(options.blockStyles){nodesWithStyles.forEach(({selector,duotoneSelector,styles,fallbackGapValue,hasLayoutSupport,featureSelectors,styleVariationSelectors,skipSelectorWrapper})=>{if(featureSelectors){const featureDeclarations=getFeatureDeclarations(featureSelectors,styles);Object.entries(featureDeclarations).forEach(([cssSelector,declarations])=>{if(declarations.length){const rules=declarations.join(';');ruleset+=`:root :where(${cssSelector}){${rules};}`;}});}
if(duotoneSelector){const duotoneStyles={};if(styles?.filter){duotoneStyles.filter=styles.filter;delete styles.filter;}
const duotoneDeclarations=getStylesDeclarations(duotoneStyles);if(duotoneDeclarations.length){ruleset+=`${duotoneSelector}{${duotoneDeclarations.join(';')};}`;}}
if(!disableLayoutStyles&&(ROOT_BLOCK_SELECTOR===selector||hasLayoutSupport)){ruleset+=getLayoutStyles({style:styles,selector,hasBlockGapSupport,hasFallbackGapSupport,fallbackGapValue});}
const styleDeclarations=getStylesDeclarations(styles,selector,useRootPaddingAlign,tree,disableRootPadding);if(styleDeclarations?.length){const generalSelector=skipSelectorWrapper?selector:`:root :where(${selector})`;ruleset+=`${generalSelector}{${styleDeclarations.join(';')};}`;}
if(styles?.css){ruleset+=processCSSNesting(styles.css,`:root :where(${selector})`);}
if(options.variationStyles&&styleVariationSelectors){Object.entries(styleVariationSelectors).forEach(([styleVariationName,styleVariationSelector])=>{const styleVariations=styles?.variations?.[styleVariationName];if(styleVariations){if(featureSelectors){const featureDeclarations=getFeatureDeclarations(featureSelectors,styleVariations);Object.entries(featureDeclarations).forEach(([baseSelector,declarations])=>{if(declarations.length){const cssSelector=concatFeatureVariationSelectorString(baseSelector,styleVariationSelector);const rules=declarations.join(';');ruleset+=`:root :where(${cssSelector}){${rules};}`;}});}
const styleVariationDeclarations=getStylesDeclarations(styleVariations,styleVariationSelector,useRootPaddingAlign,tree);if(styleVariationDeclarations.length){ruleset+=`:root :where(${styleVariationSelector}){${styleVariationDeclarations.join(';')};}`;}
if(styleVariations?.css){ruleset+=processCSSNesting(styleVariations.css,`:root :where(${styleVariationSelector})`);}}});}
const pseudoSelectorStyles=Object.entries(styles).filter(([key])=>key.startsWith(':'));if(pseudoSelectorStyles?.length){pseudoSelectorStyles.forEach(([pseudoKey,pseudoStyle])=>{const pseudoDeclarations=getStylesDeclarations(pseudoStyle);if(!pseudoDeclarations?.length){return;}
const _selector=selector.split(',').map(sel=>sel+pseudoKey).join(',');const pseudoRule=`:root :where(${_selector}){${pseudoDeclarations.join(';')};}`;ruleset+=pseudoRule;});}});}
if(options.layoutStyles){ruleset=ruleset+'.wp-site-blocks > .alignleft { float: left; margin-right: 2em; }';ruleset=ruleset+'.wp-site-blocks > .alignright { float: right; margin-left: 2em; }';ruleset=ruleset+'.wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }';}
if(options.blockGap&&hasBlockGapSupport){const gapValue=getGapCSSValue(tree?.styles?.spacing?.blockGap)||'0.5em';ruleset=ruleset+`:root :where(.wp-site-blocks) > * { margin-block-start: ${gapValue}; margin-block-end: 0; }`;ruleset=ruleset+':root :where(.wp-site-blocks) > :first-child { margin-block-start: 0; }';ruleset=ruleset+':root :where(.wp-site-blocks) > :last-child { margin-block-end: 0; }';}
if(options.presets){nodesWithSettings.forEach(({selector,presets})=>{if(ROOT_BLOCK_SELECTOR===selector||ROOT_CSS_PROPERTIES_SELECTOR===selector){selector='';}
const classes=getPresetsClasses(selector,presets);if(classes.length>0){ruleset+=classes;}});}
return ruleset;};function toSvgFilters(tree,blockSelectors){const nodesWithSettings=getNodesWithSettings(tree,blockSelectors);return nodesWithSettings.flatMap(({presets})=>{return getPresetsSvgFilters(presets);});}
const getSelectorsConfig=(blockType,rootSelector)=>{if(blockType?.selectors&&Object.keys(blockType.selectors).length>0){return blockType.selectors;}
const config={root:rootSelector};Object.entries(BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS).forEach(([featureKey,featureName])=>{const featureSelector=getBlockCSSSelector(blockType,featureKey);if(featureSelector){config[featureName]=featureSelector;}});return config;};const getBlockSelectors=(blockTypes,getBlockStyles,variationInstanceId)=>{const result={};blockTypes.forEach(blockType=>{const name=blockType.name;const selector=getBlockCSSSelector(blockType);let duotoneSelector=getBlockCSSSelector(blockType,'filter.duotone');if(!duotoneSelector){const rootSelector=getBlockCSSSelector(blockType);const duotoneSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,'color.__experimentalDuotone',false);duotoneSelector=duotoneSupport&&scopeSelector(rootSelector,duotoneSupport);}
const hasLayoutSupport=!!blockType?.supports?.layout||!!blockType?.supports?.__experimentalLayout;const fallbackGapValue=blockType?.supports?.spacing?.blockGap?.__experimentalDefault;const blockStyleVariations=getBlockStyles(name);const styleVariationSelectors={};blockStyleVariations?.forEach(variation=>{const variationSuffix=variationInstanceId?`-${variationInstanceId}`:'';const variationName=`${variation.name}${variationSuffix}`;const styleVariationSelector=getBlockStyleVariationSelector(variationName,selector);styleVariationSelectors[variationName]=styleVariationSelector;});const featureSelectors=getSelectorsConfig(blockType,selector);result[name]={duotoneSelector,fallbackGapValue,featureSelectors:Object.keys(featureSelectors).length?featureSelectors:undefined,hasLayoutSupport,name,selector,styleVariationSelectors:blockStyleVariations?.length?styleVariationSelectors:undefined};});return result;};function updateConfigWithSeparator(config){const needsSeparatorStyleUpdate=config.styles?.blocks?.['core/separator']&&config.styles?.blocks?.['core/separator'].color?.background&&!config.styles?.blocks?.['core/separator'].color?.text&&!config.styles?.blocks?.['core/separator'].border?.color;if(needsSeparatorStyleUpdate){return{...config,styles:{...config.styles,blocks:{...config.styles.blocks,'core/separator':{...config.styles.blocks['core/separator'],color:{...config.styles.blocks['core/separator'].color,text:config.styles?.blocks['core/separator'].color.background}}}}};}
return config;}
function processCSSNesting(css,blockSelector){let processedCSS='';if(!css||css.trim()===''){return processedCSS;}
const parts=css.split('&');parts.forEach(part=>{if(!part||part.trim()===''){return;}
const isRootCss=!part.includes('{');if(isRootCss){processedCSS+=`:root :where(${blockSelector}){${part.trim()}}`;}else{const splitPart=part.replace('}','').split('{');if(splitPart.length!==2){return;}
const[nestedSelector,cssValue]=splitPart;const matches=nestedSelector.match(/([>+~\s]*::[a-zA-Z-]+)/);const pseudoPart=matches?matches[1]:'';const withoutPseudoElement=matches?nestedSelector.replace(pseudoPart,'').trim():nestedSelector.trim();let combinedSelector;if(withoutPseudoElement===''){combinedSelector=blockSelector;}else{combinedSelector=nestedSelector.startsWith(' ')?scopeSelector(blockSelector,withoutPseudoElement):appendToSelector(blockSelector,withoutPseudoElement);}
processedCSS+=`:root :where(${combinedSelector})${pseudoPart}{${cssValue.trim()}}`;}});return processedCSS;}
function useGlobalStylesOutputWithConfig(mergedConfig={},disableRootPadding){const[blockGap]=useGlobalSetting('spacing.blockGap');const hasBlockGapSupport=blockGap!==null;const hasFallbackGapSupport=!hasBlockGapSupport;const disableLayoutStyles=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return!!getSettings().disableLayoutStyles;});const{getBlockStyles}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);return(0,external_wp_element_namespaceObject.useMemo)(()=>{var _updatedConfig$styles;if(!mergedConfig?.styles||!mergedConfig?.settings){return[];}
const updatedConfig=updateConfigWithSeparator(mergedConfig);const blockSelectors=getBlockSelectors((0,external_wp_blocks_namespaceObject.getBlockTypes)(),getBlockStyles);const customProperties=toCustomProperties(updatedConfig,blockSelectors);const globalStyles=toStyles(updatedConfig,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles,disableRootPadding);const svgs=toSvgFilters(updatedConfig,blockSelectors);const styles=[{css:customProperties,isGlobalStyles:true},{css:globalStyles,isGlobalStyles:true},{css:(_updatedConfig$styles=updatedConfig.styles.css)!==null&&_updatedConfig$styles!==void 0?_updatedConfig$styles:'',isGlobalStyles:true},{assets:svgs,__unstableType:'svg',isGlobalStyles:true}];(0,external_wp_blocks_namespaceObject.getBlockTypes)().forEach(blockType=>{if(updatedConfig.styles.blocks[blockType.name]?.css){const selector=blockSelectors[blockType.name].selector;styles.push({css:processCSSNesting(updatedConfig.styles.blocks[blockType.name]?.css,selector),isGlobalStyles:true});}});return[styles,updatedConfig.settings];},[hasBlockGapSupport,hasFallbackGapSupport,mergedConfig,disableLayoutStyles,disableRootPadding,getBlockStyles]);}
function useGlobalStylesOutput(disableRootPadding=false){const{merged:mergedConfig}=(0,external_wp_element_namespaceObject.useContext)(GlobalStylesContext);return useGlobalStylesOutputWithConfig(mergedConfig,disableRootPadding);};const VARIATION_PREFIX='is-style-';function getVariationMatches(className){if(!className){return[];}
return className.split(/\s+/).reduce((matches,name)=>{if(name.startsWith(VARIATION_PREFIX)){const match=name.slice(VARIATION_PREFIX.length);if(match!=='default'){matches.push(match);}}
return matches;},[]);}
function getVariationNameFromClass(className,registeredStyles=[]){const matches=getVariationMatches(className);if(!matches){return null;}
for(const variation of matches){if(registeredStyles.some(style=>style.name===variation)){return variation;}}
return null;}
function OverrideStyles({override}){usePrivateStyleOverride(override);}
function __unstableBlockStyleVariationOverridesWithConfig({config}){const{getBlockStyles,overrides}=(0,external_wp_data_namespaceObject.useSelect)(select=>({getBlockStyles:select(external_wp_blocks_namespaceObject.store).getBlockStyles,overrides:unlock(select(store)).getStyleOverrides()}),[]);const{getBlockName}=(0,external_wp_data_namespaceObject.useSelect)(store);const overridesWithConfig=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!overrides?.length){return;}
const newOverrides=[];const overriddenClientIds=[];for(const[,override]of overrides){if(override?.variation&&override?.clientId&&!overriddenClientIds.includes(override.clientId)){const blockName=getBlockName(override.clientId);const configStyles=config?.styles?.blocks?.[blockName]?.variations?.[override.variation];if(configStyles){const variationConfig={settings:config?.settings,styles:{blocks:{[blockName]:{variations:{[`${override.variation}-${override.clientId}`]:configStyles}}}}};const blockSelectors=getBlockSelectors((0,external_wp_blocks_namespaceObject.getBlockTypes)(),getBlockStyles,override.clientId);const hasBlockGapSupport=false;const hasFallbackGapSupport=true;const disableLayoutStyles=true;const disableRootPadding=true;const variationStyles=toStyles(variationConfig,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles,disableRootPadding,{blockGap:false,blockStyles:true,layoutStyles:false,marginReset:false,presets:false,rootPadding:false,variationStyles:true});newOverrides.push({id:`${override.variation}-${override.clientId}`,css:variationStyles,__unstableType:'variation',variation:override.variation,clientId:override.clientId});overriddenClientIds.push(override.clientId);}}}
return newOverrides;},[config,overrides,getBlockStyles,getBlockName]);if(!overridesWithConfig||!overridesWithConfig.length){return;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:overridesWithConfig.map(override=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(OverrideStyles,{override:override},override.id))});}
function getVariationStylesWithRefValues(globalStyles,name,variation){if(!globalStyles?.styles?.blocks?.[name]?.variations?.[variation]){return;}
const replaceRefs=variationStyles=>{Object.keys(variationStyles).forEach(key=>{const value=variationStyles[key];if(typeof value==='object'&&value!==null){if(value.ref!==undefined){if(typeof value.ref!=='string'||value.ref.trim()===''){delete variationStyles[key];}else{const refValue=getValueFromObjectPath(globalStyles,value.ref);if(refValue){variationStyles[key]=refValue;}else{delete variationStyles[key];}}}else{replaceRefs(value);if(Object.keys(value).length===0){delete variationStyles[key];}}}});};const styles=JSON.parse(JSON.stringify(globalStyles.styles.blocks[name].variations[variation]));replaceRefs(styles);return styles;}
function useBlockStyleVariation(name,variation,clientId){const{merged:mergedConfig}=(0,external_wp_element_namespaceObject.useContext)(GlobalStylesContext);const{globalSettings,globalStyles}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const settings=select(store).getSettings();return{globalSettings:settings.__experimentalFeatures,globalStyles:settings[globalStylesDataKey]};},[]);return(0,external_wp_element_namespaceObject.useMemo)(()=>{var _mergedConfig$setting,_mergedConfig$styles,_mergedConfig$setting2;const variationStyles=getVariationStylesWithRefValues({settings:(_mergedConfig$setting=mergedConfig?.settings)!==null&&_mergedConfig$setting!==void 0?_mergedConfig$setting:globalSettings,styles:(_mergedConfig$styles=mergedConfig?.styles)!==null&&_mergedConfig$styles!==void 0?_mergedConfig$styles:globalStyles},name,variation);return{settings:(_mergedConfig$setting2=mergedConfig?.settings)!==null&&_mergedConfig$setting2!==void 0?_mergedConfig$setting2:globalSettings,styles:{blocks:{[name]:{variations:{[`${variation}-${clientId}`]:variationStyles}}}}};},[mergedConfig,globalSettings,globalStyles,variation,clientId,name]);}
function block_style_variation_useBlockProps({name,className,clientId}){const{getBlockStyles}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const registeredStyles=getBlockStyles(name);const variation=getVariationNameFromClass(className,registeredStyles);const variationClass=`${VARIATION_PREFIX}${variation}-${clientId}`;const{settings,styles}=useBlockStyleVariation(name,variation,clientId);const variationStyles=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!variation){return;}
const variationConfig={settings,styles};const blockSelectors=getBlockSelectors((0,external_wp_blocks_namespaceObject.getBlockTypes)(),getBlockStyles,clientId);const hasBlockGapSupport=false;const hasFallbackGapSupport=true;const disableLayoutStyles=true;const disableRootPadding=true;return toStyles(variationConfig,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles,disableRootPadding,{blockGap:false,blockStyles:true,layoutStyles:false,marginReset:false,presets:false,rootPadding:false,variationStyles:true});},[variation,settings,styles,getBlockStyles,clientId]);usePrivateStyleOverride({id:`variation-${clientId}`,css:variationStyles,__unstableType:'variation',variation,clientId});return variation?{className:variationClass}:{};}
const block_style_variation=({hasSupport:()=>true,attributeKeys:['className'],isMatch:({className})=>getVariationMatches(className).length>0,useBlockProps:block_style_variation_useBlockProps});;const layoutBlockSupportKey='layout';const{kebabCase:layout_kebabCase}=unlock(external_wp_components_namespaceObject.privateApis);function hasLayoutBlockSupport(blockName){return(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'layout')||(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'__experimentalLayout');}
function useLayoutClasses(blockAttributes={},blockName=''){const{layout}=blockAttributes;const{default:defaultBlockLayout}=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,layoutBlockSupportKey)||{};const usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:'constrained'}:layout||defaultBlockLayout||{};const layoutClassnames=[];if(LAYOUT_DEFINITIONS[usedLayout?.type||'default']?.className){const baseClassName=LAYOUT_DEFINITIONS[usedLayout?.type||'default']?.className;const splitBlockName=blockName.split('/');const fullBlockName=splitBlockName[0]==='core'?splitBlockName.pop():splitBlockName.join('-');const compoundClassName=`wp-block-${fullBlockName}-${baseClassName}`;layoutClassnames.push(baseClassName,compoundClassName);}
const hasGlobalPadding=(0,external_wp_data_namespaceObject.useSelect)(select=>{return(usedLayout?.inherit||usedLayout?.contentSize||usedLayout?.type==='constrained')&&select(store).getSettings().__experimentalFeatures?.useRootPaddingAwareAlignments;},[usedLayout?.contentSize,usedLayout?.inherit,usedLayout?.type]);if(hasGlobalPadding){layoutClassnames.push('has-global-padding');}
if(usedLayout?.orientation){layoutClassnames.push(`is-${layout_kebabCase(usedLayout.orientation)}`);}
if(usedLayout?.justifyContent){layoutClassnames.push(`is-content-justification-${layout_kebabCase(usedLayout.justifyContent)}`);}
if(usedLayout?.flexWrap&&usedLayout.flexWrap==='nowrap'){layoutClassnames.push('is-nowrap');}
return layoutClassnames;}
function useLayoutStyles(blockAttributes={},blockName,selector){const{layout={},style={}}=blockAttributes;const usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:'constrained'}:layout||{};const fullLayoutType=getLayoutType(usedLayout?.type||'default');const[blockGapSupport]=use_settings_useSettings('spacing.blockGap');const hasBlockGapSupport=blockGapSupport!==null;return fullLayoutType?.getLayoutStyle?.({blockName,selector,layout,style,hasBlockGapSupport});}
function LayoutPanelPure({layout,setAttributes,name:blockName,clientId}){const settings=useBlockSettings(blockName);const{layout:layoutSettings}=settings;const{themeSupportsLayout}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return{themeSupportsLayout:getSettings().supportsLayout};},[]);const blockEditingMode=useBlockEditingMode();if(blockEditingMode!=='default'){return null;}
const layoutBlockSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,layoutBlockSupportKey,{});const blockSupportAndThemeSettings={...layoutSettings,...layoutBlockSupport};const{allowSwitching,allowEditing=true,allowInheriting=true,default:defaultBlockLayout}=blockSupportAndThemeSettings;if(!allowEditing){return null;}
const blockSupportAndLayout={...layoutBlockSupport,...layout};const{type,default:{type:defaultType='default'}={}}=blockSupportAndLayout;const blockLayoutType=type||defaultType;const showInheritToggle=!!(allowInheriting&&(!blockLayoutType||blockLayoutType==='default'||blockLayoutType==='constrained'||blockSupportAndLayout.inherit));const usedLayout=layout||defaultBlockLayout||{};const{inherit=false,contentSize=null}=usedLayout;if((blockLayoutType==='default'||blockLayoutType==='constrained')&&!themeSupportsLayout){return null;}
const layoutType=getLayoutType(blockLayoutType);const constrainedType=getLayoutType('constrained');const displayControlsForLegacyLayouts=!usedLayout.type&&(contentSize||inherit);const hasContentSizeOrLegacySettings=!!inherit||!!contentSize;const onChangeType=newType=>setAttributes({layout:{type:newType}});const onChangeLayout=newLayout=>setAttributes({layout:newLayout});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.PanelBody,{title:(0,external_wp_i18n_namespaceObject.__)('Layout'),children:[showInheritToggle&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Inner blocks use content width'),checked:layoutType?.name==='constrained'||hasContentSizeOrLegacySettings,onChange:()=>setAttributes({layout:{type:layoutType?.name==='constrained'||hasContentSizeOrLegacySettings?'default':'constrained'}}),help:layoutType?.name==='constrained'||hasContentSizeOrLegacySettings?(0,external_wp_i18n_namespaceObject.__)('Nested blocks use content width with options for full and wide widths.'):(0,external_wp_i18n_namespaceObject.__)('Nested blocks will fill the width of this container.')})}),!inherit&&allowSwitching&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(LayoutTypeSwitcher,{type:blockLayoutType,onChange:onChangeType}),layoutType&&layoutType.name!=='default'&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(layoutType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:blockSupportAndThemeSettings,name:blockName,clientId:clientId}),constrainedType&&displayControlsForLegacyLayouts&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(constrainedType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:blockSupportAndThemeSettings,name:blockName,clientId:clientId})]})}),!inherit&&layoutType&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(layoutType.toolBarControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:layoutBlockSupport,name:blockName,clientId:clientId})]});}
const layout=({shareWithChildBlocks:true,edit:LayoutPanelPure,attributeKeys:['layout'],hasSupport(name){return hasLayoutBlockSupport(name);}});function LayoutTypeSwitcher({type,onChange}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__next40pxDefaultSize:true,isBlock:true,label:(0,external_wp_i18n_namespaceObject.__)('Layout type'),__nextHasNoMarginBottom:true,hideLabelFromVision:true,isAdaptiveWidth:true,value:type,onChange:onChange,children:getLayoutTypes().map(({name,label})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:name,label:label},name);})});}
function layout_addAttribute(settings){var _settings$attributes$;if('type'in((_settings$attributes$=settings.attributes?.layout)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
if(hasLayoutBlockSupport(settings)){settings.attributes={...settings.attributes,layout:{type:'object'}};}
return settings;}
function BlockWithLayoutStyles({block:BlockListBlock,props,blockGapSupport,layoutClasses}){const{name,attributes}=props;const id=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockListBlock);const{layout}=attributes;const{default:defaultBlockLayout}=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,layoutBlockSupportKey)||{};const usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:'constrained'}:layout||defaultBlockLayout||{};const selectorPrefix=`wp-container-${layout_kebabCase(name)}-is-layout-`;const selector=`.${selectorPrefix}${id}`;const hasBlockGapSupport=blockGapSupport!==null;const fullLayoutType=getLayoutType(usedLayout?.type||'default');const css=fullLayoutType?.getLayoutStyle?.({blockName:name,selector,layout:usedLayout,style:attributes?.style,hasBlockGapSupport});const layoutClassNames=dist_clsx({[`${selectorPrefix}${id}`]:!!css},layoutClasses);useStyleOverride({css});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListBlock,{...props,__unstableLayoutClassNames:layoutClassNames});}
const withLayoutStyles=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{const{clientId,name,attributes}=props;const blockSupportsLayout=hasLayoutBlockSupport(name);const layoutClasses=useLayoutClasses(attributes,name);const extraProps=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!blockSupportsLayout){return;}
const{getSettings,getBlockSettings}=unlock(select(store));const{disableLayoutStyles}=getSettings();if(disableLayoutStyles){return;}
const[blockGapSupport]=getBlockSettings(clientId,'spacing.blockGap');return{blockGapSupport};},[blockSupportsLayout,clientId]);if(!extraProps){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListBlock,{...props,__unstableLayoutClassNames:blockSupportsLayout?layoutClasses:undefined});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockWithLayoutStyles,{block:BlockListBlock,props:props,layoutClasses:layoutClasses,...extraProps});},'withLayoutStyles');(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/layout/addAttribute',layout_addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/editor/layout/with-layout-styles',withLayoutStyles);;function range(start,length){return Array.from({length},(_,i)=>start+i);}
class GridRect{constructor({columnStart,rowStart,columnEnd,rowEnd,columnSpan,rowSpan}={}){this.columnStart=columnStart!==null&&columnStart!==void 0?columnStart:1;this.rowStart=rowStart!==null&&rowStart!==void 0?rowStart:1;if(columnSpan!==undefined){this.columnEnd=this.columnStart+columnSpan-1;}else{this.columnEnd=columnEnd!==null&&columnEnd!==void 0?columnEnd:this.columnStart;}
if(rowSpan!==undefined){this.rowEnd=this.rowStart+rowSpan-1;}else{this.rowEnd=rowEnd!==null&&rowEnd!==void 0?rowEnd:this.rowStart;}}
get columnSpan(){return this.columnEnd-this.columnStart+1;}
get rowSpan(){return this.rowEnd-this.rowStart+1;}
contains(column,row){return column>=this.columnStart&&column<=this.columnEnd&&row>=this.rowStart&&row<=this.rowEnd;}
containsRect(rect){return this.contains(rect.columnStart,rect.rowStart)&&this.contains(rect.columnEnd,rect.rowEnd);}
intersectsRect(rect){return this.columnStart<=rect.columnEnd&&this.columnEnd>=rect.columnStart&&this.rowStart<=rect.rowEnd&&this.rowEnd>=rect.rowStart;}}
function utils_getComputedCSS(element,property){return element.ownerDocument.defaultView.getComputedStyle(element).getPropertyValue(property);}
function getGridTracks(template,gap){const tracks=[];for(const size of template.split(' ')){const previousTrack=tracks[tracks.length-1];const start=previousTrack?previousTrack.end+gap:0;const end=start+parseFloat(size);tracks.push({start,end});}
return tracks;}
function getClosestTrack(tracks,position,edge='start'){return tracks.reduce((closest,track,index)=>Math.abs(track[edge]-position)<Math.abs(tracks[closest][edge]-position)?index:closest,0);}
function getGridRect(gridElement,rect){const columnGap=parseFloat(utils_getComputedCSS(gridElement,'column-gap'));const rowGap=parseFloat(utils_getComputedCSS(gridElement,'row-gap'));const gridColumnTracks=getGridTracks(utils_getComputedCSS(gridElement,'grid-template-columns'),columnGap);const gridRowTracks=getGridTracks(utils_getComputedCSS(gridElement,'grid-template-rows'),rowGap);const columnStart=getClosestTrack(gridColumnTracks,rect.left)+1;const rowStart=getClosestTrack(gridRowTracks,rect.top)+1;const columnEnd=getClosestTrack(gridColumnTracks,rect.right,'end')+1;const rowEnd=getClosestTrack(gridRowTracks,rect.bottom,'end')+1;return new GridRect({columnStart,columnEnd,rowStart,rowEnd});}
function getGridItemRect(gridItemElement){return getGridRect(gridItemElement.parentElement,new window.DOMRect(gridItemElement.offsetLeft,gridItemElement.offsetTop,gridItemElement.offsetWidth,gridItemElement.offsetHeight));}
function getGridInfo(gridElement){const gridTemplateColumns=utils_getComputedCSS(gridElement,'grid-template-columns');const gridTemplateRows=utils_getComputedCSS(gridElement,'grid-template-rows');const borderTopWidth=utils_getComputedCSS(gridElement,'border-top-width');const borderRightWidth=utils_getComputedCSS(gridElement,'border-right-width');const borderBottomWidth=utils_getComputedCSS(gridElement,'border-bottom-width');const borderLeftWidth=utils_getComputedCSS(gridElement,'border-left-width');const paddingTop=utils_getComputedCSS(gridElement,'padding-top');const paddingRight=utils_getComputedCSS(gridElement,'padding-right');const paddingBottom=utils_getComputedCSS(gridElement,'padding-bottom');const paddingLeft=utils_getComputedCSS(gridElement,'padding-left');const numColumns=gridTemplateColumns.split(' ').length;const numRows=gridTemplateRows.split(' ').length;const numItems=numColumns*numRows;return{numColumns,numRows,numItems,currentColor:utils_getComputedCSS(gridElement,'color'),style:{gridTemplateColumns,gridTemplateRows,gap:utils_getComputedCSS(gridElement,'gap'),inset:`
    calc(${paddingTop} + ${borderTopWidth})
    calc(${paddingRight} + ${borderRightWidth})
    calc(${paddingBottom} + ${borderBottomWidth})
    calc(${paddingLeft} + ${borderLeftWidth})
   `}};};const globalTips=[(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('While writing, you can press <kbd>/</kbd> to quickly insert new blocks.'),{kbd:(0,external_ReactJSXRuntime_namespaceObject.jsx)("kbd",{})}),(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('Indent a list by pressing <kbd>space</kbd> at the beginning of a line.'),{kbd:(0,external_ReactJSXRuntime_namespaceObject.jsx)("kbd",{})}),(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line.'),{kbd:(0,external_ReactJSXRuntime_namespaceObject.jsx)("kbd",{})}),(0,external_wp_i18n_namespaceObject.__)('Drag files into the editor to automatically insert media blocks.'),(0,external_wp_i18n_namespaceObject.__)("Change a block's type by pressing the block icon on the toolbar.")];function Tips(){const[randomIndex]=(0,external_wp_element_namespaceObject.useState)(Math.floor(Math.random()*globalTips.length));return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Tip,{children:globalTips[randomIndex]});}
const tips=(Tips);;const chevronRight=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})});const chevron_right=(chevronRight);;const chevronLeft=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})});const chevron_left=(chevronLeft);;const blockDefault=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})});const block_default=(blockDefault);;function BlockIcon({icon,showColors=false,className,context}){if(icon?.src==='block-default'){icon={src:block_default};}
const renderedIcon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{icon:icon&&icon.src?icon.src:icon,context:context});const style=showColors?{backgroundColor:icon&&icon.background,color:icon&&icon.foreground}:{};return(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{style:style,className:dist_clsx('block-editor-block-icon',className,{'has-colors':showColors}),children:renderedIcon});}
const block_icon=((0,external_wp_element_namespaceObject.memo)(BlockIcon));;const{Badge}=unlock(external_wp_components_namespaceObject.privateApis);function BlockCard({title,icon,description,blockType,className,name}){if(blockType){external_wp_deprecated_default()('`blockType` property in `BlockCard component`',{since:'5.7',alternative:'`title, icon and description` properties'});({title,icon,description}=blockType);}
const{parentNavBlockClientId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getBlockParentsByBlockName}=select(store);const _selectedBlockClientId=getSelectedBlockClientId();return{parentNavBlockClientId:getBlockParentsByBlockName(_selectedBlockClientId,'core/navigation',true)[0]};},[]);const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx('block-editor-block-card',className),children:[parentNavBlockClientId&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{onClick:()=>selectBlock(parentNavBlockClientId),label:(0,external_wp_i18n_namespaceObject.__)('Go to parent Navigation block'),style:{minWidth:24,padding:0},icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_right:chevron_left,size:"small"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:icon,showColors:true}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:1,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("h2",{className:"block-editor-block-card__title",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-block-card__name",children:!!name?.length?name:title}),!!name?.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(Badge,{children:title})]}),description&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{className:"block-editor-block-card__description",children:description})]})]});}
const block_card=(BlockCard);;let Type=function(Type){Type["Unknown"]="REDUX_UNKNOWN";Type["Add"]="ADD_ITEM";Type["Prepare"]="PREPARE_ITEM";Type["Cancel"]="CANCEL_ITEM";Type["Remove"]="REMOVE_ITEM";Type["PauseItem"]="PAUSE_ITEM";Type["ResumeItem"]="RESUME_ITEM";Type["PauseQueue"]="PAUSE_QUEUE";Type["ResumeQueue"]="RESUME_QUEUE";Type["OperationStart"]="OPERATION_START";Type["OperationFinish"]="OPERATION_FINISH";Type["AddOperations"]="ADD_OPERATIONS";Type["CacheBlobUrl"]="CACHE_BLOB_URL";Type["RevokeBlobUrls"]="REVOKE_BLOB_URLS";Type["UpdateSettings"]="UPDATE_SETTINGS";return Type;}({});let ItemStatus=function(ItemStatus){ItemStatus["Processing"]="PROCESSING";ItemStatus["Paused"]="PAUSED";return ItemStatus;}({});let OperationType=function(OperationType){OperationType["Prepare"]="PREPARE";OperationType["Upload"]="UPLOAD";return OperationType;}({});;const reducer_noop=()=>{};const DEFAULT_STATE={queue:[],queueStatus:'active',blobUrls:{},settings:{mediaUpload:reducer_noop}};function reducer_reducer(state=DEFAULT_STATE,action={type:Type.Unknown}){switch(action.type){case Type.PauseQueue:{return{...state,queueStatus:'paused'};}
case Type.ResumeQueue:{return{...state,queueStatus:'active'};}
case Type.Add:return{...state,queue:[...state.queue,action.item]};case Type.Cancel:return{...state,queue:state.queue.map(item=>item.id===action.id?{...item,error:action.error}:item)};case Type.Remove:return{...state,queue:state.queue.filter(item=>item.id!==action.id)};case Type.OperationStart:{return{...state,queue:state.queue.map(item=>item.id===action.id?{...item,currentOperation:action.operation}:item)};}
case Type.AddOperations:return{...state,queue:state.queue.map(item=>{if(item.id!==action.id){return item;}
return{...item,operations:[...(item.operations||[]),...action.operations]};})};case Type.OperationFinish:return{...state,queue:state.queue.map(item=>{if(item.id!==action.id){return item;}
const operations=item.operations?item.operations.slice(1):[];const attachment=item.attachment||action.item.attachment?{...item.attachment,...action.item.attachment}:undefined;return{...item,currentOperation:undefined,operations,...action.item,attachment,additionalData:{...item.additionalData,...action.item.additionalData}};})};case Type.CacheBlobUrl:{const blobUrls=state.blobUrls[action.id]||[];return{...state,blobUrls:{...state.blobUrls,[action.id]:[...blobUrls,action.blobUrl]}};}
case Type.RevokeBlobUrls:{const newBlobUrls={...state.blobUrls};delete newBlobUrls[action.id];return{...state,blobUrls:newBlobUrls};}
case Type.UpdateSettings:{return{...state,settings:{...state.settings,...action.settings}};}}
return state;}
const store_reducer=(reducer_reducer);;function getItems(state){return state.queue;}
function isUploading(state){return state.queue.length>=1;}
function isUploadingByUrl(state,url){return state.queue.some(item=>item.attachment?.url===url||item.sourceUrl===url);}
function isUploadingById(state,attachmentId){return state.queue.some(item=>item.attachment?.id===attachmentId||item.sourceAttachmentId===attachmentId);}
function selectors_getSettings(state){return state.settings;};function getAllItems(state){return state.queue;}
function getItem(state,id){return state.queue.find(item=>item.id===id);}
function isBatchUploaded(state,batchId){const batchItems=state.queue.filter(item=>batchId===item.batchId);return batchItems.length===0;}
function isUploadingToPost(state,postOrAttachmentId){return state.queue.some(item=>item.currentOperation===OperationType.Upload&&item.additionalData.post===postOrAttachmentId);}
function getPausedUploadForPost(state,postOrAttachmentId){return state.queue.find(item=>item.status===ItemStatus.Paused&&item.additionalData.post===postOrAttachmentId);}
function isPaused(state){return state.queueStatus==='paused';}
function getBlobUrls(state,id){return state.blobUrls[id]||[];};const randomUUID=typeof crypto!=='undefined'&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const esm_browser_native=({randomUUID});;let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){getRandomValues=typeof crypto!=='undefined'&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto);if(!getRandomValues){throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');}}
return getRandomValues(rnds8);};const byteToHex=[];for(let i=0;i<256;++i){byteToHex.push((i+0x100).toString(16).slice(1));}
function unsafeStringify(arr,offset=0){return byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+'-'+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+'-'+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+'-'+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+'-'+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]];}
function stringify(arr,offset=0){const uuid=unsafeStringify(arr,offset);if(!validate(uuid)){throw TypeError('Stringified UUID is invalid');}
return uuid;}
const esm_browser_stringify=((null&&(stringify)));;function v4(options,buf,offset){if(esm_browser_native.randomUUID&&!buf&&!options){return esm_browser_native.randomUUID();}
options=options||{};const rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&0x0f|0x40;rnds[8]=rnds[8]&0x3f|0x80;if(buf){offset=offset||0;for(let i=0;i<16;++i){buf[offset+i]=rnds[i];}
return buf;}
return unsafeStringify(rnds);}
const esm_browser_v4=(v4);;class UploadError extends Error{constructor({code,message,file,cause}){super(message,{cause});Object.setPrototypeOf(this,new.target.prototype);this.code=code;this.file=file;}};function validateMimeType(file,allowedTypes){if(!allowedTypes){return;}
const isAllowedType=allowedTypes.some(allowedType=>{if(allowedType.includes('/')){return allowedType===file.type;}
return file.type.startsWith(`${allowedType}/`);});if(file.type&&!isAllowedType){throw new UploadError({code:'MIME_TYPE_NOT_SUPPORTED',message:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s: Sorry, this file type is not supported here.'),file.name),file});}};function getMimeTypesArray(wpMimeTypesObject){if(!wpMimeTypesObject){return null;}
return Object.entries(wpMimeTypesObject).flatMap(([extensionsString,mime])=>{const[type]=mime.split('/');const extensions=extensionsString.split('|');return[mime,...extensions.map(extension=>`${type}/${extension}`)];});};function validateMimeTypeForUser(file,wpAllowedMimeTypes){const allowedMimeTypesForUser=getMimeTypesArray(wpAllowedMimeTypes);if(!allowedMimeTypesForUser){return;}
const isAllowedMimeTypeForUser=allowedMimeTypesForUser.includes(file.type);if(file.type&&!isAllowedMimeTypeForUser){throw new UploadError({code:'MIME_TYPE_NOT_ALLOWED_FOR_USER',message:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s: Sorry, you are not allowed to upload this file type.'),file.name),file});}};function validateFileSize(file,maxUploadFileSize){if(file.size<=0){throw new UploadError({code:'EMPTY_FILE',message:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s: This file is empty.'),file.name),file});}
if(maxUploadFileSize&&file.size>maxUploadFileSize){throw new UploadError({code:'SIZE_ABOVE_LIMIT',message:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s: This file exceeds the maximum upload size for this site.'),file.name),file});}};function addItems({files,onChange,onSuccess,onError,onBatchSuccess,additionalData,allowedTypes}){return async({select,dispatch})=>{const batchId=esm_browser_v4();for(const file of files){try{validateMimeType(file,allowedTypes);validateMimeTypeForUser(file,select.getSettings().allowedMimeTypes);}catch(error){onError?.(error);continue;}
try{validateFileSize(file,select.getSettings().maxUploadFileSize);}catch(error){onError?.(error);continue;}
dispatch.addItem({file,batchId,onChange,onSuccess,onBatchSuccess,onError,additionalData});}};}
function cancelItem(id,error,silent=false){return async({select,dispatch})=>{const item=select.getItem(id);if(!item){return;}
item.abortController?.abort();if(!silent){const{onError}=item;onError?.(error!==null&&error!==void 0?error:new Error('Upload cancelled'));if(!onError&&error){console.error('Upload cancelled',error);}}
dispatch({type:Type.Cancel,id,error});dispatch.removeItem(id);dispatch.revokeBlobUrls(id);if(item.batchId&&select.isBatchUploaded(item.batchId)){item.onBatchSuccess?.();}};};function convertBlobToFile(fileOrBlob){if(fileOrBlob instanceof File){return fileOrBlob;}
const ext=fileOrBlob.type.split('/')[1];const mediaType='application/pdf'===fileOrBlob.type?'document':fileOrBlob.type.split('/')[0];return new File([fileOrBlob],`${mediaType}.${ext}`,{type:fileOrBlob.type});}
function renameFile(file,name){return new File([file],name,{type:file.type,lastModified:file.lastModified});}
function cloneFile(file){return renameFile(file,file.name);}
function getFileExtension(file){return file.includes('.')?file.split('.').pop()||null:null;}
function getFileBasename(name){return name.includes('.')?name.split('.').slice(0,-1).join('.'):name;}
function getFileNameFromUrl(url){return getFilename(url)||_x('unnamed','file name');};class StubFile extends File{constructor(fileName='stub-file'){super([],fileName);}};function addItem({file:fileOrBlob,batchId,onChange,onSuccess,onBatchSuccess,onError,additionalData={},sourceUrl,sourceAttachmentId,abortController,operations}){return async({dispatch})=>{const itemId=esm_browser_v4();const file=convertBlobToFile(fileOrBlob);let blobUrl;if(!(file instanceof StubFile)){blobUrl=(0,external_wp_blob_namespaceObject.createBlobURL)(file);dispatch({type:Type.CacheBlobUrl,id:itemId,blobUrl});}
dispatch({type:Type.Add,item:{id:itemId,batchId,status:ItemStatus.Processing,sourceFile:cloneFile(file),file,attachment:{url:blobUrl},additionalData:{convert_format:false,...additionalData},onChange,onSuccess,onBatchSuccess,onError,sourceUrl,sourceAttachmentId,abortController:abortController||new AbortController(),operations:Array.isArray(operations)?operations:[OperationType.Prepare]}});dispatch.processItem(itemId);};}
function processItem(id){return async({select,dispatch})=>{if(select.isPaused()){return;}
const item=select.getItem(id);const{attachment,onChange,onSuccess,onBatchSuccess,batchId}=item;const operation=Array.isArray(item.operations?.[0])?item.operations[0][0]:item.operations?.[0];if(attachment){onChange?.([attachment]);}
if(!operation){if(attachment){onSuccess?.([attachment]);}
dispatch.revokeBlobUrls(id);if(batchId&&select.isBatchUploaded(batchId)){onBatchSuccess?.();}
return;}
if(!operation){return;}
dispatch({type:Type.OperationStart,id,operation});switch(operation){case OperationType.Prepare:dispatch.prepareItem(item.id);break;case OperationType.Upload:dispatch.uploadItem(id);break;}};}
function pauseQueue(){return{type:Type.PauseQueue};}
function resumeQueue(){return async({select,dispatch})=>{dispatch({type:Type.ResumeQueue});for(const item of select.getAllItems()){dispatch.processItem(item.id);}};}
function removeItem(id){return async({select,dispatch})=>{const item=select.getItem(id);if(!item){return;}
dispatch({type:Type.Remove,id});};}
function finishOperation(id,updates){return async({dispatch})=>{dispatch({type:Type.OperationFinish,id,item:updates});dispatch.processItem(id);};}
function prepareItem(id){return async({dispatch})=>{const operations=[OperationType.Upload];dispatch({type:Type.AddOperations,id,operations});dispatch.finishOperation(id,{});};}
function uploadItem(id){return async({select,dispatch})=>{const item=select.getItem(id);select.getSettings().mediaUpload({filesList:[item.file],additionalData:item.additionalData,signal:item.abortController?.signal,onFileChange:([attachment])=>{if(!(0,external_wp_blob_namespaceObject.isBlobURL)(attachment.url)){dispatch.finishOperation(id,{attachment});}},onSuccess:([attachment])=>{dispatch.finishOperation(id,{attachment});},onError:error=>{dispatch.cancelItem(id,error);}});};}
function revokeBlobUrls(id){return async({select,dispatch})=>{const blobUrls=select.getBlobUrls(id);for(const blobUrl of blobUrls){(0,external_wp_blob_namespaceObject.revokeBlobURL)(blobUrl);}
dispatch({type:Type.RevokeBlobUrls,id});};}
function private_actions_updateSettings(settings){return{type:Type.UpdateSettings,settings};};const{lock:lock_unlock_lock,unlock:lock_unlock_unlock}=(0,external_wp_privateApis_namespaceObject.__dangerousOptInToUnstableAPIsOnlyForCoreModules)('I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.','@wordpress/upload-media');;const constants_STORE_NAME='core/upload-media';;const store_storeConfig={reducer:store_reducer,selectors:store_selectors_namespaceObject,actions:store_actions_namespaceObject};const store_store=(0,external_wp_data_namespaceObject.createReduxStore)(constants_STORE_NAME,{reducer:store_reducer,selectors:store_selectors_namespaceObject,actions:store_actions_namespaceObject});(0,external_wp_data_namespaceObject.register)(store_store);lock_unlock_unlock(store_store).registerPrivateActions(store_private_actions_namespaceObject);lock_unlock_unlock(store_store).registerPrivateSelectors(store_private_selectors_namespaceObject);;function getSubRegistry(subRegistries,registry,useSubRegistry){if(!useSubRegistry){return registry;}
let subRegistry=subRegistries.get(registry);if(!subRegistry){subRegistry=(0,external_wp_data_namespaceObject.createRegistry)({},registry);subRegistry.registerStore(constants_STORE_NAME,store_storeConfig);subRegistries.set(registry,subRegistry);}
return subRegistry;}
const withRegistryProvider=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>({useSubRegistry=true,...props})=>{const registry=(0,external_wp_data_namespaceObject.useRegistry)();const[subRegistries]=(0,external_wp_element_namespaceObject.useState)(()=>new WeakMap());const subRegistry=getSubRegistry(subRegistries,registry,useSubRegistry);if(subRegistry===registry){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{registry:registry,...props});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_data_namespaceObject.RegistryProvider,{value:subRegistry,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{registry:subRegistry,...props})});},'withRegistryProvider');const with_registry_provider=(withRegistryProvider);;const MediaUploadProvider=with_registry_provider(props=>{const{children,settings}=props;const{updateSettings}=lock_unlock_unlock((0,external_wp_data_namespaceObject.useDispatch)(store_store));(0,external_wp_element_namespaceObject.useEffect)(()=>{updateSettings(settings);},[settings,updateSettings]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:children});});const provider=(MediaUploadProvider);;function with_registry_provider_getSubRegistry(subRegistries,registry,useSubRegistry){if(!useSubRegistry){return registry;}
let subRegistry=subRegistries.get(registry);if(!subRegistry){subRegistry=(0,external_wp_data_namespaceObject.createRegistry)({},registry);subRegistry.registerStore(STORE_NAME,storeConfig);subRegistries.set(registry,subRegistry);}
return subRegistry;}
const with_registry_provider_withRegistryProvider=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>({useSubRegistry=true,...props})=>{const registry=(0,external_wp_data_namespaceObject.useRegistry)();const[subRegistries]=(0,external_wp_element_namespaceObject.useState)(()=>new WeakMap());const subRegistry=with_registry_provider_getSubRegistry(subRegistries,registry,useSubRegistry);if(subRegistry===registry){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{registry:registry,...props});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_data_namespaceObject.RegistryProvider,{value:subRegistry,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{registry:subRegistry,...props})});},'withRegistryProvider');const provider_with_registry_provider=(with_registry_provider_withRegistryProvider);;const use_block_sync_noop=()=>{};function useBlockSync({clientId=null,value:controlledBlocks,selection:controlledSelection,onChange=use_block_sync_noop,onInput=use_block_sync_noop}){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{resetBlocks,resetSelection,replaceInnerBlocks,setHasControlledInnerBlocks,__unstableMarkNextChangeAsNotPersistent}=registry.dispatch(store);const{getBlockName,getBlocks,getSelectionStart,getSelectionEnd}=registry.select(store);const isControlled=(0,external_wp_data_namespaceObject.useSelect)(select=>{return!clientId||select(store).areInnerBlocksControlled(clientId);},[clientId]);const pendingChangesRef=(0,external_wp_element_namespaceObject.useRef)({incoming:null,outgoing:[]});const subscribedRef=(0,external_wp_element_namespaceObject.useRef)(false);const setControlledBlocks=()=>{if(!controlledBlocks){return;}
__unstableMarkNextChangeAsNotPersistent();if(clientId){registry.batch(()=>{setHasControlledInnerBlocks(clientId,true);const storeBlocks=controlledBlocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));if(subscribedRef.current){pendingChangesRef.current.incoming=storeBlocks;}
__unstableMarkNextChangeAsNotPersistent();replaceInnerBlocks(clientId,storeBlocks);});}else{if(subscribedRef.current){pendingChangesRef.current.incoming=controlledBlocks;}
resetBlocks(controlledBlocks);}};const unsetControlledBlocks=()=>{__unstableMarkNextChangeAsNotPersistent();if(clientId){setHasControlledInnerBlocks(clientId,false);__unstableMarkNextChangeAsNotPersistent();replaceInnerBlocks(clientId,[]);}else{resetBlocks([]);}};const onInputRef=(0,external_wp_element_namespaceObject.useRef)(onInput);const onChangeRef=(0,external_wp_element_namespaceObject.useRef)(onChange);(0,external_wp_element_namespaceObject.useEffect)(()=>{onInputRef.current=onInput;onChangeRef.current=onChange;},[onInput,onChange]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(pendingChangesRef.current.outgoing.includes(controlledBlocks)){if(pendingChangesRef.current.outgoing[pendingChangesRef.current.outgoing.length-1]===controlledBlocks){pendingChangesRef.current.outgoing=[];}}else if(getBlocks(clientId)!==controlledBlocks){pendingChangesRef.current.outgoing=[];setControlledBlocks();if(controlledSelection){resetSelection(controlledSelection.selectionStart,controlledSelection.selectionEnd,controlledSelection.initialPosition);}}},[controlledBlocks,clientId]);const isMountedRef=(0,external_wp_element_namespaceObject.useRef)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isMountedRef.current){isMountedRef.current=true;return;}
if(!isControlled){pendingChangesRef.current.outgoing=[];setControlledBlocks();}},[isControlled]);(0,external_wp_element_namespaceObject.useEffect)(()=>{const{getSelectedBlocksInitialCaretPosition,isLastBlockChangePersistent,__unstableIsLastBlockChangeIgnored,areInnerBlocksControlled}=registry.select(store);let blocks=getBlocks(clientId);let isPersistent=isLastBlockChangePersistent();let previousAreBlocksDifferent=false;subscribedRef.current=true;const unsubscribe=registry.subscribe(()=>{if(clientId!==null&&getBlockName(clientId)===null){return;}
const isStillControlled=!clientId||areInnerBlocksControlled(clientId);if(!isStillControlled){return;}
const newIsPersistent=isLastBlockChangePersistent();const newBlocks=getBlocks(clientId);const areBlocksDifferent=newBlocks!==blocks;blocks=newBlocks;if(areBlocksDifferent&&(pendingChangesRef.current.incoming||__unstableIsLastBlockChangeIgnored())){pendingChangesRef.current.incoming=null;isPersistent=newIsPersistent;return;}
const didPersistenceChange=previousAreBlocksDifferent&&!areBlocksDifferent&&newIsPersistent&&!isPersistent;if(areBlocksDifferent||didPersistenceChange){isPersistent=newIsPersistent;pendingChangesRef.current.outgoing.push(blocks);const updateParent=isPersistent?onChangeRef.current:onInputRef.current;updateParent(blocks,{selection:{selectionStart:getSelectionStart(),selectionEnd:getSelectionEnd(),initialPosition:getSelectedBlocksInitialCaretPosition()}});}
previousAreBlocksDifferent=areBlocksDifferent;},store);return()=>{subscribedRef.current=false;unsubscribe();};},[registry,clientId]);(0,external_wp_element_namespaceObject.useEffect)(()=>{return()=>{unsetControlledBlocks();};},[]);};const external_wp_keyboardShortcuts_namespaceObject=window["wp"]["keyboardShortcuts"];;function KeyboardShortcuts(){return null;}
function KeyboardShortcutsRegister(){const{registerShortcut}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_keyboardShortcuts_namespaceObject.store);(0,external_wp_element_namespaceObject.useEffect)(()=>{registerShortcut({name:'core/block-editor/copy',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Copy the selected block(s).'),keyCombination:{modifier:'primary',character:'c'}});registerShortcut({name:'core/block-editor/cut',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Cut the selected block(s).'),keyCombination:{modifier:'primary',character:'x'}});registerShortcut({name:'core/block-editor/paste',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Paste the selected block(s).'),keyCombination:{modifier:'primary',character:'v'}});registerShortcut({name:'core/block-editor/duplicate',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Duplicate the selected block(s).'),keyCombination:{modifier:'primaryShift',character:'d'}});registerShortcut({name:'core/block-editor/remove',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Remove the selected block(s).'),keyCombination:{modifier:'access',character:'z'}});registerShortcut({name:'core/block-editor/insert-before',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Insert a new block before the selected block(s).'),keyCombination:{modifier:'primaryAlt',character:'t'}});registerShortcut({name:'core/block-editor/insert-after',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Insert a new block after the selected block(s).'),keyCombination:{modifier:'primaryAlt',character:'y'}});registerShortcut({name:'core/block-editor/delete-multi-selection',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Delete selection.'),keyCombination:{character:'del'},aliases:[{character:'backspace'}]});registerShortcut({name:'core/block-editor/select-all',category:'selection',description:(0,external_wp_i18n_namespaceObject.__)('Select all text when typing. Press again to select all blocks.'),keyCombination:{modifier:'primary',character:'a'}});registerShortcut({name:'core/block-editor/unselect',category:'selection',description:(0,external_wp_i18n_namespaceObject.__)('Clear selection.'),keyCombination:{character:'escape'}});registerShortcut({name:'core/block-editor/multi-text-selection',category:'selection',description:(0,external_wp_i18n_namespaceObject.__)('Select text across multiple blocks.'),keyCombination:{modifier:'shift',character:'arrow'}});registerShortcut({name:'core/block-editor/focus-toolbar',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Navigate to the nearest toolbar.'),keyCombination:{modifier:'alt',character:'F10'}});registerShortcut({name:'core/block-editor/move-up',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Move the selected block(s) up.'),keyCombination:{modifier:'secondary',character:'t'}});registerShortcut({name:'core/block-editor/move-down',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Move the selected block(s) down.'),keyCombination:{modifier:'secondary',character:'y'}});registerShortcut({name:'core/block-editor/collapse-list-view',category:'list-view',description:(0,external_wp_i18n_namespaceObject.__)('Collapse all other items.'),keyCombination:{modifier:'alt',character:'l'}});registerShortcut({name:'core/block-editor/group',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Create a group block from the selected multiple blocks.'),keyCombination:{modifier:'primary',character:'g'}});},[registerShortcut]);return null;}
KeyboardShortcuts.Register=KeyboardShortcutsRegister;const keyboard_shortcuts=(KeyboardShortcuts);;function useMediaUploadSettings(settings={}){return(0,external_wp_element_namespaceObject.useMemo)(()=>({mediaUpload:settings.mediaUpload,mediaSideload:settings.mediaSideload,maxUploadFileSize:settings.maxUploadFileSize,allowedMimeTypes:settings.allowedMimeTypes}),[settings]);}
const use_media_upload_settings=(useMediaUploadSettings);;const provider_noop=()=>{};function mediaUpload(registry,{allowedTypes,additionalData={},filesList,onError=provider_noop,onFileChange,onSuccess,onBatchSuccess}){void registry.dispatch(store_store).addItems({files:filesList,onChange:onFileChange,onSuccess,onBatchSuccess,onError:({message})=>onError(message),additionalData,allowedTypes});}
const ExperimentalBlockEditorProvider=provider_with_registry_provider(props=>{const{settings:_settings,registry,stripExperimentalSettings=false}=props;const mediaUploadSettings=use_media_upload_settings(_settings);let settings=_settings;if(window.__experimentalMediaProcessing&&_settings.mediaUpload){settings=(0,external_wp_element_namespaceObject.useMemo)(()=>({..._settings,mediaUpload:mediaUpload.bind(null,registry)}),[_settings,registry]);}
const{__experimentalUpdateSettings}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));(0,external_wp_element_namespaceObject.useEffect)(()=>{__experimentalUpdateSettings({...settings,__internalIsInitialized:true},{stripExperimentalSettings,reset:true});},[settings,stripExperimentalSettings,__experimentalUpdateSettings]);useBlockSync(props);const children=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.SlotFillProvider,{passthrough:true,children:[!settings?.isPreviewMode&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(keyboard_shortcuts.Register,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockRefsProvider,{children:props.children})]});if(window.__experimentalMediaProcessing){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(provider,{settings:mediaUploadSettings,useSubRegistry:false,children:children});}
return children;});const BlockEditorProvider=props=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ExperimentalBlockEditorProvider,{...props,stripExperimentalSettings:true,children:props.children});};const components_provider=(BlockEditorProvider);;const block_context_Context=(0,external_wp_element_namespaceObject.createContext)({});function BlockContextProvider({value,children}){const context=(0,external_wp_element_namespaceObject.useContext)(block_context_Context);const nextValue=(0,external_wp_element_namespaceObject.useMemo)(()=>({...context,...value}),[context,value]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_context_Context.Provider,{value:nextValue,children:children});}
const block_context=(block_context_Context);;const DEFAULT_ATTRIBUTE='__default';const PATTERN_OVERRIDES_SOURCE='core/pattern-overrides';const BLOCK_BINDINGS_ALLOWED_BLOCKS={'core/paragraph':['content'],'core/heading':['content'],'core/image':['id','url','title','alt'],'core/button':['url','text','linkTarget','rel']};function isObjectEmpty(object){return!object||Object.keys(object).length===0;}
function canBindBlock(blockName){return blockName in BLOCK_BINDINGS_ALLOWED_BLOCKS;}
function canBindAttribute(blockName,attributeName){return canBindBlock(blockName)&&BLOCK_BINDINGS_ALLOWED_BLOCKS[blockName].includes(attributeName);}
function getBindableAttributes(blockName){return BLOCK_BINDINGS_ALLOWED_BLOCKS[blockName];}
function hasPatternOverridesDefaultBinding(bindings){return bindings?.[DEFAULT_ATTRIBUTE]?.source===PATTERN_OVERRIDES_SOURCE;}
function replacePatternOverridesDefaultBinding(blockName,bindings){if(hasPatternOverridesDefaultBinding(bindings)){const supportedAttributes=BLOCK_BINDINGS_ALLOWED_BLOCKS[blockName];const bindingsWithDefaults={};for(const attributeName of supportedAttributes){const bindingSource=bindings[attributeName]?bindings[attributeName]:{source:PATTERN_OVERRIDES_SOURCE};bindingsWithDefaults[attributeName]=bindingSource;}
return bindingsWithDefaults;}
return bindings;}
function useBlockBindingsUtils(clientId){const{clientId:contextClientId}=useBlockEditContext();const blockClientId=clientId||contextClientId;const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{getBlockAttributes}=(0,external_wp_data_namespaceObject.useRegistry)().select(store);const updateBlockBindings=bindings=>{const{metadata:{bindings:currentBindings,...metadata}={}}=getBlockAttributes(blockClientId);const newBindings={...currentBindings};Object.entries(bindings).forEach(([attribute,binding])=>{if(!binding&&newBindings[attribute]){delete newBindings[attribute];return;}
newBindings[attribute]=binding;});const newMetadata={...metadata,bindings:newBindings};if(isObjectEmpty(newMetadata.bindings)){delete newMetadata.bindings;}
updateBlockAttributes(blockClientId,{metadata:isObjectEmpty(newMetadata)?undefined:newMetadata});};const removeAllBlockBindings=()=>{const{metadata:{bindings,...metadata}={}}=getBlockAttributes(blockClientId);updateBlockAttributes(blockClientId,{metadata:isObjectEmpty(metadata)?undefined:metadata});};return{updateBlockBindings,removeAllBlockBindings};};const DEFAULT_BLOCK_CONTEXT={};const Edit=props=>{const{name}=props;const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);if(!blockType){return null;}
const Component=blockType.edit||blockType.save;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Component,{...props});};const EditWithFilters=(0,external_wp_components_namespaceObject.withFilters)('editor.BlockEdit')(Edit);const EditWithGeneratedProps=props=>{const{name,clientId,attributes,setAttributes}=props;const registry=(0,external_wp_data_namespaceObject.useRegistry)();const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);const blockContext=(0,external_wp_element_namespaceObject.useContext)(block_context);const registeredSources=(0,external_wp_data_namespaceObject.useSelect)(select=>unlock(select(external_wp_blocks_namespaceObject.store)).getAllBlockBindingsSources(),[]);const{blockBindings,context,hasPatternOverrides}=(0,external_wp_element_namespaceObject.useMemo)(()=>{const computedContext=blockType?.usesContext?Object.fromEntries(Object.entries(blockContext).filter(([key])=>blockType.usesContext.includes(key))):DEFAULT_BLOCK_CONTEXT;if(attributes?.metadata?.bindings){Object.values(attributes?.metadata?.bindings||{}).forEach(binding=>{registeredSources[binding?.source]?.usesContext?.forEach(key=>{computedContext[key]=blockContext[key];});});}
return{blockBindings:replacePatternOverridesDefaultBinding(name,attributes?.metadata?.bindings),context:computedContext,hasPatternOverrides:hasPatternOverridesDefaultBinding(attributes?.metadata?.bindings)};},[name,blockType?.usesContext,blockContext,attributes?.metadata?.bindings,registeredSources]);const computedAttributes=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!blockBindings){return attributes;}
const attributesFromSources={};const blockBindingsBySource=new Map();for(const[attributeName,binding]of Object.entries(blockBindings)){const{source:sourceName,args:sourceArgs}=binding;const source=registeredSources[sourceName];if(!source||!canBindAttribute(name,attributeName)){continue;}
blockBindingsBySource.set(source,{...blockBindingsBySource.get(source),[attributeName]:{args:sourceArgs}});}
if(blockBindingsBySource.size){for(const[source,bindings]of blockBindingsBySource){let values={};if(!source.getValues){Object.keys(bindings).forEach(attr=>{values[attr]=source.label;});}else{values=source.getValues({select,context,clientId,bindings});}
for(const[attributeName,value]of Object.entries(values)){if(attributeName==='url'&&(!value||!isURLLike(value))){attributesFromSources[attributeName]=null;}else{attributesFromSources[attributeName]=value;}}}}
return{...attributes,...attributesFromSources};},[attributes,blockBindings,clientId,context,name,registeredSources]);const setBoundAttributes=(0,external_wp_element_namespaceObject.useCallback)(nextAttributes=>{if(!blockBindings){setAttributes(nextAttributes);return;}
registry.batch(()=>{const keptAttributes={...nextAttributes};const blockBindingsBySource=new Map();for(const[attributeName,newValue]of Object.entries(keptAttributes)){if(!blockBindings[attributeName]||!canBindAttribute(name,attributeName)){continue;}
const binding=blockBindings[attributeName];const source=registeredSources[binding?.source];if(!source?.setValues){continue;}
blockBindingsBySource.set(source,{...blockBindingsBySource.get(source),[attributeName]:{args:binding.args,newValue}});delete keptAttributes[attributeName];}
if(blockBindingsBySource.size){for(const[source,bindings]of blockBindingsBySource){source.setValues({select:registry.select,dispatch:registry.dispatch,context,clientId,bindings});}}
const hasParentPattern=!!context['pattern/overrides'];if(!(hasPatternOverrides&&hasParentPattern)&&Object.keys(keptAttributes).length){if(hasPatternOverrides){delete keptAttributes.caption;delete keptAttributes.href;}
setAttributes(keptAttributes);}});},[blockBindings,clientId,context,hasPatternOverrides,setAttributes,registeredSources,name,registry]);if(!blockType){return null;}
if(blockType.apiVersion>1){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(EditWithFilters,{...props,attributes:computedAttributes,context:context,setAttributes:setBoundAttributes});}
const generatedClassName=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'className',true)?(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(name):null;const className=dist_clsx(generatedClassName,attributes?.className,props.className);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(EditWithFilters,{...props,attributes:computedAttributes,className:className,context:context,setAttributes:setBoundAttributes});};const block_edit_edit=(EditWithGeneratedProps);;const moreVertical=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})});const more_vertical=(moreVertical);;function Warning({className,actions,children,secondaryActions}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{style:{display:'contents',all:'initial'},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:dist_clsx(className,'block-editor-warning'),children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-warning__contents",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{className:"block-editor-warning__message",children:children}),(actions?.length>0||secondaryActions)&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-warning__actions",children:[actions?.length>0&&actions.map((action,i)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-warning__action",children:action},i)),secondaryActions&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{className:"block-editor-warning__secondary",icon:more_vertical,label:(0,external_wp_i18n_namespaceObject.__)('More options'),popoverProps:{position:'bottom left',className:'block-editor-warning__dropdown'},noIcons:true,children:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{children:secondaryActions.map((item,pos)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:item.onClick,children:item.title},pos))})})]})]})})});}
const warning=(Warning);;function MultipleUsageWarning({originalBlockClientId,name,onReplace}){const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(warning,{actions:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"secondary",onClick:()=>selectBlock(originalBlockClientId),children:(0,external_wp_i18n_namespaceObject.__)('Find original')},"find-original"),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"secondary",onClick:()=>onReplace([]),children:(0,external_wp_i18n_namespaceObject.__)('Remove')},"remove")],children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("strong",{children:[blockType?.title,": "]}),(0,external_wp_i18n_namespaceObject.__)('This block can only be used once.')]});};const PrivateBlockContext=(0,external_wp_element_namespaceObject.createContext)({});;function BlockEdit({mayDisplayControls,mayDisplayParentControls,blockEditingMode,isPreviewMode,...props}){const{name,isSelected,clientId,attributes={},__unstableLayoutClassNames}=props;const{layout=null,metadata={}}=attributes;const{bindings}=metadata;const layoutSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'layout',false)||(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'__experimentalLayout',false);const{originalBlockClientId}=(0,external_wp_element_namespaceObject.useContext)(PrivateBlockContext);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Provider,{value:(0,external_wp_element_namespaceObject.useMemo)(()=>({name,isSelected,clientId,layout:layoutSupport?layout:null,__unstableLayoutClassNames,[mayDisplayControlsKey]:mayDisplayControls,[mayDisplayParentControlsKey]:mayDisplayParentControls,[blockEditingModeKey]:blockEditingMode,[blockBindingsKey]:bindings,[isPreviewModeKey]:isPreviewMode}),[name,isSelected,clientId,layoutSupport,layout,__unstableLayoutClassNames,mayDisplayControls,mayDisplayParentControls,blockEditingMode,bindings,isPreviewMode]),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_edit_edit,{...props}),originalBlockClientId&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(MultipleUsageWarning,{originalBlockClientId:originalBlockClientId,name:name,onReplace:props.onReplace})]});}
var character=__webpack_require__(8021);;function BlockView({title,rawContent,renderedContent,action,actionText,className}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:className,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-compare__content",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("h2",{className:"block-editor-block-compare__heading",children:title}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-compare__html",children:rawContent}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-compare__preview edit-post-visual-editor",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_element_namespaceObject.RawHTML,{children:(0,external_wp_dom_namespaceObject.safeHTML)(renderedContent)})})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-compare__action",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"secondary",tabIndex:"0",onClick:action,children:actionText})})]});};function BlockCompare({block,onKeep,onConvert,convertor,convertButtonText}){function getDifference(originalContent,newContent){const difference=(0,character.JJ)(originalContent,newContent);return difference.map((item,pos)=>{const classes=dist_clsx({'block-editor-block-compare__added':item.added,'block-editor-block-compare__removed':item.removed});return(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:classes,children:item.value},pos);});}
function getConvertedContent(convertedBlock){const newBlocks=Array.isArray(convertedBlock)?convertedBlock:[convertedBlock];const newContent=newBlocks.map(item=>(0,external_wp_blocks_namespaceObject.getSaveContent)(item.name,item.attributes,item.innerBlocks));return newContent.join('');}
const converted=getConvertedContent(convertor(block));const difference=getDifference(block.originalContent,converted);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-compare__wrapper",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockView,{title:(0,external_wp_i18n_namespaceObject.__)('Current'),className:"block-editor-block-compare__current",action:onKeep,actionText:(0,external_wp_i18n_namespaceObject.__)('Convert to HTML'),rawContent:block.originalContent,renderedContent:block.originalContent}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockView,{title:(0,external_wp_i18n_namespaceObject.__)('After Conversion'),className:"block-editor-block-compare__converted",action:onConvert,actionText:convertButtonText,rawContent:difference,renderedContent:converted})]});}
const block_compare=(BlockCompare);;const blockToBlocks=block=>(0,external_wp_blocks_namespaceObject.rawHandler)({HTML:block.originalContent});function BlockInvalidWarning({clientId}){const{block,canInsertHTMLBlock,canInsertClassicBlock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canInsertBlockType,getBlock,getBlockRootClientId}=select(store);const rootClientId=getBlockRootClientId(clientId);return{block:getBlock(clientId),canInsertHTMLBlock:canInsertBlockType('core/html',rootClientId),canInsertClassicBlock:canInsertBlockType('core/freeform',rootClientId)};},[clientId]);const{replaceBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const[compare,setCompare]=(0,external_wp_element_namespaceObject.useState)(false);const onCompareClose=(0,external_wp_element_namespaceObject.useCallback)(()=>setCompare(false),[]);const convert=(0,external_wp_element_namespaceObject.useMemo)(()=>({toClassic(){const classicBlock=(0,external_wp_blocks_namespaceObject.createBlock)('core/freeform',{content:block.originalContent});return replaceBlock(block.clientId,classicBlock);},toHTML(){const htmlBlock=(0,external_wp_blocks_namespaceObject.createBlock)('core/html',{content:block.originalContent});return replaceBlock(block.clientId,htmlBlock);},toBlocks(){const newBlocks=blockToBlocks(block);return replaceBlock(block.clientId,newBlocks);},toRecoveredBlock(){const recoveredBlock=(0,external_wp_blocks_namespaceObject.createBlock)(block.name,block.attributes,block.innerBlocks);return replaceBlock(block.clientId,recoveredBlock);}}),[block,replaceBlock]);const secondaryActions=(0,external_wp_element_namespaceObject.useMemo)(()=>[{title:(0,external_wp_i18n_namespaceObject._x)('Resolve','imperative verb'),onClick:()=>setCompare(true)},canInsertHTMLBlock&&{title:(0,external_wp_i18n_namespaceObject.__)('Convert to HTML'),onClick:convert.toHTML},canInsertClassicBlock&&{title:(0,external_wp_i18n_namespaceObject.__)('Convert to Classic Block'),onClick:convert.toClassic}].filter(Boolean),[canInsertHTMLBlock,canInsertClassicBlock,convert]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(warning,{actions:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,onClick:convert.toRecoveredBlock,variant:"primary",children:(0,external_wp_i18n_namespaceObject.__)('Attempt recovery')},"recover")],secondaryActions:secondaryActions,children:(0,external_wp_i18n_namespaceObject.__)('Block contains unexpected or invalid content.')}),compare&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.__)('Resolve Block'),onRequestClose:onCompareClose,className:"block-editor-block-compare",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_compare,{block:block,onKeep:convert.toHTML,onConvert:convert.toBlocks,convertor:blockToBlocks,convertButtonText:(0,external_wp_i18n_namespaceObject.__)('Convert to Blocks')})})]});};const block_crash_warning_warning=(0,external_ReactJSXRuntime_namespaceObject.jsx)(warning,{className:"block-editor-block-list__block-crash-warning",children:(0,external_wp_i18n_namespaceObject.__)('This block has encountered an error and cannot be previewed.')});const block_crash_warning=(()=>block_crash_warning_warning);;class BlockCrashBoundary extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.state={hasError:false};}
componentDidCatch(){this.setState({hasError:true});}
render(){if(this.state.hasError){return this.props.fallback;}
return this.props.children;}}
const block_crash_boundary=(BlockCrashBoundary);var lib=__webpack_require__(4132);;function BlockHTML({clientId}){const[html,setHtml]=(0,external_wp_element_namespaceObject.useState)('');const block=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlock(clientId),[clientId]);const{updateBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onChange=()=>{const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(block.name);if(!blockType){return;}
const attributes=(0,external_wp_blocks_namespaceObject.getBlockAttributes)(blockType,html,block.attributes);const content=html?html:(0,external_wp_blocks_namespaceObject.getSaveContent)(blockType,attributes);const[isValid]=html?(0,external_wp_blocks_namespaceObject.validateBlock)({...block,attributes,originalContent:content}):[true];updateBlock(clientId,{attributes,originalContent:content,isValid});if(!html){setHtml(content);}};(0,external_wp_element_namespaceObject.useEffect)(()=>{setHtml((0,external_wp_blocks_namespaceObject.getBlockContent)(block));},[block]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(lib.A,{className:"block-editor-block-list__block-html-textarea",value:html,onBlur:onChange,onChange:event=>setHtml(event.target.value)});}
const block_html=(BlockHTML);;var esm_f=esm_l(),esm_n=e=>esm_c(e,esm_f),esm_m=esm_l();esm_n.write=e=>esm_c(e,esm_m);var esm_d=esm_l();esm_n.onStart=e=>esm_c(e,esm_d);var esm_h=esm_l();esm_n.onFrame=e=>esm_c(e,esm_h);var esm_p=esm_l();esm_n.onFinish=e=>esm_c(e,esm_p);var esm_i=[];esm_n.setTimeout=(e,t)=>{let a=esm_n.now()+t,o=()=>{let F=esm_i.findIndex(z=>z.cancel==o);~F&&esm_i.splice(F,1),esm_u-=~F?1:0},s={time:a,handler:e,cancel:o};return esm_i.splice(esm_w(a),0,s),esm_u+=1,esm_v(),s};var esm_w=e=>~(~esm_i.findIndex(t=>t.time>e)||~esm_i.length);esm_n.cancel=e=>{esm_d.delete(e),esm_h.delete(e),esm_p.delete(e),esm_f.delete(e),esm_m.delete(e)};esm_n.sync=e=>{T=!0,esm_n.batchedUpdates(e),T=!1};esm_n.throttle=e=>{let t;function a(){try{e(...t)}finally{t=null}}function o(...s){t=s,esm_n.onStart(a)}return o.handler=e,o.cancel=()=>{esm_d.delete(a),t=null},o};var esm_y=typeof window<"u"?window.requestAnimationFrame:()=>{};esm_n.use=e=>esm_y=e;esm_n.now=typeof performance<"u"?()=>performance.now():Date.now;esm_n.batchedUpdates=e=>e();esm_n.catch=console.error;esm_n.frameLoop="always";esm_n.advance=()=>{esm_n.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):esm_x()};var esm_r=-1,esm_u=0,T=!1;function esm_c(e,t){T?(t.delete(e),e(0)):(t.add(e),esm_v())}function esm_v(){esm_r<0&&(esm_r=0,esm_n.frameLoop!=="demand"&&esm_y(esm_b))}function esm_R(){esm_r=-1}function esm_b(){~esm_r&&(esm_y(esm_b),esm_n.batchedUpdates(esm_x))}function esm_x(){let e=esm_r;esm_r=esm_n.now();let t=esm_w(esm_r);if(t&&(Q(esm_i.splice(0,t),a=>a.handler()),esm_u-=t),!esm_u){esm_R();return}esm_d.flush(),esm_f.flush(e?Math.min(64,esm_r-e):16.667),esm_h.flush(),esm_m.flush(),esm_p.flush()}function esm_l(){let e=new Set,t=e;return{add(a){esm_u+=t==e&&!e.has(a)?1:0,e.add(a)},delete(a){return esm_u-=t==e&&e.has(a)?1:0,e.delete(a)},flush(a){t.size&&(e=new Set,esm_u-=t.size,Q(t,o=>o(a)&&e.add(o)),esm_u+=e.size,t=e)}}}function Q(e,t){e.forEach(a=>{try{t(a)}catch(o){esm_n.catch(o)}})}var esm_S={count(){return esm_u},isRunning(){return esm_r>=0},clear(){esm_r=-1,esm_i=[],esm_d=esm_l(),esm_f=esm_l(),esm_h=esm_l(),esm_m=esm_l(),esm_p=esm_l(),esm_u=0}};;var ze=Object.defineProperty;var Le=(e,t)=>{for(var r in t)ze(e,r,{get:t[r],enumerable:!0})};var dist_esm_p={};Le(dist_esm_p,{assign:()=>U,colors:()=>dist_esm_c,createStringInterpolator:()=>esm_k,skipAnimation:()=>ee,to:()=>J,willAdvance:()=>dist_esm_S});function Y(){}var mt=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),dist_esm_l={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function bt(e,t){if(dist_esm_l.arr(e)){if(!dist_esm_l.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var esm_Ve=(e,t)=>e.forEach(t);function xt(e,t,r){if(dist_esm_l.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(let n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var ht=e=>dist_esm_l.und(e)?[]:dist_esm_l.arr(e)?e:[e];function Pe(e,t){if(e.size){let r=Array.from(e);e.clear(),esm_Ve(r,t)}}var yt=(e,...t)=>Pe(e,r=>r(...t)),dist_esm_h=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);var esm_k,J,dist_esm_c=null,ee=!1,dist_esm_S=Y,U=e=>{e.to&&(J=e.to),e.now&&(esm_n.now=e.now),e.colors!==void 0&&(dist_esm_c=e.colors),e.skipAnimation!=null&&(ee=e.skipAnimation),e.createStringInterpolator&&(esm_k=e.createStringInterpolator),e.requestAnimationFrame&&esm_n.use(e.requestAnimationFrame),e.batchedUpdates&&(esm_n.batchedUpdates=e.batchedUpdates),e.willAdvance&&(dist_esm_S=e.willAdvance),e.frameLoop&&(esm_n.frameLoop=e.frameLoop)};var esm_E=new Set,dist_esm_u=[],esm_H=[],A=0,qe={get idle(){return!esm_E.size&&!dist_esm_u.length},start(e){A>e.priority?(esm_E.add(e),esm_n.onStart($e)):(te(e),esm_n(B))},advance:B,sort(e){if(A)esm_n.onFrame(()=>qe.sort(e));else{let t=dist_esm_u.indexOf(e);~t&&(dist_esm_u.splice(t,1),re(e))}},clear(){dist_esm_u=[],esm_E.clear()}};function $e(){esm_E.forEach(te),esm_E.clear(),esm_n(B)}function te(e){dist_esm_u.includes(e)||re(e)}function re(e){dist_esm_u.splice(Ge(dist_esm_u,t=>t.priority>e.priority),0,e)}function B(e){let t=esm_H;for(let r=0;r<dist_esm_u.length;r++){let n=dist_esm_u[r];A=n.priority,n.idle||(dist_esm_S(n),n.advance(e),n.idle||t.push(n))}return A=0,esm_H=dist_esm_u,esm_H.length=0,dist_esm_u=t,dist_esm_u.length>0}function Ge(e,t){let r=e.findIndex(t);return r<0?e.length:r}var ne=(e,t,r)=>Math.min(Math.max(r,e),t);var It={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};var dist_esm_d="[-+]?\\d*\\.?\\d+",esm_M=dist_esm_d+"%";function C(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var oe=new RegExp("rgb"+C(dist_esm_d,dist_esm_d,dist_esm_d)),fe=new RegExp("rgba"+C(dist_esm_d,dist_esm_d,dist_esm_d,dist_esm_d)),ae=new RegExp("hsl"+C(dist_esm_d,esm_M,esm_M)),ie=new RegExp("hsla"+C(dist_esm_d,esm_M,esm_M,dist_esm_d)),se=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,le=/^#([0-9a-fA-F]{6})$/,esm_ce=/^#([0-9a-fA-F]{8})$/;function be(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=le.exec(e))?parseInt(t[1]+"ff",16)>>>0:dist_esm_c&&dist_esm_c[e]!==void 0?dist_esm_c[e]:(t=oe.exec(e))?(dist_esm_y(t[1])<<24|dist_esm_y(t[2])<<16|dist_esm_y(t[3])<<8|255)>>>0:(t=fe.exec(e))?(dist_esm_y(t[1])<<24|dist_esm_y(t[2])<<16|dist_esm_y(t[3])<<8|me(t[4]))>>>0:(t=se.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=esm_ce.exec(e))?parseInt(t[1],16)>>>0:(t=ue.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ae.exec(e))?(de(esm_pe(t[1]),esm_z(t[2]),esm_z(t[3]))|255)>>>0:(t=ie.exec(e))?(de(esm_pe(t[1]),esm_z(t[2]),esm_z(t[3]))|me(t[4]))>>>0:null}function esm_j(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function de(e,t,r){let n=r<.5?r*(1+t):r+t-r*t,f=2*r-n,o=esm_j(f,n,e+1/3),i=esm_j(f,n,e),s=esm_j(f,n,e-1/3);return Math.round(o*255)<<24|Math.round(i*255)<<16|Math.round(s*255)<<8}function dist_esm_y(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function esm_pe(e){return(parseFloat(e)%360+360)%360/360}function me(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function esm_z(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function D(e){let t=be(e);if(t===null)return e;t=t||0;let r=(t&4278190080)>>>24,n=(t&16711680)>>>16,f=(t&65280)>>>8,o=(t&255)/255;return`rgba(${r}, ${n}, ${f}, ${o})`}var W=(e,t,r)=>{if(dist_esm_l.fun(e))return e;if(dist_esm_l.arr(e))return W({range:e,output:t,extrapolate:r});if(dist_esm_l.str(e.output[0]))return esm_k(e);let n=e,f=n.output,o=n.range||[0,1],i=n.extrapolateLeft||n.extrapolate||"extend",s=n.extrapolateRight||n.extrapolate||"extend",x=n.easing||(a=>a);return a=>{let F=He(a,o);return Ue(a,o[F],o[F+1],f[F],f[F+1],x,i,s,n.map)}};function Ue(e,t,r,n,f,o,i,s,x){let a=x?x(e):e;if(a<t){if(i==="identity")return a;i==="clamp"&&(a=t)}if(a>r){if(s==="identity")return a;s==="clamp"&&(a=r)}return n===f?n:t===r?e<=t?n:f:(t===-1/0?a=-a:r===1/0?a=a-t:a=(a-t)/(r-t),a=o(a),n===-1/0?a=-a:f===1/0?a=a+n:a=a*(f-n)+n,a)}function He(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var Be=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);let n=r*e,f=t==="end"?Math.floor(n):Math.ceil(n);return ne(0,1,f/e)},P=1.70158,L=P*1.525,xe=P+1,he=2*Math.PI/3,ye=2*Math.PI/4.5,V=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Lt={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>xe*e*e*e-P*e*e,easeOutBack:e=>1+xe*Math.pow(e-1,3)+P*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((L+1)*2*e-L)/2:(Math.pow(2*e-2,2)*((L+1)*(e*2-2)+L)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*he),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*he)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*ye))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*ye)/2+1,easeInBounce:e=>1-V(1-e),easeOutBounce:V,easeInOutBounce:e=>e<.5?(1-V(1-2*e))/2:(1+V(2*e-1))/2,steps:Be};var esm_g=Symbol.for("FluidValue.get"),dist_esm_m=Symbol.for("FluidValue.observers");var Pt=e=>Boolean(e&&e[esm_g]),ve=e=>e&&e[esm_g]?e[esm_g]():e,esm_qt=e=>e[dist_esm_m]||null;function je(e,t){e.eventObserved?e.eventObserved(t):e(t)}function $t(e,t){let r=e[dist_esm_m];r&&r.forEach(n=>{je(n,t)})}var esm_ge=class{[esm_g];[dist_esm_m];constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");De(this,t)}},De=(e,t)=>Ee(e,esm_g,t);function Gt(e,t){if(e[esm_g]){let r=e[dist_esm_m];r||Ee(e,dist_esm_m,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function Qt(e,t){let r=e[dist_esm_m];if(r&&r.has(t)){let n=r.size-1;n?r.delete(t):e[dist_esm_m]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var Ee=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0});var O=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,esm_Oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,K=new RegExp(`(${O.source})(%|[a-z]+)`,"i"),we=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,dist_esm_b=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var esm_N=e=>{let[t,r]=We(e);if(!t||dist_esm_h())return e;let n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){let f=window.getComputedStyle(document.documentElement).getPropertyValue(r);return f||e}else{if(r&&dist_esm_b.test(r))return esm_N(r);if(r)return r}return e},We=e=>{let t=dist_esm_b.exec(e);if(!t)return[,];let[,r,n]=t;return[r,n]};var _,esm_Ke=(e,t,r,n,f)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${f})`,Xt=e=>{_||(_=dist_esm_c?new RegExp(`(${Object.keys(dist_esm_c).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(o=>ve(o).replace(dist_esm_b,esm_N).replace(esm_Oe,D).replace(_,D)),r=t.map(o=>o.match(O).map(Number)),f=r[0].map((o,i)=>r.map(s=>{if(!(i in s))throw Error('The arity of each "output" value must be equal');return s[i]})).map(o=>W({...e,output:o}));return o=>{let i=!K.test(t[0])&&t.find(x=>K.test(x))?.replace(O,""),s=0;return t[0].replace(O,()=>`${f[s++](o)}${i||""}`).replace(we,esm_Ke)}};var Z="react-spring: ",Te=e=>{let t=e,r=!1;if(typeof t!="function")throw new TypeError(`${Z}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},Ne=Te(console.warn);function Jt(){Ne(`${Z}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var _e=Te(console.warn);function er(){_e(`${Z}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function esm_or(e){return dist_esm_l.str(e)&&(e[0]=="#"||/\d/.test(e)||!dist_esm_h()&&dist_esm_b.test(e)||e in(dist_esm_c||{}))}var dist_esm_v,q=new WeakMap,Ze=e=>e.forEach(({target:t,contentRect:r})=>q.get(t)?.forEach(n=>n(r)));function Fe(e,t){dist_esm_v||typeof ResizeObserver<"u"&&(dist_esm_v=new ResizeObserver(Ze));let r=q.get(t);return r||(r=new Set,q.set(t,r)),r.add(e),dist_esm_v&&dist_esm_v.observe(t),()=>{let n=q.get(t);!n||(n.delete(e),!n.size&&dist_esm_v&&dist_esm_v.unobserve(t))}}var esm_$=new Set,dist_esm_w,esm_Xe=()=>{let e=()=>{esm_$.forEach(t=>t({width:window.innerWidth,height:window.innerHeight}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},Ie=e=>(esm_$.add(e),dist_esm_w||(dist_esm_w=esm_Xe()),()=>{esm_$.delete(e),!esm_$.size&&dist_esm_w&&(dist_esm_w(),dist_esm_w=void 0)});var ke=(e,{container:t=document.documentElement}={})=>t===document.documentElement?Ie(e):Fe(e,t);var Se=(e,t,r)=>t-e===0?1:(r-e)/(t-e);var esm_Ye={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},esm_G=class{callback;container;info;constructor(t,r){this.callback=t,this.container=r,this.info={time:0,x:this.createAxis(),y:this.createAxis()}}createAxis=()=>({current:0,progress:0,scrollLength:0});updateAxis=t=>{let r=this.info[t],{length:n,position:f}=esm_Ye[t];r.current=this.container[`scroll${f}`],r.scrollLength=this.container["scroll"+n]-this.container["client"+n],r.progress=Se(0,r.scrollLength,r.current)};update=()=>{this.updateAxis("x"),this.updateAxis("y")};sendEvent=()=>{this.callback(this.info)};advance=()=>{this.update(),this.sendEvent()}};var esm_T=new WeakMap,Ae=new WeakMap,X=new WeakMap,Me=e=>e===document.documentElement?window:e,yr=(e,{container:t=document.documentElement}={})=>{let r=X.get(t);r||(r=new Set,X.set(t,r));let n=new esm_G(e,t);if(r.add(n),!esm_T.has(t)){let o=()=>(r?.forEach(s=>s.advance()),!0);esm_T.set(t,o);let i=Me(t);window.addEventListener("resize",o,{passive:!0}),t!==document.documentElement&&Ae.set(t,ke(o,{container:t})),i.addEventListener("scroll",o,{passive:!0})}let f=esm_T.get(t);return Re(f),()=>{Re.cancel(f);let o=X.get(t);if(!o||(o.delete(n),o.size))return;let i=esm_T.get(t);esm_T.delete(t),i&&(Me(t).removeEventListener("scroll",i),window.removeEventListener("resize",i),Ae.get(t)?.())}};function Er(e){let t=Je(null);return t.current===null&&(t.current=e()),t.current}var esm_Q=dist_esm_h()?external_React_.useEffect:external_React_.useLayoutEffect;var Ce=()=>{let e=(0,external_React_.useRef)(!1);return esm_Q(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Mr(){let e=(0,external_React_.useState)()[1],t=Ce();return()=>{t.current&&e(Math.random())}}function Lr(e,t){let[r]=(0,external_React_.useState)(()=>({inputs:t,result:e()})),n=(0,external_React_.useRef)(),f=n.current,o=f;return o?Boolean(t&&o.inputs&&it(t,o.inputs))||(o={inputs:t,result:e()}):o=r,(0,external_React_.useEffect)(()=>{n.current=o,f==r&&(r.inputs=r.result=void 0)},[o]),o.result}function it(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var $r=e=>(0,external_React_.useEffect)(e,ut),ut=[];function Ur(e){let t=ct();return lt(()=>{t.current=e}),t.current}var Wr=()=>{let[e,t]=dt(null);return esm_Q(()=>{let r=window.matchMedia("(prefers-reduced-motion)"),n=f=>{t(f.matches),U({skipAnimation:f.matches})};return n(r),r.addEventListener("change",n),()=>{r.removeEventListener("change",n)}},[]),e};;var animated_dist_esm_h=Symbol.for("Animated:node"),animated_dist_esm_v=e=>!!e&&e[animated_dist_esm_h]===e,dist_esm_k=e=>e&&e[animated_dist_esm_h],esm_D=(e,t)=>mt(e,animated_dist_esm_h,t),F=e=>e&&e[animated_dist_esm_h]&&e[animated_dist_esm_h].getPayload(),animated_dist_esm_c=class{payload;constructor(){esm_D(this,this)}getPayload(){return this.payload||[]}};var animated_dist_esm_l=class extends animated_dist_esm_c{constructor(r){super();this._value=r;dist_esm_l.num(this._value)&&(this.lastPosition=this._value)}done=!0;elapsedTime;lastPosition;lastVelocity;v0;durationProgress=0;static create(r){return new animated_dist_esm_l(r)}getPayload(){return[this]}getValue(){return this._value}setValue(r,n){return dist_esm_l.num(r)&&(this.lastPosition=r,n&&(r=Math.round(r/n)*n,this.done&&(this.lastPosition=r))),this._value===r?!1:(this._value=r,!0)}reset(){let{done:r}=this;this.done=!1,dist_esm_l.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,r&&(this.lastVelocity=null),this.v0=null)}};var animated_dist_esm_d=class extends animated_dist_esm_l{_string=null;_toString;constructor(t){super(0),this._toString=W({output:[t,t]})}static create(t){return new animated_dist_esm_d(t)}getValue(){let t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(dist_esm_l.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=W({output:[this.getValue(),t]})),this._value=0,super.reset()}};var dist_esm_f={dependencies:null};var animated_dist_esm_u=class extends animated_dist_esm_c{constructor(r){super();this.source=r;this.setValue(r)}getValue(r){let n={};return xt(this.source,(a,i)=>{animated_dist_esm_v(a)?n[i]=a.getValue(r):Pt(a)?n[i]=ve(a):r||(n[i]=a)}),n}setValue(r){this.source=r,this.payload=this._makePayload(r)}reset(){this.payload&&esm_Ve(this.payload,r=>r.reset())}_makePayload(r){if(r){let n=new Set;return xt(r,this._addToPayload,n),Array.from(n)}}_addToPayload(r){dist_esm_f.dependencies&&Pt(r)&&dist_esm_f.dependencies.add(r);let n=F(r);n&&esm_Ve(n,a=>this.add(a))}};var animated_dist_esm_y=class extends animated_dist_esm_u{constructor(t){super(t)}static create(t){return new animated_dist_esm_y(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let r=this.getPayload();return t.length==r.length?r.map((n,a)=>n.setValue(t[a])).some(Boolean):(super.setValue(t.map(dist_esm_z)),!0)}};function dist_esm_z(e){return(esm_or(e)?animated_dist_esm_d:animated_dist_esm_l).create(e)}function esm_Le(e){let t=dist_esm_k(e);return t?t.constructor:dist_esm_l.arr(e)?animated_dist_esm_y:esm_or(e)?animated_dist_esm_d:animated_dist_esm_l}var dist_esm_x=(e,t)=>{let r=!dist_esm_l.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,external_React_.forwardRef)((n,a)=>{let i=(0,external_React_.useRef)(null),o=r&&(0,external_React_.useCallback)(s=>{i.current=esm_ae(a,s)},[a]),[m,T]=esm_ne(n,t),W=Mr(),P=()=>{let s=i.current;if(r&&!s)return;(s?t.applyAnimatedValues(s,m.getValue(!0)):!1)===!1&&W()},_=new animated_dist_esm_b(P,T),p=(0,external_React_.useRef)();esm_Q(()=>(p.current=_,esm_Ve(T,s=>Gt(s,_)),()=>{p.current&&(esm_Ve(p.current.deps,s=>Qt(s,p.current)),esm_n.cancel(p.current.update))})),(0,external_React_.useEffect)(P,[]),$r(()=>()=>{let s=p.current;esm_Ve(s.deps,S=>Qt(S,s))});let $=t.getComponentProps(m.getValue());return external_React_.createElement(e,{...$,ref:o})})},animated_dist_esm_b=class{constructor(t,r){this.update=t;this.deps=r}eventObserved(t){t.type=="change"&&esm_n.write(this.update)}};function esm_ne(e,t){let r=new Set;return dist_esm_f.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new animated_dist_esm_u(e),dist_esm_f.dependencies=null,[e,r]}function esm_ae(e,t){return e&&(dist_esm_l.fun(e)?e(t):e.current=t),t}var dist_esm_j=Symbol.for("AnimatedComponent"),dist_esm_Ke=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=a=>new animated_dist_esm_u(a),getComponentProps:n=a=>a}={})=>{let a={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},i=o=>{let m=esm_I(o)||"Anonymous";return dist_esm_l.str(o)?o=i[o]||(i[o]=dist_esm_x(o,a)):o=o[dist_esm_j]||(o[dist_esm_j]=dist_esm_x(o,a)),o.displayName=`Animated(${m})`,o};return xt(e,(o,m)=>{dist_esm_l.arr(e)&&(m=esm_I(o)),i[m]=i(o)}),{animated:i}},esm_I=e=>dist_esm_l.str(e)?e:e&&dist_esm_l.str(e.displayName)?e.displayName:dist_esm_l.fun(e)&&e.name||null;;function dist_esm_I(t,...e){return dist_esm_l.fun(t)?t(...e):t}var esm_te=(t,e)=>t===!0||!!(e&&t&&(dist_esm_l.fun(t)?t(e):ht(t).includes(e))),et=(t,e)=>dist_esm_l.obj(t)?e&&t[e]:t;var esm_ke=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,nn=t=>t,dist_esm_ne=(t,e=nn)=>{let n=rn;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));let r={};for(let o of n){let s=e(t[o],o);dist_esm_l.und(s)||(r[o]=s)}return r},rn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],on={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function sn(t){let e={},n=0;if(xt(t,(r,o)=>{on[o]||(e[o]=r,n++)}),n)return e}function esm_de(t){let e=sn(t);if(e){let n={to:e};return xt(t,(r,o)=>o in e||(n[o]=r)),n}return{...t}}function esm_me(t){return t=ve(t),dist_esm_l.arr(t)?t.map(esm_me):esm_or(t)?dist_esm_p.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function esm_Ue(t){for(let e in t)return!0;return!1}function esm_Ee(t){return dist_esm_l.fun(t)||dist_esm_l.arr(t)&&dist_esm_l.obj(t[0])}function esm_xe(t,e){t.ref?.delete(t),e?.delete(t)}function esm_he(t,e){e&&t.ref!==e&&(t.ref?.delete(t),e.add(t),t.ref=e)}function wr(t,e,n=1e3){an(()=>{if(e){let r=0;ge(t,(o,s)=>{let a=o.current;if(a.length){let i=n*e[s];isNaN(i)?i=r:r=i,ge(a,u=>{ge(u.queue,p=>{let f=p.delay;p.delay=d=>i+dist_esm_I(f||0,d)})}),o.start()}})}else{let r=Promise.resolve();ge(t,o=>{let s=o.current;if(s.length){let a=s.map(i=>{let u=i.queue;return i.queue=[],u});r=r.then(()=>(ge(s,(i,u)=>ge(a[u]||[],p=>i.queue.push(p))),Promise.all(o.start())))}})}})}var esm_mt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};var tt={...esm_mt.default,mass:1,damping:1,easing:Lt.linear,clamp:!1},esm_we=class{tension;friction;frequency;damping;mass;velocity=0;restVelocity;precision;progress;duration;easing;clamp;bounce;decay;round;constructor(){Object.assign(this,tt)}};function gt(t,e,n){n&&(n={...n},esm_ht(n,e),e={...n,...e}),esm_ht(t,e),Object.assign(t,e);for(let a in tt)t[a]==null&&(t[a]=tt[a]);let{mass:r,frequency:o,damping:s}=t;return dist_esm_l.und(o)||(o<.01&&(o=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/o,2)*r,t.friction=4*Math.PI*s*r/o),t}function esm_ht(t,e){if(!dist_esm_l.und(e.decay))t.duration=void 0;else{let n=!dist_esm_l.und(e.tension)||!dist_esm_l.und(e.friction);(n||!dist_esm_l.und(e.frequency)||!dist_esm_l.und(e.damping)||!dist_esm_l.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var esm_yt=[],dist_esm_Le=class{changed=!1;values=esm_yt;toValues=null;fromValues=esm_yt;to;from;config=new esm_we;immediate=!1};function esm_Me(t,{key:e,props:n,defaultProps:r,state:o,actions:s}){return new Promise((a,i)=>{let u,p,f=esm_te(n.cancel??r?.cancel,e);if(f)b();else{dist_esm_l.und(n.pause)||(o.paused=esm_te(n.pause,e));let c=r?.pause;c!==!0&&(c=o.paused||esm_te(c,e)),u=dist_esm_I(n.delay||0,e),c?(o.resumeQueue.add(m),s.pause()):(s.resume(),m())}function d(){o.resumeQueue.add(m),o.timeouts.delete(p),p.cancel(),u=p.time-esm_n.now()}function m(){u>0&&!dist_esm_p.skipAnimation?(o.delayed=!0,p=esm_n.setTimeout(b,u),o.pauseQueue.add(d),o.timeouts.add(p)):b()}function b(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(d),o.timeouts.delete(p),t<=(o.cancelId||0)&&(f=!0);try{s.start({...n,callId:t,cancel:f},a)}catch(c){i(c)}}})}var esm_be=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?esm_q(t.get()):e.every(n=>n.noop)?nt(t.get()):dist_esm_E(t.get(),e.every(n=>n.finished)),nt=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),dist_esm_E=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),esm_q=t=>({value:t,cancelled:!0,finished:!1});function esm_De(t,e,n,r){let{callId:o,parentId:s,onRest:a}=e,{asyncTo:i,promise:u}=n;return!s&&t===i&&!e.reset?u:n.promise=(async()=>{n.asyncId=o,n.asyncTo=t;let p=dist_esm_ne(e,(l,h)=>h==="onRest"?void 0:l),f,d,m=new Promise((l,h)=>(f=l,d=h)),b=l=>{let h=o<=(n.cancelId||0)&&esm_q(r)||o!==n.asyncId&&dist_esm_E(r,!1);if(h)throw l.result=h,d(l),l},c=(l,h)=>{let g=new esm_Ae,x=new esm_Ne;return(async()=>{if(dist_esm_p.skipAnimation)throw esm_oe(n),x.result=dist_esm_E(r,!1),d(x),x;b(g);let S=dist_esm_l.obj(l)?{...l}:{...h,to:l};S.parentId=o,xt(p,(V,_)=>{dist_esm_l.und(S[_])&&(S[_]=V)});let A=await r.start(S);return b(g),n.paused&&await new Promise(V=>{n.resumeQueue.add(V)}),A})()},P;if(dist_esm_p.skipAnimation)return esm_oe(n),dist_esm_E(r,!1);try{let l;dist_esm_l.arr(t)?l=(async h=>{for(let g of h)await c(g)})(t):l=Promise.resolve(t(c,r.stop.bind(r))),await Promise.all([l.then(f),m]),P=dist_esm_E(r.get(),!0,!1)}catch(l){if(l instanceof esm_Ae)P=l.result;else if(l instanceof esm_Ne)P=l.result;else throw l}finally{o==n.asyncId&&(n.asyncId=s,n.asyncTo=s?i:void 0,n.promise=s?u:void 0)}return dist_esm_l.fun(a)&&esm_n.batchedUpdates(()=>{a(P,r,r.item)}),P})()}function esm_oe(t,e){Pe(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var esm_Ae=class extends Error{result;constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},esm_Ne=class extends Error{result;constructor(){super("SkipAnimationSignal")}};var esm_Re=t=>t instanceof esm_X,Sn=1,esm_X=class extends esm_ge{id=Sn++;_priority=0;get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=dist_esm_k(this);return e&&e.getValue()}to(...e){return dist_esm_p.to(this,e)}interpolate(...e){return Jt(),dist_esm_p.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){$t(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||qe.sort(this),$t(this,{type:"priority",parent:this,priority:e})}};var esm_se=Symbol.for("SpringPhase"),esm_bt=1,rt=2,ot=4,esm_qe=t=>(t[esm_se]&esm_bt)>0,dist_esm_Q=t=>(t[esm_se]&rt)>0,esm_ye=t=>(t[esm_se]&ot)>0,st=(t,e)=>e?t[esm_se]|=rt|esm_bt:t[esm_se]&=~rt,esm_it=(t,e)=>e?t[esm_se]|=ot:t[esm_se]&=~ot;var esm_ue=class extends esm_X{key;animation=new dist_esm_Le;queue;defaultProps={};_state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set};_pendingCalls=new Set;_lastCallId=0;_lastToId=0;_memoizedDuration=0;constructor(e,n){if(super(),!dist_esm_l.und(e)||!dist_esm_l.und(n)){let r=dist_esm_l.obj(e)?{...e}:{...n,from:e};dist_esm_l.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(dist_esm_Q(this)||this._state.asyncTo)||esm_ye(this)}get goal(){return ve(this.animation.to)}get velocity(){let e=dist_esm_k(this);return e instanceof animated_dist_esm_l?e.lastVelocity||0:e.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return esm_qe(this)}get isAnimating(){return dist_esm_Q(this)}get isPaused(){return esm_ye(this)}get isDelayed(){return this._state.delayed}advance(e){let n=!0,r=!1,o=this.animation,{config:s,toValues:a}=o,i=F(o.to);!i&&Pt(o.to)&&(a=ht(ve(o.to))),o.values.forEach((f,d)=>{if(f.done)return;let m=f.constructor==animated_dist_esm_d?1:i?i[d].lastPosition:a[d],b=o.immediate,c=m;if(!b){if(c=f.lastPosition,s.tension<=0){f.done=!0;return}let P=f.elapsedTime+=e,l=o.fromValues[d],h=f.v0!=null?f.v0:f.v0=dist_esm_l.arr(s.velocity)?s.velocity[d]:s.velocity,g,x=s.precision||(l==m?.005:Math.min(1,Math.abs(m-l)*.001));if(dist_esm_l.und(s.duration))if(s.decay){let S=s.decay===!0?.998:s.decay,A=Math.exp(-(1-S)*P);c=l+h/(1-S)*(1-A),b=Math.abs(f.lastPosition-c)<=x,g=h*A}else{g=f.lastVelocity==null?h:f.lastVelocity;let S=s.restVelocity||x/10,A=s.clamp?0:s.bounce,V=!dist_esm_l.und(A),_=l==m?f.v0>0:l<m,v,w=!1,C=1,$=Math.ceil(e/C);for(let L=0;L<$&&(v=Math.abs(g)>S,!(!v&&(b=Math.abs(m-c)<=x,b)));++L){V&&(w=c==m||c>m==_,w&&(g=-g*A,c=m));let N=-s.tension*1e-6*(c-m),y=-s.friction*.001*g,T=(N+y)/s.mass;g=g+T*C,c=c+g*C}}else{let S=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,f.durationProgress>0&&(f.elapsedTime=s.duration*f.durationProgress,P=f.elapsedTime+=e)),S=(s.progress||0)+P/this._memoizedDuration,S=S>1?1:S<0?0:S,f.durationProgress=S),c=l+s.easing(S)*(m-l),g=(c-f.lastPosition)/e,b=S==1}f.lastVelocity=g,Number.isNaN(c)&&(console.warn("Got NaN while animating:",this),b=!0)}i&&!i[d].done&&(b=!1),b?f.done=!0:n=!1,f.setValue(c,s.round)&&(r=!0)});let u=dist_esm_k(this),p=u.getValue();if(n){let f=ve(o.to);(p!==f||r)&&!s.decay?(u.setValue(f),this._onChange(f)):r&&s.decay&&this._onChange(p),this._stop()}else r&&this._onChange(p)}set(e){return esm_n.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(dist_esm_Q(this)){let{to:e,config:n}=this.animation;esm_n.batchedUpdates(()=>{this._onStart(),n.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,n){let r;return dist_esm_l.und(e)?(r=this.queue||[],this.queue=[]):r=[dist_esm_l.obj(e)?e:{...n,to:e}],Promise.all(r.map(o=>this._update(o))).then(o=>esm_be(this,o))}stop(e){let{to:n}=this.animation;return this._focus(this.get()),esm_oe(this._state,e&&this._lastCallId),esm_n.batchedUpdates(()=>this._stop(n,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){let n=this.key||"",{to:r,from:o}=e;r=dist_esm_l.obj(r)?r[n]:r,(r==null||esm_Ee(r))&&(r=void 0),o=dist_esm_l.obj(o)?o[n]:o,o==null&&(o=void 0);let s={to:r,from:o};return esm_qe(this)||(e.reverse&&([r,o]=[o,r]),o=ve(o),dist_esm_l.und(o)?dist_esm_k(this)||this._set(r):this._set(o)),s}_update({...e},n){let{key:r,defaultProps:o}=this;e.default&&Object.assign(o,dist_esm_ne(e,(i,u)=>/^on/.test(u)?et(i,r):i)),_t(this,e,"onProps"),esm_Ie(this,"onProps",e,this);let s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let a=this._state;return esm_Me(++this._lastCallId,{key:r,props:e,defaultProps:o,state:a,actions:{pause:()=>{esm_ye(this)||(esm_it(this,!0),yt(a.pauseQueue),esm_Ie(this,"onPause",dist_esm_E(this,esm_Ce(this,this.animation.to)),this))},resume:()=>{esm_ye(this)&&(esm_it(this,!1),dist_esm_Q(this)&&this._resume(),yt(a.resumeQueue),esm_Ie(this,"onResume",dist_esm_E(this,esm_Ce(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(i=>{if(e.loop&&i.finished&&!(n&&i.noop)){let u=at(e);if(u)return this._update(u,!0)}return i})}_merge(e,n,r){if(n.cancel)return this.stop(!0),r(esm_q(this));let o=!dist_esm_l.und(e.to),s=!dist_esm_l.und(e.from);if(o||s)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(esm_q(this));let{key:a,defaultProps:i,animation:u}=this,{to:p,from:f}=u,{to:d=p,from:m=f}=e;s&&!o&&(!n.default||dist_esm_l.und(d))&&(d=m),n.reverse&&([d,m]=[m,d]);let b=!bt(m,f);b&&(u.from=m),m=ve(m);let c=!bt(d,p);c&&this._focus(d);let P=esm_Ee(n.to),{config:l}=u,{decay:h,velocity:g}=l;(o||s)&&(l.velocity=0),n.config&&!P&&gt(l,dist_esm_I(n.config,a),n.config!==i.config?dist_esm_I(i.config,a):void 0);let x=dist_esm_k(this);if(!x||dist_esm_l.und(d))return r(dist_esm_E(this,!0));let S=dist_esm_l.und(n.reset)?s&&!n.default:!dist_esm_l.und(m)&&esm_te(n.reset,a),A=S?m:this.get(),V=esm_me(d),_=dist_esm_l.num(V)||dist_esm_l.arr(V)||esm_or(V),v=!P&&(!_||esm_te(i.immediate||n.immediate,a));if(c){let L=esm_Le(d);if(L!==x.constructor)if(v)x=this._set(V);else throw Error(`Cannot animate between ${x.constructor.name} and ${L.name}, as the "to" prop suggests`)}let w=x.constructor,C=Pt(d),$=!1;if(!C){let L=S||!esm_qe(this)&&b;(c||L)&&($=bt(esm_me(A),V),C=!$),(!bt(u.immediate,v)&&!v||!bt(l.decay,h)||!bt(l.velocity,g))&&(C=!0)}if($&&dist_esm_Q(this)&&(u.changed&&!S?C=!0:C||this._stop(p)),!P&&((C||Pt(p))&&(u.values=x.getPayload(),u.toValues=Pt(d)?null:w==animated_dist_esm_d?[1]:ht(V)),u.immediate!=v&&(u.immediate=v,!v&&!S&&this._set(p)),C)){let{onRest:L}=u;esm_Ve(_n,y=>_t(this,n,y));let N=dist_esm_E(this,esm_Ce(this,p));yt(this._pendingCalls,N),this._pendingCalls.add(r),u.changed&&esm_n.batchedUpdates(()=>{u.changed=!S,L?.(N,this),S?dist_esm_I(i.onRest,N):u.onStart?.(N,this)})}S&&this._set(A),P?r(esm_De(n.to,n,this._state,this)):C?this._start():dist_esm_Q(this)&&!c?this._pendingCalls.add(r):r(nt(A))}_focus(e){let n=this.animation;e!==n.to&&(esm_qt(this)&&this._detach(),n.to=e,esm_qt(this)&&this._attach())}_attach(){let e=0,{to:n}=this.animation;Pt(n)&&(Gt(n,this),esm_Re(n)&&(e=n.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;Pt(e)&&Qt(e,this)}_set(e,n=!0){let r=ve(e);if(!dist_esm_l.und(r)){let o=dist_esm_k(this);if(!o||!bt(r,o.getValue())){let s=esm_Le(r);!o||o.constructor!=s?esm_D(this,s.create(r)):o.setValue(r),o&&esm_n.batchedUpdates(()=>{this._onChange(r,n)})}}return dist_esm_k(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,esm_Ie(this,"onStart",dist_esm_E(this,esm_Ce(this,e.to)),this))}_onChange(e,n){n||(this._onStart(),dist_esm_I(this.animation.onChange,e,this)),dist_esm_I(this.defaultProps.onChange,e,this),super._onChange(e,n)}_start(){let e=this.animation;dist_esm_k(this).reset(ve(e.to)),e.immediate||(e.fromValues=e.values.map(n=>n.lastPosition)),dist_esm_Q(this)||(st(this,!0),esm_ye(this)||this._resume())}_resume(){dist_esm_p.skipAnimation?this.finish():qe.start(this)}_stop(e,n){if(dist_esm_Q(this)){st(this,!1);let r=this.animation;esm_Ve(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),$t(this,{type:"idle",parent:this});let o=n?esm_q(this.get()):dist_esm_E(this.get(),esm_Ce(this,e??r.to));yt(this._pendingCalls,o),r.changed&&(r.changed=!1,esm_Ie(this,"onRest",o,this))}}};function esm_Ce(t,e){let n=esm_me(e),r=esm_me(t.get());return bt(r,n)}function at(t,e=t.loop,n=t.to){let r=dist_esm_I(e);if(r){let o=r!==!0&&esm_de(r),s=(o||t).reverse,a=!o||o.reset;return esm_Pe({...t,loop:e,default:!1,pause:void 0,to:!s||esm_Ee(n)?n:void 0,from:a?t.from:void 0,reset:a,...o})}}function esm_Pe(t){let{to:e,from:n}=t=esm_de(t),r=new Set;return dist_esm_l.obj(e)&&Vt(e,r),dist_esm_l.obj(n)&&Vt(n,r),t.keys=r.size?Array.from(r):null,t}function Ot(t){let e=esm_Pe(t);return R.und(e.default)&&(e.default=dist_esm_ne(e)),e}function Vt(t,e){xt(t,(n,r)=>n!=null&&e.add(r))}var _n=["onStart","onRest","onChange","onPause","onResume"];function _t(t,e,n){t.animation[n]=e[n]!==esm_ke(e,n)?et(e[n],t.key):void 0}function esm_Ie(t,e,...n){t.animation[e]?.(...n),t.defaultProps[e]?.(...n)}var Fn=["onStart","onChange","onRest"],kn=1,esm_le=class{id=kn++;springs={};queue=[];ref;_flush;_initialProps;_lastAsyncId=0;_active=new Set;_changed=new Set;_started=!1;_item;_state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set};_events={onStart:new Map,onChange:new Map,onRest:new Map};constructor(e,n){this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(let n in e){let r=e[n];dist_esm_l.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(esm_Pe(e)),this}start(e){let{queue:n}=this;return e?n=ht(e).map(esm_Pe):this.queue=[],this._flush?this._flush(this,n):(jt(this,n),esm_ze(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){let r=this.springs;esm_Ve(ht(n),o=>r[o].stop(!!e))}else esm_oe(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(dist_esm_l.und(e))this.start({pause:!0});else{let n=this.springs;esm_Ve(ht(e),r=>n[r].pause())}return this}resume(e){if(dist_esm_l.und(e))this.start({pause:!1});else{let n=this.springs;esm_Ve(ht(e),r=>n[r].resume())}return this}each(e){xt(this.springs,e)}_onFrame(){let{onStart:e,onChange:n,onRest:r}=this._events,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,Pe(e,([u,p])=>{p.value=this.get(),u(p,this,this._item)}));let a=!o&&this._started,i=s||a&&r.size?this.get():null;s&&n.size&&Pe(n,([u,p])=>{p.value=i,u(p,this,this._item)}),a&&(this._started=!1,Pe(r,([u,p])=>{p.value=i,u(p,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;esm_n.onFrame(this._onFrame)}};function esm_ze(t,e){return Promise.all(e.map(n=>wt(t,n))).then(n=>esm_be(t,n))}async function wt(t,e,n){let{keys:r,to:o,from:s,loop:a,onRest:i,onResolve:u}=e,p=dist_esm_l.obj(e.default)&&e.default;a&&(e.loop=!1),o===!1&&(e.to=null),s===!1&&(e.from=null);let f=dist_esm_l.arr(o)||dist_esm_l.fun(o)?o:void 0;f?(e.to=void 0,e.onRest=void 0,p&&(p.onRest=void 0)):esm_Ve(Fn,P=>{let l=e[P];if(dist_esm_l.fun(l)){let h=t._events[P];e[P]=({finished:g,cancelled:x})=>{let S=h.get(l);S?(g||(S.finished=!1),x&&(S.cancelled=!0)):h.set(l,{value:null,finished:g||!1,cancelled:x||!1})},p&&(p[P]=e[P])}});let d=t._state;e.pause===!d.paused?(d.paused=e.pause,yt(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);let m=(r||Object.keys(t.springs)).map(P=>t.springs[P].start(e)),b=e.cancel===!0||esm_ke(e,"cancel")===!0;(f||b&&d.asyncId)&&m.push(esm_Me(++t._lastAsyncId,{props:e,state:d,actions:{pause:Y,resume:Y,start(P,l){b?(esm_oe(d,t._lastAsyncId),l(esm_q(t))):(P.onRest=i,l(esm_De(f,P,d,t)))}}})),d.paused&&await new Promise(P=>{d.resumeQueue.add(P)});let c=esm_be(t,await Promise.all(m));if(a&&c.finished&&!(n&&c.noop)){let P=at(e,a,o);if(P)return jt(t,[P]),wt(t,P,!0)}return u&&esm_n.batchedUpdates(()=>u(c,t,t.item)),c}function esm_e(t,e){let n={...t.springs};return e&&pe(Ve(e),r=>{z.und(r.keys)&&(r=esm_Pe(r)),z.obj(r.to)||(r={...r,to:void 0}),Mt(n,r,o=>esm_Lt(o))}),pt(t,n),n}function pt(t,e){Ut(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Et(n,t))})}function esm_Lt(t,e){let n=new esm_ue;return n.key=t,e&&Gt(n,e),n}function Mt(t,e,n){e.keys&&esm_Ve(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function jt(t,e){esm_Ve(e,n=>{Mt(t.springs,n,r=>esm_Lt(r,t))})}var dist_esm_H=({children:t,...e})=>{let n=(0,external_React_.useContext)(esm_Ge),r=e.pause||!!n.pause,o=e.immediate||!!n.immediate;e=Lr(()=>({pause:r,immediate:o}),[r,o]);let{Provider:s}=esm_Ge;return external_React_.createElement(s,{value:e},t)},esm_Ge=wn(dist_esm_H,{});dist_esm_H.Provider=esm_Ge.Provider;dist_esm_H.Consumer=esm_Ge.Consumer;function wn(t,e){return Object.assign(t,external_React_.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var esm_fe=()=>{let t=[],e=function(r){Ln();let o=[];return ce(t,(s,a)=>{if(Ke.und(r))o.push(s.start());else{let i=n(r,s,a);i&&o.push(s.start(i))}}),o};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){let o=t.indexOf(r);~o&&t.splice(o,1)},e.pause=function(){return ce(t,r=>r.pause(...arguments)),this},e.resume=function(){return ce(t,r=>r.resume(...arguments)),this},e.set=function(r){ce(t,(o,s)=>{let a=Ke.fun(r)?r(s,o):r;a&&o.set(a)})},e.start=function(r){let o=[];return ce(t,(s,a)=>{if(Ke.und(r))o.push(s.start());else{let i=this._getProps(r,s,a);i&&o.push(s.start(i))}}),o},e.stop=function(){return ce(t,r=>r.stop(...arguments)),this},e.update=function(r){return ce(t,(o,s)=>o.update(this._getProps(r,o,s))),this};let n=function(r,o,s){return Ke.fun(r)?r(s,o):r};return e._getProps=n,e};function esm_He(t,e,n){let r=jn.fun(e)&&e;r&&!n&&(n=[]);let o=Xe(()=>r||arguments.length==3?esm_fe():void 0,[]),s=Nt(0),a=Dn(),i=Xe(()=>({ctrls:[],queue:[],flush(h,g){let x=esm_e(h,g);return s.current>0&&!i.queue.length&&!Object.keys(x).some(A=>!h.springs[A])?esm_ze(h,g):new Promise(A=>{pt(h,x),i.queue.push(()=>{A(esm_ze(h,g))}),a()})}}),[]),u=Nt([...i.ctrls]),p=[],f=Dt(t)||0;Xe(()=>{Ye(u.current.slice(t,f),h=>{esm_xe(h,o),h.stop(!0)}),u.current.length=t,d(f,t)},[t]),Xe(()=>{d(0,Math.min(f,t))},n);function d(h,g){for(let x=h;x<g;x++){let S=u.current[x]||(u.current[x]=new esm_le(null,i.flush)),A=r?r(x,S):e[x];A&&(p[x]=Ot(A))}}let m=u.current.map((h,g)=>esm_e(h,p[g])),b=Mn(dist_esm_H),c=Dt(b),P=b!==c&&esm_Ue(b);qn(()=>{s.current++,i.ctrls=u.current;let{queue:h}=i;h.length&&(i.queue=[],Ye(h,g=>g())),Ye(u.current,(g,x)=>{o?.add(g),P&&g.start({default:b});let S=p[x];S&&(esm_he(g,S.ref),g.ref?g.queue.push(S):g.start(S))})}),Nn(()=>()=>{Ye(i.ctrls,h=>h.stop(!0))});let l=m.map(h=>({...h}));return o?[l,o]:l}function esm_J(t,e){let n=Qn.fun(t),[[r],o]=esm_He(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,o]:r}var Gn=()=>esm_fe(),Xo=()=>zn(Gn)[0];var Wo=(t,e)=>{let n=Bn(()=>new esm_ue(t,e));return Kn(()=>()=>{n.stop()}),n};function esm_Qt(t,e,n){let r=qt.fun(e)&&e;r&&!n&&(n=[]);let o=!0,s,a=esm_He(t,(i,u)=>{let p=r?r(i,u):e;return s=p.ref,o=o&&p.reverse,p},n||[{}]);if(Yn(()=>{Xn(a[1].current,(i,u)=>{let p=a[1].current[u+(o?1:-1)];if(esm_he(i,s),i.ref){p&&i.update({to:p.springs});return}p?i.start({to:p.springs}):i.start()})},n),r||arguments.length==3){let i=s??a[1];return i._getProps=(u,p,f)=>{let d=qt.fun(u)?u(f,p):u;if(d){let m=i.current[f+(d.reverse?1:-1)];return m&&(d.to=m.springs),d}},a}return a[0]}function esm_Gt(t,e,n){let r=G.fun(e)&&e,{reset:o,sort:s,trail:a=0,expires:i=!0,exitBeforeEnter:u=!1,onDestroyed:p,ref:f,config:d}=r?r():e,m=Jn(()=>r||arguments.length==3?esm_fe():void 0,[]),b=zt(t),c=[],P=lt(null),l=o?null:P.current;Je(()=>{P.current=c}),$n(()=>(j(c,y=>{m?.add(y.ctrl),y.ctrl.ref=m}),()=>{j(P.current,y=>{y.expired&&clearTimeout(y.expirationId),esm_xe(y.ctrl,m),y.ctrl.stop(!0)})}));let h=tr(b,r?r():e,l),g=o&&P.current||[];Je(()=>j(g,({ctrl:y,item:T,key:F})=>{esm_xe(y,m),dist_esm_I(p,T,F)}));let x=[];if(l&&j(l,(y,T)=>{y.expired?(clearTimeout(y.expirationId),g.push(y)):(T=x[T]=h.indexOf(y.key),~T&&(c[T]=y))}),j(b,(y,T)=>{c[T]||(c[T]={key:h[T],item:y,phase:"mount",ctrl:new esm_le},c[T].ctrl.item=y)}),x.length){let y=-1,{leave:T}=r?r():e;j(x,(F,k)=>{let O=l[k];~F?(y=c.indexOf(O),c[y]={...O,item:b[F]}):T&&c.splice(++y,0,O)})}G.fun(s)&&c.sort((y,T)=>s(y.item,T.item));let S=-a,A=Wn(),V=dist_esm_ne(e),_=new Map,v=lt(new Map),w=lt(!1);j(c,(y,T)=>{let F=y.key,k=y.phase,O=r?r():e,U,D,Jt=dist_esm_I(O.delay||0,F);if(k=="mount")U=O.enter,D="enter";else{let M=h.indexOf(F)<0;if(k!="leave")if(M)U=O.leave,D="leave";else if(U=O.update)D="update";else return;else if(!M)U=O.enter,D="enter";else return}if(U=dist_esm_I(U,y.item,T),U=G.obj(U)?esm_de(U):{to:U},!U.config){let M=d||V.config;U.config=dist_esm_I(M,y.item,T,D)}S+=a;let Z={...V,delay:Jt+S,ref:f,immediate:O.immediate,reset:!1,...U};if(D=="enter"&&G.und(Z.from)){let M=r?r():e,Te=G.und(M.initial)||l?M.from:M.initial;Z.from=dist_esm_I(Te,y.item,T)}let{onResolve:Wt}=Z;Z.onResolve=M=>{dist_esm_I(Wt,M);let Te=P.current,B=Te.find(Fe=>Fe.key===F);if(!!B&&!(M.cancelled&&B.phase!="update")&&B.ctrl.idle){let Fe=Te.every(ee=>ee.ctrl.idle);if(B.phase=="leave"){let ee=dist_esm_I(i,B.item);if(ee!==!1){let Ze=ee===!0?0:ee;if(B.expired=!0,!Fe&&Ze>0){Ze<=2147483647&&(B.expirationId=setTimeout(A,Ze));return}}}Fe&&Te.some(ee=>ee.expired)&&(v.current.delete(B),u&&(w.current=!0),A())}};let ft=esm_e(y.ctrl,Z);D==="leave"&&u?v.current.set(y,{phase:D,springs:ft,payload:Z}):_.set(y,{phase:D,springs:ft,payload:Z})});let C=Hn(dist_esm_H),$=Zn(C),L=C!==$&&esm_Ue(C);Je(()=>{L&&j(c,y=>{y.ctrl.start({default:C})})},[C]),j(_,(y,T)=>{if(v.current.size){let F=c.findIndex(k=>k.key===T.key);c.splice(F,1)}}),Je(()=>{j(v.current.size?v.current:_,({phase:y,payload:T},F)=>{let{ctrl:k}=F;F.phase=y,m?.add(k),L&&y=="enter"&&k.start({default:C}),T&&(esm_he(k,T.ref),(k.ref||m)&&!w.current?k.update(T):(k.start(T),w.current&&(w.current=!1)))})},o?void 0:n);let N=y=>Oe.createElement(Oe.Fragment,null,c.map((T,F)=>{let{springs:k}=_.get(T)||T.ctrl,O=y({...k},T.item,T,F);return O&&O.type?Oe.createElement(O.type,{...O.props,key:G.str(T.key)||G.num(T.key)?T.key:T.ctrl.id,ref:O.ref}):O}));return m?[N,m]:N}var esm_er=1;function tr(t,{key:e,keys:n=e},r){if(n===null){let o=new Set;return t.map(s=>{let a=r&&r.find(i=>i.item===s&&i.phase!=="leave"&&!o.has(i));return a?(o.add(a),a.key):esm_er++})}return G.und(n)?t:G.fun(n)?t.map(n):zt(n)}var hs=({container:t,...e}={})=>{let[n,r]=esm_J(()=>({scrollX:0,scrollY:0,scrollXProgress:0,scrollYProgress:0,...e}),[]);return or(()=>{let o=rr(({x:s,y:a})=>{r.start({scrollX:s.current,scrollXProgress:s.progress,scrollY:a.current,scrollYProgress:a.progress})},{container:t?.current||void 0});return()=>{nr(Object.values(n),s=>s.stop()),o()}},[]),n};var Ps=({container:t,...e})=>{let[n,r]=esm_J(()=>({width:0,height:0,...e}),[]);return ar(()=>{let o=sr(({width:s,height:a})=>{r.start({width:s,height:a,immediate:n.width.get()===0||n.height.get()===0})},{container:t?.current||void 0});return()=>{ir(Object.values(n),s=>s.stop()),o()}},[]),n};var cr={any:0,all:1};function Cs(t,e){let[n,r]=pr(!1),o=ur(),s=Bt.fun(t)&&t,a=s?s():{},{to:i={},from:u={},...p}=a,f=s?e:t,[d,m]=esm_J(()=>({from:u,...p}),[]);return lr(()=>{let b=o.current,{root:c,once:P,amount:l="any",...h}=f??{};if(!b||P&&n||typeof IntersectionObserver>"u")return;let g=new WeakMap,x=()=>(i&&m.start(i),r(!0),P?void 0:()=>{u&&m.start(u),r(!1)}),S=V=>{V.forEach(_=>{let v=g.get(_.target);if(_.isIntersecting!==Boolean(v))if(_.isIntersecting){let w=x();Bt.fun(w)?g.set(_.target,w):A.unobserve(_.target)}else v&&(v(),g.delete(_.target))})},A=new IntersectionObserver(S,{root:c&&c.current||void 0,threshold:typeof l=="number"||Array.isArray(l)?l:cr[l],...h});return A.observe(b),()=>A.unobserve(b)},[f]),s?[o,d]:[o,n]}function qs({children:t,...e}){return t(esm_J(e))}function Bs({items:t,children:e,...n}){let r=esm_Qt(t.length,n);return t.map((o,s)=>{let a=e(o,s);return fr.fun(a)?a(r[s]):a})}function Ys({items:t,children:e,...n}){return esm_Gt(t,n)(e)}var esm_W=class extends esm_X{constructor(n,r){super();this.source=n;this.calc=W(...r);let o=this._get(),s=esm_Le(o);esm_D(this,s.create(o))}key;idle=!0;calc;_active=new Set;advance(n){let r=this._get(),o=this.get();bt(r,o)||(dist_esm_k(this).setValue(r),this._onChange(r,this.idle)),!this.idle&&Yt(this._active)&&esm_ct(this)}_get(){let n=dist_esm_l.arr(this.source)?this.source.map(ve):ht(ve(this.source));return this.calc(...n)}_start(){this.idle&&!Yt(this._active)&&(this.idle=!1,esm_Ve(F(this),n=>{n.done=!1}),dist_esm_p.skipAnimation?(esm_n.batchedUpdates(()=>this.advance()),esm_ct(this)):qe.start(this))}_attach(){let n=1;esm_Ve(ht(this.source),r=>{Pt(r)&&Gt(r,this),esm_Re(r)&&(r.idle||this._active.add(r),n=Math.max(n,r.priority+1))}),this.priority=n,this._start()}_detach(){esm_Ve(ht(this.source),n=>{Pt(n)&&Qt(n,this)}),this._active.clear(),esm_ct(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=ht(this.source).reduce((r,o)=>Math.max(r,(esm_Re(o)?o.priority:0)+1),0))}};function vr(t){return t.idle!==!1}function Yt(t){return!t.size||Array.from(t).every(vr)}function esm_ct(t){t.idle||(t.idle=!0,esm_Ve(F(t),e=>{e.done=!0}),$t(t,{type:"idle",parent:t}))}var esm_ui=(t,...e)=>new esm_W(t,e),pi=(t,...e)=>(Cr(),new esm_W(t,e));dist_esm_p.assign({createStringInterpolator:Xt,to:(t,e)=>new esm_W(t,e)});var di=qe.advance;;const external_ReactDOM_namespaceObject=window["ReactDOM"];;var web_dist_esm_k=/^--/;function web_dist_esm_I(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!web_dist_esm_k.test(t)&&!(web_dist_esm_c.hasOwnProperty(t)&&web_dist_esm_c[t])?e+"px":(""+e).trim()}var web_dist_esm_v={};function esm_V(t,e){if(!t.nodeType||!t.setAttribute)return!1;let r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:i,children:s,scrollTop:u,scrollLeft:l,viewBox:a,...n}=e,d=Object.values(n),m=Object.keys(n).map(o=>r||t.hasAttribute(o)?o:web_dist_esm_v[o]||(web_dist_esm_v[o]=o.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));s!==void 0&&(t.textContent=s);for(let o in i)if(i.hasOwnProperty(o)){let p=web_dist_esm_I(o,i[o]);web_dist_esm_k.test(o)?t.style.setProperty(o,p):t.style[o]=p}m.forEach((o,p)=>{t.setAttribute(o,d[p])}),u!==void 0&&(t.scrollTop=u),l!==void 0&&(t.scrollLeft=l),a!==void 0&&t.setAttribute("viewBox",a)}var web_dist_esm_c={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},esm_F=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),esm_L=["Webkit","Ms","Moz","O"];web_dist_esm_c=Object.keys(web_dist_esm_c).reduce((t,e)=>(esm_L.forEach(r=>t[esm_F(r,e)]=t[e]),t),web_dist_esm_c);var esm_=/^(matrix|translate|scale|rotate|skew)/,dist_esm_$=/^(translate)/,dist_esm_G=/^(rotate|skew)/,web_dist_esm_y=(t,e)=>dist_esm_l.num(t)&&t!==0?t+e:t,web_dist_esm_h=(t,e)=>dist_esm_l.arr(t)?t.every(r=>web_dist_esm_h(r,e)):dist_esm_l.num(t)?t===e:parseFloat(t)===e,dist_esm_g=class extends animated_dist_esm_u{constructor({x:e,y:r,z:i,...s}){let u=[],l=[];(e||r||i)&&(u.push([e||0,r||0,i||0]),l.push(a=>[`translate3d(${a.map(n=>web_dist_esm_y(n,"px")).join(",")})`,web_dist_esm_h(a,0)])),xt(s,(a,n)=>{if(n==="transform")u.push([a||""]),l.push(d=>[d,d===""]);else if(esm_.test(n)){if(delete s[n],dist_esm_l.und(a))return;let d=dist_esm_$.test(n)?"px":dist_esm_G.test(n)?"deg":"";u.push(ht(a)),l.push(n==="rotate3d"?([m,o,p,O])=>[`rotate3d(${m},${o},${p},${web_dist_esm_y(O,d)})`,web_dist_esm_h(O,0)]:m=>[`${n}(${m.map(o=>web_dist_esm_y(o,d)).join(",")})`,web_dist_esm_h(m,n.startsWith("scale")?1:0)])}}),u.length&&(s.transform=new web_dist_esm_x(u,l)),super(s)}},web_dist_esm_x=class extends esm_ge{constructor(r,i){super();this.inputs=r;this.transforms=i}_value=null;get(){return this._value||(this._value=this._get())}_get(){let r="",i=!0;return esm_Ve(this.inputs,(s,u)=>{let l=ve(s[0]),[a,n]=this.transforms[u](dist_esm_l.arr(l)?l:s.map(ve));r+=" "+a,i=i&&n}),i?"none":r}observerAdded(r){r==1&&esm_Ve(this.inputs,i=>esm_Ve(i,s=>Pt(s)&&Gt(s,this)))}observerRemoved(r){r==0&&esm_Ve(this.inputs,i=>esm_Ve(i,s=>Pt(s)&&Qt(s,this)))}eventObserved(r){r.type=="change"&&(this._value=null),$t(this,r)}};var esm_C=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];dist_esm_p.assign({batchedUpdates:external_ReactDOM_namespaceObject.unstable_batchedUpdates,createStringInterpolator:Xt,colors:It});var dist_esm_q=dist_esm_Ke(esm_C,{applyAnimatedValues:esm_V,createAnimatedStyle:t=>new dist_esm_g(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),dist_esm_it=dist_esm_q.animated;;const BLOCK_ANIMATION_THRESHOLD=200;function getAbsolutePosition(element){return{top:element.offsetTop,left:element.offsetLeft};}
function useMovingAnimation({triggerAnimationOnChange,clientId}){const ref=(0,external_wp_element_namespaceObject.useRef)();const{isTyping,getGlobalBlockCount,isBlockSelected,isFirstMultiSelectedBlock,isBlockMultiSelected,isAncestorMultiSelected,isDraggingBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const{previous,prevRect}=(0,external_wp_element_namespaceObject.useMemo)(()=>({previous:ref.current&&getAbsolutePosition(ref.current),prevRect:ref.current&&ref.current.getBoundingClientRect()}),[triggerAnimationOnChange]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previous||!ref.current){return;}
const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(ref.current);const isSelected=isBlockSelected(clientId);const adjustScrolling=isSelected||isFirstMultiSelectedBlock(clientId);const isDragging=isDraggingBlocks();function preserveScrollPosition(){if(isDragging){return;}
if(adjustScrolling&&prevRect){const blockRect=ref.current.getBoundingClientRect();const diff=blockRect.top-prevRect.top;if(diff){scrollContainer.scrollTop+=diff;}}}
const disableAnimation=window.matchMedia('(prefers-reduced-motion: reduce)').matches||isTyping()||getGlobalBlockCount()>BLOCK_ANIMATION_THRESHOLD;if(disableAnimation){preserveScrollPosition();return;}
const isPartOfSelection=isSelected||isBlockMultiSelected(clientId)||isAncestorMultiSelected(clientId);if(isPartOfSelection&&isDragging){return;}
const zIndex=isPartOfSelection?'1':'';const controller=new esm_le({x:0,y:0,config:{mass:5,tension:2000,friction:200},onChange({value}){if(!ref.current){return;}
let{x,y}=value;x=Math.round(x);y=Math.round(y);const finishedMoving=x===0&&y===0;ref.current.style.transformOrigin='center center';ref.current.style.transform=finishedMoving?null:`translate3d(${x}px,${y}px,0)`;ref.current.style.zIndex=zIndex;preserveScrollPosition();}});ref.current.style.transform=undefined;const destination=getAbsolutePosition(ref.current);const x=Math.round(previous.left-destination.left);const y=Math.round(previous.top-destination.top);controller.start({x:0,y:0,from:{x,y}});return()=>{controller.stop();controller.set({x:0,y:0});};},[previous,prevRect,clientId,isTyping,getGlobalBlockCount,isBlockSelected,isFirstMultiSelectedBlock,isBlockMultiSelected,isAncestorMultiSelected,isDraggingBlocks]);return ref;}
const use_moving_animation=(useMovingAnimation);;function useFocusFirstElement({clientId,initialPosition}){const ref=(0,external_wp_element_namespaceObject.useRef)();const{isBlockSelected,isMultiSelecting,isZoomOut}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isBlockSelected(clientId)||isMultiSelecting()||isZoomOut()){return;}
if(initialPosition===undefined||initialPosition===null){return;}
if(!ref.current){return;}
const{ownerDocument}=ref.current;if(isInsideRootBlock(ref.current,ownerDocument.activeElement)){return;}
const textInputs=external_wp_dom_namespaceObject.focus.tabbable.find(ref.current).filter(node=>(0,external_wp_dom_namespaceObject.isTextField)(node));const isReverse=-1===initialPosition;const target=textInputs[isReverse?textInputs.length-1:0]||ref.current;if(!isInsideRootBlock(ref.current,target)){ref.current.focus();return;}
if(!ref.current.getAttribute('contenteditable')){const focusElement=external_wp_dom_namespaceObject.focus.tabbable.findNext(ref.current);if(focusElement&&isInsideRootBlock(ref.current,focusElement)&&(0,external_wp_dom_namespaceObject.isFormElement)(focusElement)){focusElement.focus();return;}}
(0,external_wp_dom_namespaceObject.placeCaretAtHorizontalEdge)(target,isReverse);},[initialPosition,clientId]);return ref;};function useIsHovered({clientId}){const{hoverBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);function listener(event){if(event.defaultPrevented){return;}
const action=event.type==='mouseover'?'add':'remove';event.preventDefault();event.currentTarget.classList[action]('is-hovered');if(action==='add'){hoverBlock(clientId);}else{hoverBlock(null);}}
return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{node.addEventListener('mouseout',listener);node.addEventListener('mouseover',listener);return()=>{node.removeEventListener('mouseout',listener);node.removeEventListener('mouseover',listener);node.classList.remove('is-hovered');hoverBlock(null);};},[]);};function useFocusHandler(clientId){const{isBlockSelected}=(0,external_wp_data_namespaceObject.useSelect)(store);const{selectBlock,selectionChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onFocus(event){if(node.parentElement.closest('[contenteditable="true"]')){return;}
if(isBlockSelected(clientId)){if(!event.target.isContentEditable){selectionChange(clientId);}
return;}
if(!isInsideRootBlock(node,event.target)){return;}
selectBlock(clientId);}
node.addEventListener('focusin',onFocus);return()=>{node.removeEventListener('focusin',onFocus);};},[isBlockSelected,selectBlock]);};const dragHandle=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"})});const drag_handle=(dragHandle);;function BlockDraggableChip({count,icon,isPattern,fadeWhenDisabled}){const patternLabel=isPattern&&(0,external_wp_i18n_namespaceObject.__)('Pattern');return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-draggable-chip-wrapper",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-draggable-chip","data-testid":"block-draggable-chip",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{justify:"center",className:"block-editor-block-draggable-chip__content",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:icon?(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:icon}):patternLabel||(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d block','%d blocks',count),count)}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:drag_handle})}),fadeWhenDisabled&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{className:"block-editor-block-draggable-chip__disabled",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-block-draggable-chip__disabled-icon"})})]})})});};function useEventHandlers({clientId,isSelected}){const{getBlockType}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const{getBlockRootClientId,isZoomOut,hasMultiSelection,getBlockName}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));const{insertAfterBlock,removeBlock,resetZoomLevel,startDraggingBlocks,stopDraggingBlocks}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!isSelected){return;}
function onKeyDown(event){const{keyCode,target}=event;if(keyCode!==external_wp_keycodes_namespaceObject.ENTER&&keyCode!==external_wp_keycodes_namespaceObject.BACKSPACE&&keyCode!==external_wp_keycodes_namespaceObject.DELETE){return;}
if(target!==node||(0,external_wp_dom_namespaceObject.isTextField)(target)){return;}
event.preventDefault();if(keyCode===external_wp_keycodes_namespaceObject.ENTER&&isZoomOut()){resetZoomLevel();}else if(keyCode===external_wp_keycodes_namespaceObject.ENTER){insertAfterBlock(clientId);}else{removeBlock(clientId);}}
function onDragStart(event){if(node!==event.target||node.isContentEditable||node.ownerDocument.activeElement!==node||hasMultiSelection()){event.preventDefault();return;}
const data=JSON.stringify({type:'block',srcClientIds:[clientId],srcRootClientId:getBlockRootClientId(clientId)});event.dataTransfer.effectAllowed='move';event.dataTransfer.clearData();event.dataTransfer.setData('wp-blocks',data);const{ownerDocument}=node;const{defaultView}=ownerDocument;const selection=defaultView.getSelection();selection.removeAllRanges();const domNode=document.createElement('div');const root=(0,external_wp_element_namespaceObject.createRoot)(domNode);root.render((0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockDraggableChip,{icon:getBlockType(getBlockName(clientId)).icon}));document.body.appendChild(domNode);domNode.style.position='absolute';domNode.style.top='0';domNode.style.left='0';domNode.style.zIndex='1000';domNode.style.pointerEvents='none';const dragElement=ownerDocument.createElement('div');dragElement.style.width='1px';dragElement.style.height='1px';dragElement.style.position='fixed';dragElement.style.visibility='hidden';ownerDocument.body.appendChild(dragElement);event.dataTransfer.setDragImage(dragElement,0,0);let offset={x:0,y:0};if(document!==ownerDocument){const frame=defaultView.frameElement;if(frame){const rect=frame.getBoundingClientRect();offset={x:rect.left,y:rect.top};}}
offset.x-=58;function over(e){domNode.style.transform=`translate( ${e.clientX + offset.x}px, ${e.clientY + offset.y}px )`;}
over(event);function end(){ownerDocument.removeEventListener('dragover',over);ownerDocument.removeEventListener('dragend',end);domNode.remove();dragElement.remove();stopDraggingBlocks();document.body.classList.remove('is-dragging-components-draggable');ownerDocument.documentElement.classList.remove('is-dragging');}
ownerDocument.addEventListener('dragover',over);ownerDocument.addEventListener('dragend',end);ownerDocument.addEventListener('drop',end);startDraggingBlocks([clientId]);document.body.classList.add('is-dragging-components-draggable');ownerDocument.documentElement.classList.add('is-dragging');}
node.addEventListener('keydown',onKeyDown);node.addEventListener('dragstart',onDragStart);return()=>{node.removeEventListener('keydown',onKeyDown);node.removeEventListener('dragstart',onDragStart);};},[clientId,isSelected,getBlockRootClientId,insertAfterBlock,removeBlock,isZoomOut,resetZoomLevel,hasMultiSelection,startDraggingBlocks,stopDraggingBlocks]);};function useIntersectionObserver(){const observer=(0,external_wp_element_namespaceObject.useContext)(block_list_IntersectionObserver);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(observer){observer.observe(node);return()=>{observer.unobserve(node);};}},[observer]);};function useScrollIntoView({isSelected}){const prefersReducedMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(isSelected){const{ownerDocument}=node;const{defaultView}=ownerDocument;if(!defaultView.IntersectionObserver){return;}
const observer=new defaultView.IntersectionObserver(entries=>{if(!entries[0].isIntersecting){node.scrollIntoView({behavior:prefersReducedMotion?'instant':'smooth'});}
observer.disconnect();});observer.observe(node);return()=>{observer.disconnect();};}},[isSelected]);};function useFlashEditableBlocks({clientId='',isEnabled=true}={}){const{getEnabledClientIdsTree}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{if(!isEnabled){return;}
const flashEditableBlocks=()=>{getEnabledClientIdsTree(clientId).forEach(({clientId:id})=>{const block=element.querySelector(`[data-block="${id}"]`);if(!block){return;}
block.classList.remove('has-editable-outline');block.offsetWidth;block.classList.add('has-editable-outline');});};const handleClick=event=>{const shouldFlash=event.target===element||event.target.classList.contains('is-root-container');if(!shouldFlash){return;}
if(event.defaultPrevented){return;}
event.preventDefault();flashEditableBlocks();};element.addEventListener('click',handleClick);return()=>element.removeEventListener('click',handleClick);},[isEnabled]);};const nodesByDocument=new Map();function add(doc,node){let set=nodesByDocument.get(doc);if(!set){set=new Set();nodesByDocument.set(doc,set);doc.addEventListener('pointerdown',down);}
set.add(node);}
function remove(doc,node){const set=nodesByDocument.get(doc);if(set){set.delete(node);restore(node);if(set.size===0){nodesByDocument.delete(doc);doc.removeEventListener('pointerdown',down);}}}
function restore(node){const prevDraggable=node.getAttribute('data-draggable');if(prevDraggable){node.removeAttribute('data-draggable');if(prevDraggable==='true'&&!node.getAttribute('draggable')){node.setAttribute('draggable','true');}}}
function down(event){const{target}=event;const{ownerDocument,isContentEditable,tagName}=target;const isInputOrTextArea=['INPUT','TEXTAREA'].includes(tagName);const nodes=nodesByDocument.get(ownerDocument);if(isContentEditable||isInputOrTextArea){for(const node of nodes){if(node.getAttribute('draggable')==='true'&&node.contains(target)){node.removeAttribute('draggable');node.setAttribute('data-draggable','true');}}}else{for(const node of nodes){restore(node);}}}
function useFirefoxDraggableCompatibility(){return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{add(node.ownerDocument,node);return()=>{remove(node.ownerDocument,node);};},[]);};function use_block_props_useBlockProps(props={},{__unstableIsHtml}={}){const{clientId,className,wrapperProps={},isAligned,index,mode,name,blockApiVersion,blockTitle,isSelected,isSubtreeDisabled,hasOverlay,initialPosition,blockEditingMode,isHighlighted,isMultiSelected,isPartiallySelected,isReusable,isDragging,hasChildSelected,isEditingDisabled,hasEditableOutline,isTemporarilyEditingAsBlocks,defaultClassName,isSectionBlock,canMove}=(0,external_wp_element_namespaceObject.useContext)(PrivateBlockContext);const blockLabel=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block: %s'),blockTitle);const htmlSuffix=mode==='html'&&!__unstableIsHtml?'-visual':'';const ffDragRef=useFirefoxDraggableCompatibility();const mergedRefs=(0,external_wp_compose_namespaceObject.useMergeRefs)([props.ref,useFocusFirstElement({clientId,initialPosition}),useBlockRefProvider(clientId),useFocusHandler(clientId),useEventHandlers({clientId,isSelected}),useIsHovered({clientId}),useIntersectionObserver(),use_moving_animation({triggerAnimationOnChange:index,clientId}),(0,external_wp_compose_namespaceObject.useDisabled)({isDisabled:!hasOverlay}),useFlashEditableBlocks({clientId,isEnabled:isSectionBlock}),useScrollIntoView({isSelected}),canMove?ffDragRef:undefined]);const blockEditContext=useBlockEditContext();const hasBlockBindings=!!blockEditContext[blockBindingsKey];const bindingsStyle=hasBlockBindings&&canBindBlock(name)?{'--wp-admin-theme-color':'var(--wp-block-synced-color)','--wp-admin-theme-color--rgb':'var(--wp-block-synced-color--rgb)'}:{};if(blockApiVersion<2&&clientId===blockEditContext.clientId){true?external_wp_warning_default()(`Block type "${name}" must support API version 2 or higher to work correctly with "useBlockProps" method.`):0;}
let hasNegativeMargin=false;if(wrapperProps?.style?.marginTop?.charAt(0)==='-'||wrapperProps?.style?.marginBottom?.charAt(0)==='-'||wrapperProps?.style?.marginLeft?.charAt(0)==='-'||wrapperProps?.style?.marginRight?.charAt(0)==='-'){hasNegativeMargin=true;}
return{tabIndex:blockEditingMode==='disabled'?-1:0,draggable:canMove&&!hasChildSelected?true:undefined,...wrapperProps,...props,ref:mergedRefs,id:`block-${clientId}${htmlSuffix}`,role:'document','aria-label':blockLabel,'data-block':clientId,'data-type':name,'data-title':blockTitle,inert:isSubtreeDisabled?'true':undefined,className:dist_clsx('block-editor-block-list__block',{'wp-block':!isAligned,'has-block-overlay':hasOverlay,'is-selected':isSelected,'is-highlighted':isHighlighted,'is-multi-selected':isMultiSelected,'is-partially-selected':isPartiallySelected,'is-reusable':isReusable,'is-dragging':isDragging,'has-child-selected':hasChildSelected,'is-editing-disabled':isEditingDisabled,'has-editable-outline':hasEditableOutline,'has-negative-margin':hasNegativeMargin,'is-content-locked-temporarily-editing-as-blocks':isTemporarilyEditingAsBlocks},className,props.className,wrapperProps.className,defaultClassName),style:{...wrapperProps.style,...props.style,...bindingsStyle}};}
use_block_props_useBlockProps.save=external_wp_blocks_namespaceObject.__unstableGetBlockProps;;function mergeWrapperProps(propsA,propsB){const newProps={...propsA,...propsB};if(propsA?.hasOwnProperty('className')&&propsB?.hasOwnProperty('className')){newProps.className=dist_clsx(propsA.className,propsB.className);}
if(propsA?.hasOwnProperty('style')&&propsB?.hasOwnProperty('style')){newProps.style={...propsA.style,...propsB.style};}
return newProps;}
function Block({children,isHtml,...props}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...use_block_props_useBlockProps(props,{__unstableIsHtml:isHtml}),children:children});}
function BlockListBlock({block:{__unstableBlockSource},mode,isLocked,canRemove,clientId,isSelected,isSelectionEnabled,className,__unstableLayoutClassNames:layoutClassNames,name,isValid,attributes,wrapperProps,setAttributes,onReplace,onRemove,onInsertBlocksAfter,onMerge,toggleSelection}){var _wrapperProps;const{mayDisplayControls,mayDisplayParentControls,themeSupportsLayout,...context}=(0,external_wp_element_namespaceObject.useContext)(PrivateBlockContext);const parentLayout=useLayout()||{};let blockEdit=(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockEdit,{name:name,isSelected:isSelected,attributes:attributes,setAttributes:setAttributes,insertBlocksAfter:isLocked?undefined:onInsertBlocksAfter,onReplace:canRemove?onReplace:undefined,onRemove:canRemove?onRemove:undefined,mergeBlocks:canRemove?onMerge:undefined,clientId:clientId,isSelectionEnabled:isSelectionEnabled,toggleSelection:toggleSelection,__unstableLayoutClassNames:layoutClassNames,__unstableParentLayout:Object.keys(parentLayout).length?parentLayout:undefined,mayDisplayControls:mayDisplayControls,mayDisplayParentControls:mayDisplayParentControls,blockEditingMode:context.blockEditingMode,isPreviewMode:context.isPreviewMode});const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);if(blockType?.getEditWrapperProps){wrapperProps=mergeWrapperProps(wrapperProps,blockType.getEditWrapperProps(attributes));}
const isAligned=wrapperProps&&!!wrapperProps['data-align']&&!themeSupportsLayout;const isSticky=className?.includes('is-position-sticky');if(isAligned){blockEdit=(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:dist_clsx('wp-block',isSticky&&className),"data-align":wrapperProps['data-align'],children:blockEdit});}
let block;if(!isValid){const saveContent=__unstableBlockSource?(0,external_wp_blocks_namespaceObject.serializeRawBlock)(__unstableBlockSource):(0,external_wp_blocks_namespaceObject.getSaveContent)(blockType,attributes);block=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Block,{className:"has-warning",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockInvalidWarning,{clientId:clientId}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_element_namespaceObject.RawHTML,{children:(0,external_wp_dom_namespaceObject.safeHTML)(saveContent)})]});}else if(mode==='html'){block=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{style:{display:'none'},children:blockEdit}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(Block,{isHtml:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_html,{clientId:clientId})})]});}else if(blockType?.apiVersion>1){block=blockEdit;}else{block=(0,external_ReactJSXRuntime_namespaceObject.jsx)(Block,{children:blockEdit});}
const{'data-align':dataAlign,...restWrapperProps}=(_wrapperProps=wrapperProps)!==null&&_wrapperProps!==void 0?_wrapperProps:{};const updatedWrapperProps={...restWrapperProps,className:dist_clsx(restWrapperProps.className,dataAlign&&themeSupportsLayout&&`align${dataAlign}`,!(dataAlign&&isSticky)&&className)};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateBlockContext.Provider,{value:{wrapperProps:updatedWrapperProps,isAligned,...context},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_crash_boundary,{fallback:(0,external_ReactJSXRuntime_namespaceObject.jsx)(Block,{className:"has-warning",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_crash_warning,{})}),children:block})});}
const applyWithDispatch=(0,external_wp_data_namespaceObject.withDispatch)((dispatch,ownProps,registry)=>{const{updateBlockAttributes,insertBlocks,mergeBlocks,replaceBlocks,toggleSelection,__unstableMarkLastChangeAsPersistent,moveBlocksToPosition,removeBlock,selectBlock}=dispatch(store);return{setAttributes(newAttributes){const{getMultiSelectedBlockClientIds}=registry.select(store);const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds();const{clientId}=ownProps;const clientIds=multiSelectedBlockClientIds.length?multiSelectedBlockClientIds:[clientId];updateBlockAttributes(clientIds,newAttributes);},onInsertBlocks(blocks,index){const{rootClientId}=ownProps;insertBlocks(blocks,index,rootClientId);},onInsertBlocksAfter(blocks){const{clientId,rootClientId}=ownProps;const{getBlockIndex}=registry.select(store);const index=getBlockIndex(clientId);insertBlocks(blocks,index+1,rootClientId);},onMerge(forward){const{clientId,rootClientId}=ownProps;const{getPreviousBlockClientId,getNextBlockClientId,getBlock,getBlockAttributes,getBlockName,getBlockOrder,getBlockIndex,getBlockRootClientId,canInsertBlockType}=registry.select(store);function switchToDefaultOrRemove(){const block=getBlock(clientId);const defaultBlockName=(0,external_wp_blocks_namespaceObject.getDefaultBlockName)();const defaultBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(defaultBlockName);if(getBlockName(clientId)!==defaultBlockName){const replacement=(0,external_wp_blocks_namespaceObject.switchToBlockType)(block,defaultBlockName);if(replacement&&replacement.length){replaceBlocks(clientId,replacement);}}else if((0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(block)){const nextBlockClientId=getNextBlockClientId(clientId);if(nextBlockClientId){registry.batch(()=>{removeBlock(clientId);selectBlock(nextBlockClientId);});}}else if(defaultBlockType.merge){const attributes=defaultBlockType.merge({},block.attributes);replaceBlocks([clientId],[(0,external_wp_blocks_namespaceObject.createBlock)(defaultBlockName,attributes)]);}}
function moveFirstItemUp(_clientId,changeSelection=true){const wrapperBlockName=getBlockName(_clientId);const wrapperBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(wrapperBlockName);const isTextualWrapper=wrapperBlockType.category==='text';const targetRootClientId=getBlockRootClientId(_clientId);const blockOrder=getBlockOrder(_clientId);const[firstClientId]=blockOrder;if(blockOrder.length===1&&(0,external_wp_blocks_namespaceObject.isUnmodifiedBlock)(getBlock(firstClientId))){removeBlock(_clientId);}else if(isTextualWrapper){registry.batch(()=>{if(canInsertBlockType(getBlockName(firstClientId),targetRootClientId)){moveBlocksToPosition([firstClientId],_clientId,targetRootClientId,getBlockIndex(_clientId));}else{const replacement=(0,external_wp_blocks_namespaceObject.switchToBlockType)(getBlock(firstClientId),(0,external_wp_blocks_namespaceObject.getDefaultBlockName)());if(replacement&&replacement.length&&replacement.every(block=>canInsertBlockType(block.name,targetRootClientId))){insertBlocks(replacement,getBlockIndex(_clientId),targetRootClientId,changeSelection);removeBlock(firstClientId,false);}else{switchToDefaultOrRemove();}}
if(!getBlockOrder(_clientId).length&&(0,external_wp_blocks_namespaceObject.isUnmodifiedBlock)(getBlock(_clientId))){removeBlock(_clientId,false);}});}else{switchToDefaultOrRemove();}}
if(forward){if(rootClientId){const nextRootClientId=getNextBlockClientId(rootClientId);if(nextRootClientId){if(getBlockName(rootClientId)===getBlockName(nextRootClientId)){const rootAttributes=getBlockAttributes(rootClientId);const previousRootAttributes=getBlockAttributes(nextRootClientId);if(Object.keys(rootAttributes).every(key=>rootAttributes[key]===previousRootAttributes[key])){registry.batch(()=>{moveBlocksToPosition(getBlockOrder(nextRootClientId),nextRootClientId,rootClientId);removeBlock(nextRootClientId,false);});return;}}else{mergeBlocks(rootClientId,nextRootClientId);return;}}}
const nextBlockClientId=getNextBlockClientId(clientId);if(!nextBlockClientId){return;}
if(getBlockOrder(nextBlockClientId).length){moveFirstItemUp(nextBlockClientId,false);}else{mergeBlocks(clientId,nextBlockClientId);}}else{const previousBlockClientId=getPreviousBlockClientId(clientId);if(previousBlockClientId){mergeBlocks(previousBlockClientId,clientId);}else if(rootClientId){const previousRootClientId=getPreviousBlockClientId(rootClientId);if(previousRootClientId&&getBlockName(rootClientId)===getBlockName(previousRootClientId)){const rootAttributes=getBlockAttributes(rootClientId);const previousRootAttributes=getBlockAttributes(previousRootClientId);if(Object.keys(rootAttributes).every(key=>rootAttributes[key]===previousRootAttributes[key])){registry.batch(()=>{moveBlocksToPosition(getBlockOrder(rootClientId),rootClientId,previousRootClientId);removeBlock(rootClientId,false);});return;}}
moveFirstItemUp(rootClientId);}else{switchToDefaultOrRemove();}}},onReplace(blocks,indexToSelect,initialPosition){if(blocks.length&&!(0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(blocks[blocks.length-1])){__unstableMarkLastChangeAsPersistent();}
const replacementBlocks=blocks?.length===1&&Array.isArray(blocks[0])?blocks[0]:blocks;replaceBlocks([ownProps.clientId],replacementBlocks,indexToSelect,initialPosition);},onRemove(){removeBlock(ownProps.clientId);},toggleSelection(selectionEnabled){toggleSelection(selectionEnabled);}};});BlockListBlock=(0,external_wp_compose_namespaceObject.compose)(applyWithDispatch,(0,external_wp_components_namespaceObject.withFilters)('editor.BlockListBlock'))(BlockListBlock);function BlockListBlockProvider(props){const{clientId,rootClientId}=props;const selectedProps=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isBlockSelected,getBlockMode,isSelectionEnabled,getTemplateLock,isSectionBlock:_isSectionBlock,getBlockWithoutAttributes,getBlockAttributes,canRemoveBlock,canMoveBlock,getSettings,getTemporarilyEditingAsBlocks,getBlockEditingMode,getBlockName,isFirstMultiSelectedBlock,getMultiSelectedBlockClientIds,hasSelectedInnerBlock,getBlocksByName,getBlockIndex,isBlockMultiSelected,isBlockSubtreeDisabled,isBlockHighlighted,__unstableIsFullySelected,__unstableSelectionHasUnmergeableBlock,isBlockBeingDragged,isDragging,__unstableHasActiveBlockOverlayActive,getSelectedBlocksInitialCaretPosition}=unlock(select(store));const blockWithoutAttributes=getBlockWithoutAttributes(clientId);if(!blockWithoutAttributes){return;}
const{hasBlockSupport:_hasBlockSupport,getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const attributes=getBlockAttributes(clientId);const{name:blockName,isValid}=blockWithoutAttributes;const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);const{supportsLayout,isPreviewMode}=getSettings();const hasLightBlockWrapper=blockType?.apiVersion>1;const previewContext={isPreviewMode,blockWithoutAttributes,name:blockName,attributes,isValid,themeSupportsLayout:supportsLayout,index:getBlockIndex(clientId),isReusable:(0,external_wp_blocks_namespaceObject.isReusableBlock)(blockType),className:hasLightBlockWrapper?attributes.className:undefined,defaultClassName:hasLightBlockWrapper?(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(blockName):undefined,blockTitle:blockType?.title};if(isPreviewMode){return previewContext;}
const _isSelected=isBlockSelected(clientId);const canRemove=canRemoveBlock(clientId);const canMove=canMoveBlock(clientId);const match=getActiveBlockVariation(blockName,attributes);const isMultiSelected=isBlockMultiSelected(clientId);const checkDeep=true;const isAncestorOfSelectedBlock=hasSelectedInnerBlock(clientId,checkDeep);const blockEditingMode=getBlockEditingMode(clientId);const multiple=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'multiple',true);const blocksWithSameName=multiple?[]:getBlocksByName(blockName);const isInvalid=blocksWithSameName.length&&blocksWithSameName[0]!==clientId;return{...previewContext,mode:getBlockMode(clientId),isSelectionEnabled:isSelectionEnabled(),isLocked:!!getTemplateLock(rootClientId),isSectionBlock:_isSectionBlock(clientId),canRemove,canMove,isSelected:_isSelected,isTemporarilyEditingAsBlocks:getTemporarilyEditingAsBlocks()===clientId,blockEditingMode,mayDisplayControls:_isSelected||isFirstMultiSelectedBlock(clientId)&&getMultiSelectedBlockClientIds().every(id=>getBlockName(id)===blockName),mayDisplayParentControls:_hasBlockSupport(getBlockName(clientId),'__experimentalExposeControlsToChildren',false)&&hasSelectedInnerBlock(clientId),blockApiVersion:blockType?.apiVersion||1,blockTitle:match?.title||blockType?.title,isSubtreeDisabled:blockEditingMode==='disabled'&&isBlockSubtreeDisabled(clientId),hasOverlay:__unstableHasActiveBlockOverlayActive(clientId)&&!isDragging(),initialPosition:_isSelected?getSelectedBlocksInitialCaretPosition():undefined,isHighlighted:isBlockHighlighted(clientId),isMultiSelected,isPartiallySelected:isMultiSelected&&!__unstableIsFullySelected()&&!__unstableSelectionHasUnmergeableBlock(),isDragging:isBlockBeingDragged(clientId),hasChildSelected:isAncestorOfSelectedBlock,isEditingDisabled:blockEditingMode==='disabled',hasEditableOutline:blockEditingMode!=='disabled'&&getBlockEditingMode(rootClientId)==='disabled',originalBlockClientId:isInvalid?blocksWithSameName[0]:false};},[clientId,rootClientId]);const{isPreviewMode,mode='visual',isSelectionEnabled=false,isLocked=false,canRemove=false,canMove=false,blockWithoutAttributes,name,attributes,isValid,isSelected=false,themeSupportsLayout,isTemporarilyEditingAsBlocks,blockEditingMode,mayDisplayControls,mayDisplayParentControls,index,blockApiVersion,blockTitle,isSubtreeDisabled,hasOverlay,initialPosition,isHighlighted,isMultiSelected,isPartiallySelected,isReusable,isDragging,hasChildSelected,isSectionBlock,isEditingDisabled,hasEditableOutline,className,defaultClassName,originalBlockClientId}=selectedProps;const block=(0,external_wp_element_namespaceObject.useMemo)(()=>({...blockWithoutAttributes,attributes}),[blockWithoutAttributes,attributes]);if(!selectedProps){return null;}
const privateContext={isPreviewMode,clientId,className,index,mode,name,blockApiVersion,blockTitle,isSelected,isSubtreeDisabled,hasOverlay,initialPosition,blockEditingMode,isHighlighted,isMultiSelected,isPartiallySelected,isReusable,isDragging,hasChildSelected,isSectionBlock,isEditingDisabled,hasEditableOutline,isTemporarilyEditingAsBlocks,defaultClassName,mayDisplayControls,mayDisplayParentControls,originalBlockClientId,themeSupportsLayout,canMove};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateBlockContext.Provider,{value:privateContext,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListBlock,{...props,mode,isSelectionEnabled,isLocked,canRemove,canMove,block,name,attributes,isValid,isSelected})});}
const block=((0,external_wp_element_namespaceObject.memo)(BlockListBlockProvider));;const external_wp_htmlEntities_namespaceObject=window["wp"]["htmlEntities"];;const ZWNBSP='\ufeff';function DefaultBlockAppender({rootClientId}){const{showPrompt,isLocked,placeholder,isManualGrid}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockCount,getSettings,getTemplateLock,getBlockAttributes}=select(store);const isEmpty=!getBlockCount(rootClientId);const{bodyPlaceholder}=getSettings();return{showPrompt:isEmpty,isLocked:!!getTemplateLock(rootClientId),placeholder:bodyPlaceholder,isManualGrid:getBlockAttributes(rootClientId)?.layout?.isManualPlacement};},[rootClientId]);const{insertDefaultBlock,startTyping}=(0,external_wp_data_namespaceObject.useDispatch)(store);if(isLocked||isManualGrid){return null;}
const value=(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(placeholder)||(0,external_wp_i18n_namespaceObject.__)('Type / to choose a block');const onAppend=()=>{insertDefaultBlock(undefined,rootClientId);startTyping();};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{"data-root-client-id":rootClientId||'',className:dist_clsx('block-editor-default-block-appender',{'has-visible-prompt':showPrompt}),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{tabIndex:"0",role:"button","aria-label":(0,external_wp_i18n_namespaceObject.__)('Add default block'),className:"block-editor-default-block-appender__content",onKeyDown:event=>{if(external_wp_keycodes_namespaceObject.ENTER===event.keyCode||external_wp_keycodes_namespaceObject.SPACE===event.keyCode){onAppend();}},onClick:()=>onAppend(),onFocus:()=>{if(showPrompt){onAppend();}},children:showPrompt?value:ZWNBSP}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter,{rootClientId:rootClientId,position:"bottom right",isAppender:true,__experimentalIsQuick:true})]});};function DefaultAppender({rootClientId}){const canInsertDefaultBlock=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).canInsertBlockType((0,external_wp_blocks_namespaceObject.getDefaultBlockName)(),rootClientId));if(canInsertDefaultBlock){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(DefaultBlockAppender,{rootClientId:rootClientId});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(button_block_appender,{rootClientId:rootClientId,className:"block-list-appender__toggle"});}
function BlockListAppender({rootClientId,CustomAppender,className,tagName:TagName='div'}){const isDragOver=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockInsertionPoint,isBlockInsertionPointVisible,getBlockCount}=select(store);const insertionPoint=getBlockInsertionPoint();return isBlockInsertionPointVisible()&&rootClientId===insertionPoint?.rootClientId&&getBlockCount(rootClientId)===0;},[rootClientId]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(TagName,{tabIndex:-1,className:dist_clsx('block-list-appender wp-block',className,{'is-drag-over':isDragOver}),contentEditable:false,"data-block":true,children:CustomAppender?(0,external_ReactJSXRuntime_namespaceObject.jsx)(CustomAppender,{}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(DefaultAppender,{rootClientId:rootClientId})});};const inbetween_MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;const InsertionPointOpenRef=(0,external_wp_element_namespaceObject.createContext)();function BlockPopoverInbetween({previousClientId,nextClientId,children,__unstablePopoverSlot,__unstableContentRef,operation='insert',nearestSide='right',...props}){const[popoverRecomputeCounter,forcePopoverRecompute]=(0,external_wp_element_namespaceObject.useReducer)(s=>(s+1)%inbetween_MAX_POPOVER_RECOMPUTE_COUNTER,0);const{orientation,rootClientId,isVisible}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockListSettings,getBlockRootClientId,isBlockVisible}=select(store);const _rootClientId=getBlockRootClientId(previousClientId!==null&&previousClientId!==void 0?previousClientId:nextClientId);return{orientation:getBlockListSettings(_rootClientId)?.orientation||'vertical',rootClientId:_rootClientId,isVisible:isBlockVisible(previousClientId)&&isBlockVisible(nextClientId)};},[previousClientId,nextClientId]);const previousElement=useBlockElement(previousClientId);const nextElement=useBlockElement(nextClientId);const isVertical=orientation==='vertical';const popoverAnchor=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(popoverRecomputeCounter<0||!previousElement&&!nextElement||!isVisible){return undefined;}
const contextElement=operation==='group'?nextElement||previousElement:previousElement||nextElement;return{contextElement,getBoundingClientRect(){const previousRect=previousElement?previousElement.getBoundingClientRect():null;const nextRect=nextElement?nextElement.getBoundingClientRect():null;let left=0;let top=0;let width=0;let height=0;if(operation==='group'){const targetRect=nextRect||previousRect;top=targetRect.top;width=0;height=targetRect.bottom-targetRect.top;left=nearestSide==='left'?targetRect.left-2:targetRect.right-2;}else if(isVertical){top=previousRect?previousRect.bottom:nextRect.top;width=previousRect?previousRect.width:nextRect.width;height=nextRect&&previousRect?nextRect.top-previousRect.bottom:0;left=previousRect?previousRect.left:nextRect.left;}else{top=previousRect?previousRect.top:nextRect.top;height=previousRect?previousRect.height:nextRect.height;if((0,external_wp_i18n_namespaceObject.isRTL)()){left=nextRect?nextRect.right:previousRect.left;width=previousRect&&nextRect?previousRect.left-nextRect.right:0;}else{left=previousRect?previousRect.right:nextRect.left;width=previousRect&&nextRect?nextRect.left-previousRect.right:0;}
width=Math.max(width,0);}
return new window.DOMRect(left,top,width,height);}};},[previousElement,nextElement,popoverRecomputeCounter,isVertical,isVisible,operation,nearestSide]);const popoverScrollRef=use_popover_scroll(__unstableContentRef);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previousElement){return;}
const observer=new window.MutationObserver(forcePopoverRecompute);observer.observe(previousElement,{attributes:true});return()=>{observer.disconnect();};},[previousElement]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!nextElement){return;}
const observer=new window.MutationObserver(forcePopoverRecompute);observer.observe(nextElement,{attributes:true});return()=>{observer.disconnect();};},[nextElement]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previousElement){return;}
previousElement.ownerDocument.defaultView.addEventListener('resize',forcePopoverRecompute);return()=>{previousElement.ownerDocument.defaultView?.removeEventListener('resize',forcePopoverRecompute);};},[previousElement]);if(!previousElement&&!nextElement||!isVisible){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{ref:popoverScrollRef,animate:false,anchor:popoverAnchor,focusOnMount:false,__unstableSlotName:__unstablePopoverSlot,inline:!__unstablePopoverSlot,...props,className:dist_clsx('block-editor-block-popover','block-editor-block-popover__inbetween',props.className),resize:false,flip:false,placement:"overlay",variant:"unstyled",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-popover__inbetween-container",children:children})},nextClientId+'--'+rootClientId);}
const inbetween=(BlockPopoverInbetween);;const animateVariants={hide:{opacity:0,scaleY:0.75},show:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:0.9}};function BlockDropZonePopover({__unstablePopoverSlot,__unstableContentRef}){const{clientId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockOrder,getBlockInsertionPoint}=select(store);const insertionPoint=getBlockInsertionPoint();const order=getBlockOrder(insertionPoint.rootClientId);if(!order.length){return{};}
return{clientId:order[insertionPoint.index]};},[]);const reducedMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();return(0,external_ReactJSXRuntime_namespaceObject.jsx)(cover,{clientId:clientId,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,className:"block-editor-block-popover__drop-zone",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableMotion.div,{"data-testid":"block-popover-drop-zone",initial:reducedMotion?animateVariants.show:animateVariants.hide,animate:animateVariants.show,exit:reducedMotion?animateVariants.show:animateVariants.exit,className:"block-editor-block-popover__drop-zone-foreground"})});}
const drop_zone=(BlockDropZonePopover);;const insertion_point_InsertionPointOpenRef=(0,external_wp_element_namespaceObject.createContext)();function InbetweenInsertionPointPopover({__unstablePopoverSlot,__unstableContentRef,operation='insert',nearestSide='right'}){const{selectBlock,hideInsertionPoint}=(0,external_wp_data_namespaceObject.useDispatch)(store);const openRef=(0,external_wp_element_namespaceObject.useContext)(insertion_point_InsertionPointOpenRef);const ref=(0,external_wp_element_namespaceObject.useRef)();const{orientation,previousClientId,nextClientId,rootClientId,isInserterShown,isDistractionFree,isZoomOutMode}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockOrder,getBlockListSettings,getBlockInsertionPoint,isBlockBeingDragged,getPreviousBlockClientId,getNextBlockClientId,getSettings,isZoomOut}=unlock(select(store));const insertionPoint=getBlockInsertionPoint();const order=getBlockOrder(insertionPoint.rootClientId);if(!order.length){return{};}
let _previousClientId=order[insertionPoint.index-1];let _nextClientId=order[insertionPoint.index];while(isBlockBeingDragged(_previousClientId)){_previousClientId=getPreviousBlockClientId(_previousClientId);}
while(isBlockBeingDragged(_nextClientId)){_nextClientId=getNextBlockClientId(_nextClientId);}
const settings=getSettings();return{previousClientId:_previousClientId,nextClientId:_nextClientId,orientation:getBlockListSettings(insertionPoint.rootClientId)?.orientation||'vertical',rootClientId:insertionPoint.rootClientId,isDistractionFree:settings.isDistractionFree,isInserterShown:insertionPoint?.__unstableWithInserter,isZoomOutMode:isZoomOut()};},[]);const{getBlockEditingMode}=(0,external_wp_data_namespaceObject.useSelect)(store);const disableMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();function onClick(event){if(event.target===ref.current&&nextClientId&&getBlockEditingMode(nextClientId)!=='disabled'){selectBlock(nextClientId,-1);}}
function maybeHideInserterPoint(event){if(event.target===ref.current&&!openRef.current){hideInsertionPoint();}}
function onFocus(event){if(event.target!==ref.current){openRef.current=true;}}
const lineVariants={start:{opacity:0,scale:0},rest:{opacity:1,scale:1,transition:{delay:isInserterShown?0.5:0,type:'tween'}},hover:{opacity:1,scale:1,transition:{delay:0.5,type:'tween'}}};const inserterVariants={start:{scale:disableMotion?1:0},rest:{scale:1,transition:{delay:0.4,type:'tween'}}};if(isDistractionFree){return null;}
if(isZoomOutMode&&operation!=='insert'){return null;}
const orientationClassname=orientation==='horizontal'||operation==='group'?'is-horizontal':'is-vertical';const className=dist_clsx('block-editor-block-list__insertion-point',orientationClassname);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inbetween,{previousClientId:previousClientId,nextClientId:nextClientId,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,operation:operation,nearestSide:nearestSide,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__unstableMotion.div,{layout:!disableMotion,initial:disableMotion?'rest':'start',animate:"rest",whileHover:"hover",whileTap:"pressed",exit:"start",ref:ref,tabIndex:-1,onClick:onClick,onFocus:onFocus,className:dist_clsx(className,{'is-with-inserter':isInserterShown}),onHoverEnd:maybeHideInserterPoint,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableMotion.div,{variants:lineVariants,className:"block-editor-block-list__insertion-point-indicator","data-testid":"block-list-insertion-point-indicator"}),isInserterShown&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableMotion.div,{variants:inserterVariants,className:dist_clsx('block-editor-block-list__insertion-point-inserter'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter,{position:"bottom center",clientId:nextClientId,rootClientId:rootClientId,__experimentalIsQuick:true,onToggle:isOpen=>{openRef.current=isOpen;},onSelectOrClose:()=>{openRef.current=false;}})})]})});}
function InsertionPoint(props){const{insertionPoint,isVisible,isBlockListEmpty}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockInsertionPoint,isBlockInsertionPointVisible,getBlockCount}=select(store);const blockInsertionPoint=getBlockInsertionPoint();return{insertionPoint:blockInsertionPoint,isVisible:isBlockInsertionPointVisible(),isBlockListEmpty:getBlockCount(blockInsertionPoint?.rootClientId)===0};},[]);if(!isVisible||isBlockListEmpty){return null;}
return insertionPoint.operation==='replace'?(0,external_ReactJSXRuntime_namespaceObject.jsx)(drop_zone,{...props},`${insertionPoint.rootClientId}-${insertionPoint.index}`):(0,external_ReactJSXRuntime_namespaceObject.jsx)(InbetweenInsertionPointPopover,{operation:insertionPoint.operation,nearestSide:insertionPoint.nearestSide,...props});};function useInBetweenInserter(){const openRef=(0,external_wp_element_namespaceObject.useContext)(insertion_point_InsertionPointOpenRef);const isInBetweenInserterDisabled=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings().isDistractionFree||unlock(select(store)).isZoomOut(),[]);const{getBlockListSettings,getBlockIndex,isMultiSelecting,getSelectedBlockClientIds,getSettings,getTemplateLock,__unstableIsWithinBlockOverlay,getBlockEditingMode,getBlockName,getBlockAttributes,getParentSectionBlock}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));const{showInsertionPoint,hideInsertionPoint}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(isInBetweenInserterDisabled){return;}
function onMouseMove(event){if(openRef===undefined||openRef.current){return;}
if(event.target.nodeType===event.target.TEXT_NODE){return;}
if(isMultiSelecting()){return;}
if(!event.target.classList.contains('block-editor-block-list__layout')){hideInsertionPoint();return;}
let rootClientId;if(!event.target.classList.contains('is-root-container')){const blockElement=!!event.target.getAttribute('data-block')?event.target:event.target.closest('[data-block]');rootClientId=blockElement.getAttribute('data-block');}
if(getTemplateLock(rootClientId)||getBlockEditingMode(rootClientId)==='disabled'||getBlockName(rootClientId)==='core/block'||rootClientId&&getBlockAttributes(rootClientId).layout?.isManualPlacement){return;}
const blockListSettings=getBlockListSettings(rootClientId);const orientation=blockListSettings?.orientation||'vertical';const captureToolbars=!!blockListSettings?.__experimentalCaptureToolbars;const offsetTop=event.clientY;const offsetLeft=event.clientX;const children=Array.from(event.target.children);let element=children.find(blockEl=>{const blockElRect=blockEl.getBoundingClientRect();return blockEl.classList.contains('wp-block')&&orientation==='vertical'&&blockElRect.top>offsetTop||blockEl.classList.contains('wp-block')&&orientation==='horizontal'&&((0,external_wp_i18n_namespaceObject.isRTL)()?blockElRect.right<offsetLeft:blockElRect.left>offsetLeft);});if(!element){hideInsertionPoint();return;}
if(!element.id){element=element.firstElementChild;if(!element){hideInsertionPoint();return;}}
const clientId=element.id.slice('block-'.length);if(!clientId||__unstableIsWithinBlockOverlay(clientId)||!!getParentSectionBlock(clientId)){return;}
if(getSelectedBlockClientIds().includes(clientId)&&orientation==='vertical'&&!captureToolbars&&!getSettings().hasFixedToolbar){return;}
const elementRect=element.getBoundingClientRect();if(orientation==='horizontal'&&(event.clientY>elementRect.bottom||event.clientY<elementRect.top)||orientation==='vertical'&&(event.clientX>elementRect.right||event.clientX<elementRect.left)){hideInsertionPoint();return;}
const index=getBlockIndex(clientId);if(index===0){hideInsertionPoint();return;}
showInsertionPoint(rootClientId,index,{__unstableWithInserter:true});}
node.addEventListener('mousemove',onMouseMove);return()=>{node.removeEventListener('mousemove',onMouseMove);};},[openRef,getBlockListSettings,getBlockIndex,isMultiSelecting,showInsertionPoint,hideInsertionPoint,getSelectedBlockClientIds,isInBetweenInserterDisabled]);};function useBlockSelectionClearer(){const{getSettings,hasSelectedBlock,hasMultiSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);const{clearSelectedBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{clearBlockSelection:isEnabled}=getSettings();return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!isEnabled){return;}
function onMouseDown(event){if(!hasSelectedBlock()&&!hasMultiSelection()){return;}
if(event.target!==node){return;}
clearSelectedBlock();}
node.addEventListener('mousedown',onMouseDown);return()=>{node.removeEventListener('mousedown',onMouseDown);};},[hasSelectedBlock,hasMultiSelection,clearSelectedBlock,isEnabled]);}
function BlockSelectionClearer(props){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:useBlockSelectionClearer(),...props});};function ButtonBlockAppender({showSeparator,isFloating,onAddBlock,isToggle}){const{clientId}=useBlockEditContext();return(0,external_ReactJSXRuntime_namespaceObject.jsx)(button_block_appender,{className:dist_clsx({'block-list-appender__toggle':isToggle}),rootClientId:clientId,showSeparator:showSeparator,isFloating:isFloating,onAddBlock:onAddBlock});};function default_block_appender_DefaultBlockAppender(){const{clientId}=useBlockEditContext();return(0,external_ReactJSXRuntime_namespaceObject.jsx)(DefaultBlockAppender,{rootClientId:clientId});};const pendingSettingsUpdates=new WeakMap();function createShallowMemo(){let value;return newValue=>{if(value===undefined||!external_wp_isShallowEqual_default()(value,newValue)){value=newValue;}
return value;};}
function useShallowMemo(value){const[memo]=(0,external_wp_element_namespaceObject.useState)(createShallowMemo);return memo(value);}
function useNestedSettingsUpdate(clientId,parentLock,allowedBlocks,prioritizedInserterBlocks,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const _allowedBlocks=useShallowMemo(allowedBlocks);const _prioritizedInserterBlocks=useShallowMemo(prioritizedInserterBlocks);const _templateLock=templateLock===undefined||parentLock==='contentOnly'?parentLock:templateLock;(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{const newSettings={allowedBlocks:_allowedBlocks,prioritizedInserterBlocks:_prioritizedInserterBlocks,templateLock:_templateLock};if(captureToolbars!==undefined){newSettings.__experimentalCaptureToolbars=captureToolbars;}
if(orientation!==undefined){newSettings.orientation=orientation;}else{const layoutType=getLayoutType(layout?.type);newSettings.orientation=layoutType.getOrientation(layout);}
if(__experimentalDefaultBlock!==undefined){external_wp_deprecated_default()('__experimentalDefaultBlock',{alternative:'defaultBlock',since:'6.3',version:'6.4'});newSettings.defaultBlock=__experimentalDefaultBlock;}
if(defaultBlock!==undefined){newSettings.defaultBlock=defaultBlock;}
if(__experimentalDirectInsert!==undefined){external_wp_deprecated_default()('__experimentalDirectInsert',{alternative:'directInsert',since:'6.3',version:'6.4'});newSettings.directInsert=__experimentalDirectInsert;}
if(directInsert!==undefined){newSettings.directInsert=directInsert;}
if(newSettings.directInsert!==undefined&&typeof newSettings.directInsert!=='boolean'){external_wp_deprecated_default()('Using `Function` as a `directInsert` argument',{alternative:'`boolean` values',since:'6.5'});}
if(!pendingSettingsUpdates.get(registry)){pendingSettingsUpdates.set(registry,{});}
pendingSettingsUpdates.get(registry)[clientId]=newSettings;window.queueMicrotask(()=>{const settings=pendingSettingsUpdates.get(registry);if(Object.keys(settings).length){const{updateBlockListSettings}=registry.dispatch(store);updateBlockListSettings(settings);pendingSettingsUpdates.set(registry,{});}});},[clientId,_allowedBlocks,_prioritizedInserterBlocks,_templateLock,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,captureToolbars,orientation,layout,registry]);};function useInnerBlockTemplateSync(clientId,template,templateLock,templateInsertUpdatesSelection){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const existingTemplateRef=(0,external_wp_element_namespaceObject.useRef)(null);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{let isCancelled=false;const{getBlocks,getSelectedBlocksInitialCaretPosition,isBlockSelected}=registry.select(store);const{replaceInnerBlocks,__unstableMarkNextChangeAsNotPersistent}=registry.dispatch(store);window.queueMicrotask(()=>{if(isCancelled){return;}
const currentInnerBlocks=getBlocks(clientId);const shouldApplyTemplate=currentInnerBlocks.length===0||templateLock==='all'||templateLock==='contentOnly';const hasTemplateChanged=!es6_default()(template,existingTemplateRef.current);if(!shouldApplyTemplate||!hasTemplateChanged){return;}
existingTemplateRef.current=template;const nextBlocks=(0,external_wp_blocks_namespaceObject.synchronizeBlocksWithTemplate)(currentInnerBlocks,template);if(!es6_default()(nextBlocks,currentInnerBlocks)){__unstableMarkNextChangeAsNotPersistent();replaceInnerBlocks(clientId,nextBlocks,currentInnerBlocks.length===0&&templateInsertUpdatesSelection&&nextBlocks.length!==0&&isBlockSelected(clientId),getSelectedBlocksInitialCaretPosition());}});return()=>{isCancelled=true;};},[template,templateLock,clientId,registry,templateInsertUpdatesSelection]);};function useBlockContext(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const block=select(store).getBlock(clientId);if(!block){return undefined;}
const blockType=select(external_wp_blocks_namespaceObject.store).getBlockType(block.name);if(!blockType){return undefined;}
if(Object.keys(blockType.providesContext).length===0){return undefined;}
return Object.fromEntries(Object.entries(blockType.providesContext).map(([contextName,attributeName])=>[contextName,block.attributes[attributeName]]));},[clientId]);};function parseDropEvent(event){let result={srcRootClientId:null,srcClientIds:null,srcIndex:null,type:null,blocks:null};if(!event.dataTransfer){return result;}
try{result=Object.assign(result,JSON.parse(event.dataTransfer.getData('wp-blocks')));}catch(err){return result;}
return result;}
function onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock,operation,getBlock){return event=>{const{srcRootClientId:sourceRootClientId,srcClientIds:sourceClientIds,type:dropType,blocks}=parseDropEvent(event);if(dropType==='inserter'){clearSelectedBlock();const blocksToInsert=blocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));insertOrReplaceBlocks(blocksToInsert,true,null);}
if(dropType==='block'){const sourceBlockIndex=getBlockIndex(sourceClientIds[0]);if(sourceRootClientId===targetRootClientId&&sourceBlockIndex===targetBlockIndex){return;}
if(sourceClientIds.includes(targetRootClientId)||getClientIdsOfDescendants(sourceClientIds).some(id=>id===targetRootClientId)){return;}
if(operation==='group'){const blocksToInsert=sourceClientIds.map(clientId=>getBlock(clientId));insertOrReplaceBlocks(blocksToInsert,true,null,sourceClientIds);return;}
const isAtSameLevel=sourceRootClientId===targetRootClientId;const draggedBlockCount=sourceClientIds.length;const insertIndex=isAtSameLevel&&sourceBlockIndex<targetBlockIndex?targetBlockIndex-draggedBlockCount:targetBlockIndex;moveBlocks(sourceClientIds,sourceRootClientId,insertIndex);}};}
function onFilesDrop(targetRootClientId,getSettings,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks){return files=>{if(!getSettings().mediaUpload){return;}
const transformation=(0,external_wp_blocks_namespaceObject.findTransform)((0,external_wp_blocks_namespaceObject.getBlockTransforms)('from'),transform=>transform.type==='files'&&canInsertBlockType(transform.blockName,targetRootClientId)&&transform.isMatch(files));if(transformation){const blocks=transformation.transform(files,updateBlockAttributes);insertOrReplaceBlocks(blocks);}};}
function onHTMLDrop(insertOrReplaceBlocks){return HTML=>{const blocks=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML,mode:'BLOCKS'});if(blocks.length){insertOrReplaceBlocks(blocks);}};}
function useOnBlockDrop(targetRootClientId,targetBlockIndex,options={}){const{operation='insert',nearestSide='right'}=options;const{canInsertBlockType,getBlockIndex,getClientIdsOfDescendants,getBlockOrder,getBlocksByClientId,getSettings,getBlock}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getGroupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const{insertBlocks,moveBlocksToPosition,updateBlockAttributes,clearSelectedBlock,replaceBlocks,removeBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const registry=(0,external_wp_data_namespaceObject.useRegistry)();const insertOrReplaceBlocks=(0,external_wp_element_namespaceObject.useCallback)((blocks,updateSelection=true,initialPosition=0,clientIdsToReplace=[])=>{if(!Array.isArray(blocks)){blocks=[blocks];}
const clientIds=getBlockOrder(targetRootClientId);const clientId=clientIds[targetBlockIndex];if(operation==='replace'){replaceBlocks(clientId,blocks,undefined,initialPosition);}else if(operation==='group'){const targetBlock=getBlock(clientId);if(nearestSide==='left'){blocks.push(targetBlock);}else{blocks.unshift(targetBlock);}
const groupInnerBlocks=blocks.map(block=>{return(0,external_wp_blocks_namespaceObject.createBlock)(block.name,block.attributes,block.innerBlocks);});const areAllImages=blocks.every(block=>{return block.name==='core/image';});const galleryBlock=canInsertBlockType('core/gallery',targetRootClientId);const wrappedBlocks=(0,external_wp_blocks_namespaceObject.createBlock)(areAllImages&&galleryBlock?'core/gallery':getGroupingBlockName(),{layout:{type:'flex',flexWrap:areAllImages&&galleryBlock?null:'nowrap'}},groupInnerBlocks);replaceBlocks([clientId,...clientIdsToReplace],wrappedBlocks,undefined,initialPosition);}else{insertBlocks(blocks,targetBlockIndex,targetRootClientId,updateSelection,initialPosition);}},[getBlockOrder,targetRootClientId,targetBlockIndex,operation,replaceBlocks,getBlock,nearestSide,canInsertBlockType,getGroupingBlockName,insertBlocks]);const moveBlocks=(0,external_wp_element_namespaceObject.useCallback)((sourceClientIds,sourceRootClientId,insertIndex)=>{if(operation==='replace'){const sourceBlocks=getBlocksByClientId(sourceClientIds);const targetBlockClientIds=getBlockOrder(targetRootClientId);const targetBlockClientId=targetBlockClientIds[targetBlockIndex];registry.batch(()=>{removeBlocks(sourceClientIds,false);replaceBlocks(targetBlockClientId,sourceBlocks,undefined,0);});}else{moveBlocksToPosition(sourceClientIds,sourceRootClientId,targetRootClientId,insertIndex);}},[operation,getBlockOrder,getBlocksByClientId,moveBlocksToPosition,registry,removeBlocks,replaceBlocks,targetBlockIndex,targetRootClientId]);const _onDrop=onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock,operation,getBlock);const _onFilesDrop=onFilesDrop(targetRootClientId,getSettings,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks);const _onHTMLDrop=onHTMLDrop(insertOrReplaceBlocks);return event=>{const files=(0,external_wp_dom_namespaceObject.getFilesFromDataTransfer)(event.dataTransfer);const html=event.dataTransfer.getData('text/html');if(html){_onHTMLDrop(html);}else if(files.length){_onFilesDrop(files);}else{_onDrop(event);}};};function getDistanceFromPointToEdge(point,rect,edge){const isHorizontal=edge==='top'||edge==='bottom';const{x,y}=point;const pointLateralPosition=isHorizontal?x:y;const pointForwardPosition=isHorizontal?y:x;const edgeStart=isHorizontal?rect.left:rect.top;const edgeEnd=isHorizontal?rect.right:rect.bottom;const edgeForwardPosition=rect[edge];let edgeLateralPosition;if(pointLateralPosition>=edgeStart&&pointLateralPosition<=edgeEnd){edgeLateralPosition=pointLateralPosition;}else if(pointLateralPosition<edgeEnd){edgeLateralPosition=edgeStart;}else{edgeLateralPosition=edgeEnd;}
return Math.sqrt((pointLateralPosition-edgeLateralPosition)**2+(pointForwardPosition-edgeForwardPosition)**2);}
function getDistanceToNearestEdge(point,rect,allowedEdges=['top','bottom','left','right']){let candidateDistance;let candidateEdge;allowedEdges.forEach(edge=>{const distance=getDistanceFromPointToEdge(point,rect,edge);if(candidateDistance===undefined||distance<candidateDistance){candidateDistance=distance;candidateEdge=edge;}});return[candidateDistance,candidateEdge];}
function isPointContainedByRect(point,rect){return rect.left<=point.x&&rect.right>=point.x&&rect.top<=point.y&&rect.bottom>=point.y;}
function isPointWithinTopAndBottomBoundariesOfRect(point,rect){return rect.top<=point.y&&rect.bottom>=point.y;};const THRESHOLD_DISTANCE=30;const MINIMUM_HEIGHT_FOR_THRESHOLD=120;const MINIMUM_WIDTH_FOR_THRESHOLD=120;function getDropTargetPosition(blocksData,position,orientation='vertical',options={}){const allowedEdges=orientation==='horizontal'?['left','right']:['top','bottom'];let nearestIndex=0;let insertPosition='before';let minDistance=Infinity;let targetBlockIndex=null;let nearestSide='right';const{dropZoneElement,parentBlockOrientation,rootBlockIndex=0}=options;if(dropZoneElement&&parentBlockOrientation!=='horizontal'){const rect=dropZoneElement.getBoundingClientRect();const[distance,edge]=getDistanceToNearestEdge(position,rect,['top','bottom']);if(rect.height>MINIMUM_HEIGHT_FOR_THRESHOLD&&distance<THRESHOLD_DISTANCE){if(edge==='top'){return[rootBlockIndex,'before'];}
if(edge==='bottom'){return[rootBlockIndex+1,'after'];}}}
const isRightToLeft=(0,external_wp_i18n_namespaceObject.isRTL)();if(dropZoneElement&&parentBlockOrientation==='horizontal'){const rect=dropZoneElement.getBoundingClientRect();const[distance,edge]=getDistanceToNearestEdge(position,rect,['left','right']);if(rect.width>MINIMUM_WIDTH_FOR_THRESHOLD&&distance<THRESHOLD_DISTANCE){if(isRightToLeft&&edge==='right'||!isRightToLeft&&edge==='left'){return[rootBlockIndex,'before'];}
if(isRightToLeft&&edge==='left'||!isRightToLeft&&edge==='right'){return[rootBlockIndex+1,'after'];}}}
blocksData.forEach(({isUnmodifiedDefaultBlock,getBoundingClientRect,blockIndex,blockOrientation})=>{const rect=getBoundingClientRect();let[distance,edge]=getDistanceToNearestEdge(position,rect,allowedEdges);const[sideDistance,sideEdge]=getDistanceToNearestEdge(position,rect,['left','right']);const isPointInsideRect=isPointContainedByRect(position,rect);if(isUnmodifiedDefaultBlock&&isPointInsideRect){distance=0;}else if(orientation==='vertical'&&blockOrientation!=='horizontal'&&(isPointInsideRect&&sideDistance<THRESHOLD_DISTANCE||!isPointInsideRect&&isPointWithinTopAndBottomBoundariesOfRect(position,rect))){targetBlockIndex=blockIndex;nearestSide=sideEdge;}
if(distance<minDistance){insertPosition=edge==='bottom'||!isRightToLeft&&edge==='right'||isRightToLeft&&edge==='left'?'after':'before';minDistance=distance;nearestIndex=blockIndex;}});const adjacentIndex=nearestIndex+(insertPosition==='after'?1:-1);const isNearestBlockUnmodifiedDefaultBlock=!!blocksData[nearestIndex]?.isUnmodifiedDefaultBlock;const isAdjacentBlockUnmodifiedDefaultBlock=!!blocksData[adjacentIndex]?.isUnmodifiedDefaultBlock;if(targetBlockIndex!==null){return[targetBlockIndex,'group',nearestSide];}
if(!isNearestBlockUnmodifiedDefaultBlock&&!isAdjacentBlockUnmodifiedDefaultBlock){const insertionIndex=insertPosition==='after'?nearestIndex+1:nearestIndex;return[insertionIndex,'insert'];}
return[isNearestBlockUnmodifiedDefaultBlock?nearestIndex:adjacentIndex,'replace'];}
function isDropTargetValid(getBlockType,allowedBlocks,draggedBlockNames,targetBlockName){let areBlocksAllowed=true;if(allowedBlocks){const allowedBlockNames=allowedBlocks?.map(({name})=>name);areBlocksAllowed=draggedBlockNames.every(name=>allowedBlockNames?.includes(name));}
const draggedBlockTypes=draggedBlockNames.map(name=>getBlockType(name));const targetMatchesDraggedBlockParents=draggedBlockTypes.every(block=>{const[allowedParentName]=block?.parent||[];if(!allowedParentName){return true;}
return allowedParentName===targetBlockName;});return areBlocksAllowed&&targetMatchesDraggedBlockParents;}
function isInsertionPoint(targetToCheck,ownerDocument){const{defaultView}=ownerDocument;return!!(defaultView&&targetToCheck instanceof defaultView.HTMLElement&&targetToCheck.closest('[data-is-insertion-point]'));}
function useBlockDropZone({dropZoneElement,rootClientId:targetRootClientId='',parentClientId:parentBlockClientId='',isDisabled=false}={}){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const[dropTarget,setDropTarget]=(0,external_wp_element_namespaceObject.useState)({index:null,operation:'insert'});const{getBlockType,getBlockVariations,getGroupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const{canInsertBlockType,getBlockListSettings,getBlocks,getBlockIndex,getDraggedBlockClientIds,getBlockNamesByClientId,getAllowedBlocks,isDragging,isGroupable,isZoomOut,getSectionRootClientId,getBlockParents}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));const{showInsertionPoint,hideInsertionPoint,startDragging,stopDragging}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const onBlockDrop=useOnBlockDrop(dropTarget.operation==='before'||dropTarget.operation==='after'?parentBlockClientId:targetRootClientId,dropTarget.index,{operation:dropTarget.operation,nearestSide:dropTarget.nearestSide});const throttled=(0,external_wp_compose_namespaceObject.useThrottle)((0,external_wp_element_namespaceObject.useCallback)((event,ownerDocument)=>{if(!isDragging()){startDragging();}
const draggedBlockClientIds=getDraggedBlockClientIds();const targetParents=[targetRootClientId,...getBlockParents(targetRootClientId,true)];const isTargetWithinDraggedBlocks=draggedBlockClientIds.some(clientId=>targetParents.includes(clientId));if(isTargetWithinDraggedBlocks){return;}
const allowedBlocks=getAllowedBlocks(targetRootClientId);const targetBlockName=getBlockNamesByClientId([targetRootClientId])[0];const draggedBlockNames=getBlockNamesByClientId(draggedBlockClientIds);const isBlockDroppingAllowed=isDropTargetValid(getBlockType,allowedBlocks,draggedBlockNames,targetBlockName);if(!isBlockDroppingAllowed){return;}
const sectionRootClientId=getSectionRootClientId();if(isZoomOut()&&sectionRootClientId!==targetRootClientId){return;}
const blocks=getBlocks(targetRootClientId);if(blocks.length===0){registry.batch(()=>{setDropTarget({index:0,operation:'insert'});showInsertionPoint(targetRootClientId,0,{operation:'insert'});});return;}
const blocksData=blocks.map(block=>{const clientId=block.clientId;return{isUnmodifiedDefaultBlock:(0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(block),getBoundingClientRect:()=>ownerDocument.getElementById(`block-${clientId}`).getBoundingClientRect(),blockIndex:getBlockIndex(clientId),blockOrientation:getBlockListSettings(clientId)?.orientation};});const dropTargetPosition=getDropTargetPosition(blocksData,{x:event.clientX,y:event.clientY},getBlockListSettings(targetRootClientId)?.orientation,{dropZoneElement,parentBlockClientId,parentBlockOrientation:parentBlockClientId?getBlockListSettings(parentBlockClientId)?.orientation:undefined,rootBlockIndex:getBlockIndex(targetRootClientId)});const[targetIndex,operation,nearestSide]=dropTargetPosition;const isTargetIndexEmptyDefaultBlock=blocksData[targetIndex]?.isUnmodifiedDefaultBlock;if(isZoomOut()&&!isTargetIndexEmptyDefaultBlock&&operation!=='insert'){return;}
if(operation==='group'){const targetBlock=blocks[targetIndex];const areAllImages=[targetBlock.name,...draggedBlockNames].every(name=>name==='core/image');const canInsertGalleryBlock=canInsertBlockType('core/gallery',targetRootClientId);const areGroupableBlocks=isGroupable([targetBlock.clientId,getDraggedBlockClientIds()]);const groupBlockVariations=getBlockVariations(getGroupingBlockName(),'block');const canInsertRow=groupBlockVariations&&groupBlockVariations.find(({name})=>name==='group-row');if(areAllImages&&!canInsertGalleryBlock&&(!areGroupableBlocks||!canInsertRow)){return;}
if(!areAllImages&&(!areGroupableBlocks||!canInsertRow)){return;}}
registry.batch(()=>{setDropTarget({index:targetIndex,operation,nearestSide});const insertionPointClientId=['before','after'].includes(operation)?parentBlockClientId:targetRootClientId;showInsertionPoint(insertionPointClientId,targetIndex,{operation,nearestSide});});},[isDragging,getAllowedBlocks,targetRootClientId,getBlockNamesByClientId,getDraggedBlockClientIds,getBlockType,getSectionRootClientId,isZoomOut,getBlocks,getBlockListSettings,dropZoneElement,parentBlockClientId,getBlockIndex,registry,startDragging,showInsertionPoint,canInsertBlockType,isGroupable,getBlockVariations,getGroupingBlockName]),200);return(0,external_wp_compose_namespaceObject.__experimentalUseDropZone)({dropZoneElement,isDisabled,onDrop:onBlockDrop,onDragOver(event){throttled(event,event.currentTarget.ownerDocument);},onDragLeave(event){const{ownerDocument}=event.currentTarget;if(isInsertionPoint(event.relatedTarget,ownerDocument)||isInsertionPoint(event.target,ownerDocument)){return;}
throttled.cancel();hideInsertionPoint();},onDragEnd(){throttled.cancel();stopDragging();hideInsertionPoint();}});};const EMPTY_OBJECT={};function BlockContext({children,clientId}){const context=useBlockContext(clientId);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockContextProvider,{value:context,children:children});}
const BlockListItemsMemo=(0,external_wp_element_namespaceObject.memo)(BlockListItems);function UncontrolledInnerBlocks(props){const{clientId,allowedBlocks,prioritizedInserterBlocks,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,template,templateLock,wrapperRef,templateInsertUpdatesSelection,__experimentalCaptureToolbars:captureToolbars,__experimentalAppenderTagName,renderAppender,orientation,placeholder,layout,name,blockType,parentLock,defaultLayout}=props;useNestedSettingsUpdate(clientId,parentLock,allowedBlocks,prioritizedInserterBlocks,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout);useInnerBlockTemplateSync(clientId,template,templateLock,templateInsertUpdatesSelection);const defaultLayoutBlockSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,'layout')||(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,'__experimentalLayout')||EMPTY_OBJECT;const{allowSizingOnChildren=false}=defaultLayoutBlockSupport;const usedLayout=layout||defaultLayoutBlockSupport;const memoedLayout=(0,external_wp_element_namespaceObject.useMemo)(()=>({...defaultLayout,...usedLayout,...(allowSizingOnChildren&&{allowSizingOnChildren:true})}),[defaultLayout,usedLayout,allowSizingOnChildren]);const items=(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListItemsMemo,{rootClientId:clientId,renderAppender:renderAppender,__experimentalAppenderTagName:__experimentalAppenderTagName,layout:memoedLayout,wrapperRef:wrapperRef,placeholder:placeholder});if(!blockType?.providesContext||Object.keys(blockType.providesContext).length===0){return items;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockContext,{clientId:clientId,children:items});}
function ControlledInnerBlocks(props){useBlockSync(props);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(UncontrolledInnerBlocks,{...props});}
const ForwardedInnerBlocks=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{const innerBlocksProps=useInnerBlocksProps({ref},props);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inner-blocks",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...innerBlocksProps})});});function useInnerBlocksProps(props={},options={}){const{__unstableDisableLayoutClassNames,__unstableDisableDropZone,dropZoneElement}=options;const{clientId,layout=null,__unstableLayoutClassNames:layoutClassNames=''}=useBlockEditContext();const selected=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,isZoomOut,getTemplateLock,getBlockRootClientId,getBlockEditingMode,getBlockSettings,getSectionRootClientId}=unlock(select(store));if(!clientId){const sectionRootClientId=getSectionRootClientId();return{isDropZoneDisabled:isZoomOut()&&sectionRootClientId!==''};}
const{hasBlockSupport,getBlockType}=select(external_wp_blocks_namespaceObject.store);const blockName=getBlockName(clientId);const blockEditingMode=getBlockEditingMode(clientId);const parentClientId=getBlockRootClientId(clientId);const[defaultLayout]=getBlockSettings(clientId,'layout');let _isDropZoneDisabled=blockEditingMode==='disabled';if(isZoomOut()){const sectionRootClientId=getSectionRootClientId();_isDropZoneDisabled=clientId!==sectionRootClientId;}
return{__experimentalCaptureToolbars:hasBlockSupport(blockName,'__experimentalExposeControlsToChildren',false),name:blockName,blockType:getBlockType(blockName),parentLock:getTemplateLock(parentClientId),parentClientId,isDropZoneDisabled:_isDropZoneDisabled,defaultLayout};},[clientId]);const{__experimentalCaptureToolbars,name,blockType,parentLock,parentClientId,isDropZoneDisabled,defaultLayout}=selected;const blockDropZoneRef=useBlockDropZone({dropZoneElement,rootClientId:clientId,parentClientId});const ref=(0,external_wp_compose_namespaceObject.useMergeRefs)([props.ref,__unstableDisableDropZone||isDropZoneDisabled||layout?.isManualPlacement&&window.__experimentalEnableGridInteractivity?null:blockDropZoneRef]);const innerBlocksProps={__experimentalCaptureToolbars,layout,name,blockType,parentLock,defaultLayout,...options};const InnerBlocks=innerBlocksProps.value&&innerBlocksProps.onChange?ControlledInnerBlocks:UncontrolledInnerBlocks;return{...props,ref,className:dist_clsx(props.className,'block-editor-block-list__layout',__unstableDisableLayoutClassNames?'':layoutClassNames),children:clientId?(0,external_ReactJSXRuntime_namespaceObject.jsx)(InnerBlocks,{...innerBlocksProps,clientId:clientId}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListItems,{...options})};}
useInnerBlocksProps.save=external_wp_blocks_namespaceObject.__unstableGetInnerBlocksProps;ForwardedInnerBlocks.DefaultBlockAppender=default_block_appender_DefaultBlockAppender;ForwardedInnerBlocks.ButtonBlockAppender=ButtonBlockAppender;ForwardedInnerBlocks.Content=()=>useInnerBlocksProps.save().children;const inner_blocks=(ForwardedInnerBlocks);;const KEY_DOWN_ELIGIBLE_KEY_CODES=new Set([external_wp_keycodes_namespaceObject.UP,external_wp_keycodes_namespaceObject.RIGHT,external_wp_keycodes_namespaceObject.DOWN,external_wp_keycodes_namespaceObject.LEFT,external_wp_keycodes_namespaceObject.ENTER,external_wp_keycodes_namespaceObject.BACKSPACE]);function isKeyDownEligibleForStartTyping(event){const{keyCode,shiftKey}=event;return!shiftKey&&KEY_DOWN_ELIGIBLE_KEY_CODES.has(keyCode);}
function useMouseMoveTypingReset(){const isTyping=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).isTyping(),[]);const{stopTyping}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!isTyping){return;}
const{ownerDocument}=node;let lastClientX;let lastClientY;function stopTypingOnMouseMove(event){const{clientX,clientY}=event;if(lastClientX&&lastClientY&&(lastClientX!==clientX||lastClientY!==clientY)){stopTyping();}
lastClientX=clientX;lastClientY=clientY;}
ownerDocument.addEventListener('mousemove',stopTypingOnMouseMove);return()=>{ownerDocument.removeEventListener('mousemove',stopTypingOnMouseMove);};},[isTyping,stopTyping]);}
function useTypingObserver(){const{isTyping}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isTyping:_isTyping}=select(store);return{isTyping:_isTyping()};},[]);const{startTyping,stopTyping}=(0,external_wp_data_namespaceObject.useDispatch)(store);const ref1=useMouseMoveTypingReset();const ref2=(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;const selection=defaultView.getSelection();if(isTyping){let timerId;function stopTypingOnNonTextField(event){const{target}=event;timerId=defaultView.setTimeout(()=>{if(!(0,external_wp_dom_namespaceObject.isTextField)(target)){stopTyping();}});}
function stopTypingOnEscapeKey(event){const{keyCode}=event;if(keyCode===external_wp_keycodes_namespaceObject.ESCAPE||keyCode===external_wp_keycodes_namespaceObject.TAB){stopTyping();}}
function stopTypingOnSelectionUncollapse(){if(!selection.isCollapsed){stopTyping();}}
node.addEventListener('focus',stopTypingOnNonTextField);node.addEventListener('keydown',stopTypingOnEscapeKey);ownerDocument.addEventListener('selectionchange',stopTypingOnSelectionUncollapse);return()=>{defaultView.clearTimeout(timerId);node.removeEventListener('focus',stopTypingOnNonTextField);node.removeEventListener('keydown',stopTypingOnEscapeKey);ownerDocument.removeEventListener('selectionchange',stopTypingOnSelectionUncollapse);};}
function startTypingInTextField(event){const{type,target}=event;if(!(0,external_wp_dom_namespaceObject.isTextField)(target)||!node.contains(target)){return;}
if(type==='keydown'&&!isKeyDownEligibleForStartTyping(event)){return;}
startTyping();}
node.addEventListener('keypress',startTypingInTextField);node.addEventListener('keydown',startTypingInTextField);return()=>{node.removeEventListener('keypress',startTypingInTextField);node.removeEventListener('keydown',startTypingInTextField);};},[isTyping,startTyping,stopTyping]);return(0,external_wp_compose_namespaceObject.useMergeRefs)([ref1,ref2]);}
function ObserveTyping({children}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:useTypingObserver(),children:children});}
const observe_typing=(ObserveTyping);;function ZoomOutSeparator({clientId,rootClientId='',position='top'}){const[isDraggedOver,setIsDraggedOver]=(0,external_wp_element_namespaceObject.useState)(false);const{sectionRootClientId,sectionClientIds,insertionPoint,blockInsertionPointVisible,blockInsertionPoint,blocksBeingDragged}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getInsertionPoint,getBlockOrder,getSectionRootClientId,isBlockInsertionPointVisible,getBlockInsertionPoint,getDraggedBlockClientIds}=unlock(select(store));const root=getSectionRootClientId();const sectionRootClientIds=getBlockOrder(root);return{sectionRootClientId:root,sectionClientIds:sectionRootClientIds,blockOrder:getBlockOrder(root),insertionPoint:getInsertionPoint(),blockInsertionPoint:getBlockInsertionPoint(),blockInsertionPointVisible:isBlockInsertionPointVisible(),blocksBeingDragged:getDraggedBlockClientIds()};},[]);const isReducedMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();if(!clientId){return;}
let isVisible=false;const isSectionBlock=rootClientId===sectionRootClientId&&sectionClientIds&&sectionClientIds.includes(clientId);if(!isSectionBlock){return null;}
const hasTopInsertionPoint=insertionPoint?.index===0&&clientId===sectionClientIds[insertionPoint.index];const hasBottomInsertionPoint=insertionPoint&&insertionPoint.hasOwnProperty('index')&&clientId===sectionClientIds[insertionPoint.index-1];if(position==='top'){isVisible=hasTopInsertionPoint||blockInsertionPointVisible&&blockInsertionPoint.index===0&&clientId===sectionClientIds[blockInsertionPoint.index];}
if(position==='bottom'){isVisible=hasBottomInsertionPoint||blockInsertionPointVisible&&clientId===sectionClientIds[blockInsertionPoint.index-1];}
const blockBeingDraggedClientId=blocksBeingDragged[0];const isCurrentBlockBeingDragged=blocksBeingDragged.includes(clientId);const blockBeingDraggedIndex=sectionClientIds.indexOf(blockBeingDraggedClientId);const blockBeingDraggedPreviousSiblingClientId=blockBeingDraggedIndex>0?sectionClientIds[blockBeingDraggedIndex-1]:null;const isCurrentBlockPreviousSiblingOfBlockBeingDragged=blockBeingDraggedPreviousSiblingClientId===clientId;if(isCurrentBlockBeingDragged||isCurrentBlockPreviousSiblingOfBlockBeingDragged){isVisible=false;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableAnimatePresence,{children:isVisible&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableMotion.div,{initial:{height:0},animate:{height:'calc(1 * var(--wp-block-editor-iframe-zoom-out-frame-size) / var(--wp-block-editor-iframe-zoom-out-scale)'},exit:{height:0},transition:{type:'tween',duration:isReducedMotion?0:0.2,ease:[0.6,0,0.4,1]},className:dist_clsx('block-editor-block-list__zoom-out-separator',{'is-dragged-over':isDraggedOver}),"data-is-insertion-point":"true",onDragOver:()=>setIsDraggedOver(true),onDragLeave:()=>setIsDraggedOver(false),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableMotion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:-0.125}},transition:{ease:'linear',duration:0.1,delay:0.125},children:(0,external_wp_i18n_namespaceObject.__)('Drop pattern.')})})});};const block_list_IntersectionObserver=(0,external_wp_element_namespaceObject.createContext)();const pendingBlockVisibilityUpdatesPerRegistry=new WeakMap();function Root({className,...settings}){const{isOutlineMode,isFocusMode,temporarilyEditingAsBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,getTemporarilyEditingAsBlocks,isTyping}=unlock(select(store));const{outlineMode,focusMode}=getSettings();return{isOutlineMode:outlineMode&&!isTyping(),isFocusMode:focusMode,temporarilyEditingAsBlocks:getTemporarilyEditingAsBlocks()};},[]);const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{setBlockVisibility}=(0,external_wp_data_namespaceObject.useDispatch)(store);const delayedBlockVisibilityUpdates=(0,external_wp_compose_namespaceObject.useDebounce)((0,external_wp_element_namespaceObject.useCallback)(()=>{const updates={};pendingBlockVisibilityUpdatesPerRegistry.get(registry).forEach(([id,isIntersecting])=>{updates[id]=isIntersecting;});setBlockVisibility(updates);},[registry]),300,{trailing:true});const intersectionObserver=(0,external_wp_element_namespaceObject.useMemo)(()=>{const{IntersectionObserver:Observer}=window;if(!Observer){return;}
return new Observer(entries=>{if(!pendingBlockVisibilityUpdatesPerRegistry.get(registry)){pendingBlockVisibilityUpdatesPerRegistry.set(registry,[]);}
for(const entry of entries){const clientId=entry.target.getAttribute('data-block');pendingBlockVisibilityUpdatesPerRegistry.get(registry).push([clientId,entry.isIntersecting]);}
delayedBlockVisibilityUpdates();});},[]);const innerBlocksProps=useInnerBlocksProps({ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([useBlockSelectionClearer(),useInBetweenInserter(),useTypingObserver()]),className:dist_clsx('is-root-container',className,{'is-outline-mode':isOutlineMode,'is-focus-mode':isFocusMode})},settings);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(block_list_IntersectionObserver.Provider,{value:intersectionObserver,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...innerBlocksProps}),!!temporarilyEditingAsBlocks&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(StopEditingAsBlocksOnOutsideSelect,{clientId:temporarilyEditingAsBlocks})]});}
function StopEditingAsBlocksOnOutsideSelect({clientId}){const{stopEditingAsBlocks}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const isBlockOrDescendantSelected=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isBlockSelected,hasSelectedInnerBlock}=select(store);return isBlockSelected(clientId)||hasSelectedInnerBlock(clientId,true);},[clientId]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isBlockOrDescendantSelected){stopEditingAsBlocks(clientId);}},[isBlockOrDescendantSelected,clientId,stopEditingAsBlocks]);return null;}
function BlockList(settings){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Provider,{value:DEFAULT_BLOCK_EDIT_CONTEXT,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(Root,{...settings})});}
const block_list_EMPTY_ARRAY=[];const block_list_EMPTY_SET=new Set();function Items({placeholder,rootClientId,renderAppender:CustomAppender,__experimentalAppenderTagName,layout=defaultLayout}){const hasAppender=CustomAppender!==false;const hasCustomAppender=!!CustomAppender;const{order,isZoomOut,selectedBlocks,visibleBlocks,shouldRenderAppender}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,getBlockOrder,getSelectedBlockClientIds,__unstableGetVisibleBlocks,getTemplateLock,getBlockEditingMode,isSectionBlock,isZoomOut:_isZoomOut,canInsertBlockType}=unlock(select(store));const _order=getBlockOrder(rootClientId);if(getSettings().isPreviewMode){return{order:_order,selectedBlocks:block_list_EMPTY_ARRAY,visibleBlocks:block_list_EMPTY_SET};}
const selectedBlockClientIds=getSelectedBlockClientIds();const selectedBlockClientId=selectedBlockClientIds[0];const showRootAppender=!rootClientId&&!selectedBlockClientId&&(!_order.length||!canInsertBlockType((0,external_wp_blocks_namespaceObject.getDefaultBlockName)(),rootClientId));const hasSelectedRoot=!!(rootClientId&&selectedBlockClientId&&rootClientId===selectedBlockClientId);return{order:_order,selectedBlocks:selectedBlockClientIds,visibleBlocks:__unstableGetVisibleBlocks(),isZoomOut:_isZoomOut(),shouldRenderAppender:!isSectionBlock(rootClientId)&&getBlockEditingMode(rootClientId)!=='disabled'&&!getTemplateLock(rootClientId)&&hasAppender&&!_isZoomOut()&&(hasCustomAppender||hasSelectedRoot||showRootAppender)};},[rootClientId,hasAppender,hasCustomAppender]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(LayoutProvider,{value:layout,children:[order.map(clientId=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_data_namespaceObject.AsyncModeProvider,{value:!visibleBlocks.has(clientId)&&!selectedBlocks.includes(clientId),children:[isZoomOut&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ZoomOutSeparator,{clientId:clientId,rootClientId:rootClientId,position:"top"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block,{rootClientId:rootClientId,clientId:clientId}),isZoomOut&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ZoomOutSeparator,{clientId:clientId,rootClientId:rootClientId,position:"bottom"})]},clientId)),order.length<1&&placeholder,shouldRenderAppender&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListAppender,{tagName:__experimentalAppenderTagName,rootClientId:rootClientId,CustomAppender:CustomAppender})]});}
function BlockListItems(props){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_data_namespaceObject.AsyncModeProvider,{value:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(Items,{...props})});};function selector(select){const{isMultiSelecting,getMultiSelectedBlockClientIds,hasMultiSelection,getSelectedBlockClientId,getSelectedBlocksInitialCaretPosition,__unstableIsFullySelected}=select(store);return{isMultiSelecting:isMultiSelecting(),multiSelectedBlockClientIds:getMultiSelectedBlockClientIds(),hasMultiSelection:hasMultiSelection(),selectedBlockClientId:getSelectedBlockClientId(),initialPosition:getSelectedBlocksInitialCaretPosition(),isFullSelection:__unstableIsFullySelected()};}
function useMultiSelection(){const{initialPosition,isMultiSelecting,multiSelectedBlockClientIds,hasMultiSelection,selectedBlockClientId,isFullSelection}=(0,external_wp_data_namespaceObject.useSelect)(selector,[]);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;if(initialPosition===undefined||initialPosition===null){return;}
if(!hasMultiSelection||isMultiSelecting){return;}
const{length}=multiSelectedBlockClientIds;if(length<2){return;}
if(!isFullSelection){return;}
node.contentEditable=true;node.focus();defaultView.getSelection().removeAllRanges();},[hasMultiSelection,isMultiSelecting,multiSelectedBlockClientIds,selectedBlockClientId,initialPosition,isFullSelection]);};function useTabNav(){const containerRef=(0,external_wp_element_namespaceObject.useRef)();const focusCaptureBeforeRef=(0,external_wp_element_namespaceObject.useRef)();const focusCaptureAfterRef=(0,external_wp_element_namespaceObject.useRef)();const{hasMultiSelection,getSelectedBlockClientId,getBlockCount,getBlockOrder,getLastFocus,getSectionRootClientId,isZoomOut}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));const{setLastFocus}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const noCaptureRef=(0,external_wp_element_namespaceObject.useRef)();function onFocusCapture(event){const canvasElement=containerRef.current.ownerDocument===event.target.ownerDocument?containerRef.current:containerRef.current.ownerDocument.defaultView.frameElement;if(noCaptureRef.current){noCaptureRef.current=null;}else if(hasMultiSelection()){containerRef.current.focus();}else if(getSelectedBlockClientId()){if(getLastFocus()?.current){getLastFocus().current.focus();}else{containerRef.current.querySelector(`[data-block="${getSelectedBlockClientId()}"]`).focus();}}
else if(isZoomOut()){const sectionRootClientId=getSectionRootClientId();const sectionBlocks=getBlockOrder(sectionRootClientId);if(sectionBlocks.length){containerRef.current.querySelector(`[data-block="${sectionBlocks[0]}"]`).focus();}
else if(sectionRootClientId){containerRef.current.querySelector(`[data-block="${sectionRootClientId}"]`).focus();}else{canvasElement.focus();}}else{const isBefore=event.target.compareDocumentPosition(canvasElement)&event.target.DOCUMENT_POSITION_FOLLOWING;const tabbables=external_wp_dom_namespaceObject.focus.tabbable.find(containerRef.current);if(tabbables.length){const next=isBefore?tabbables[0]:tabbables[tabbables.length-1];next.focus();}}}
const before=(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:focusCaptureBeforeRef,tabIndex:"0",onFocus:onFocusCapture});const after=(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:focusCaptureAfterRef,tabIndex:"0",onFocus:onFocusCapture});const ref=(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onKeyDown(event){if(event.defaultPrevented){return;}
if(event.keyCode!==external_wp_keycodes_namespaceObject.TAB){return;}
if(!focusCaptureAfterRef.current||!focusCaptureBeforeRef.current){return;}
const{target,shiftKey:isShift}=event;const direction=isShift?'findPrevious':'findNext';const nextTabbable=external_wp_dom_namespaceObject.focus.tabbable[direction](target);const currentBlock=target.closest('[data-block]');const isElementPartOfSelectedBlock=currentBlock&&nextTabbable&&(isInSameBlock(currentBlock,nextTabbable)||isInsideRootBlock(currentBlock,nextTabbable));if((0,external_wp_dom_namespaceObject.isFormElement)(nextTabbable)&&isElementPartOfSelectedBlock){return;}
const next=isShift?focusCaptureBeforeRef:focusCaptureAfterRef;noCaptureRef.current=true;next.current.focus({preventScroll:true});}
function onFocusOut(event){setLastFocus({...getLastFocus(),current:event.target});const{ownerDocument}=node;if(!event.relatedTarget&&event.target.hasAttribute('data-block')&&ownerDocument.activeElement===ownerDocument.body&&getBlockCount()===0){node.focus();}}
function preventScrollOnTab(event){if(event.keyCode!==external_wp_keycodes_namespaceObject.TAB){return;}
if(event.target?.getAttribute('role')==='region'){return;}
if(containerRef.current===event.target){return;}
const isShift=event.shiftKey;const direction=isShift?'findPrevious':'findNext';const target=external_wp_dom_namespaceObject.focus.tabbable[direction](event.target);if(target===focusCaptureBeforeRef.current||target===focusCaptureAfterRef.current){event.preventDefault();target.focus({preventScroll:true});}}
const{ownerDocument}=node;const{defaultView}=ownerDocument;defaultView.addEventListener('keydown',preventScrollOnTab);node.addEventListener('keydown',onKeyDown);node.addEventListener('focusout',onFocusOut);return()=>{defaultView.removeEventListener('keydown',preventScrollOnTab);node.removeEventListener('keydown',onKeyDown);node.removeEventListener('focusout',onFocusOut);};},[]);const mergedRefs=(0,external_wp_compose_namespaceObject.useMergeRefs)([containerRef,ref]);return[before,mergedRefs,after];};function isNavigationCandidate(element,keyCode,hasModifier){const isVertical=keyCode===external_wp_keycodes_namespaceObject.UP||keyCode===external_wp_keycodes_namespaceObject.DOWN;const{tagName}=element;const elementType=element.getAttribute('type');if(isVertical&&!hasModifier){if(tagName==='INPUT'){const verticalInputTypes=['date','datetime-local','month','number','range','time','week'];return!verticalInputTypes.includes(elementType);}
return true;}
if(tagName==='INPUT'){const simpleInputTypes=['button','checkbox','number','color','file','image','radio','reset','submit'];return simpleInputTypes.includes(elementType);}
return tagName!=='TEXTAREA';}
function getClosestTabbable(target,isReverse,containerElement,onlyVertical){let focusableNodes=external_wp_dom_namespaceObject.focus.focusable.find(containerElement);if(isReverse){focusableNodes.reverse();}
focusableNodes=focusableNodes.slice(focusableNodes.indexOf(target)+1);let targetRect;if(onlyVertical){targetRect=target.getBoundingClientRect();}
function isTabCandidate(node){if(node.closest('[inert]')){return;}
if(node.children.length===1&&isInSameBlock(node,node.firstElementChild)&&node.firstElementChild.getAttribute('contenteditable')==='true'){return;}
if(!external_wp_dom_namespaceObject.focus.tabbable.isTabbableIndex(node)){return false;}
if(node.isContentEditable&&node.contentEditable!=='true'){return false;}
if(onlyVertical){const nodeRect=node.getBoundingClientRect();if(nodeRect.left>=targetRect.right||nodeRect.right<=targetRect.left){return false;}}
return true;}
return focusableNodes.find(isTabCandidate);}
function useArrowNav(){const{getMultiSelectedBlocksStartClientId,getMultiSelectedBlocksEndClientId,getSettings,hasMultiSelection,__unstableIsFullySelected}=(0,external_wp_data_namespaceObject.useSelect)(store);const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{let verticalRect;function onMouseDown(){verticalRect=null;}
function isClosestTabbableABlock(target,isReverse){const closestTabbable=getClosestTabbable(target,isReverse,node);return closestTabbable&&getBlockClientId(closestTabbable);}
function onKeyDown(event){if(event.defaultPrevented){return;}
const{keyCode,target,shiftKey,ctrlKey,altKey,metaKey}=event;const isUp=keyCode===external_wp_keycodes_namespaceObject.UP;const isDown=keyCode===external_wp_keycodes_namespaceObject.DOWN;const isLeft=keyCode===external_wp_keycodes_namespaceObject.LEFT;const isRight=keyCode===external_wp_keycodes_namespaceObject.RIGHT;const isReverse=isUp||isLeft;const isHorizontal=isLeft||isRight;const isVertical=isUp||isDown;const isNav=isHorizontal||isVertical;const hasModifier=shiftKey||ctrlKey||altKey||metaKey;const isNavEdge=isVertical?external_wp_dom_namespaceObject.isVerticalEdge:external_wp_dom_namespaceObject.isHorizontalEdge;const{ownerDocument}=node;const{defaultView}=ownerDocument;if(!isNav){return;}
if(hasMultiSelection()){if(shiftKey){return;}
if(!__unstableIsFullySelected()){return;}
event.preventDefault();if(isReverse){selectBlock(getMultiSelectedBlocksStartClientId());}else{selectBlock(getMultiSelectedBlocksEndClientId(),-1);}
return;}
if(!isNavigationCandidate(target,keyCode,hasModifier)){return;}
if(!isVertical){verticalRect=null;}else if(!verticalRect){verticalRect=(0,external_wp_dom_namespaceObject.computeCaretRect)(defaultView);}
const isReverseDir=(0,external_wp_dom_namespaceObject.isRTL)(target)?!isReverse:isReverse;const{keepCaretInsideBlock}=getSettings();if(shiftKey){if(isClosestTabbableABlock(target,isReverse)&&isNavEdge(target,isReverse)){node.contentEditable=true;node.focus();}}else if(isVertical&&(0,external_wp_dom_namespaceObject.isVerticalEdge)(target,isReverse)&&(altKey?(0,external_wp_dom_namespaceObject.isHorizontalEdge)(target,isReverseDir):true)&&!keepCaretInsideBlock){const closestTabbable=getClosestTabbable(target,isReverse,node,true);if(closestTabbable){(0,external_wp_dom_namespaceObject.placeCaretAtVerticalEdge)(closestTabbable,altKey?!isReverse:isReverse,altKey?undefined:verticalRect);event.preventDefault();}}else if(isHorizontal&&defaultView.getSelection().isCollapsed&&(0,external_wp_dom_namespaceObject.isHorizontalEdge)(target,isReverseDir)&&!keepCaretInsideBlock){const closestTabbable=getClosestTabbable(target,isReverseDir,node);(0,external_wp_dom_namespaceObject.placeCaretAtHorizontalEdge)(closestTabbable,isReverse);event.preventDefault();}}
node.addEventListener('mousedown',onMouseDown);node.addEventListener('keydown',onKeyDown);return()=>{node.removeEventListener('mousedown',onMouseDown);node.removeEventListener('keydown',onKeyDown);};},[]);};function useSelectAll(){const{getBlockOrder,getSelectedBlockClientIds,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{multiSelect,selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const isMatch=(0,external_wp_keyboardShortcuts_namespaceObject.__unstableUseShortcutEventMatch)();return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onKeyDown(event){if(!isMatch('core/block-editor/select-all',event)){return;}
const selectedClientIds=getSelectedBlockClientIds();if(selectedClientIds.length<2&&!(0,external_wp_dom_namespaceObject.isEntirelySelected)(event.target)){return;}
event.preventDefault();const[firstSelectedClientId]=selectedClientIds;const rootClientId=getBlockRootClientId(firstSelectedClientId);const blockClientIds=getBlockOrder(rootClientId);if(selectedClientIds.length===blockClientIds.length){if(rootClientId){node.ownerDocument.defaultView.getSelection().removeAllRanges();selectBlock(rootClientId);}
return;}
multiSelect(blockClientIds[0],blockClientIds[blockClientIds.length-1]);}
node.addEventListener('keydown',onKeyDown);return()=>{node.removeEventListener('keydown',onKeyDown);};},[]);};function setContentEditableWrapper(node,value){node.contentEditable=value;if(value){node.focus();}}
function useDragSelection(){const{startMultiSelect,stopMultiSelect}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{isSelectionEnabled,hasSelectedBlock,isDraggingBlocks,isMultiSelecting}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;let anchorElement;let rafId;function onMouseUp(){stopMultiSelect();defaultView.removeEventListener('mouseup',onMouseUp);rafId=defaultView.requestAnimationFrame(()=>{if(!hasSelectedBlock()){return;}
setContentEditableWrapper(node,false);const selection=defaultView.getSelection();if(selection.rangeCount){const range=selection.getRangeAt(0);const{commonAncestorContainer}=range;const clonedRange=range.cloneRange();if(anchorElement.contains(commonAncestorContainer)){anchorElement.focus();selection.removeAllRanges();selection.addRange(clonedRange);}}});}
let lastMouseDownTarget;function onMouseDown({target}){lastMouseDownTarget=target;}
function onMouseLeave({buttons,target,relatedTarget}){if(!target.contains(lastMouseDownTarget)){return;}
if(target.contains(relatedTarget)){return;}
if(isDraggingBlocks()){return;}
if(buttons!==1){return;}
if(isMultiSelecting()){return;}
if(node===target){return;}
if(target.getAttribute('contenteditable')!=='true'){return;}
if(!isSelectionEnabled()){return;}
anchorElement=target;startMultiSelect();defaultView.addEventListener('mouseup',onMouseUp);setContentEditableWrapper(node,true);}
node.addEventListener('mouseout',onMouseLeave);node.addEventListener('mousedown',onMouseDown);return()=>{node.removeEventListener('mouseout',onMouseLeave);defaultView.removeEventListener('mouseup',onMouseUp);defaultView.cancelAnimationFrame(rafId);};},[startMultiSelect,stopMultiSelect,isSelectionEnabled,hasSelectedBlock]);};function extractSelectionStartNode(selection){const{anchorNode,anchorOffset}=selection;if(anchorNode.nodeType===anchorNode.TEXT_NODE){return anchorNode;}
if(anchorOffset===0){return anchorNode;}
return anchorNode.childNodes[anchorOffset-1];}
function extractSelectionEndNode(selection){const{focusNode,focusOffset}=selection;if(focusNode.nodeType===focusNode.TEXT_NODE){return focusNode;}
if(focusOffset===focusNode.childNodes.length){return focusNode;}
if(focusOffset===0&&(0,external_wp_dom_namespaceObject.isSelectionForward)(selection)){var _focusNode$previousSi;return(_focusNode$previousSi=focusNode.previousSibling)!==null&&_focusNode$previousSi!==void 0?_focusNode$previousSi:focusNode.parentElement;}
return focusNode.childNodes[focusOffset];}
function findDepth(a,b){let depth=0;while(a[depth]===b[depth]){depth++;}
return depth;}
function use_selection_observer_setContentEditableWrapper(node,value){if(node.contentEditable!==String(value)){node.contentEditable=value;if(value){node.focus();}}}
function getRichTextElement(node){const element=node.nodeType===node.ELEMENT_NODE?node:node.parentElement;return element?.closest('[data-wp-block-attribute-key]');}
function useSelectionObserver(){const{multiSelect,selectBlock,selectionChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{getBlockParents,getBlockSelectionStart,isMultiSelecting}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;function onSelectionChange(event){const selection=defaultView.getSelection();if(!selection.rangeCount){return;}
const startNode=extractSelectionStartNode(selection);const endNode=extractSelectionEndNode(selection);if(!node.contains(startNode)||!node.contains(endNode)){return;}
const isClickShift=event.shiftKey&&event.type==='mouseup';if(selection.isCollapsed&&!isClickShift){if(node.contentEditable==='true'&&!isMultiSelecting()){use_selection_observer_setContentEditableWrapper(node,false);let element=startNode.nodeType===startNode.ELEMENT_NODE?startNode:startNode.parentElement;element=element?.closest('[contenteditable]');element?.focus();}
return;}
let startClientId=getBlockClientId(startNode);let endClientId=getBlockClientId(endNode);if(isClickShift){const selectedClientId=getBlockSelectionStart();const clickedClientId=getBlockClientId(event.target);const focusNodeIsNonSelectable=clickedClientId!==endClientId;if(startClientId===endClientId&&selection.isCollapsed||!endClientId||focusNodeIsNonSelectable){endClientId=clickedClientId;}
if(startClientId!==selectedClientId){startClientId=selectedClientId;}}
if(startClientId===undefined&&endClientId===undefined){use_selection_observer_setContentEditableWrapper(node,false);return;}
const isSingularSelection=startClientId===endClientId;if(isSingularSelection){if(!isMultiSelecting()){selectBlock(startClientId);}else{multiSelect(startClientId,startClientId);}}else{const startPath=[...getBlockParents(startClientId),startClientId];const endPath=[...getBlockParents(endClientId),endClientId];const depth=findDepth(startPath,endPath);if(startPath[depth]!==startClientId||endPath[depth]!==endClientId){multiSelect(startPath[depth],endPath[depth]);return;}
const richTextElementStart=getRichTextElement(startNode);const richTextElementEnd=getRichTextElement(endNode);if(richTextElementStart&&richTextElementEnd){var _richTextDataStart$st,_richTextDataEnd$star;const range=selection.getRangeAt(0);const richTextDataStart=(0,external_wp_richText_namespaceObject.create)({element:richTextElementStart,range,__unstableIsEditableTree:true});const richTextDataEnd=(0,external_wp_richText_namespaceObject.create)({element:richTextElementEnd,range,__unstableIsEditableTree:true});const startOffset=(_richTextDataStart$st=richTextDataStart.start)!==null&&_richTextDataStart$st!==void 0?_richTextDataStart$st:richTextDataStart.end;const endOffset=(_richTextDataEnd$star=richTextDataEnd.start)!==null&&_richTextDataEnd$star!==void 0?_richTextDataEnd$star:richTextDataEnd.end;selectionChange({start:{clientId:startClientId,attributeKey:richTextElementStart.dataset.wpBlockAttributeKey,offset:startOffset},end:{clientId:endClientId,attributeKey:richTextElementEnd.dataset.wpBlockAttributeKey,offset:endOffset}});}else{multiSelect(startClientId,endClientId);}}}
ownerDocument.addEventListener('selectionchange',onSelectionChange);defaultView.addEventListener('mouseup',onSelectionChange);return()=>{ownerDocument.removeEventListener('selectionchange',onSelectionChange);defaultView.removeEventListener('mouseup',onSelectionChange);};},[multiSelect,selectBlock,selectionChange,getBlockParents]);};function useClickSelection(){const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{isSelectionEnabled,getBlockSelectionStart,hasMultiSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onMouseDown(event){if(!isSelectionEnabled()||event.button!==0){return;}
const startClientId=getBlockSelectionStart();const clickedClientId=getBlockClientId(event.target);if(event.shiftKey){if(startClientId!==clickedClientId){node.contentEditable=true;node.focus();}}else if(hasMultiSelection()){selectBlock(clickedClientId);}}
node.addEventListener('mousedown',onMouseDown);return()=>{node.removeEventListener('mousedown',onMouseDown);};},[selectBlock,isSelectionEnabled,getBlockSelectionStart,hasMultiSelection]);};function useInput(){const{__unstableIsFullySelected,getSelectedBlockClientIds,getSelectedBlockClientId,__unstableIsSelectionMergeable,hasMultiSelection,getBlockName,canInsertBlockType,getBlockRootClientId,getSelectionStart,getSelectionEnd,getBlockAttributes}=(0,external_wp_data_namespaceObject.useSelect)(store);const{replaceBlocks,__unstableSplitSelection,removeBlocks,__unstableDeleteSelection,__unstableExpandSelection,__unstableMarkAutomaticChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onBeforeInput(event){if(node.contentEditable==='true'){event.preventDefault();}}
function onKeyDown(event){if(event.defaultPrevented){return;}
if(!hasMultiSelection()){if(event.keyCode===external_wp_keycodes_namespaceObject.ENTER){if(event.shiftKey||__unstableIsFullySelected()){return;}
const clientId=getSelectedBlockClientId();const blockName=getBlockName(clientId);const selectionStart=getSelectionStart();const selectionEnd=getSelectionEnd();if(selectionStart.attributeKey===selectionEnd.attributeKey){const selectedAttributeValue=getBlockAttributes(clientId)[selectionStart.attributeKey];const transforms=(0,external_wp_blocks_namespaceObject.getBlockTransforms)('from').filter(({type})=>type==='enter');const transformation=(0,external_wp_blocks_namespaceObject.findTransform)(transforms,item=>{return item.regExp.test(selectedAttributeValue);});if(transformation){replaceBlocks(clientId,transformation.transform({content:selectedAttributeValue}));__unstableMarkAutomaticChange();return;}}
if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'splitting',false)&&!event.__deprecatedOnSplit){return;}
if(canInsertBlockType(blockName,getBlockRootClientId(clientId))){__unstableSplitSelection();event.preventDefault();}}
return;}
if(event.keyCode===external_wp_keycodes_namespaceObject.ENTER){node.contentEditable=false;event.preventDefault();if(__unstableIsFullySelected()){replaceBlocks(getSelectedBlockClientIds(),(0,external_wp_blocks_namespaceObject.createBlock)((0,external_wp_blocks_namespaceObject.getDefaultBlockName)()));}else{__unstableSplitSelection();}}else if(event.keyCode===external_wp_keycodes_namespaceObject.BACKSPACE||event.keyCode===external_wp_keycodes_namespaceObject.DELETE){node.contentEditable=false;event.preventDefault();if(__unstableIsFullySelected()){removeBlocks(getSelectedBlockClientIds());}else if(__unstableIsSelectionMergeable()){__unstableDeleteSelection(event.keyCode===external_wp_keycodes_namespaceObject.DELETE);}else{__unstableExpandSelection();}}else if(event.key.length===1&&!(event.metaKey||event.ctrlKey)){node.contentEditable=false;if(__unstableIsSelectionMergeable()){__unstableDeleteSelection(event.keyCode===external_wp_keycodes_namespaceObject.DELETE);}else{event.preventDefault();node.ownerDocument.defaultView.getSelection().removeAllRanges();}}}
function onCompositionStart(event){if(!hasMultiSelection()){return;}
node.contentEditable=false;if(__unstableIsSelectionMergeable()){__unstableDeleteSelection();}else{event.preventDefault();node.ownerDocument.defaultView.getSelection().removeAllRanges();}}
node.addEventListener('beforeinput',onBeforeInput);node.addEventListener('keydown',onKeyDown);node.addEventListener('compositionstart',onCompositionStart);return()=>{node.removeEventListener('beforeinput',onBeforeInput);node.removeEventListener('keydown',onKeyDown);node.removeEventListener('compositionstart',onCompositionStart);};},[]);};function useNotifyCopy(){const{getBlockName}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getBlockType}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const{createSuccessNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);return(0,external_wp_element_namespaceObject.useCallback)((eventType,selectedBlockClientIds)=>{let notice='';if(eventType==='copyStyles'){notice=(0,external_wp_i18n_namespaceObject.__)('Styles copied to clipboard.');}else if(selectedBlockClientIds.length===1){const clientId=selectedBlockClientIds[0];const title=getBlockType(getBlockName(clientId))?.title;if(eventType==='copy'){notice=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Copied "%s" to clipboard.'),title);}else{notice=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Moved "%s" to clipboard.'),title);}}else if(eventType==='copy'){notice=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('Copied %d block to clipboard.','Copied %d blocks to clipboard.',selectedBlockClientIds.length),selectedBlockClientIds.length);}else{notice=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('Moved %d block to clipboard.','Moved %d blocks to clipboard.',selectedBlockClientIds.length),selectedBlockClientIds.length);}
createSuccessNotice(notice,{type:'snackbar'});},[createSuccessNotice,getBlockName,getBlockType]);};function removeWindowsFragments(html){const startStr='<!--StartFragment-->';const startIdx=html.indexOf(startStr);if(startIdx>-1){html=html.substring(startIdx+startStr.length);}else{return html;}
const endStr='<!--EndFragment-->';const endIdx=html.indexOf(endStr);if(endIdx>-1){html=html.substring(0,endIdx);}
return html;}
function removeCharsetMetaTag(html){const metaTag=`<meta charset='utf-8'>`;if(html.startsWith(metaTag)){return html.slice(metaTag.length);}
return html;}
function getPasteEventData({clipboardData}){let plainText='';let html='';try{plainText=clipboardData.getData('text/plain');html=clipboardData.getData('text/html');}catch(error){return;}
html=removeWindowsFragments(html);html=removeCharsetMetaTag(html);const files=(0,external_wp_dom_namespaceObject.getFilesFromDataTransfer)(clipboardData);if(files.length&&!shouldDismissPastedFiles(files,html)){return{files};}
return{html,plainText,files:[]};}
function shouldDismissPastedFiles(files,html){if(html&&files?.length===1&&files[0].type.indexOf('image/')===0){const IMAGE_TAG=/<\s*img\b/gi;if(html.match(IMAGE_TAG)?.length!==1){return true;}
const IMG_WITH_LOCAL_SRC=/<\s*img\b[^>]*\bsrc="file:\/\//i;if(html.match(IMG_WITH_LOCAL_SRC)){return true;}}
return false;};const requiresWrapperOnCopy=Symbol('requiresWrapperOnCopy');function setClipboardBlocks(event,blocks,registry){let _blocks=blocks;const[firstBlock]=blocks;if(firstBlock){const firstBlockType=registry.select(external_wp_blocks_namespaceObject.store).getBlockType(firstBlock.name);if(firstBlockType[requiresWrapperOnCopy]){const{getBlockRootClientId,getBlockName,getBlockAttributes}=registry.select(store);const wrapperBlockClientId=getBlockRootClientId(firstBlock.clientId);const wrapperBlockName=getBlockName(wrapperBlockClientId);if(wrapperBlockName){_blocks=(0,external_wp_blocks_namespaceObject.createBlock)(wrapperBlockName,getBlockAttributes(wrapperBlockClientId),_blocks);}}}
const serialized=(0,external_wp_blocks_namespaceObject.serialize)(_blocks);event.clipboardData.setData('text/plain',toPlainText(serialized));event.clipboardData.setData('text/html',serialized);}
function getPasteBlocks(event,canUserUseUnfilteredHTML){const{plainText,html,files}=getPasteEventData(event);let blocks=[];if(files.length){const fromTransforms=(0,external_wp_blocks_namespaceObject.getBlockTransforms)('from');blocks=files.reduce((accumulator,file)=>{const transformation=(0,external_wp_blocks_namespaceObject.findTransform)(fromTransforms,transform=>transform.type==='files'&&transform.isMatch([file]));if(transformation){accumulator.push(transformation.transform([file]));}
return accumulator;},[]).flat();}else{blocks=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML:html,plainText,mode:'BLOCKS',canUserUseUnfilteredHTML});}
return blocks;}
function toPlainText(html){html=html.replace(/<br>/g,'\n');const plainText=(0,external_wp_dom_namespaceObject.__unstableStripHTML)(html).trim();return plainText.replace(/\n\n+/g,'\n\n');};function useClipboardHandler(){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{getBlocksByClientId,getSelectedBlockClientIds,hasMultiSelection,getSettings,getBlockName,__unstableIsFullySelected,__unstableIsSelectionCollapsed,__unstableIsSelectionMergeable,__unstableGetSelectedBlocksWithPartialSelection,canInsertBlockType,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{flashBlock,removeBlocks,replaceBlocks,__unstableDeleteSelection,__unstableExpandSelection,__unstableSplitSelection}=(0,external_wp_data_namespaceObject.useDispatch)(store);const notifyCopy=useNotifyCopy();return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function handler(event){if(event.defaultPrevented){return;}
const selectedBlockClientIds=getSelectedBlockClientIds();if(selectedBlockClientIds.length===0){return;}
if(!hasMultiSelection()){const{target}=event;const{ownerDocument}=target;const hasSelection=event.type==='copy'||event.type==='cut'?(0,external_wp_dom_namespaceObject.documentHasUncollapsedSelection)(ownerDocument):(0,external_wp_dom_namespaceObject.documentHasSelection)(ownerDocument)&&!ownerDocument.activeElement.isContentEditable;if(hasSelection){return;}}
const{activeElement}=event.target.ownerDocument;if(!node.contains(activeElement)){return;}
const isSelectionMergeable=__unstableIsSelectionMergeable();const shouldHandleWholeBlocks=__unstableIsSelectionCollapsed()||__unstableIsFullySelected();const expandSelectionIsNeeded=!shouldHandleWholeBlocks&&!isSelectionMergeable;if(event.type==='copy'||event.type==='cut'){event.preventDefault();if(selectedBlockClientIds.length===1){flashBlock(selectedBlockClientIds[0]);}
if(expandSelectionIsNeeded){__unstableExpandSelection();}else{notifyCopy(event.type,selectedBlockClientIds);let blocks;if(shouldHandleWholeBlocks){blocks=getBlocksByClientId(selectedBlockClientIds);}else{const[head,tail]=__unstableGetSelectedBlocksWithPartialSelection();const inBetweenBlocks=getBlocksByClientId(selectedBlockClientIds.slice(1,selectedBlockClientIds.length-1));blocks=[head,...inBetweenBlocks,tail];}
setClipboardBlocks(event,blocks,registry);}}
if(event.type==='cut'){if(shouldHandleWholeBlocks&&!expandSelectionIsNeeded){removeBlocks(selectedBlockClientIds);}else{event.target.ownerDocument.activeElement.contentEditable=false;__unstableDeleteSelection();}}else if(event.type==='paste'){const{__experimentalCanUserUseUnfilteredHTML:canUserUseUnfilteredHTML}=getSettings();const isInternal=event.clipboardData.getData('rich-text')==='true';if(isInternal){return;}
const{plainText,html,files}=getPasteEventData(event);const isFullySelected=__unstableIsFullySelected();let blocks=[];if(files.length){const fromTransforms=(0,external_wp_blocks_namespaceObject.getBlockTransforms)('from');blocks=files.reduce((accumulator,file)=>{const transformation=(0,external_wp_blocks_namespaceObject.findTransform)(fromTransforms,transform=>transform.type==='files'&&transform.isMatch([file]));if(transformation){accumulator.push(transformation.transform([file]));}
return accumulator;},[]).flat();}else{blocks=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML:html,plainText,mode:isFullySelected?'BLOCKS':'AUTO',canUserUseUnfilteredHTML});}
if(typeof blocks==='string'){return;}
if(isFullySelected){replaceBlocks(selectedBlockClientIds,blocks,blocks.length-1,-1);event.preventDefault();return;}
if(!hasMultiSelection()&&!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(getBlockName(selectedBlockClientIds[0]),'splitting',false)&&!event.__deprecatedOnSplit){return;}
const[firstSelectedClientId]=selectedBlockClientIds;const rootClientId=getBlockRootClientId(firstSelectedClientId);const newBlocks=[];for(const block of blocks){if(canInsertBlockType(block.name,rootClientId)){newBlocks.push(block);}else{const rootBlockName=getBlockName(rootClientId);const switchedBlocks=block.name!==rootBlockName?(0,external_wp_blocks_namespaceObject.switchToBlockType)(block,rootBlockName):[block];if(!switchedBlocks){return;}
for(const switchedBlock of switchedBlocks){for(const innerBlock of switchedBlock.innerBlocks){newBlocks.push(innerBlock);}}}}
__unstableSplitSelection(newBlocks);event.preventDefault();}}
node.ownerDocument.addEventListener('copy',handler);node.ownerDocument.addEventListener('cut',handler);node.ownerDocument.addEventListener('paste',handler);return()=>{node.ownerDocument.removeEventListener('copy',handler);node.ownerDocument.removeEventListener('cut',handler);node.ownerDocument.removeEventListener('paste',handler);};},[]);};function useWritingFlow(){const[before,ref,after]=useTabNav();const hasMultiSelection=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).hasMultiSelection(),[]);return[before,(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,useClipboardHandler(),useInput(),useDragSelection(),useSelectionObserver(),useClickSelection(),useMultiSelection(),useSelectAll(),useArrowNav(),(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{node.tabIndex=0;node.dataset.hasMultiSelection=hasMultiSelection;if(!hasMultiSelection){return()=>{delete node.dataset.hasMultiSelection;};}
node.setAttribute('aria-label',(0,external_wp_i18n_namespaceObject.__)('Multiple selected blocks'));return()=>{delete node.dataset.hasMultiSelection;node.removeAttribute('aria-label');};},[hasMultiSelection])]),after];}
function WritingFlow({children,...props},forwardedRef){const[before,ref,after]=useWritingFlow();return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[before,(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...props,ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,forwardedRef]),className:dist_clsx(props.className,'block-editor-writing-flow'),children:children}),after]});}
const writing_flow=((0,external_wp_element_namespaceObject.forwardRef)(WritingFlow));;let compatibilityStyles=null;function getCompatibilityStyles(){if(compatibilityStyles){return compatibilityStyles;}
compatibilityStyles=Array.from(document.styleSheets).reduce((accumulator,styleSheet)=>{try{styleSheet.cssRules;}catch(e){return accumulator;}
const{ownerNode,cssRules}=styleSheet;if(ownerNode===null){return accumulator;}
if(!cssRules){return accumulator;}
if(ownerNode.id.startsWith('wp-')){return accumulator;}
if(!ownerNode.id){return accumulator;}
function matchFromRules(_cssRules){return Array.from(_cssRules).find(({selectorText,conditionText,cssRules:__cssRules})=>{if(conditionText){return matchFromRules(__cssRules);}
return selectorText&&(selectorText.includes('.editor-styles-wrapper')||selectorText.includes('.wp-block'));});}
if(matchFromRules(cssRules)){const isInline=ownerNode.tagName==='STYLE';if(isInline){const mainStylesCssId=ownerNode.id.replace('-inline-css','-css');const mainStylesElement=document.getElementById(mainStylesCssId);if(mainStylesElement){accumulator.push(mainStylesElement.cloneNode(true));}}
accumulator.push(ownerNode.cloneNode(true));if(!isInline){const inlineStylesCssId=ownerNode.id.replace('-css','-inline-css');const inlineStylesElement=document.getElementById(inlineStylesCssId);if(inlineStylesElement){accumulator.push(inlineStylesElement.cloneNode(true));}}}
return accumulator;},[]);return compatibilityStyles;};function calculateScale({frameSize,containerWidth,maxContainerWidth,scaleContainerWidth}){return(Math.min(containerWidth,maxContainerWidth)-frameSize*2)/ scaleContainerWidth;}
function computeScrollHeightNext(transitionFrom,transitionTo){const{scaleValue:prevScale,scrollHeight:prevScrollHeight}=transitionFrom;const{frameSize,scaleValue}=transitionTo;return prevScrollHeight*(scaleValue / prevScale)+frameSize*2;}
function computeScrollTopNext(transitionFrom,transitionTo){const{containerHeight:prevContainerHeight,frameSize:prevFrameSize,scaleValue:prevScale,scrollTop:prevScrollTop}=transitionFrom;const{containerHeight,frameSize,scaleValue,scrollHeight}=transitionTo;let scrollTopNext=prevScrollTop;scrollTopNext=(scrollTopNext+prevContainerHeight / 2-prevFrameSize)/ prevScale-prevContainerHeight / 2;scrollTopNext=(scrollTopNext+containerHeight / 2)*scaleValue+frameSize-containerHeight / 2;scrollTopNext=prevScrollTop<=prevFrameSize?0:scrollTopNext;const maxScrollTop=scrollHeight-containerHeight;return Math.round(Math.min(Math.max(0,scrollTopNext),Math.max(0,maxScrollTop)));}
function getAnimationKeyframes(transitionFrom,transitionTo){const{scaleValue:prevScale,frameSize:prevFrameSize,scrollTop}=transitionFrom;const{scaleValue,frameSize,scrollTop:scrollTopNext}=transitionTo;return[{translate:`0 0`,scale:prevScale,paddingTop:`${prevFrameSize / prevScale}px`,paddingBottom:`${prevFrameSize / prevScale}px`},{translate:`0 ${scrollTop - scrollTopNext}px`,scale:scaleValue,paddingTop:`${frameSize / scaleValue}px`,paddingBottom:`${frameSize / scaleValue}px`}];}
function useScaleCanvas({frameSize,iframeDocument,maxContainerWidth=750,scale}){const[contentResizeListener,{height:contentHeight}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();const[containerResizeListener,{width:containerWidth,height:containerHeight}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();const initialContainerWidthRef=(0,external_wp_element_namespaceObject.useRef)(0);const isZoomedOut=scale!==1;const prefersReducedMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();const isAutoScaled=scale==='auto-scaled';const startAnimationRef=(0,external_wp_element_namespaceObject.useRef)(false);const animationRef=(0,external_wp_element_namespaceObject.useRef)(null);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isZoomedOut){initialContainerWidthRef.current=containerWidth;}},[containerWidth,isZoomedOut]);const scaleContainerWidth=Math.max(initialContainerWidthRef.current,containerWidth);const scaleValue=isAutoScaled?calculateScale({frameSize,containerWidth,maxContainerWidth,scaleContainerWidth}):scale;const transitionFromRef=(0,external_wp_element_namespaceObject.useRef)({scaleValue,frameSize,containerHeight:0,scrollTop:0,scrollHeight:0});const transitionToRef=(0,external_wp_element_namespaceObject.useRef)({scaleValue,frameSize,containerHeight:0,scrollTop:0,scrollHeight:0});const startZoomOutAnimation=(0,external_wp_element_namespaceObject.useCallback)(()=>{const{scrollTop}=transitionFromRef.current;const{scrollTop:scrollTopNext}=transitionToRef.current;iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-scroll-top',`${scrollTop}px`);iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-scroll-top-next',`${scrollTopNext}px`);iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-overflow-behavior',transitionFromRef.current.scrollHeight===transitionFromRef.current.containerHeight?'auto':'scroll');iframeDocument.documentElement.classList.add('zoom-out-animation');return iframeDocument.documentElement.animate(getAnimationKeyframes(transitionFromRef.current,transitionToRef.current),{easing:'cubic-bezier(0.46, 0.03, 0.52, 0.96)',duration:400});},[iframeDocument]);const finishZoomOutAnimation=(0,external_wp_element_namespaceObject.useCallback)(()=>{startAnimationRef.current=false;animationRef.current=null;iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-scale',transitionToRef.current.scaleValue);iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-frame-size',`${transitionToRef.current.frameSize}px`);iframeDocument.documentElement.classList.remove('zoom-out-animation');iframeDocument.documentElement.scrollTop=transitionToRef.current.scrollTop;iframeDocument.documentElement.style.removeProperty('--wp-block-editor-iframe-zoom-out-scroll-top');iframeDocument.documentElement.style.removeProperty('--wp-block-editor-iframe-zoom-out-scroll-top-next');iframeDocument.documentElement.style.removeProperty('--wp-block-editor-iframe-zoom-out-overflow-behavior');transitionFromRef.current=transitionToRef.current;},[iframeDocument]);const previousIsZoomedOut=(0,external_wp_element_namespaceObject.useRef)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{const trigger=iframeDocument&&previousIsZoomedOut.current!==isZoomedOut;previousIsZoomedOut.current=isZoomedOut;if(!trigger){return;}
startAnimationRef.current=true;if(!isZoomedOut){return;}
iframeDocument.documentElement.classList.add('is-zoomed-out');return()=>{iframeDocument.documentElement.classList.remove('is-zoomed-out');};},[iframeDocument,isZoomedOut]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!iframeDocument){return;}
if(isAutoScaled&&transitionFromRef.current.scaleValue!==1){transitionFromRef.current.scaleValue=calculateScale({frameSize:transitionFromRef.current.frameSize,containerWidth,maxContainerWidth,scaleContainerWidth:containerWidth});}
if(scaleValue<1){if(!startAnimationRef.current){iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-scale',scaleValue);iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-frame-size',`${frameSize}px`);}
iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-content-height',`${contentHeight}px`);iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-inner-height',`${containerHeight}px`);iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-container-width',`${containerWidth}px`);iframeDocument.documentElement.style.setProperty('--wp-block-editor-iframe-zoom-out-scale-container-width',`${scaleContainerWidth}px`);}
if(startAnimationRef.current){startAnimationRef.current=false;if(animationRef.current){animationRef.current.reverse();const tempTransitionFrom=transitionFromRef.current;const tempTransitionTo=transitionToRef.current;transitionFromRef.current=tempTransitionTo;transitionToRef.current=tempTransitionFrom;}else{transitionFromRef.current.scrollTop=iframeDocument.documentElement.scrollTop;transitionFromRef.current.scrollHeight=iframeDocument.documentElement.scrollHeight;transitionFromRef.current.containerHeight=containerHeight;transitionToRef.current={scaleValue,frameSize,containerHeight:iframeDocument.documentElement.clientHeight};transitionToRef.current.scrollHeight=computeScrollHeightNext(transitionFromRef.current,transitionToRef.current);transitionToRef.current.scrollTop=computeScrollTopNext(transitionFromRef.current,transitionToRef.current);animationRef.current=startZoomOutAnimation();if(prefersReducedMotion){finishZoomOutAnimation();}else{animationRef.current.onfinish=finishZoomOutAnimation;}}}},[startZoomOutAnimation,finishZoomOutAnimation,prefersReducedMotion,isAutoScaled,scaleValue,frameSize,iframeDocument,contentHeight,containerWidth,containerHeight,maxContainerWidth,scaleContainerWidth]);return{isZoomedOut,scaleContainerWidth,contentResizeListener,containerResizeListener};};function bubbleEvent(event,Constructor,frame){const init={};for(const key in event){init[key]=event[key];}
if(event instanceof frame.contentDocument.defaultView.MouseEvent){const rect=frame.getBoundingClientRect();init.clientX+=rect.left;init.clientY+=rect.top;}
const newEvent=new Constructor(event.type,init);if(init.defaultPrevented){newEvent.preventDefault();}
const cancelled=!frame.dispatchEvent(newEvent);if(cancelled){event.preventDefault();}}
function useBubbleEvents(iframeDocument){return(0,external_wp_compose_namespaceObject.useRefEffect)(()=>{const{defaultView}=iframeDocument;if(!defaultView){return;}
const{frameElement}=defaultView;const html=iframeDocument.documentElement;const eventTypes=['dragover','mousemove'];const handlers={};for(const name of eventTypes){handlers[name]=event=>{const prototype=Object.getPrototypeOf(event);const constructorName=prototype.constructor.name;const Constructor=window[constructorName];bubbleEvent(event,Constructor,frameElement);};html.addEventListener(name,handlers[name]);}
return()=>{for(const name of eventTypes){html.removeEventListener(name,handlers[name]);}};});}
function Iframe({contentRef,children,tabIndex=0,scale=1,frameSize=0,readonly,forwardedRef:ref,title=(0,external_wp_i18n_namespaceObject.__)('Editor canvas'),...props}){const{resolvedAssets,isPreviewMode}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);const settings=getSettings();return{resolvedAssets:settings.__unstableResolvedAssets,isPreviewMode:settings.isPreviewMode};},[]);const{styles='',scripts=''}=resolvedAssets;const[iframeDocument,setIframeDocument]=(0,external_wp_element_namespaceObject.useState)();const[bodyClasses,setBodyClasses]=(0,external_wp_element_namespaceObject.useState)([]);const clearerRef=useBlockSelectionClearer();const[before,writingFlowRef,after]=useWritingFlow();const setRef=(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{node._load=()=>{setIframeDocument(node.contentDocument);};let iFrameDocument;function preventFileDropDefault(event){event.preventDefault();}
const{ownerDocument}=node;setBodyClasses(Array.from(ownerDocument.body.classList).filter(name=>name.startsWith('admin-color-')||name.startsWith('post-type-')||name==='wp-embed-responsive'));function onLoad(){const{contentDocument}=node;const{documentElement}=contentDocument;iFrameDocument=contentDocument;documentElement.classList.add('block-editor-iframe__html');clearerRef(documentElement);contentDocument.dir=ownerDocument.dir;for(const compatStyle of getCompatibilityStyles()){if(contentDocument.getElementById(compatStyle.id)){continue;}
contentDocument.head.appendChild(compatStyle.cloneNode(true));if(!isPreviewMode){console.warn(`${compatStyle.id} was added to the iframe incorrectly. Please use block.json or enqueue_block_assets to add styles to the iframe.`,compatStyle);}}
iFrameDocument.addEventListener('dragover',preventFileDropDefault,false);iFrameDocument.addEventListener('drop',preventFileDropDefault,false);iFrameDocument.addEventListener('click',event=>{if(event.target.tagName==='A'){event.preventDefault();const href=event.target.getAttribute('href');if(href?.startsWith('#')){iFrameDocument.defaultView.location.hash=href.slice(1);}}});}
node.addEventListener('load',onLoad);return()=>{delete node._load;node.removeEventListener('load',onLoad);iFrameDocument?.removeEventListener('dragover',preventFileDropDefault);iFrameDocument?.removeEventListener('drop',preventFileDropDefault);};},[]);const{contentResizeListener,containerResizeListener,isZoomedOut,scaleContainerWidth}=useScaleCanvas({scale,frameSize:parseInt(frameSize),iframeDocument});const disabledRef=(0,external_wp_compose_namespaceObject.useDisabled)({isDisabled:!readonly});const bodyRef=(0,external_wp_compose_namespaceObject.useMergeRefs)([useBubbleEvents(iframeDocument),contentRef,clearerRef,writingFlowRef,disabledRef]);const html=`<!doctype html>
<html>
 <head>
  <meta charset="utf-8">
  <base href="${window.location.origin}">
  <script>window.frameElement._load()</script>
  <style>
   html{
    height: auto !important;
    min-height: 100%;
   }
   /* Lowest specificity to not override global styles */
   :where(body) {
    margin: 0;
    /* Default background color in case zoom out mode background
    colors the html element */
    background-color: white;
   }
  </style>
  ${styles}
  ${scripts}
 </head>
 <body>
  <script>document.currentScript.parentElement.remove()</script>
 </body>
</html>`;const[src,cleanup]=(0,external_wp_element_namespaceObject.useMemo)(()=>{const _src=URL.createObjectURL(new window.Blob([html],{type:'text/html'}));return[_src,()=>URL.revokeObjectURL(_src)];},[html]);(0,external_wp_element_namespaceObject.useEffect)(()=>cleanup,[cleanup]);const shouldRenderFocusCaptureElements=tabIndex>=0&&!isPreviewMode;const iframe=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[shouldRenderFocusCaptureElements&&before,(0,external_ReactJSXRuntime_namespaceObject.jsx)("iframe",{...props,style:{...props.style,height:props.style?.height,border:0},ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,setRef]),tabIndex:tabIndex,src:src,title:title,onKeyDown:event=>{if(props.onKeyDown){props.onKeyDown(event);}
if(event.currentTarget.ownerDocument!==event.target.ownerDocument){const{stopPropagation}=event.nativeEvent;event.nativeEvent.stopPropagation=()=>{};event.stopPropagation();event.nativeEvent.stopPropagation=stopPropagation;bubbleEvent(event,window.KeyboardEvent,event.currentTarget);}},children:iframeDocument&&(0,external_wp_element_namespaceObject.createPortal)((0,external_ReactJSXRuntime_namespaceObject.jsxs)("body",{ref:bodyRef,className:dist_clsx('block-editor-iframe__body','editor-styles-wrapper',...bodyClasses),children:[contentResizeListener,(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:iframeDocument,children:children})]}),iframeDocument.documentElement)}),shouldRenderFocusCaptureElements&&after]});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-iframe__container",children:[containerResizeListener,(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:dist_clsx('block-editor-iframe__scale-container',isZoomedOut&&'is-zoomed-out'),style:{'--wp-block-editor-iframe-zoom-out-scale-container-width':isZoomedOut&&`${scaleContainerWidth}px`},children:iframe})]});}
function IframeIfReady(props,ref){const isInitialised=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings().__internalIsInitialized,[]);if(!isInitialised){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Iframe,{...props,forwardedRef:ref});}
const iframe=((0,external_wp_element_namespaceObject.forwardRef)(IframeIfReady));;const TOKENS={attribute:/\[\s*(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?(?<name>[-\w\P{ASCII}]+)\s*(?:(?<operator>\W?=)\s*(?<value>.+?)\s*(\s(?<caseSensitive>[iIsS]))?\s*)?\]/gu,id:/#(?<name>[-\w\P{ASCII}]+)/gu,class:/\.(?<name>[-\w\P{ASCII}]+)/gu,comma:/\s*,\s*/g,combinator:/\s*[\s>+~]\s*/g,'pseudo-element':/::(?<name>[-\w\P{ASCII}]+)(?:\((?<argument>*)\))?/gu,'pseudo-class':/:(?<name>[-\w\P{ASCII}]+)(?:\((?<argument>*)\))?/gu,universal:/(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?\*/gu,type:/(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?(?<name>[-\w\P{ASCII}]+)/gu,};const TRIM_TOKENS=new Set(['combinator','comma']);const RECURSIVE_PSEUDO_CLASSES=new Set(['not','is','where','has','matches','-moz-any','-webkit-any','nth-child','nth-last-child',]);const nthChildRegExp=/(?<index>[\dn+-]+)\s+of\s+(?<subtree>.+)/;const RECURSIVE_PSEUDO_CLASSES_ARGS={'nth-child':nthChildRegExp,'nth-last-child':nthChildRegExp,};const getArgumentPatternByType=(type)=>{switch(type){case'pseudo-element':case'pseudo-class':return new RegExp(TOKENS[type].source.replace('(?<argument>*)','(?<argument>.*)'),'gu');default:return TOKENS[type];}};function gobbleParens(text,offset){let nesting=0;let result='';for(;offset<text.length;offset++){const char=text[offset];switch(char){case'(':++nesting;break;case')':--nesting;break;}
result+=char;if(nesting===0){return result;}}
return result;}
function tokenizeBy(text,grammar=TOKENS){if(!text){return[];}
const tokens=[text];for(const[type,pattern]of Object.entries(grammar)){for(let i=0;i<tokens.length;i++){const token=tokens[i];if(typeof token!=='string'){continue;}
pattern.lastIndex=0;const match=pattern.exec(token);if(!match){continue;}
const from=match.index-1;const args=[];const content=match[0];const before=token.slice(0,from+1);if(before){args.push(before);}
args.push({...match.groups,type,content,});const after=token.slice(from+content.length+1);if(after){args.push(after);}
tokens.splice(i,1,...args);}}
let offset=0;for(const token of tokens){switch(typeof token){case'string':throw new Error(`Unexpected sequence ${token} found at index ${offset}`);case'object':offset+=token.content.length;token.pos=[offset-token.content.length,offset];if(TRIM_TOKENS.has(token.type)){token.content=token.content.trim()||' ';}
break;}}
return tokens;}
const STRING_PATTERN=/(['"])([^\\\n]+?)\1/g;const ESCAPE_PATTERN=/\\./g;function parsel_tokenize(selector,grammar=TOKENS){selector=selector.trim();if(selector===''){return[];}
const replacements=[];selector=selector.replace(ESCAPE_PATTERN,(value,offset)=>{replacements.push({value,offset});return'\uE000'.repeat(value.length);});selector=selector.replace(STRING_PATTERN,(value,quote,content,offset)=>{replacements.push({value,offset});return`${quote}${'\uE001'.repeat(content.length)}${quote}`;});{let pos=0;let offset;while((offset=selector.indexOf('(',pos))>-1){const value=gobbleParens(selector,offset);replacements.push({value,offset});selector=`${selector.substring(0, offset)}(${''.repeat(value.length - 2)})${selector.substring(offset + value.length)}`;pos=offset+value.length;}}
const tokens=tokenizeBy(selector,grammar);const changedTokens=new Set();for(const replacement of replacements.reverse()){for(const token of tokens){const{offset,value}=replacement;if(!(token.pos[0]<=offset&&offset+value.length<=token.pos[1])){continue;}
const{content}=token;const tokenOffset=offset-token.pos[0];token.content=content.slice(0,tokenOffset)+
value+
content.slice(tokenOffset+value.length);if(token.content!==content){changedTokens.add(token);}}}
for(const token of changedTokens){const pattern=getArgumentPatternByType(token.type);if(!pattern){throw new Error(`Unknown token type: ${token.type}`);}
pattern.lastIndex=0;const match=pattern.exec(token.content);if(!match){throw new Error(`Unable to parse content for ${token.type}: ${token.content}`);}
Object.assign(token,match.groups);}
return tokens;}
function nestTokens(tokens,{list=true}={}){if(list&&tokens.find((t)=>t.type==='comma')){const selectors=[];const temp=[];for(let i=0;i<tokens.length;i++){if(tokens[i].type==='comma'){if(temp.length===0){throw new Error('Incorrect comma at '+i);}
selectors.push(nestTokens(temp,{list:false}));temp.length=0;}
else{temp.push(tokens[i]);}}
if(temp.length===0){throw new Error('Trailing comma');}
else{selectors.push(nestTokens(temp,{list:false}));}
return{type:'list',list:selectors};}
for(let i=tokens.length-1;i>=0;i--){let token=tokens[i];if(token.type==='combinator'){let left=tokens.slice(0,i);let right=tokens.slice(i+1);return{type:'complex',combinator:token.content,left:nestTokens(left),right:nestTokens(right),};}}
switch(tokens.length){case 0:throw new Error('Could not build AST.');case 1:return tokens[0];default:return{type:'compound',list:[...tokens],};}}
function*flatten(node,parent){switch(node.type){case'list':for(let child of node.list){yield*flatten(child,node);}
break;case'complex':yield*flatten(node.left,node);yield*flatten(node.right,node);break;case'compound':yield*node.list.map((token)=>[token,node]);break;default:yield[node,parent];}}
function walk(node,visit,parent){if(!node){return;}
for(const[token,ast]of flatten(node,parent)){visit(token,ast);}}
function parse(selector,{recursive=true,list=true}={}){const tokens=parsel_tokenize(selector);if(!tokens){return;}
const ast=nestTokens(tokens,{list});if(!recursive){return ast;}
for(const[token]of flatten(ast)){if(token.type!=='pseudo-class'||!token.argument){continue;}
if(!RECURSIVE_PSEUDO_CLASSES.has(token.name)){continue;}
let argument=token.argument;const childArg=RECURSIVE_PSEUDO_CLASSES_ARGS[token.name];if(childArg){const match=childArg.exec(argument);if(!match){continue;}
Object.assign(token,match.groups);argument=match.groups['subtree'];}
if(!argument){continue;}
Object.assign(token,{subtree:parse(argument,{recursive:true,list:true,}),});}
return ast;}
function parsel_stringify(listOrNode){let tokens;if(Array.isArray(listOrNode)){tokens=listOrNode;}
else{tokens=[...flatten(listOrNode)].map(([token])=>token);}
return tokens.map(token=>token.content).join('');}
function specificityToNumber(specificity,base){base=base||Math.max(...specificity)+1;return(specificity[0]*(base<<1)+specificity[1]*base+specificity[2]);}
function specificity(selector){let ast=selector;if(typeof ast==='string'){ast=parse(ast,{recursive:true});}
if(!ast){return[];}
if(ast.type==='list'&&'list'in ast){let base=10;const specificities=ast.list.map((ast)=>{const sp=specificity(ast);base=Math.max(base,...specificity(ast));return sp;});const numbers=specificities.map((ast)=>specificityToNumber(ast,base));return specificities[numbers.indexOf(Math.max(...numbers))];}
const ret=[0,0,0];for(const[token]of flatten(ast)){switch(token.type){case'id':ret[0]++;break;case'class':case'attribute':ret[1]++;break;case'pseudo-element':case'type':ret[2]++;break;case'pseudo-class':if(token.name==='where'){break;}
if(!RECURSIVE_PSEUDO_CLASSES.has(token.name)||!token.subtree){ret[1]++;break;}
const sub=specificity(token.subtree);sub.forEach((s,i)=>(ret[i]+=s));if(token.name==='nth-child'||token.name==='nth-last-child'){ret[1]++;}}}
return ret;}
var processor=__webpack_require__(9656);var processor_default=__webpack_require__.n(processor);var css_syntax_error=__webpack_require__(356);var css_syntax_error_default=__webpack_require__.n(css_syntax_error);var postcss_prefix_selector=__webpack_require__(1443);var postcss_prefix_selector_default=__webpack_require__.n(postcss_prefix_selector);var postcss_urlrebase=__webpack_require__(5404);var postcss_urlrebase_default=__webpack_require__.n(postcss_urlrebase);;const cacheByWrapperSelector=new Map();const ROOT_SELECTOR_TOKENS=[{type:'type',content:'body'},{type:'type',content:'html'},{type:'pseudo-class',content:':root'},{type:'pseudo-class',content:':where(body)'},{type:'pseudo-class',content:':where(:root)'},{type:'pseudo-class',content:':where(html)'}];function prefixRootSelector(prefix,selector){const tokenized=parsel_tokenize(selector);const lastRootIndex=tokenized.findLastIndex(({content,type})=>{return ROOT_SELECTOR_TOKENS.some(rootSelector=>content===rootSelector.content&&type===rootSelector.type);});let insertionPoint=-1;for(let i=lastRootIndex+1;i<tokenized.length;i++){if(tokenized[i].type==='combinator'){insertionPoint=i;break;}}
const tokenizedPrefix=parsel_tokenize(prefix);tokenized.splice(insertionPoint===-1?tokenized.length:insertionPoint,0,{type:'combinator',content:' '},...tokenizedPrefix);return parsel_stringify(tokenized);}
function transformStyle({css,ignoredSelectors=[],baseURL},wrapperSelector='',transformOptions){if(!wrapperSelector&&!baseURL){return css;}
try{var _transformOptions$ign;const excludedSelectors=[...ignoredSelectors,...((_transformOptions$ign=transformOptions?.ignoredSelectors)!==null&&_transformOptions$ign!==void 0?_transformOptions$ign:[]),wrapperSelector];return new(processor_default())([wrapperSelector&&postcss_prefix_selector_default()({prefix:wrapperSelector,transform(prefix,selector,prefixedSelector){if(excludedSelectors.some(excludedSelector=>excludedSelector instanceof RegExp?selector.match(excludedSelector):selector.includes(excludedSelector))){return selector;}
const hasRootSelector=ROOT_SELECTOR_TOKENS.some(rootSelector=>selector.startsWith(rootSelector.content));if(hasRootSelector){return prefixRootSelector(prefix,selector);}
return prefixedSelector;}}),baseURL&&postcss_urlrebase_default()({rootUrl:baseURL})].filter(Boolean)).process(css,{}).css;}catch(error){if(error instanceof(css_syntax_error_default())){console.warn('wp.blockEditor.transformStyles Failed to transform CSS.',error.message+'\n'+error.showSourceCode(false));}else{console.warn('wp.blockEditor.transformStyles Failed to transform CSS.',error);}
return null;}}
const transform_styles_transformStyles=(styles,wrapperSelector='',transformOptions)=>{let cache=cacheByWrapperSelector.get(wrapperSelector);if(!cache){cache=new WeakMap();cacheByWrapperSelector.set(wrapperSelector,cache);}
return styles.map(style=>{let css=cache.get(style);if(!css){css=transformStyle(style,wrapperSelector,transformOptions);cache.set(style,css);}
return css;});};const transform_styles=(transform_styles_transformStyles);;k([names,a11y]);function useDarkThemeBodyClassName(styles,scope){return(0,external_wp_element_namespaceObject.useCallback)(node=>{if(!node){return;}
const{ownerDocument}=node;const{defaultView,body}=ownerDocument;const canvas=scope?ownerDocument.querySelector(scope):body;let backgroundColor;if(!canvas){const tempCanvas=ownerDocument.createElement('div');tempCanvas.classList.add('editor-styles-wrapper');body.appendChild(tempCanvas);backgroundColor=defaultView?.getComputedStyle(tempCanvas,null).getPropertyValue('background-color');body.removeChild(tempCanvas);}else{backgroundColor=defaultView?.getComputedStyle(canvas,null).getPropertyValue('background-color');}
const colordBackgroundColor=w(backgroundColor);if(colordBackgroundColor.luminance()>0.5||colordBackgroundColor.alpha()===0){body.classList.remove('is-dark-theme');}else{body.classList.add('is-dark-theme');}},[styles,scope]);}
function EditorStyles({styles,scope,transformOptions}){const overrides=(0,external_wp_data_namespaceObject.useSelect)(select=>unlock(select(store)).getStyleOverrides(),[]);const[transformedStyles,transformedSvgs]=(0,external_wp_element_namespaceObject.useMemo)(()=>{const _styles=Object.values(styles!==null&&styles!==void 0?styles:[]);for(const[id,override]of overrides){const index=_styles.findIndex(({id:_id})=>id===_id);const overrideWithId={...override,id};if(index===-1){_styles.push(overrideWithId);}else{_styles[index]=overrideWithId;}}
return[transform_styles(_styles.filter(style=>style?.css),scope,transformOptions),_styles.filter(style=>style.__unstableType==='svgs').map(style=>style.assets).join('')];},[styles,overrides,scope,transformOptions]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("style",{ref:useDarkThemeBodyClassName(transformedStyles,scope)}),transformedStyles.map((css,index)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("style",{children:css},index)),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0 0",width:"0",height:"0",role:"none",style:{visibility:'hidden',position:'absolute',left:'-9999px',overflow:'hidden'},dangerouslySetInnerHTML:{__html:transformedSvgs}})]});}
const editor_styles=((0,external_wp_element_namespaceObject.memo)(EditorStyles));;const MemoizedBlockList=(0,external_wp_element_namespaceObject.memo)(BlockList);const MAX_HEIGHT=2000;const EMPTY_ADDITIONAL_STYLES=[];function ScaledBlockPreview({viewportWidth,containerWidth,minHeight,additionalStyles=EMPTY_ADDITIONAL_STYLES}){if(!viewportWidth){viewportWidth=containerWidth;}
const[contentResizeListener,{height:contentHeight}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();const{styles}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const settings=select(store).getSettings();return{styles:settings.styles};},[]);const editorStyles=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(styles){return[...styles,{css:'body{height:auto;overflow:hidden;border:none;padding:0;}',__unstableType:'presets'},...additionalStyles];}
return styles;},[styles,additionalStyles]);const scale=containerWidth / viewportWidth;const aspectRatio=contentHeight?containerWidth /(contentHeight*scale):0;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Disabled,{className:"block-editor-block-preview__content",style:{transform:`scale(${scale})`,aspectRatio,maxHeight:contentHeight>MAX_HEIGHT?MAX_HEIGHT*scale:undefined,minHeight},children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(iframe,{contentRef:(0,external_wp_compose_namespaceObject.useRefEffect)(bodyElement=>{const{ownerDocument:{documentElement}}=bodyElement;documentElement.classList.add('block-editor-block-preview__content-iframe');documentElement.style.position='absolute';documentElement.style.width='100%';bodyElement.style.boxSizing='border-box';bodyElement.style.position='absolute';bodyElement.style.width='100%';},[]),"aria-hidden":true,tabIndex:-1,style:{position:'absolute',width:viewportWidth,height:contentHeight,pointerEvents:'none',maxHeight:MAX_HEIGHT,minHeight:scale!==0&&scale<1&&minHeight?minHeight / scale:minHeight},children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(editor_styles,{styles:editorStyles}),contentResizeListener,(0,external_ReactJSXRuntime_namespaceObject.jsx)(MemoizedBlockList,{renderAppender:false})]})});}
function AutoBlockPreview(props){const[containerResizeListener,{width:containerWidth}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{style:{position:'relative',width:'100%',height:0},children:containerResizeListener}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-preview__container",children:!!containerWidth&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ScaledBlockPreview,{...props,containerWidth:containerWidth})})]});};const external_wp_priorityQueue_namespaceObject=window["wp"]["priorityQueue"];;const blockPreviewQueue=(0,external_wp_priorityQueue_namespaceObject.createQueue)();function Async({children,placeholder}){const[shouldRender,setShouldRender]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{const context={};blockPreviewQueue.add(context,()=>{(0,external_wp_element_namespaceObject.flushSync)(()=>{setShouldRender(true);});});return()=>{blockPreviewQueue.cancel(context);};},[]);if(!shouldRender){return placeholder;}
return children;};const block_preview_EMPTY_ADDITIONAL_STYLES=[];function BlockPreview({blocks,viewportWidth=1200,minHeight,additionalStyles=block_preview_EMPTY_ADDITIONAL_STYLES,__experimentalMinHeight,__experimentalPadding}){if(__experimentalMinHeight){minHeight=__experimentalMinHeight;external_wp_deprecated_default()('The __experimentalMinHeight prop',{since:'6.2',version:'6.4',alternative:'minHeight'});}
if(__experimentalPadding){additionalStyles=[...additionalStyles,{css:`body { padding: ${__experimentalPadding}px; }`}];external_wp_deprecated_default()('The __experimentalPadding prop of BlockPreview',{since:'6.2',version:'6.4',alternative:'additionalStyles'});}
const originalSettings=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings(),[]);const settings=(0,external_wp_element_namespaceObject.useMemo)(()=>({...originalSettings,focusMode:false,isPreviewMode:true}),[originalSettings]);const renderedBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>Array.isArray(blocks)?blocks:[blocks],[blocks]);if(!blocks||blocks.length===0){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ExperimentalBlockEditorProvider,{value:renderedBlocks,settings:settings,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(AutoBlockPreview,{viewportWidth:viewportWidth,minHeight:minHeight,additionalStyles:additionalStyles})});}
const MemoizedBlockPreview=(0,external_wp_element_namespaceObject.memo)(BlockPreview);MemoizedBlockPreview.Async=Async;const block_preview=(MemoizedBlockPreview);function useBlockPreview({blocks,props={},layout}){const originalSettings=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings(),[]);const settings=(0,external_wp_element_namespaceObject.useMemo)(()=>({...originalSettings,styles:undefined,focusMode:false,isPreviewMode:true}),[originalSettings]);const disabledRef=(0,external_wp_compose_namespaceObject.useDisabled)();const ref=(0,external_wp_compose_namespaceObject.useMergeRefs)([props.ref,disabledRef]);const renderedBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>Array.isArray(blocks)?blocks:[blocks],[blocks]);const children=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(ExperimentalBlockEditorProvider,{value:renderedBlocks,settings:settings,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(editor_styles,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockListItems,{renderAppender:false,layout:layout})]});return{...props,ref,className:dist_clsx(props.className,'block-editor-block-preview__live-content','components-disabled'),children:blocks?.length?children:null};};function InserterPreviewPanel({item}){var _example$viewportWidt;const{name,title,icon,description,initialAttributes,example}=item;const isReusable=(0,external_wp_blocks_namespaceObject.isReusableBlock)(item);const blocks=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!example){return(0,external_wp_blocks_namespaceObject.createBlock)(name,initialAttributes);}
return(0,external_wp_blocks_namespaceObject.getBlockFromExample)(name,{attributes:{...example.attributes,...initialAttributes},innerBlocks:example.innerBlocks});},[name,example,initialAttributes]);const previewHeight=144;const sidebarWidth=280;const viewportWidth=(_example$viewportWidt=example?.viewportWidth)!==null&&_example$viewportWidt!==void 0?_example$viewportWidt:500;const scale=sidebarWidth / viewportWidth;const minHeight=scale!==0&&scale<1&&previewHeight?previewHeight / scale:previewHeight;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-inserter__preview-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__preview",children:isReusable||example?(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__preview-content",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_preview,{blocks:blocks,viewportWidth:viewportWidth,minHeight:previewHeight,additionalStyles:[{css:`
          body { 
           padding: 24px;
           min-height:${Math.round(minHeight)}px;
           display:flex;
           align-items:center;
          }
          .is-root-container { width: 100%; }
         `}]})}):(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__preview-content-missing",children:(0,external_wp_i18n_namespaceObject.__)('No preview available.')})}),!isReusable&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_card,{title:title,icon:icon,description:description})]});}
const preview_panel=(InserterPreviewPanel);;function InserterListboxItem({isFirst,as:Component,children,...props},ref){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite.Item,{ref:ref,role:"option",accessibleWhenDisabled:true,...props,render:htmlProps=>{const propsWithTabIndex={...htmlProps,tabIndex:isFirst?0:htmlProps.tabIndex};if(Component){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Component,{...propsWithTabIndex,children:children});}
if(typeof children==='function'){return children(propsWithTabIndex);}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,...propsWithTabIndex,children:children});}});}
const inserter_listbox_item=((0,external_wp_element_namespaceObject.forwardRef)(InserterListboxItem));;const InserterDraggableBlocks=({isEnabled,blocks,icon,children,pattern})=>{const blockTypeIcon=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockType}=select(external_wp_blocks_namespaceObject.store);return blocks.length===1&&getBlockType(blocks[0].name)?.icon;},[blocks]);const{startDragging,stopDragging}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const patternBlock=(0,external_wp_element_namespaceObject.useMemo)(()=>{return pattern?.type===INSERTER_PATTERN_TYPES.user&&pattern?.syncStatus!=='unsynced'?[(0,external_wp_blocks_namespaceObject.createBlock)('core/block',{ref:pattern.id})]:undefined;},[pattern?.type,pattern?.syncStatus,pattern?.id]);if(!isEnabled){return children({draggable:false,onDragStart:undefined,onDragEnd:undefined});}
const draggableBlocks=patternBlock!==null&&patternBlock!==void 0?patternBlock:blocks;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Draggable,{__experimentalTransferDataType:"wp-blocks",transferData:{type:'inserter',blocks:draggableBlocks},onDragStart:event=>{startDragging();for(const block of draggableBlocks){const type=`wp-block:${block.name}`;event.dataTransfer.items.add('',type);}},onDragEnd:()=>{stopDragging();},__experimentalDragComponent:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockDraggableChip,{count:blocks.length,icon:icon||!pattern&&blockTypeIcon,isPattern:!!pattern}),children:({onDraggableStart,onDraggableEnd})=>{return children({draggable:true,onDragStart:onDraggableStart,onDragEnd:onDraggableEnd});}});};const inserter_draggable_blocks=(InserterDraggableBlocks);;function InserterListItem({className,isFirst,item,onSelect,onHover,isDraggable,...props}){const isDraggingRef=(0,external_wp_element_namespaceObject.useRef)(false);const itemIconStyle=item.icon?{backgroundColor:item.icon.background,color:item.icon.foreground}:{};const blocks=(0,external_wp_element_namespaceObject.useMemo)(()=>[(0,external_wp_blocks_namespaceObject.createBlock)(item.name,item.initialAttributes,(0,external_wp_blocks_namespaceObject.createBlocksFromInnerBlocksTemplate)(item.innerBlocks))],[item.name,item.initialAttributes,item.innerBlocks]);const isSynced=(0,external_wp_blocks_namespaceObject.isReusableBlock)(item)&&item.syncStatus!=='unsynced'||(0,external_wp_blocks_namespaceObject.isTemplatePart)(item);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_draggable_blocks,{isEnabled:isDraggable&&!item.isDisabled,blocks:blocks,icon:item.icon,children:({draggable,onDragStart,onDragEnd})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:dist_clsx('block-editor-block-types-list__list-item',{'is-synced':isSynced}),draggable:draggable,onDragStart:event=>{isDraggingRef.current=true;if(onDragStart){onHover(null);onDragStart(event);}},onDragEnd:event=>{isDraggingRef.current=false;if(onDragEnd){onDragEnd(event);}},children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(inserter_listbox_item,{isFirst:isFirst,className:dist_clsx('block-editor-block-types-list__item',className),disabled:item.isDisabled,onClick:event=>{event.preventDefault();onSelect(item,(0,external_wp_keycodes_namespaceObject.isAppleOS)()?event.metaKey:event.ctrlKey);onHover(null);},onKeyDown:event=>{const{keyCode}=event;if(keyCode===external_wp_keycodes_namespaceObject.ENTER){event.preventDefault();onSelect(item,(0,external_wp_keycodes_namespaceObject.isAppleOS)()?event.metaKey:event.ctrlKey);onHover(null);}},onMouseEnter:()=>{if(isDraggingRef.current){return;}
onHover(item);},onMouseLeave:()=>onHover(null),...props,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-block-types-list__item-icon",style:itemIconStyle,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:item.icon,showColors:true})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-block-types-list__item-title",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{numberOfLines:3,children:item.title})})]})})});}
const inserter_list_item=((0,external_wp_element_namespaceObject.memo)(InserterListItem));;function InserterListboxGroup(props,ref){const[shouldSpeak,setShouldSpeak]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(shouldSpeak){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('Use left and right arrow keys to move through blocks'));}},[shouldSpeak]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:ref,role:"listbox","aria-orientation":"horizontal",onFocus:()=>{setShouldSpeak(true);},onBlur:event=>{const focusingOutsideGroup=!event.currentTarget.contains(event.relatedTarget);if(focusingOutsideGroup){setShouldSpeak(false);}},...props});}
const group=((0,external_wp_element_namespaceObject.forwardRef)(InserterListboxGroup));;function InserterListboxRow(props,ref){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite.Group,{role:"presentation",ref:ref,...props});}
const inserter_listbox_row=((0,external_wp_element_namespaceObject.forwardRef)(InserterListboxRow));;function chunk(array,size){const chunks=[];for(let i=0,j=array.length;i<j;i+=size){chunks.push(array.slice(i,i+size));}
return chunks;}
function BlockTypesList({items=[],onSelect,onHover=()=>{},children,label,isDraggable=true}){const className='block-editor-block-types-list';const listId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockTypesList,className);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(group,{className:className,"aria-label":label,children:[chunk(items,3).map((row,i)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_listbox_row,{children:row.map((item,j)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_list_item,{item:item,className:(0,external_wp_blocks_namespaceObject.getBlockMenuDefaultClassName)(item.id),onSelect:onSelect,onHover:onHover,isDraggable:isDraggable&&!item.isDisabled,isFirst:i===0&&j===0,rowId:`${listId}-${i}`},item.id))},i)),children]});}
const block_types_list=(BlockTypesList);;function InserterPanel({title,icon,children}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-inserter__panel-header",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("h2",{className:"block-editor-inserter__panel-title",children:title}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{icon:icon})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__panel-content",children:children})]});}
const panel=(InserterPanel);;const useBlockTypesState=(rootClientId,onInsert,isQuick)=>{const options=(0,external_wp_element_namespaceObject.useMemo)(()=>({[isFiltered]:!!isQuick}),[isQuick]);const[items]=(0,external_wp_data_namespaceObject.useSelect)(select=>[select(store).getInserterItems(rootClientId,options)],[rootClientId,options]);const{getClosestAllowedInsertionPoint}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));const{createErrorNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const[categories,collections]=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getCategories,getCollections}=select(external_wp_blocks_namespaceObject.store);return[getCategories(),getCollections()];},[]);const onSelectItem=(0,external_wp_element_namespaceObject.useCallback)(({name,initialAttributes,innerBlocks,syncStatus,content},shouldFocusBlock)=>{const destinationClientId=getClosestAllowedInsertionPoint(name,rootClientId);if(destinationClientId===null){var _getBlockType$title;const title=(_getBlockType$title=(0,external_wp_blocks_namespaceObject.getBlockType)(name)?.title)!==null&&_getBlockType$title!==void 0?_getBlockType$title:name;createErrorNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block "%s" can\'t be inserted.'),title),{type:'snackbar',id:'inserter-notice'});return;}
const insertedBlock=syncStatus==='unsynced'?(0,external_wp_blocks_namespaceObject.parse)(content,{__unstableSkipMigrationLogs:true}):(0,external_wp_blocks_namespaceObject.createBlock)(name,initialAttributes,(0,external_wp_blocks_namespaceObject.createBlocksFromInnerBlocksTemplate)(innerBlocks));onInsert(insertedBlock,undefined,shouldFocusBlock,destinationClientId);},[getClosestAllowedInsertionPoint,rootClientId,onInsert,createErrorNotice]);return[items,categories,collections,onSelectItem];};const use_block_types_state=(useBlockTypesState);;function InserterListbox({children}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite,{focusShift:true,focusWrap:"horizontal",render:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{}),children:children});}
const inserter_listbox=(InserterListbox);;function InserterNoResults(){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__no-results",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:(0,external_wp_i18n_namespaceObject.__)('No results found.')})});}
const no_results=(InserterNoResults);;const getBlockNamespace=item=>item.name.split('/')[0];const MAX_SUGGESTED_ITEMS=6;const block_types_tab_EMPTY_ARRAY=[];function BlockTypesTabPanel({items,collections,categories,onSelectItem,onHover,showMostUsedBlocks,className}){const suggestedItems=(0,external_wp_element_namespaceObject.useMemo)(()=>{return orderBy(items,'frecency','desc').slice(0,MAX_SUGGESTED_ITEMS);},[items]);const uncategorizedItems=(0,external_wp_element_namespaceObject.useMemo)(()=>{return items.filter(item=>!item.category);},[items]);const itemsPerCollection=(0,external_wp_element_namespaceObject.useMemo)(()=>{const result={...collections};Object.keys(collections).forEach(namespace=>{result[namespace]=items.filter(item=>getBlockNamespace(item)===namespace);if(result[namespace].length===0){delete result[namespace];}});return result;},[items,collections]);(0,external_wp_element_namespaceObject.useEffect)(()=>()=>onHover(null),[]);const currentlyRenderedCategories=(0,external_wp_compose_namespaceObject.useAsyncList)(categories);const didRenderAllCategories=categories.length===currentlyRenderedCategories.length;const collectionEntries=(0,external_wp_element_namespaceObject.useMemo)(()=>{return Object.entries(collections);},[collections]);const currentlyRenderedCollections=(0,external_wp_compose_namespaceObject.useAsyncList)(didRenderAllCategories?collectionEntries:block_types_tab_EMPTY_ARRAY);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:className,children:[showMostUsedBlocks&&items.length>3&&!!suggestedItems.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(panel,{title:(0,external_wp_i18n_namespaceObject._x)('Most used','blocks'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_types_list,{items:suggestedItems,onSelect:onSelectItem,onHover:onHover,label:(0,external_wp_i18n_namespaceObject._x)('Most used','blocks')})}),currentlyRenderedCategories.map(category=>{const categoryItems=items.filter(item=>item.category===category.slug);if(!categoryItems||!categoryItems.length){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(panel,{title:category.title,icon:category.icon,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_types_list,{items:categoryItems,onSelect:onSelectItem,onHover:onHover,label:category.title})},category.slug);}),didRenderAllCategories&&uncategorizedItems.length>0&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(panel,{className:"block-editor-inserter__uncategorized-blocks-panel",title:(0,external_wp_i18n_namespaceObject.__)('Uncategorized'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_types_list,{items:uncategorizedItems,onSelect:onSelectItem,onHover:onHover,label:(0,external_wp_i18n_namespaceObject.__)('Uncategorized')})}),currentlyRenderedCollections.map(([namespace,collection])=>{const collectionItems=itemsPerCollection[namespace];if(!collectionItems||!collectionItems.length){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(panel,{title:collection.title,icon:collection.icon,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_types_list,{items:collectionItems,onSelect:onSelectItem,onHover:onHover,label:collection.title})},namespace);})]});}
function BlockTypesTab({rootClientId,onInsert,onHover,showMostUsedBlocks},ref){const[items,categories,collections,onSelectItem]=use_block_types_state(rootClientId,onInsert);if(!items.length){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(no_results,{});}
const itemsForCurrentRoot=[];const itemsRemaining=[];for(const item of items){if(item.category==='reusable'){continue;}
if(item.isAllowedInCurrentRoot){itemsForCurrentRoot.push(item);}else{itemsRemaining.push(item);}}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_listbox,{children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{ref:ref,children:[!!itemsForCurrentRoot.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockTypesTabPanel,{items:itemsForCurrentRoot,categories:categories,collections:collections,onSelectItem:onSelectItem,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks,className:"block-editor-inserter__insertable-blocks-at-selection"})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockTypesTabPanel,{items:itemsRemaining,categories:categories,collections:collections,onSelectItem:onSelectItem,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks,className:"block-editor-inserter__all-blocks"})]})});}
const block_types_tab=((0,external_wp_element_namespaceObject.forwardRef)(BlockTypesTab));;function PatternCategoriesList({selectedCategory,patternCategories,onClickCategory}){const baseClassName='block-editor-block-patterns-explorer__sidebar';return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:`${baseClassName}__categories-list`,children:patternCategories.map(({name,label})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,label:label,className:`${baseClassName}__categories-list__item`,isPressed:selectedCategory===name,onClick:()=>{onClickCategory(name);},children:label},name);})});}
function PatternsExplorerSearch({searchValue,setSearchValue}){const baseClassName='block-editor-block-patterns-explorer__search';return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:baseClassName,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SearchControl,{__nextHasNoMarginBottom:true,onChange:setSearchValue,value:searchValue,label:(0,external_wp_i18n_namespaceObject.__)('Search'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Search')})});}
function PatternExplorerSidebar({selectedCategory,patternCategories,onClickCategory,searchValue,setSearchValue}){const baseClassName='block-editor-block-patterns-explorer__sidebar';return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:baseClassName,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(PatternsExplorerSearch,{searchValue:searchValue,setSearchValue:setSearchValue}),!searchValue&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(PatternCategoriesList,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory})]});}
const pattern_explorer_sidebar=(PatternExplorerSidebar);;function Pagination({currentPage,numPages,changePage,totalItems}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{className:"block-editor-patterns__grid-pagination-wrapper",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{variant:"muted",children:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%s item','%s items',totalItems),totalItems)}),numPages>1&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{expanded:false,spacing:3,justify:"flex-start",className:"block-editor-patterns__grid-pagination",children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{expanded:false,spacing:1,className:"block-editor-patterns__grid-pagination-previous",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:()=>changePage(1),disabled:currentPage===1,"aria-label":(0,external_wp_i18n_namespaceObject.__)('First page'),size:"compact",accessibleWhenDisabled:true,className:"block-editor-patterns__grid-pagination-button",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{children:"\xAB"})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:()=>changePage(currentPage-1),disabled:currentPage===1,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Previous page'),size:"compact",accessibleWhenDisabled:true,className:"block-editor-patterns__grid-pagination-button",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{children:"\u2039"})})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{variant:"muted",children:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%1$s of %2$s','paging'),currentPage,numPages)}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{expanded:false,spacing:1,className:"block-editor-patterns__grid-pagination-next",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:()=>changePage(currentPage+1),disabled:currentPage===numPages,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Next page'),size:"compact",accessibleWhenDisabled:true,className:"block-editor-patterns__grid-pagination-button",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{children:"\u203A"})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:()=>changePage(numPages),disabled:currentPage===numPages,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Last page'),size:"compact",accessibleWhenDisabled:true,className:"block-editor-patterns__grid-pagination-button",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{children:"\xBB"})})]})]})]});};const WithToolTip=({showTooltip,title,children})=>{if(showTooltip){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Tooltip,{text:title,children:children});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:children});};function BlockPattern({id,isDraggable,pattern,onClick,onHover,showTitlesAsTooltip,category,isSelected}){const[isDragging,setIsDragging]=(0,external_wp_element_namespaceObject.useState)(false);const{blocks,viewportWidth}=pattern;const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockPattern);const descriptionId=`block-editor-block-patterns-list__item-description-${instanceId}`;const isUserPattern=pattern.type===INSERTER_PATTERN_TYPES.user;const patternBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!category||!isDraggable){return blocks;}
return(blocks!==null&&blocks!==void 0?blocks:[]).map(block=>{const clonedBlock=(0,external_wp_blocks_namespaceObject.cloneBlock)(block);if(clonedBlock.attributes.metadata?.categories?.includes(category)){clonedBlock.attributes.metadata.categories=[category];}
return clonedBlock;});},[blocks,isDraggable,category]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_draggable_blocks,{isEnabled:isDraggable,blocks:patternBlocks,pattern:pattern,children:({draggable,onDragStart,onDragEnd})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-patterns-list__list-item",draggable:draggable,onDragStart:event=>{setIsDragging(true);if(onDragStart){onHover?.(null);onDragStart(event);}},onDragEnd:event=>{setIsDragging(false);if(onDragEnd){onDragEnd(event);}},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(WithToolTip,{showTooltip:showTitlesAsTooltip&&!isUserPattern,title:pattern.title,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Composite.Item,{render:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{role:"option","aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:undefined,className:dist_clsx('block-editor-block-patterns-list__item',{'block-editor-block-patterns-list__list-item-synced':pattern.type===INSERTER_PATTERN_TYPES.user&&!pattern.syncStatus,'is-selected':isSelected})}),id:id,onClick:()=>{onClick(pattern,blocks);onHover?.(null);},onMouseEnter:()=>{if(isDragging){return;}
onHover?.(pattern);},onMouseLeave:()=>onHover?.(null),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_preview.Async,{placeholder:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockPatternPlaceholder,{}),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_preview,{blocks:blocks,viewportWidth:viewportWidth})}),(!showTitlesAsTooltip||isUserPattern)&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{className:"block-editor-patterns__pattern-details",spacing:2,children:[isUserPattern&&!pattern.syncStatus&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-patterns__pattern-icon-wrapper",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{className:"block-editor-patterns__pattern-icon",icon:library_symbol})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-patterns-list__item-title",children:pattern.title})]}),!!pattern.description&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId,children:pattern.description})]})})})});}
function BlockPatternPlaceholder(){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-patterns-list__item is-placeholder"});}
function BlockPatternsList({isDraggable,blockPatterns,onHover,onClickPattern,orientation,label=(0,external_wp_i18n_namespaceObject.__)('Block patterns'),category,showTitlesAsTooltip,pagingProps},ref){const[activeCompositeId,setActiveCompositeId]=(0,external_wp_element_namespaceObject.useState)(undefined);const[activePattern,setActivePattern]=(0,external_wp_element_namespaceObject.useState)(null);(0,external_wp_element_namespaceObject.useEffect)(()=>{const firstCompositeItemId=blockPatterns[0]?.name;setActiveCompositeId(firstCompositeItemId);},[blockPatterns]);const handleClickPattern=(pattern,blocks)=>{setActivePattern(pattern.name);onClickPattern(pattern,blocks);};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Composite,{orientation:orientation,activeId:activeCompositeId,setActiveId:setActiveCompositeId,role:"listbox",className:"block-editor-block-patterns-list","aria-label":label,ref:ref,children:[blockPatterns.map(pattern=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockPattern,{id:pattern.name,pattern:pattern,onClick:handleClickPattern,onHover:onHover,isDraggable:isDraggable,showTitlesAsTooltip:showTitlesAsTooltip,category:category,isSelected:!!activePattern&&activePattern===pattern.name},pattern.name)),pagingProps&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(Pagination,{...pagingProps})]});}
const block_patterns_list=((0,external_wp_element_namespaceObject.forwardRef)(BlockPatternsList));;function getIndex({destinationRootClientId,destinationIndex,rootClientId,registry}){if(rootClientId===destinationRootClientId){return destinationIndex;}
const parents=['',...registry.select(store).getBlockParents(destinationRootClientId),destinationRootClientId];const parentIndex=parents.indexOf(rootClientId);if(parentIndex!==-1){return registry.select(store).getBlockIndex(parents[parentIndex+1])+1;}
return registry.select(store).getBlockOrder(rootClientId).length;}
function useInsertionPoint({rootClientId='',insertionIndex,clientId,isAppender,onSelect,shouldFocusBlock=true,selectBlockOnInsert=true}){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{getSelectedBlock,getClosestAllowedInsertionPoint,isBlockInsertionPointVisible}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));const{destinationRootClientId,destinationIndex}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getBlockRootClientId,getBlockIndex,getBlockOrder,getInsertionPoint}=unlock(select(store));const selectedBlockClientId=getSelectedBlockClientId();let _destinationRootClientId=rootClientId;let _destinationIndex;const insertionPoint=getInsertionPoint();if(insertionIndex!==undefined){_destinationIndex=insertionIndex;}else if(insertionPoint&&insertionPoint.hasOwnProperty('index')){_destinationRootClientId=insertionPoint?.rootClientId?insertionPoint.rootClientId:rootClientId;_destinationIndex=insertionPoint.index;}else if(clientId){_destinationIndex=getBlockIndex(clientId);}else if(!isAppender&&selectedBlockClientId){_destinationRootClientId=getBlockRootClientId(selectedBlockClientId);_destinationIndex=getBlockIndex(selectedBlockClientId)+1;}else{_destinationIndex=getBlockOrder(_destinationRootClientId).length;}
return{destinationRootClientId:_destinationRootClientId,destinationIndex:_destinationIndex};},[rootClientId,insertionIndex,clientId,isAppender]);const{replaceBlocks,insertBlocks,showInsertionPoint,hideInsertionPoint,setLastFocus}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const onInsertBlocks=(0,external_wp_element_namespaceObject.useCallback)((blocks,meta,shouldForceFocusBlock=false,_rootClientId)=>{if(shouldForceFocusBlock||shouldFocusBlock||selectBlockOnInsert){setLastFocus(null);}
const selectedBlock=getSelectedBlock();if(!isAppender&&selectedBlock&&(0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(selectedBlock)){replaceBlocks(selectedBlock.clientId,blocks,null,shouldFocusBlock||shouldForceFocusBlock?0:null,meta);}else{insertBlocks(blocks,isAppender||_rootClientId===undefined?destinationIndex:getIndex({destinationRootClientId,destinationIndex,rootClientId:_rootClientId,registry}),isAppender||_rootClientId===undefined?destinationRootClientId:_rootClientId,selectBlockOnInsert,shouldFocusBlock||shouldForceFocusBlock?0:null,meta);}
const blockLength=Array.isArray(blocks)?blocks.length:1;const message=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d block added.','%d blocks added.',blockLength),blockLength);(0,external_wp_a11y_namespaceObject.speak)(message);if(onSelect){onSelect(blocks);}},[isAppender,getSelectedBlock,replaceBlocks,insertBlocks,destinationRootClientId,destinationIndex,onSelect,shouldFocusBlock,selectBlockOnInsert]);const onToggleInsertionPoint=(0,external_wp_element_namespaceObject.useCallback)(item=>{if(item&&!isBlockInsertionPointVisible()){const allowedDestinationRootClientId=getClosestAllowedInsertionPoint(item.name,destinationRootClientId);if(allowedDestinationRootClientId!==null){showInsertionPoint(allowedDestinationRootClientId,getIndex({destinationRootClientId,destinationIndex,rootClientId:allowedDestinationRootClientId,registry}));}}else{hideInsertionPoint();}},[getClosestAllowedInsertionPoint,isBlockInsertionPointVisible,showInsertionPoint,hideInsertionPoint,destinationRootClientId,destinationIndex]);return[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint];}
const use_insertion_point=(useInsertionPoint);;const usePatternsState=(onInsert,rootClientId,selectedCategory,isQuick)=>{const options=(0,external_wp_element_namespaceObject.useMemo)(()=>({[isFiltered]:!!isQuick}),[isQuick]);const{patternCategories,patterns,userPatternCategories}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,__experimentalGetAllowedPatterns}=unlock(select(store));const{__experimentalUserPatternCategories,__experimentalBlockPatternCategories}=getSettings();return{patterns:__experimentalGetAllowedPatterns(rootClientId,options),userPatternCategories:__experimentalUserPatternCategories,patternCategories:__experimentalBlockPatternCategories};},[rootClientId,options]);const{getClosestAllowedInsertionPointForPattern}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));const allCategories=(0,external_wp_element_namespaceObject.useMemo)(()=>{const categories=[...patternCategories];userPatternCategories?.forEach(userCategory=>{if(!categories.find(existingCategory=>existingCategory.name===userCategory.name)){categories.push(userCategory);}});return categories;},[patternCategories,userPatternCategories]);const{createSuccessNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const onClickPattern=(0,external_wp_element_namespaceObject.useCallback)((pattern,blocks)=>{const destinationRootClientId=isQuick?rootClientId:getClosestAllowedInsertionPointForPattern(pattern,rootClientId);if(destinationRootClientId===null){return;}
const patternBlocks=pattern.type===INSERTER_PATTERN_TYPES.user&&pattern.syncStatus!=='unsynced'?[(0,external_wp_blocks_namespaceObject.createBlock)('core/block',{ref:pattern.id})]:blocks;onInsert((patternBlocks!==null&&patternBlocks!==void 0?patternBlocks:[]).map(block=>{const clonedBlock=(0,external_wp_blocks_namespaceObject.cloneBlock)(block);if(clonedBlock.attributes.metadata?.categories?.includes(selectedCategory)){clonedBlock.attributes.metadata.categories=[selectedCategory];}
return clonedBlock;}),pattern.name,false,destinationRootClientId);createSuccessNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block pattern "%s" inserted.'),pattern.title),{type:'snackbar',id:'inserter-notice'});},[createSuccessNotice,onInsert,selectedCategory,rootClientId,getClosestAllowedInsertionPointForPattern,isQuick]);return[patterns,allCategories,onClickPattern];};const use_patterns_state=(usePatternsState);var remove_accents=__webpack_require__(9681);var remove_accents_default=__webpack_require__.n(remove_accents);;var SUPPORTED_LOCALE={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{:"\u0069",I:"\u0131",I:"\u0069",},},az:{regexp:/\u0130/g,map:{:"\u0069",I:"\u0131",I:"\u0069",},},lt:{regexp:/\u0049|\u004A|\u012E|\u00CC|\u00CD|\u0128/g,map:{I:"\u0069\u0307",J:"\u006A\u0307",:"\u012F\u0307",:"\u0069\u0307\u0300",:"\u0069\u0307\u0301",:"\u0069\u0307\u0303",},},};function localeLowerCase(str,locale){var lang=SUPPORTED_LOCALE[locale.toLowerCase()];if(lang)
return lowerCase(str.replace(lang.regexp,function(m){return lang.map[m];}));return lowerCase(str);}
function lowerCase(str){return str.toLowerCase();};var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g];var DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(input,options){if(options===void 0){options={};}
var _a=options.splitRegexp,splitRegexp=_a===void 0?DEFAULT_SPLIT_REGEXP:_a,_b=options.stripRegexp,stripRegexp=_b===void 0?DEFAULT_STRIP_REGEXP:_b,_c=options.transform,transform=_c===void 0?lowerCase:_c,_d=options.delimiter,delimiter=_d===void 0?" ":_d;var result=dist_es2015_replace(dist_es2015_replace(input,splitRegexp,"$1\0$2"),stripRegexp,"\0");var start=0;var end=result.length;while(result.charAt(start)==="\0")
start++;while(result.charAt(end-1)==="\0")
end--;return result.slice(start,end).split("\0").map(transform).join(delimiter);}
function dist_es2015_replace(input,re,value){if(re instanceof RegExp)
return input.replace(re,value);return re.reduce(function(input,re){return input.replace(re,value);},input);};const defaultGetName=item=>item.name||'';const defaultGetTitle=item=>item.title;const defaultGetDescription=item=>item.description||'';const defaultGetKeywords=item=>item.keywords||[];const defaultGetCategory=item=>item.category;const defaultGetCollection=()=>null;const splitRegexp=[/([\p{Ll}\p{Lo}\p{N}])([\p{Lu}\p{Lt}])/gu,/([\p{Lu}\p{Lt}])([\p{Lu}\p{Lt}][\p{Ll}\p{Lo}])/gu];const stripRegexp=/(\p{C}|\p{P}|\p{S})+/giu;const extractedWords=new Map();const normalizedStrings=new Map();function extractWords(input=''){if(extractedWords.has(input)){return extractedWords.get(input);}
const result=noCase(input,{splitRegexp,stripRegexp}).split(' ').filter(Boolean);extractedWords.set(input,result);return result;}
function normalizeString(input=''){if(normalizedStrings.has(input)){return normalizedStrings.get(input);}
let result=remove_accents_default()(input);result=result.replace(/^\//,'');result=result.toLowerCase();normalizedStrings.set(input,result);return result;}
const getNormalizedSearchTerms=(input='')=>{return extractWords(normalizeString(input));};const removeMatchingTerms=(unmatchedTerms,unprocessedTerms)=>{return unmatchedTerms.filter(term=>!getNormalizedSearchTerms(unprocessedTerms).some(unprocessedTerm=>unprocessedTerm.includes(term)));};const searchBlockItems=(items,categories,collections,searchInput)=>{const normalizedSearchTerms=getNormalizedSearchTerms(searchInput);if(normalizedSearchTerms.length===0){return items;}
const config={getCategory:item=>categories.find(({slug})=>slug===item.category)?.title,getCollection:item=>collections[item.name.split('/')[0]]?.title};return searchItems(items,searchInput,config);};const searchItems=(items=[],searchInput='',config={})=>{const normalizedSearchTerms=getNormalizedSearchTerms(searchInput);if(normalizedSearchTerms.length===0){return items;}
const rankedItems=items.map(item=>{return[item,getItemSearchRank(item,searchInput,config)];}).filter(([,rank])=>rank>0);rankedItems.sort(([,rank1],[,rank2])=>rank2-rank1);return rankedItems.map(([item])=>item);};function getItemSearchRank(item,searchTerm,config={}){const{getName=defaultGetName,getTitle=defaultGetTitle,getDescription=defaultGetDescription,getKeywords=defaultGetKeywords,getCategory=defaultGetCategory,getCollection=defaultGetCollection}=config;const name=getName(item);const title=getTitle(item);const description=getDescription(item);const keywords=getKeywords(item);const category=getCategory(item);const collection=getCollection(item);const normalizedSearchInput=normalizeString(searchTerm);const normalizedTitle=normalizeString(title);let rank=0;if(normalizedSearchInput===normalizedTitle){rank+=30;}else if(normalizedTitle.startsWith(normalizedSearchInput)){rank+=20;}else{const terms=[name,title,description,...keywords,category,collection].join(' ');const normalizedSearchTerms=extractWords(normalizedSearchInput);const unmatchedTerms=removeMatchingTerms(normalizedSearchTerms,terms);if(unmatchedTerms.length===0){rank+=10;}}
if(rank!==0&&name.startsWith('core/')){const isCoreBlockVariation=name!==item.id;rank+=isCoreBlockVariation?1:2;}
return rank;};const PAGE_SIZE=20;function usePatternsPaging(currentCategoryPatterns,currentCategory,scrollContainerRef,currentFilter=''){const[currentPage,setCurrentPage]=(0,external_wp_element_namespaceObject.useState)(1);const previousCategory=(0,external_wp_compose_namespaceObject.usePrevious)(currentCategory);const previousFilter=(0,external_wp_compose_namespaceObject.usePrevious)(currentFilter);if((previousCategory!==currentCategory||previousFilter!==currentFilter)&&currentPage!==1){setCurrentPage(1);}
const totalItems=currentCategoryPatterns.length;const pageIndex=currentPage-1;const categoryPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>{return currentCategoryPatterns.slice(pageIndex*PAGE_SIZE,pageIndex*PAGE_SIZE+PAGE_SIZE);},[pageIndex,currentCategoryPatterns]);const numPages=Math.ceil(currentCategoryPatterns.length / PAGE_SIZE);const changePage=page=>{const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(scrollContainerRef?.current);scrollContainer?.scrollTo(0,0);setCurrentPage(page);};(0,external_wp_element_namespaceObject.useEffect)(function scrollToTopOnCategoryChange(){const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(scrollContainerRef?.current);scrollContainer?.scrollTo(0,0);},[currentCategory,scrollContainerRef]);return{totalItems,categoryPatterns,numPages,changePage,currentPage};};function PatternsListHeader({filterValue,filteredBlockPatternsLength}){if(!filterValue){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalHeading,{level:2,lineHeight:"48px",className:"block-editor-block-patterns-explorer__search-results-count",children:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d pattern found','%d patterns found',filteredBlockPatternsLength),filteredBlockPatternsLength)});}
function PatternList({searchValue,selectedCategory,patternCategories,rootClientId,onModalClose}){const container=(0,external_wp_element_namespaceObject.useRef)();const debouncedSpeak=(0,external_wp_compose_namespaceObject.useDebounce)(external_wp_a11y_namespaceObject.speak,500);const[destinationRootClientId,onInsertBlocks]=use_insertion_point({rootClientId,shouldFocusBlock:true});const[patterns,,onClickPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId,selectedCategory);const registeredPatternCategories=(0,external_wp_element_namespaceObject.useMemo)(()=>patternCategories.map(patternCategory=>patternCategory.name),[patternCategories]);const filteredBlockPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>{const filteredPatterns=patterns.filter(pattern=>{if(selectedCategory===allPatternsCategory.name){return true;}
if(selectedCategory===myPatternsCategory.name&&pattern.type===INSERTER_PATTERN_TYPES.user){return true;}
if(selectedCategory===starterPatternsCategory.name&&pattern.blockTypes?.includes('core/post-content')){return true;}
if(selectedCategory==='uncategorized'){var _pattern$categories$s;const hasKnownCategory=(_pattern$categories$s=pattern.categories?.some(category=>registeredPatternCategories.includes(category)))!==null&&_pattern$categories$s!==void 0?_pattern$categories$s:false;return!pattern.categories?.length||!hasKnownCategory;}
return pattern.categories?.includes(selectedCategory);});if(!searchValue){return filteredPatterns;}
return searchItems(filteredPatterns,searchValue);},[searchValue,patterns,selectedCategory,registeredPatternCategories]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!searchValue){return;}
const count=filteredBlockPatterns.length;const resultsFoundMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found.','%d results found.',count),count);debouncedSpeak(resultsFoundMessage);},[searchValue,debouncedSpeak,filteredBlockPatterns.length]);const pagingProps=usePatternsPaging(filteredBlockPatterns,selectedCategory,container);const[previousSearchValue,setPreviousSearchValue]=(0,external_wp_element_namespaceObject.useState)(searchValue);if(searchValue!==previousSearchValue){setPreviousSearchValue(searchValue);pagingProps.changePage(1);}
const hasItems=!!filteredBlockPatterns?.length;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-patterns-explorer__list",ref:container,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(PatternsListHeader,{filterValue:searchValue,filteredBlockPatternsLength:filteredBlockPatterns.length}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_listbox,{children:hasItems&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_patterns_list,{blockPatterns:pagingProps.categoryPatterns,onClickPattern:(pattern,blocks)=>{onClickPattern(pattern,blocks);onModalClose();},isDraggable:false}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(Pagination,{...pagingProps})]})})]});}
const pattern_list=(PatternList);;function hasRegisteredCategory(pattern,allCategories){if(!pattern.categories||!pattern.categories.length){return false;}
return pattern.categories.some(cat=>allCategories.some(category=>category.name===cat));}
function usePatternCategories(rootClientId,sourceFilter='all'){const[patterns,allCategories]=use_patterns_state(undefined,rootClientId);const filteredPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>sourceFilter==='all'?patterns:patterns.filter(pattern=>!isPatternFiltered(pattern,sourceFilter)),[sourceFilter,patterns]);const populatedCategories=(0,external_wp_element_namespaceObject.useMemo)(()=>{const categories=allCategories.filter(category=>filteredPatterns.some(pattern=>pattern.categories?.includes(category.name))).sort((a,b)=>a.label.localeCompare(b.label));if(filteredPatterns.some(pattern=>!hasRegisteredCategory(pattern,allCategories))&&!categories.find(category=>category.name==='uncategorized')){categories.push({name:'uncategorized',label:(0,external_wp_i18n_namespaceObject._x)('Uncategorized')});}
if(filteredPatterns.some(pattern=>pattern.blockTypes?.includes('core/post-content'))){categories.unshift(starterPatternsCategory);}
if(filteredPatterns.some(pattern=>pattern.type===INSERTER_PATTERN_TYPES.user)){categories.unshift(myPatternsCategory);}
if(filteredPatterns.length>0){categories.unshift({name:allPatternsCategory.name,label:allPatternsCategory.label});}
(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d category button displayed.','%d category buttons displayed.',categories.length),categories.length));return categories;},[allCategories,filteredPatterns]);return populatedCategories;};function PatternsExplorer({initialCategory,rootClientId,onModalClose}){const[searchValue,setSearchValue]=(0,external_wp_element_namespaceObject.useState)('');const[selectedCategory,setSelectedCategory]=(0,external_wp_element_namespaceObject.useState)(initialCategory?.name);const patternCategories=usePatternCategories(rootClientId);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-patterns-explorer",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(pattern_explorer_sidebar,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:setSelectedCategory,searchValue:searchValue,setSearchValue:setSearchValue}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(pattern_list,{searchValue:searchValue,selectedCategory:selectedCategory,patternCategories:patternCategories,rootClientId:rootClientId,onModalClose:onModalClose})]});}
function PatternsExplorerModal({onModalClose,...restProps}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.__)('Patterns'),onRequestClose:onModalClose,isFullScreen:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(PatternsExplorer,{onModalClose:onModalClose,...restProps})});}
const block_patterns_explorer=(PatternsExplorerModal);;function ScreenHeader({title}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:0,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalView,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalSpacer,{marginBottom:0,paddingX:4,paddingY:3,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{spacing:2,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Navigator.BackButton,{style:{minWidth:24,padding:0},icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_right:chevron_left,size:"small",label:(0,external_wp_i18n_namespaceObject.__)('Back')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalSpacer,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalHeading,{level:5,children:title})})]})})})});}
function MobileTabNavigation({categories,children}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Navigator,{initialPath:"/",className:"block-editor-inserter__mobile-tab-navigation",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Navigator.Screen,{path:"/",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalItemGroup,{children:categories.map(category=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Navigator.Button,{path:`/category/${category.name}`,as:external_wp_components_namespaceObject.__experimentalItem,isAction:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexBlock,{children:category.label}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left:chevron_right})]})},category.name))})}),categories.map(category=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Navigator.Screen,{path:`/category/${category.name}`,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ScreenHeader,{title:(0,external_wp_i18n_namespaceObject.__)('Back')}),children(category)]},category.name))]});};const getShouldDisableSyncFilter=sourceFilter=>sourceFilter!=='all'&&sourceFilter!=='user';const getShouldHideSourcesFilter=category=>{return category.name===myPatternsCategory.name;};const PATTERN_SOURCE_MENU_OPTIONS=[{value:'all',label:(0,external_wp_i18n_namespaceObject._x)('All','patterns')},{value:INSERTER_PATTERN_TYPES.directory,label:(0,external_wp_i18n_namespaceObject.__)('Pattern Directory')},{value:INSERTER_PATTERN_TYPES.theme,label:(0,external_wp_i18n_namespaceObject.__)('Theme & Plugins')},{value:INSERTER_PATTERN_TYPES.user,label:(0,external_wp_i18n_namespaceObject.__)('User')}];function PatternsFilter({setPatternSyncFilter,setPatternSourceFilter,patternSyncFilter,patternSourceFilter,scrollContainerRef,category}){const currentPatternSourceFilter=category.name===myPatternsCategory.name?INSERTER_PATTERN_TYPES.user:patternSourceFilter;const shouldDisableSyncFilter=getShouldDisableSyncFilter(currentPatternSourceFilter);const shouldHideSourcesFilter=getShouldHideSourcesFilter(category);const patternSyncMenuOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>[{value:'all',label:(0,external_wp_i18n_namespaceObject._x)('All','patterns')},{value:INSERTER_SYNC_TYPES.full,label:(0,external_wp_i18n_namespaceObject._x)('Synced','patterns'),disabled:shouldDisableSyncFilter},{value:INSERTER_SYNC_TYPES.unsynced,label:(0,external_wp_i18n_namespaceObject._x)('Not synced','patterns'),disabled:shouldDisableSyncFilter}],[shouldDisableSyncFilter]);function handleSetSourceFilterChange(newSourceFilter){setPatternSourceFilter(newSourceFilter);if(getShouldDisableSyncFilter(newSourceFilter)){setPatternSyncFilter('all');}}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{popoverProps:{placement:'right-end'},label:(0,external_wp_i18n_namespaceObject.__)('Filter patterns'),toggleProps:{size:'compact'},icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z",fill:"currentColor"})})}),children:()=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[!shouldHideSourcesFilter&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Source'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItemsChoice,{choices:PATTERN_SOURCE_MENU_OPTIONS,onSelect:value=>{handleSetSourceFilterChange(value);scrollContainerRef.current?.scrollTo(0,0);},value:currentPatternSourceFilter})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Type'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItemsChoice,{choices:patternSyncMenuOptions,onSelect:value=>{setPatternSyncFilter(value);scrollContainerRef.current?.scrollTo(0,0);},value:patternSyncFilter})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__patterns-filter-help",children:(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('Patterns are available from the <Link>WordPress.org Pattern Directory</Link>, bundled in the active theme, or created by users on this site. Only patterns created on this site can be synced.'),{Link:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/patterns/')})})})]})})});};const pattern_category_previews_noop=()=>{};function PatternCategoryPreviews({rootClientId,onInsert,onHover=pattern_category_previews_noop,category,showTitlesAsTooltip}){const[allPatterns,,onClickPattern]=use_patterns_state(onInsert,rootClientId,category?.name);const[patternSyncFilter,setPatternSyncFilter]=(0,external_wp_element_namespaceObject.useState)('all');const[patternSourceFilter,setPatternSourceFilter]=(0,external_wp_element_namespaceObject.useState)('all');const availableCategories=usePatternCategories(rootClientId,patternSourceFilter);const scrollContainerRef=(0,external_wp_element_namespaceObject.useRef)();const currentCategoryPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>allPatterns.filter(pattern=>{if(isPatternFiltered(pattern,patternSourceFilter,patternSyncFilter)){return false;}
if(category.name===allPatternsCategory.name){return true;}
if(category.name===myPatternsCategory.name&&pattern.type===INSERTER_PATTERN_TYPES.user){return true;}
if(category.name===starterPatternsCategory.name&&pattern.blockTypes?.includes('core/post-content')){return true;}
if(category.name==='uncategorized'){if(!pattern.categories){return true;}
return!pattern.categories.some(catName=>availableCategories.some(c=>c.name===catName));}
return pattern.categories?.includes(category.name);}),[allPatterns,availableCategories,category.name,patternSourceFilter,patternSyncFilter]);const pagingProps=usePatternsPaging(currentCategoryPatterns,category,scrollContainerRef);const{changePage}=pagingProps;(0,external_wp_element_namespaceObject.useEffect)(()=>()=>onHover(null),[]);const onSetPatternSyncFilter=(0,external_wp_element_namespaceObject.useCallback)(value=>{setPatternSyncFilter(value);changePage(1);},[setPatternSyncFilter,changePage]);const onSetPatternSourceFilter=(0,external_wp_element_namespaceObject.useCallback)(value=>{setPatternSourceFilter(value);changePage(1);},[setPatternSourceFilter,changePage]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:2,className:"block-editor-inserter__patterns-category-panel-header",children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexBlock,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalHeading,{className:"block-editor-inserter__patterns-category-panel-title",size:13,level:4,as:"div",children:category.label})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(PatternsFilter,{patternSyncFilter:patternSyncFilter,patternSourceFilter:patternSourceFilter,setPatternSyncFilter:onSetPatternSyncFilter,setPatternSourceFilter:onSetPatternSourceFilter,scrollContainerRef:scrollContainerRef,category:category})]}),!currentCategoryPatterns.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{variant:"muted",className:"block-editor-inserter__patterns-category-no-results",children:(0,external_wp_i18n_namespaceObject.__)('No results found')})]}),currentCategoryPatterns.length>0&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{size:"12",as:"p",className:"block-editor-inserter__help-text",children:(0,external_wp_i18n_namespaceObject.__)('Drag and drop patterns into the canvas.')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_patterns_list,{ref:scrollContainerRef,blockPatterns:pagingProps.categoryPatterns,onClickPattern:onClickPattern,onHover:onHover,label:category.label,orientation:"vertical",category:category.name,isDraggable:true,showTitlesAsTooltip:showTitlesAsTooltip,patternFilter:patternSourceFilter,pagingProps:pagingProps})]})]});};const{Tabs:category_tabs_Tabs}=unlock(external_wp_components_namespaceObject.privateApis);function CategoryTabs({categories,selectedCategory,onSelectCategory,children}){const ANIMATION_DURATION=0.25;const disableMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();const defaultTransition={type:'tween',duration:disableMotion?0:ANIMATION_DURATION,ease:[0.6,0,0.4,1]};const previousSelectedCategory=(0,external_wp_compose_namespaceObject.usePrevious)(selectedCategory);const selectedTabId=selectedCategory?selectedCategory.name:null;const[activeTabId,setActiveId]=(0,external_wp_element_namespaceObject.useState)();const firstTabId=categories?.[0]?.name;if(selectedTabId===null&&!activeTabId&&firstTabId){setActiveId(firstTabId);}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(category_tabs_Tabs,{selectOnMove:false,selectedTabId:selectedTabId,orientation:"vertical",onSelect:categoryId=>{onSelectCategory(categories.find(category=>category.name===categoryId));},activeTabId:activeTabId,onActiveTabIdChange:setActiveId,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(category_tabs_Tabs.TabList,{className:"block-editor-inserter__category-tablist",children:categories.map(category=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(category_tabs_Tabs.Tab,{tabId:category.name,"aria-current":category===selectedCategory?'true':undefined,children:category.label},category.name))}),categories.map(category=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(category_tabs_Tabs.TabPanel,{tabId:category.name,focusable:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableMotion.div,{className:"block-editor-inserter__category-panel",initial:!previousSelectedCategory?'closed':'open',animate:"open",variants:{open:{transform:'translateX( 0 )',transitionEnd:{zIndex:'1'}},closed:{transform:'translateX( -100% )',zIndex:'-1'}},transition:defaultTransition,children:children})},category.name))]});}
const category_tabs=(CategoryTabs);;function BlockPatternsTab({onSelectCategory,selectedCategory,onInsert,rootClientId,children}){const[showPatternsExplorer,setShowPatternsExplorer]=(0,external_wp_element_namespaceObject.useState)(false);const categories=usePatternCategories(rootClientId);const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');if(!categories.length){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(no_results,{});}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[!isMobile&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-inserter__block-patterns-tabs-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(category_tabs,{categories:categories,selectedCategory:selectedCategory,onSelectCategory:onSelectCategory,children:children}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:"block-editor-inserter__patterns-explore-button",onClick:()=>setShowPatternsExplorer(true),variant:"secondary",children:(0,external_wp_i18n_namespaceObject.__)('Explore all patterns')})]}),isMobile&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(MobileTabNavigation,{categories:categories,children:category=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__category-panel",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(PatternCategoryPreviews,{onInsert:onInsert,rootClientId:rootClientId,category:category},category.name)})}),showPatternsExplorer&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_patterns_explorer,{initialCategory:selectedCategory||categories[0],patternCategories:categories,onModalClose:()=>setShowPatternsExplorer(false),rootClientId:rootClientId})]});}
const block_patterns_tab=(BlockPatternsTab);;const external=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})});const library_external=(external);;const mediaTypeTag={image:'img',video:'video',audio:'audio'};function getBlockAndPreviewFromMedia(media,mediaType){const attributes={id:media.id||undefined,caption:media.caption||undefined};const mediaSrc=media.url;const alt=media.alt||undefined;if(mediaType==='image'){attributes.url=mediaSrc;attributes.alt=alt;}else if(['video','audio'].includes(mediaType)){attributes.src=mediaSrc;}
const PreviewTag=mediaTypeTag[mediaType];const preview=(0,external_ReactJSXRuntime_namespaceObject.jsx)(PreviewTag,{src:media.previewUrl||mediaSrc,alt:alt,controls:mediaType==='audio'?true:undefined,inert:"true",onError:({currentTarget})=>{if(currentTarget.src===media.previewUrl){currentTarget.src=mediaSrc;}}});return[(0,external_wp_blocks_namespaceObject.createBlock)(`core/${mediaType}`,attributes),preview];};const ALLOWED_MEDIA_TYPES=['image'];const MEDIA_OPTIONS_POPOVER_PROPS={position:'bottom left',className:'block-editor-inserter__media-list__item-preview-options__popover'};function MediaPreviewOptions({category,media}){if(!category.getReportUrl){return null;}
const reportUrl=category.getReportUrl(media);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{className:"block-editor-inserter__media-list__item-preview-options",label:(0,external_wp_i18n_namespaceObject.__)('Options'),popoverProps:MEDIA_OPTIONS_POPOVER_PROPS,icon:more_vertical,children:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>window.open(reportUrl,'_blank').focus(),icon:library_external,children:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Report %s'),category.mediaType)})})});}
function InsertExternalImageModal({onClose,onSubmit}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.__)('Insert external image'),onRequestClose:onClose,className:"block-editor-inserter-media-tab-media-preview-inserter-external-image-modal",children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:3,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:(0,external_wp_i18n_namespaceObject.__)('This image cannot be uploaded to your Media Library, but it can still be inserted as an external image.')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:(0,external_wp_i18n_namespaceObject.__)('External images can be removed by the external provider without warning and could even have legal compliance issues related to privacy legislation.')})]}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:false,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"tertiary",onClick:onClose,children:(0,external_wp_i18n_namespaceObject.__)('Cancel')})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"primary",onClick:onSubmit,children:(0,external_wp_i18n_namespaceObject.__)('Insert')})})]})]});}
function MediaPreview({media,onClick,category}){const[showExternalUploadModal,setShowExternalUploadModal]=(0,external_wp_element_namespaceObject.useState)(false);const[isHovered,setIsHovered]=(0,external_wp_element_namespaceObject.useState)(false);const[isInserting,setIsInserting]=(0,external_wp_element_namespaceObject.useState)(false);const[block,preview]=(0,external_wp_element_namespaceObject.useMemo)(()=>getBlockAndPreviewFromMedia(media,category.mediaType),[media,category.mediaType]);const{createErrorNotice,createSuccessNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const{getSettings,getBlock}=(0,external_wp_data_namespaceObject.useSelect)(store);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onMediaInsert=(0,external_wp_element_namespaceObject.useCallback)(previewBlock=>{if(isInserting){return;}
const settings=getSettings();const clonedBlock=(0,external_wp_blocks_namespaceObject.cloneBlock)(previewBlock);const{id,url,caption}=clonedBlock.attributes;if(!id&&!settings.mediaUpload){setShowExternalUploadModal(true);return;}
if(!!id){onClick(clonedBlock);return;}
setIsInserting(true);window.fetch(url).then(response=>response.blob()).then(blob=>{const fileName=(0,external_wp_url_namespaceObject.getFilename)(url)||'image.jpg';const file=new File([blob],fileName,{type:blob.type});settings.mediaUpload({filesList:[file],additionalData:{caption},onFileChange([img]){if((0,external_wp_blob_namespaceObject.isBlobURL)(img.url)){return;}
if(!getBlock(clonedBlock.clientId)){onClick({...clonedBlock,attributes:{...clonedBlock.attributes,id:img.id,url:img.url}});createSuccessNotice((0,external_wp_i18n_namespaceObject.__)('Image uploaded and inserted.'),{type:'snackbar',id:'inserter-notice'});}else{updateBlockAttributes(clonedBlock.clientId,{...clonedBlock.attributes,id:img.id,url:img.url});}
setIsInserting(false);},allowedTypes:ALLOWED_MEDIA_TYPES,onError(message){createErrorNotice(message,{type:'snackbar',id:'inserter-notice'});setIsInserting(false);}});}).catch(()=>{setShowExternalUploadModal(true);setIsInserting(false);});},[isInserting,getSettings,onClick,createSuccessNotice,updateBlockAttributes,createErrorNotice,getBlock]);const title=typeof media.title==='string'?media.title:media.title?.rendered||(0,external_wp_i18n_namespaceObject.__)('no title');const onMouseEnter=(0,external_wp_element_namespaceObject.useCallback)(()=>setIsHovered(true),[]);const onMouseLeave=(0,external_wp_element_namespaceObject.useCallback)(()=>setIsHovered(false),[]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_draggable_blocks,{isEnabled:true,blocks:[block],children:({draggable,onDragStart,onDragEnd})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:dist_clsx('block-editor-inserter__media-list__list-item',{'is-hovered':isHovered}),draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Tooltip,{text:title,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite.Item,{render:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{"aria-label":title,role:"option",className:"block-editor-inserter__media-list__item"}),onClick:()=>onMediaInsert(block),children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-inserter__media-list__item-preview",children:[preview,isInserting&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__media-list__item-preview-spinner",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Spinner,{})})]})})}),!isInserting&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(MediaPreviewOptions,{category:category,media:media})]})})}),showExternalUploadModal&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(InsertExternalImageModal,{onClose:()=>setShowExternalUploadModal(false),onSubmit:()=>{onClick((0,external_wp_blocks_namespaceObject.cloneBlock)(block));createSuccessNotice((0,external_wp_i18n_namespaceObject.__)('Image inserted.'),{type:'snackbar',id:'inserter-notice'});setShowExternalUploadModal(false);}})]});};function MediaList({mediaList,category,onClick,label=(0,external_wp_i18n_namespaceObject.__)('Media List')}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite,{role:"listbox",className:"block-editor-inserter__media-list","aria-label":label,children:mediaList.map((media,index)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(MediaPreview,{media:media,category:category,onClick:onClick},media.id||media.sourceId||index))});}
const media_list=(MediaList);;function useMediaResults(category,query={}){const[mediaList,setMediaList]=(0,external_wp_element_namespaceObject.useState)();const[isLoading,setIsLoading]=(0,external_wp_element_namespaceObject.useState)(false);const lastRequestRef=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useEffect)(()=>{(async()=>{const key=JSON.stringify({category:category.name,...query});lastRequestRef.current=key;setIsLoading(true);setMediaList([]);const _media=await category.fetch?.(query);if(key===lastRequestRef.current){setMediaList(_media);setIsLoading(false);}})();},[category.name,...Object.values(query)]);return{mediaList,isLoading};}
function useMediaCategories(rootClientId){const[categories,setCategories]=(0,external_wp_element_namespaceObject.useState)([]);const inserterMediaCategories=(0,external_wp_data_namespaceObject.useSelect)(select=>unlock(select(store)).getInserterMediaCategories(),[]);const{canInsertImage,canInsertVideo,canInsertAudio}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canInsertBlockType}=select(store);return{canInsertImage:canInsertBlockType('core/image',rootClientId),canInsertVideo:canInsertBlockType('core/video',rootClientId),canInsertAudio:canInsertBlockType('core/audio',rootClientId)};},[rootClientId]);(0,external_wp_element_namespaceObject.useEffect)(()=>{(async()=>{const _categories=[];if(!inserterMediaCategories){return;}
const categoriesHaveMedia=new Map(await Promise.all(inserterMediaCategories.map(async category=>{if(category.isExternalResource){return[category.name,true];}
let results=[];try{results=await category.fetch({per_page:1});}catch(e){}
return[category.name,!!results.length];})));const canInsertMediaType={image:canInsertImage,video:canInsertVideo,audio:canInsertAudio};inserterMediaCategories.forEach(category=>{if(canInsertMediaType[category.mediaType]&&categoriesHaveMedia.get(category.name)){_categories.push(category);}});if(!!_categories.length){setCategories(_categories);}})();},[canInsertImage,canInsertVideo,canInsertAudio,inserterMediaCategories]);return categories;};const INITIAL_MEDIA_ITEMS_PER_PAGE=10;function MediaCategoryPanel({rootClientId,onInsert,category}){const[search,setSearch,debouncedSearch]=(0,external_wp_compose_namespaceObject.useDebouncedInput)();const{mediaList,isLoading}=useMediaResults(category,{per_page:!!debouncedSearch?20:INITIAL_MEDIA_ITEMS_PER_PAGE,search:debouncedSearch});const baseCssClass='block-editor-inserter__media-panel';const searchLabel=category.labels.search_items||(0,external_wp_i18n_namespaceObject.__)('Search');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:baseCssClass,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SearchControl,{__nextHasNoMarginBottom:true,className:`${baseCssClass}-search`,onChange:setSearch,value:search,label:searchLabel,placeholder:searchLabel}),isLoading&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:`${baseCssClass}-spinner`,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Spinner,{})}),!isLoading&&!mediaList?.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(no_results,{}),!isLoading&&!!mediaList?.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(media_list,{rootClientId:rootClientId,onClick:onInsert,mediaList:mediaList,category:category})]});};const media_tab_ALLOWED_MEDIA_TYPES=['image','video','audio'];function MediaTab({rootClientId,selectedCategory,onSelectCategory,onInsert,children}){const mediaCategories=useMediaCategories(rootClientId);const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const baseCssClass='block-editor-inserter__media-tabs';const onSelectMedia=(0,external_wp_element_namespaceObject.useCallback)(media=>{if(!media?.url){return;}
const[block]=getBlockAndPreviewFromMedia(media,media.type);onInsert(block);},[onInsert]);const categories=(0,external_wp_element_namespaceObject.useMemo)(()=>mediaCategories.map(mediaCategory=>({...mediaCategory,label:mediaCategory.labels.name})),[mediaCategories]);if(!categories.length){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(no_results,{});}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[!isMobile&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:`${baseCssClass}-container`,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(category_tabs,{categories:categories,selectedCategory:selectedCategory,onSelectCategory:onSelectCategory,children:children}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(check,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(media_upload,{multiple:false,onSelect:onSelectMedia,allowedTypes:media_tab_ALLOWED_MEDIA_TYPES,render:({open})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,onClick:event=>{event.target.focus();open();},className:"block-editor-inserter__media-library-button",variant:"secondary","data-unstable-ignore-focus-outside-for-relatedtarget":".media-modal",children:(0,external_wp_i18n_namespaceObject.__)('Open Media Library')})})})]}),isMobile&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(MobileTabNavigation,{categories:categories,children:category=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(MediaCategoryPanel,{onInsert:onInsert,rootClientId:rootClientId,category:category})})]});}
const media_tab=(MediaTab);;const{Fill:__unstableInserterMenuExtension,Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('__unstableInserterMenuExtension');__unstableInserterMenuExtension.Slot=Slot;const inserter_menu_extension=(__unstableInserterMenuExtension);;const orderInserterBlockItems=(items,priority)=>{if(!priority){return items;}
items.sort(({id:aName},{id:bName})=>{let aIndex=priority.indexOf(aName);let bIndex=priority.indexOf(bName);if(aIndex<0){aIndex=priority.length;}
if(bIndex<0){bIndex=priority.length;}
return aIndex-bIndex;});return items;};;const INITIAL_INSERTER_RESULTS=9;const search_results_EMPTY_ARRAY=[];function InserterSearchResults({filterValue,onSelect,onHover,onHoverPattern,rootClientId,clientId,isAppender,__experimentalInsertionIndex,maxBlockPatterns,maxBlockTypes,showBlockDirectory=false,isDraggable=true,shouldFocusBlock=true,prioritizePatterns,selectBlockOnInsert,isQuick}){const debouncedSpeak=(0,external_wp_compose_namespaceObject.useDebounce)(external_wp_a11y_namespaceObject.speak,500);const{prioritizedBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const blockListSettings=select(store).getBlockListSettings(rootClientId);return{prioritizedBlocks:blockListSettings?.prioritizedInserterBlocks||search_results_EMPTY_ARRAY};},[rootClientId]);const[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect,rootClientId,clientId,isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock,selectBlockOnInsert});const[blockTypes,blockTypeCategories,blockTypeCollections,onSelectBlockType]=use_block_types_state(destinationRootClientId,onInsertBlocks,isQuick);const[patterns,,onClickPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId,undefined,isQuick);const filteredBlockPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(maxBlockPatterns===0){return[];}
const results=searchItems(patterns,filterValue);return maxBlockPatterns!==undefined?results.slice(0,maxBlockPatterns):results;},[filterValue,patterns,maxBlockPatterns]);let maxBlockTypesToShow=maxBlockTypes;if(prioritizePatterns&&filteredBlockPatterns.length>2){maxBlockTypesToShow=0;}
const filteredBlockTypes=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(maxBlockTypesToShow===0){return[];}
const nonPatternBlockTypes=blockTypes.filter(blockType=>blockType.name!=='core/block');let orderedItems=orderBy(nonPatternBlockTypes,'frecency','desc');if(!filterValue&&prioritizedBlocks.length){orderedItems=orderInserterBlockItems(orderedItems,prioritizedBlocks);}
const results=searchBlockItems(orderedItems,blockTypeCategories,blockTypeCollections,filterValue);return maxBlockTypesToShow!==undefined?results.slice(0,maxBlockTypesToShow):results;},[filterValue,blockTypes,blockTypeCategories,blockTypeCollections,maxBlockTypesToShow,prioritizedBlocks]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!filterValue){return;}
const count=filteredBlockTypes.length+filteredBlockPatterns.length;const resultsFoundMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found.','%d results found.',count),count);debouncedSpeak(resultsFoundMessage);},[filterValue,debouncedSpeak,filteredBlockTypes,filteredBlockPatterns]);const currentShownBlockTypes=(0,external_wp_compose_namespaceObject.useAsyncList)(filteredBlockTypes,{step:INITIAL_INSERTER_RESULTS});const hasItems=filteredBlockTypes.length>0||filteredBlockPatterns.length>0;const blocksUI=!!filteredBlockTypes.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(panel,{title:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{children:(0,external_wp_i18n_namespaceObject.__)('Blocks')}),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_types_list,{items:currentShownBlockTypes,onSelect:onSelectBlockType,onHover:onHover,label:(0,external_wp_i18n_namespaceObject.__)('Blocks'),isDraggable:isDraggable})});const patternsUI=!!filteredBlockPatterns.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(panel,{title:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{children:(0,external_wp_i18n_namespaceObject.__)('Block patterns')}),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__quick-inserter-patterns",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_patterns_list,{blockPatterns:filteredBlockPatterns,onClickPattern:onClickPattern,onHover:onHoverPattern,isDraggable:isDraggable})})});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(inserter_listbox,{children:[!showBlockDirectory&&!hasItems&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(no_results,{}),prioritizePatterns?patternsUI:blocksUI,!!filteredBlockTypes.length&&!!filteredBlockPatterns.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__quick-inserter-separator"}),prioritizePatterns?blocksUI:patternsUI,showBlockDirectory&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_menu_extension.Slot,{fillProps:{onSelect:onSelectBlockType,onHover,filterValue,hasItems,rootClientId:destinationRootClientId},children:fills=>{if(fills.length){return fills;}
if(!hasItems){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(no_results,{});}
return null;}})]});}
const inserter_search_results=(InserterSearchResults);;const closeSmall=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});const close_small=(closeSmall);;const{Tabs:tabbed_sidebar_Tabs}=unlock(external_wp_components_namespaceObject.privateApis);function TabbedSidebar({defaultTabId,onClose,onSelect,selectedTab,tabs,closeButtonLabel},ref){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-tabbed-sidebar",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(tabbed_sidebar_Tabs,{selectOnMove:false,defaultTabId:defaultTabId,onSelect:onSelect,selectedTabId:selectedTab,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-tabbed-sidebar__tablist-and-close-button",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{className:"block-editor-tabbed-sidebar__close-button",icon:close_small,label:closeButtonLabel,onClick:()=>onClose(),size:"compact"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(tabbed_sidebar_Tabs.TabList,{className:"block-editor-tabbed-sidebar__tablist",ref:ref,children:tabs.map(tab=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(tabbed_sidebar_Tabs.Tab,{tabId:tab.name,className:"block-editor-tabbed-sidebar__tab",children:tab.title},tab.name))})]}),tabs.map(tab=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(tabbed_sidebar_Tabs.TabPanel,{tabId:tab.name,focusable:false,className:"block-editor-tabbed-sidebar__tabpanel",ref:tab.panelRef,children:tab.panel},tab.name))]})});}
const tabbed_sidebar=((0,external_wp_element_namespaceObject.forwardRef)(TabbedSidebar));;function useZoomOut(enabled=true){const{setZoomLevel,resetZoomLevel}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const{isZoomedOut,isZoomOut}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isZoomOut:_isZoomOut}=unlock(select(store));return{isZoomedOut:_isZoomOut(),isZoomOut:_isZoomOut};},[]);const controlZoomLevelRef=(0,external_wp_element_namespaceObject.useRef)(false);const isEnabledRef=(0,external_wp_element_namespaceObject.useRef)(enabled);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(isZoomedOut!==isEnabledRef.current){controlZoomLevelRef.current=false;}},[isZoomedOut]);(0,external_wp_element_namespaceObject.useEffect)(()=>{isEnabledRef.current=enabled;if(enabled!==isZoomOut()){controlZoomLevelRef.current=true;if(enabled){setZoomLevel('auto-scaled');}else{resetZoomLevel();}}
return()=>{if(controlZoomLevelRef.current&&isZoomOut()){resetZoomLevel();}};},[enabled,isZoomOut,resetZoomLevel,setZoomLevel]);};const NOOP=()=>{};function InserterMenu({rootClientId,clientId,isAppender,__experimentalInsertionIndex,onSelect,showInserterHelpPanel,showMostUsedBlocks,__experimentalFilterValue='',shouldFocusBlock=true,onPatternCategorySelection,onClose,__experimentalInitialTab,__experimentalInitialCategory},ref){const{isZoomOutMode,hasSectionRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isZoomOut,getSectionRootClientId}=unlock(select(store));return{isZoomOutMode:isZoomOut(),hasSectionRootClientId:!!getSectionRootClientId()};},[]);const[filterValue,setFilterValue,delayedFilterValue]=(0,external_wp_compose_namespaceObject.useDebouncedInput)(__experimentalFilterValue);const[hoveredItem,setHoveredItem]=(0,external_wp_element_namespaceObject.useState)(null);const[selectedPatternCategory,setSelectedPatternCategory]=(0,external_wp_element_namespaceObject.useState)(__experimentalInitialCategory);const[patternFilter,setPatternFilter]=(0,external_wp_element_namespaceObject.useState)('all');const[selectedMediaCategory,setSelectedMediaCategory]=(0,external_wp_element_namespaceObject.useState)(null);const isLargeViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('large');function getInitialTab(){if(__experimentalInitialTab){return __experimentalInitialTab;}
if(isZoomOutMode){return'patterns';}
return'blocks';}
const[selectedTab,setSelectedTab]=(0,external_wp_element_namespaceObject.useState)(getInitialTab());const shouldUseZoomOut=hasSectionRootClientId&&(selectedTab==='patterns'||selectedTab==='media');useZoomOut(shouldUseZoomOut&&isLargeViewport);const[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]=use_insertion_point({rootClientId,clientId,isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock});const blockTypesTabRef=(0,external_wp_element_namespaceObject.useRef)();const onInsert=(0,external_wp_element_namespaceObject.useCallback)((blocks,meta,shouldForceFocusBlock,_rootClientId)=>{onInsertBlocks(blocks,meta,shouldForceFocusBlock,_rootClientId);onSelect(blocks);window.requestAnimationFrame(()=>{if(!shouldFocusBlock&&!blockTypesTabRef.current?.contains(ref.current.ownerDocument.activeElement)){blockTypesTabRef.current?.querySelector('button').focus();}});},[onInsertBlocks,onSelect,shouldFocusBlock]);const onInsertPattern=(0,external_wp_element_namespaceObject.useCallback)((blocks,patternName,...args)=>{onToggleInsertionPoint(false);onInsertBlocks(blocks,{patternName},...args);onSelect();},[onInsertBlocks,onSelect]);const onHover=(0,external_wp_element_namespaceObject.useCallback)(item=>{onToggleInsertionPoint(item);setHoveredItem(item);},[onToggleInsertionPoint,setHoveredItem]);const onClickPatternCategory=(0,external_wp_element_namespaceObject.useCallback)((patternCategory,filter)=>{setSelectedPatternCategory(patternCategory);setPatternFilter(filter);onPatternCategorySelection?.();},[setSelectedPatternCategory,onPatternCategorySelection]);const showPatternPanel=selectedTab==='patterns'&&!delayedFilterValue&&!!selectedPatternCategory;const showMediaPanel=selectedTab==='media'&&!!selectedMediaCategory;const inserterSearch=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(selectedTab==='media'){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SearchControl,{__nextHasNoMarginBottom:true,className:"block-editor-inserter__search",onChange:value=>{if(hoveredItem){setHoveredItem(null);}
setFilterValue(value);},value:filterValue,label:(0,external_wp_i18n_namespaceObject.__)('Search'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Search')}),!!delayedFilterValue&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_search_results,{filterValue:delayedFilterValue,onSelect:onSelect,onHover:onHover,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,showBlockDirectory:true,shouldFocusBlock:shouldFocusBlock,prioritizePatterns:selectedTab==='patterns'})]});},[selectedTab,hoveredItem,setHoveredItem,setFilterValue,filterValue,delayedFilterValue,onSelect,onHover,shouldFocusBlock,clientId,rootClientId,__experimentalInsertionIndex,isAppender]);const blocksTab=(0,external_wp_element_namespaceObject.useMemo)(()=>{return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__block-list",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_types_tab,{ref:blockTypesTabRef,rootClientId:destinationRootClientId,onInsert:onInsert,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks})}),showInserterHelpPanel&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-inserter__tips",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{as:"h2",children:(0,external_wp_i18n_namespaceObject.__)('A tip for using the block editor')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(tips,{})]})]});},[destinationRootClientId,onInsert,onHover,showMostUsedBlocks,showInserterHelpPanel]);const patternsTab=(0,external_wp_element_namespaceObject.useMemo)(()=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_patterns_tab,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onSelectCategory:onClickPatternCategory,selectedCategory:selectedPatternCategory,children:showPatternPanel&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(PatternCategoryPreviews,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,category:selectedPatternCategory,patternFilter:patternFilter,showTitlesAsTooltip:true})});},[destinationRootClientId,onInsertPattern,onClickPatternCategory,patternFilter,selectedPatternCategory,showPatternPanel]);const mediaTab=(0,external_wp_element_namespaceObject.useMemo)(()=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(media_tab,{rootClientId:destinationRootClientId,selectedCategory:selectedMediaCategory,onSelectCategory:setSelectedMediaCategory,onInsert:onInsert,children:showMediaPanel&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(MediaCategoryPanel,{rootClientId:destinationRootClientId,onInsert:onInsert,category:selectedMediaCategory})});},[destinationRootClientId,onInsert,selectedMediaCategory,setSelectedMediaCategory,showMediaPanel]);const handleSetSelectedTab=value=>{if(value!=='patterns'){setSelectedPatternCategory(null);}
setSelectedTab(value);};const tabsRef=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(tabsRef.current){window.requestAnimationFrame(()=>{tabsRef.current.querySelector('[role="tab"][aria-selected="true"]')?.focus();});}},[]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx('block-editor-inserter__menu',{'show-panel':showPatternPanel||showMediaPanel,'is-zoom-out':isZoomOutMode}),ref:ref,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__main-area",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(tabbed_sidebar,{ref:tabsRef,onSelect:handleSetSelectedTab,onClose:onClose,selectedTab:selectedTab,closeButtonLabel:(0,external_wp_i18n_namespaceObject.__)('Close Block Inserter'),tabs:[{name:'blocks',title:(0,external_wp_i18n_namespaceObject.__)('Blocks'),panel:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[inserterSearch,selectedTab==='blocks'&&!delayedFilterValue&&blocksTab]})},{name:'patterns',title:(0,external_wp_i18n_namespaceObject.__)('Patterns'),panel:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[inserterSearch,selectedTab==='patterns'&&!delayedFilterValue&&patternsTab]})},{name:'media',title:(0,external_wp_i18n_namespaceObject.__)('Media'),panel:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[inserterSearch,mediaTab]})}]})}),showInserterHelpPanel&&hoveredItem&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{className:"block-editor-inserter__preview-container__popover",placement:"right-start",offset:16,focusOnMount:false,animate:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(preview_panel,{item:hoveredItem})})]});}
const PrivateInserterMenu=(0,external_wp_element_namespaceObject.forwardRef)(InserterMenu);function PublicInserterMenu(props,ref){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateInserterMenu,{...props,onPatternCategorySelection:NOOP,ref:ref});}
const menu=((0,external_wp_element_namespaceObject.forwardRef)(PublicInserterMenu));;const SEARCH_THRESHOLD=6;const SHOWN_BLOCK_TYPES=6;const SHOWN_BLOCK_PATTERNS=2;function QuickInserter({onSelect,rootClientId,clientId,isAppender,selectBlockOnInsert,hasSearch=true}){const[filterValue,setFilterValue]=(0,external_wp_element_namespaceObject.useState)('');const[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect,rootClientId,clientId,isAppender,selectBlockOnInsert});const[blockTypes]=use_block_types_state(destinationRootClientId,onInsertBlocks,true);const{setInserterIsOpened,insertionIndex}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,getBlockIndex,getBlockCount}=select(store);const settings=getSettings();const index=getBlockIndex(clientId);const blockCount=getBlockCount();return{setInserterIsOpened:settings.__experimentalSetIsInserterOpened,insertionIndex:index===-1?blockCount:index};},[clientId]);const showSearch=hasSearch&&blockTypes.length>SEARCH_THRESHOLD;(0,external_wp_element_namespaceObject.useEffect)(()=>{if(setInserterIsOpened){setInserterIsOpened(false);}},[setInserterIsOpened]);const onBrowseAll=()=>{setInserterIsOpened({filterValue,onSelect,rootClientId,insertionIndex});};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx('block-editor-inserter__quick-inserter',{'has-search':showSearch,'has-expand':setInserterIsOpened}),children:[showSearch&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SearchControl,{__nextHasNoMarginBottom:true,className:"block-editor-inserter__search",value:filterValue,onChange:value=>{setFilterValue(value);},label:(0,external_wp_i18n_namespaceObject.__)('Search'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Search')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-inserter__quick-inserter-results",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter_search_results,{filterValue:filterValue,onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,maxBlockPatterns:!!filterValue?SHOWN_BLOCK_PATTERNS:0,maxBlockTypes:SHOWN_BLOCK_TYPES,isDraggable:false,selectBlockOnInsert:selectBlockOnInsert,isQuick:true})}),setInserterIsOpened&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:"block-editor-inserter__quick-inserter-expand",onClick:onBrowseAll,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Browse all. This will open the main inserter panel in the editor toolbar.'),children:(0,external_wp_i18n_namespaceObject.__)('Browse all')})]});};const defaultRenderToggle=({onToggle,disabled,isOpen,blockTitle,hasSingleBlockType,toggleProps={}})=>{const{as:Wrapper=external_wp_components_namespaceObject.Button,label:labelProp,onClick,...rest}=toggleProps;let label=labelProp;if(!label&&hasSingleBlockType){label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('Add %s','directly add the only allowed block'),blockTitle);}else if(!label){label=(0,external_wp_i18n_namespaceObject._x)('Add block','Generic label for block inserter button');}
function handleClick(event){if(onToggle){onToggle(event);}
if(onClick){onClick(event);}}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Wrapper,{__next40pxDefaultSize:toggleProps.as?undefined:true,icon:library_plus,label:label,tooltipPosition:"bottom",onClick:handleClick,className:"block-editor-inserter__toggle","aria-haspopup":!hasSingleBlockType?'true':false,"aria-expanded":!hasSingleBlockType?isOpen:false,disabled:disabled,...rest});};class Inserter extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.onToggle=this.onToggle.bind(this);this.renderToggle=this.renderToggle.bind(this);this.renderContent=this.renderContent.bind(this);}
onToggle(isOpen){const{onToggle}=this.props;if(onToggle){onToggle(isOpen);}}
renderToggle({onToggle,isOpen}){const{disabled,blockTitle,hasSingleBlockType,directInsertBlock,toggleProps,hasItems,renderToggle=defaultRenderToggle}=this.props;return renderToggle({onToggle,isOpen,disabled:disabled||!hasItems,blockTitle,hasSingleBlockType,directInsertBlock,toggleProps});}
renderContent({onClose}){const{rootClientId,clientId,isAppender,showInserterHelpPanel,__experimentalIsQuick:isQuick,onSelectOrClose,selectBlockOnInsert}=this.props;if(isQuick){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(QuickInserter,{onSelect:blocks=>{const firstBlock=Array.isArray(blocks)&&blocks?.length?blocks[0]:blocks;if(onSelectOrClose&&typeof onSelectOrClose==='function'){onSelectOrClose(firstBlock);}
onClose();},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,selectBlockOnInsert:selectBlockOnInsert});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(menu,{onSelect:()=>{onClose();},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel});}
render(){const{position,hasSingleBlockType,directInsertBlock,insertOnlyAllowedBlock,__experimentalIsQuick:isQuick,onSelectOrClose}=this.props;if(hasSingleBlockType||directInsertBlock){return this.renderToggle({onToggle:insertOnlyAllowedBlock});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{className:"block-editor-inserter",contentClassName:dist_clsx('block-editor-inserter__popover',{'is-quick':isQuick}),popoverProps:{position,shift:true},onToggle:this.onToggle,expandOnMobile:true,headerTitle:(0,external_wp_i18n_namespaceObject.__)('Add a block'),renderToggle:this.renderToggle,renderContent:this.renderContent,onClose:onSelectOrClose});}}
const inserter=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)((select,{clientId,rootClientId,shouldDirectInsert=true})=>{const{getBlockRootClientId,hasInserterItems,getAllowedBlocks,getDirectInsertBlock}=select(store);const{getBlockVariations}=select(external_wp_blocks_namespaceObject.store);rootClientId=rootClientId||getBlockRootClientId(clientId)||undefined;const allowedBlocks=getAllowedBlocks(rootClientId);const directInsertBlock=shouldDirectInsert&&getDirectInsertBlock(rootClientId);const hasSingleBlockType=allowedBlocks?.length===1&&getBlockVariations(allowedBlocks[0].name,'inserter')?.length===0;let allowedBlockType=false;if(hasSingleBlockType){allowedBlockType=allowedBlocks[0];}
return{hasItems:hasInserterItems(rootClientId),hasSingleBlockType,blockTitle:allowedBlockType?allowedBlockType.title:'',allowedBlockType,directInsertBlock,rootClientId};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,ownProps,{select})=>{return{insertOnlyAllowedBlock(){const{rootClientId,clientId,isAppender,hasSingleBlockType,allowedBlockType,directInsertBlock,onSelectOrClose,selectBlockOnInsert}=ownProps;if(!hasSingleBlockType&&!directInsertBlock){return;}
function getAdjacentBlockAttributes(attributesToCopy){const{getBlock,getPreviousBlockClientId}=select(store);if(!attributesToCopy||!clientId&&!rootClientId){return{};}
const result={};let adjacentAttributes={};if(!clientId){const parentBlock=getBlock(rootClientId);if(parentBlock?.innerBlocks?.length){const lastInnerBlock=parentBlock.innerBlocks[parentBlock.innerBlocks.length-1];if(directInsertBlock&&directInsertBlock?.name===lastInnerBlock.name){adjacentAttributes=lastInnerBlock.attributes;}}}else{const currentBlock=getBlock(clientId);const previousBlock=getBlock(getPreviousBlockClientId(clientId));if(currentBlock?.name===previousBlock?.name){adjacentAttributes=previousBlock?.attributes||{};}}
attributesToCopy.forEach(attribute=>{if(adjacentAttributes.hasOwnProperty(attribute)){result[attribute]=adjacentAttributes[attribute];}});return result;}
function getInsertionIndex(){const{getBlockIndex,getBlockSelectionEnd,getBlockOrder,getBlockRootClientId}=select(store);if(clientId){return getBlockIndex(clientId);}
const end=getBlockSelectionEnd();if(!isAppender&&end&&getBlockRootClientId(end)===rootClientId){return getBlockIndex(end)+1;}
return getBlockOrder(rootClientId).length;}
const{insertBlock}=dispatch(store);let blockToInsert;if(directInsertBlock){const newAttributes=getAdjacentBlockAttributes(directInsertBlock.attributesToCopy);blockToInsert=(0,external_wp_blocks_namespaceObject.createBlock)(directInsertBlock.name,{...(directInsertBlock.attributes||{}),...newAttributes});}else{blockToInsert=(0,external_wp_blocks_namespaceObject.createBlock)(allowedBlockType.name);}
insertBlock(blockToInsert,getInsertionIndex(),rootClientId,selectBlockOnInsert);if(onSelectOrClose){onSelectOrClose({clientId:blockToInsert?.clientId});}
const message=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s block added'),allowedBlockType.title);(0,external_wp_a11y_namespaceObject.speak)(message);}};}),(0,external_wp_compose_namespaceObject.ifCondition)(({hasItems,isAppender,rootClientId,clientId})=>hasItems||!isAppender&&!rootClientId&&!clientId)])(Inserter));;function button_block_appender_ButtonBlockAppender({rootClientId,className,onFocus,tabIndex,onSelect},ref){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter,{position:"bottom center",rootClientId:rootClientId,__experimentalIsQuick:true,onSelectOrClose:(...args)=>{if(onSelect&&typeof onSelect==='function'){onSelect(...args);}},renderToggle:({onToggle,disabled,isOpen,blockTitle,hasSingleBlockType})=>{const isToggleButton=!hasSingleBlockType;const label=hasSingleBlockType?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('Add %s','directly add the only allowed block'),blockTitle):(0,external_wp_i18n_namespaceObject._x)('Add block','Generic label for block inserter button');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,ref:ref,onFocus:onFocus,tabIndex:tabIndex,className:dist_clsx(className,'block-editor-button-block-appender'),onClick:onToggle,"aria-haspopup":isToggleButton?'true':undefined,"aria-expanded":isToggleButton?isOpen:undefined,disabled:disabled,label:label,showTooltip:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:library_plus})});},isAppender:true});}
const ButtonBlockerAppender=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{external_wp_deprecated_default()(`wp.blockEditor.ButtonBlockerAppender`,{alternative:'wp.blockEditor.ButtonBlockAppender',since:'5.9'});return button_block_appender_ButtonBlockAppender(props,ref);});const button_block_appender=((0,external_wp_element_namespaceObject.forwardRef)(button_block_appender_ButtonBlockAppender));;function GridVisualizer({clientId,contentRef,parentLayout}){const isDistractionFree=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings().isDistractionFree,[]);const gridElement=useBlockElement(clientId);if(isDistractionFree||!gridElement){return null;}
const isManualGrid=parentLayout?.isManualPlacement&&window.__experimentalEnableGridInteractivity;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridVisualizerGrid,{gridClientId:clientId,gridElement:gridElement,isManualGrid:isManualGrid,ref:contentRef});}
const GridVisualizerGrid=(0,external_wp_element_namespaceObject.forwardRef)(({gridClientId,gridElement,isManualGrid},ref)=>{const[gridInfo,setGridInfo]=(0,external_wp_element_namespaceObject.useState)(()=>getGridInfo(gridElement));const[isDroppingAllowed,setIsDroppingAllowed]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{const resizeCallback=()=>setGridInfo(getGridInfo(gridElement));const borderBoxSpy=new window.ResizeObserver(resizeCallback);borderBoxSpy.observe(gridElement,{box:'border-box'});const contentBoxSpy=new window.ResizeObserver(resizeCallback);contentBoxSpy.observe(gridElement);return()=>{borderBoxSpy.disconnect();contentBoxSpy.disconnect();};},[gridElement]);(0,external_wp_element_namespaceObject.useEffect)(()=>{function onGlobalDrag(){setIsDroppingAllowed(true);}
function onGlobalDragEnd(){setIsDroppingAllowed(false);}
document.addEventListener('drag',onGlobalDrag);document.addEventListener('dragend',onGlobalDragEnd);return()=>{document.removeEventListener('drag',onGlobalDrag);document.removeEventListener('dragend',onGlobalDragEnd);};},[]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(cover,{className:dist_clsx('block-editor-grid-visualizer',{'is-dropping-allowed':isDroppingAllowed}),clientId:gridClientId,__unstablePopoverSlot:"__unstable-block-tools-after",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:ref,className:"block-editor-grid-visualizer__grid",style:gridInfo.style,children:isManualGrid?(0,external_ReactJSXRuntime_namespaceObject.jsx)(ManualGridVisualizer,{gridClientId:gridClientId,gridInfo:gridInfo}):Array.from({length:gridInfo.numItems},(_,i)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridVisualizerCell,{color:gridInfo.currentColor},i))})});});function ManualGridVisualizer({gridClientId,gridInfo}){const[highlightedRect,setHighlightedRect]=(0,external_wp_element_namespaceObject.useState)(null);const gridItemStyles=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockOrder,getBlockStyles}=unlock(select(store));const blockOrder=getBlockOrder(gridClientId);return getBlockStyles(blockOrder);},[gridClientId]);const occupiedRects=(0,external_wp_element_namespaceObject.useMemo)(()=>{const rects=[];for(const style of Object.values(gridItemStyles)){var _style$layout;const{columnStart,rowStart,columnSpan=1,rowSpan=1}=(_style$layout=style?.layout)!==null&&_style$layout!==void 0?_style$layout:{};if(!columnStart||!rowStart){continue;}
rects.push(new GridRect({columnStart,rowStart,columnSpan,rowSpan}));}
return rects;},[gridItemStyles]);return range(1,gridInfo.numRows).map(row=>range(1,gridInfo.numColumns).map(column=>{var _highlightedRect$cont;const isCellOccupied=occupiedRects.some(rect=>rect.contains(column,row));const isHighlighted=(_highlightedRect$cont=highlightedRect?.contains(column,row))!==null&&_highlightedRect$cont!==void 0?_highlightedRect$cont:false;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridVisualizerCell,{color:gridInfo.currentColor,className:isHighlighted&&'is-highlighted',children:isCellOccupied?(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridVisualizerDropZone,{column:column,row:row,gridClientId:gridClientId,gridInfo:gridInfo,setHighlightedRect:setHighlightedRect}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridVisualizerAppender,{column:column,row:row,gridClientId:gridClientId,gridInfo:gridInfo,setHighlightedRect:setHighlightedRect})},`${row}-${column}`);}));}
function GridVisualizerCell({color,children,className}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:dist_clsx('block-editor-grid-visualizer__cell',className),style:{boxShadow:`inset 0 0 0 1px color-mix(in srgb, ${color} 20%, #0000)`,color},children:children});}
function useGridVisualizerDropZone(column,row,gridClientId,gridInfo,setHighlightedRect){const{getBlockAttributes,getBlockRootClientId,canInsertBlockType,getBlockName}=(0,external_wp_data_namespaceObject.useSelect)(store);const{updateBlockAttributes,moveBlocksToPosition,__unstableMarkNextChangeAsNotPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(store);const getNumberOfBlocksBeforeCell=useGetNumberOfBlocksBeforeCell(gridClientId,gridInfo.numColumns);return useDropZoneWithValidation({validateDrag(srcClientId){const blockName=getBlockName(srcClientId);if(!canInsertBlockType(blockName,gridClientId)){return false;}
const attributes=getBlockAttributes(srcClientId);const rect=new GridRect({columnStart:column,rowStart:row,columnSpan:attributes.style?.layout?.columnSpan,rowSpan:attributes.style?.layout?.rowSpan});const isInBounds=new GridRect({columnSpan:gridInfo.numColumns,rowSpan:gridInfo.numRows}).containsRect(rect);return isInBounds;},onDragEnter(srcClientId){const attributes=getBlockAttributes(srcClientId);setHighlightedRect(new GridRect({columnStart:column,rowStart:row,columnSpan:attributes.style?.layout?.columnSpan,rowSpan:attributes.style?.layout?.rowSpan}));},onDragLeave(){setHighlightedRect(prevHighlightedRect=>prevHighlightedRect?.columnStart===column&&prevHighlightedRect?.rowStart===row?null:prevHighlightedRect);},onDrop(srcClientId){setHighlightedRect(null);const attributes=getBlockAttributes(srcClientId);updateBlockAttributes(srcClientId,{style:{...attributes.style,layout:{...attributes.style?.layout,columnStart:column,rowStart:row}}});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([srcClientId],getBlockRootClientId(srcClientId),gridClientId,getNumberOfBlocksBeforeCell(column,row));}});}
function GridVisualizerDropZone({column,row,gridClientId,gridInfo,setHighlightedRect}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-grid-visualizer__drop-zone",ref:useGridVisualizerDropZone(column,row,gridClientId,gridInfo,setHighlightedRect)});}
function GridVisualizerAppender({column,row,gridClientId,gridInfo,setHighlightedRect}){const{updateBlockAttributes,moveBlocksToPosition,__unstableMarkNextChangeAsNotPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(store);const getNumberOfBlocksBeforeCell=useGetNumberOfBlocksBeforeCell(gridClientId,gridInfo.numColumns);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(button_block_appender,{rootClientId:gridClientId,className:"block-editor-grid-visualizer__appender",ref:useGridVisualizerDropZone(column,row,gridClientId,gridInfo,setHighlightedRect),style:{color:gridInfo.currentColor},onSelect:block=>{if(!block){return;}
updateBlockAttributes(block.clientId,{style:{layout:{columnStart:column,rowStart:row}}});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([block.clientId],gridClientId,gridClientId,getNumberOfBlocksBeforeCell(column,row));}});}
function useDropZoneWithValidation({validateDrag,onDragEnter,onDragLeave,onDrop}){const{getDraggedBlockClientIds}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.__experimentalUseDropZone)({onDragEnter(){const[srcClientId]=getDraggedBlockClientIds();if(srcClientId&&validateDrag(srcClientId)){onDragEnter(srcClientId);}},onDragLeave(){onDragLeave();},onDrop(){const[srcClientId]=getDraggedBlockClientIds();if(srcClientId&&validateDrag(srcClientId)){onDrop(srcClientId);}}});};function GridItemResizer({clientId,bounds,onChange,parentLayout}){const blockElement=useBlockElement(clientId);const rootBlockElement=blockElement?.parentElement;const{isManualPlacement}=parentLayout;if(!blockElement||!rootBlockElement){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridItemResizerInner,{clientId:clientId,bounds:bounds,blockElement:blockElement,rootBlockElement:rootBlockElement,onChange:onChange,isManualGrid:isManualPlacement&&window.__experimentalEnableGridInteractivity});}
function GridItemResizerInner({clientId,bounds,blockElement,rootBlockElement,onChange,isManualGrid}){const[resizeDirection,setResizeDirection]=(0,external_wp_element_namespaceObject.useState)(null);const[enableSide,setEnableSide]=(0,external_wp_element_namespaceObject.useState)({top:false,bottom:false,left:false,right:false});(0,external_wp_element_namespaceObject.useEffect)(()=>{const observer=new window.ResizeObserver(()=>{const blockClientRect=blockElement.getBoundingClientRect();const rootBlockClientRect=rootBlockElement.getBoundingClientRect();setEnableSide({top:blockClientRect.top>rootBlockClientRect.top,bottom:blockClientRect.bottom<rootBlockClientRect.bottom,left:blockClientRect.left>rootBlockClientRect.left,right:blockClientRect.right<rootBlockClientRect.right});});observer.observe(blockElement);return()=>observer.disconnect();},[blockElement,rootBlockElement]);const justification={right:'left',left:'right'};const alignment={top:'flex-end',bottom:'flex-start'};const styles={display:'flex',justifyContent:'center',alignItems:'center',...(justification[resizeDirection]&&{justifyContent:justification[resizeDirection]}),...(alignment[resizeDirection]&&{alignItems:alignment[resizeDirection]})};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(cover,{className:"block-editor-grid-item-resizer",clientId:clientId,__unstablePopoverSlot:"__unstable-block-tools-after",additionalStyles:styles,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ResizableBox,{className:"block-editor-grid-item-resizer__box",size:{width:'100%',height:'100%'},enable:{bottom:enableSide.bottom,bottomLeft:false,bottomRight:false,left:enableSide.left,right:enableSide.right,top:enableSide.top,topLeft:false,topRight:false},bounds:bounds,boundsByDirection:true,onPointerDown:({target,pointerId})=>{target.setPointerCapture(pointerId);},onResizeStart:(event,direction)=>{setResizeDirection(direction);},onResizeStop:(event,direction,boxElement)=>{const columnGap=parseFloat(utils_getComputedCSS(rootBlockElement,'column-gap'));const rowGap=parseFloat(utils_getComputedCSS(rootBlockElement,'row-gap'));const gridColumnTracks=getGridTracks(utils_getComputedCSS(rootBlockElement,'grid-template-columns'),columnGap);const gridRowTracks=getGridTracks(utils_getComputedCSS(rootBlockElement,'grid-template-rows'),rowGap);const rect=new window.DOMRect(blockElement.offsetLeft+boxElement.offsetLeft,blockElement.offsetTop+boxElement.offsetTop,boxElement.offsetWidth,boxElement.offsetHeight);const columnStart=getClosestTrack(gridColumnTracks,rect.left)+1;const rowStart=getClosestTrack(gridRowTracks,rect.top)+1;const columnEnd=getClosestTrack(gridColumnTracks,rect.right,'end')+1;const rowEnd=getClosestTrack(gridRowTracks,rect.bottom,'end')+1;onChange({columnSpan:columnEnd-columnStart+1,rowSpan:rowEnd-rowStart+1,columnStart:isManualGrid?columnStart:undefined,rowStart:isManualGrid?rowStart:undefined});}})});};const chevronUp=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})});const chevron_up=(chevronUp);;const chevronDown=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});const chevron_down=(chevronDown);;function GridItemMovers({layout,parentLayout,onChange,gridClientId,blockClientId}){var _layout$columnStart,_layout$rowStart,_layout$columnSpan,_layout$rowSpan;const{moveBlocksToPosition,__unstableMarkNextChangeAsNotPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(store);const columnStart=(_layout$columnStart=layout?.columnStart)!==null&&_layout$columnStart!==void 0?_layout$columnStart:1;const rowStart=(_layout$rowStart=layout?.rowStart)!==null&&_layout$rowStart!==void 0?_layout$rowStart:1;const columnSpan=(_layout$columnSpan=layout?.columnSpan)!==null&&_layout$columnSpan!==void 0?_layout$columnSpan:1;const rowSpan=(_layout$rowSpan=layout?.rowSpan)!==null&&_layout$rowSpan!==void 0?_layout$rowSpan:1;const columnEnd=columnStart+columnSpan-1;const rowEnd=rowStart+rowSpan-1;const columnCount=parentLayout?.columnCount;const rowCount=parentLayout?.rowCount;const getNumberOfBlocksBeforeCell=useGetNumberOfBlocksBeforeCell(gridClientId,columnCount);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls,{group:"parent",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.ToolbarGroup,{className:"block-editor-grid-item-mover__move-button-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-grid-item-mover__move-horizontal-button-container is-left",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridItemMover,{icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_right:chevron_left,label:(0,external_wp_i18n_namespaceObject.__)('Move left'),description:(0,external_wp_i18n_namespaceObject.__)('Move left'),isDisabled:columnStart<=1,onClick:()=>{onChange({columnStart:columnStart-1});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([blockClientId],gridClientId,gridClientId,getNumberOfBlocksBeforeCell(columnStart-1,rowStart));}})}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-grid-item-mover__move-vertical-button-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridItemMover,{className:"is-up-button",icon:chevron_up,label:(0,external_wp_i18n_namespaceObject.__)('Move up'),description:(0,external_wp_i18n_namespaceObject.__)('Move up'),isDisabled:rowStart<=1,onClick:()=>{onChange({rowStart:rowStart-1});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([blockClientId],gridClientId,gridClientId,getNumberOfBlocksBeforeCell(columnStart,rowStart-1));}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridItemMover,{className:"is-down-button",icon:chevron_down,label:(0,external_wp_i18n_namespaceObject.__)('Move down'),description:(0,external_wp_i18n_namespaceObject.__)('Move down'),isDisabled:rowCount&&rowEnd>=rowCount,onClick:()=>{onChange({rowStart:rowStart+1});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([blockClientId],gridClientId,gridClientId,getNumberOfBlocksBeforeCell(columnStart,rowStart+1));}})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-grid-item-mover__move-horizontal-button-container is-right",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridItemMover,{icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left:chevron_right,label:(0,external_wp_i18n_namespaceObject.__)('Move right'),description:(0,external_wp_i18n_namespaceObject.__)('Move right'),isDisabled:columnCount&&columnEnd>=columnCount,onClick:()=>{onChange({columnStart:columnStart+1});__unstableMarkNextChangeAsNotPersistent();moveBlocksToPosition([blockClientId],gridClientId,gridClientId,getNumberOfBlocksBeforeCell(columnStart+1,rowStart));}})})]})});}
function GridItemMover({className,icon,label,isDisabled,onClick,description}){const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(GridItemMover);const descriptionId=`block-editor-grid-item-mover-button__description-${instanceId}`;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{className:dist_clsx('block-editor-grid-item-mover-button',className),icon:icon,label:label,"aria-describedby":descriptionId,onClick:isDisabled?null:onClick,disabled:isDisabled,accessibleWhenDisabled:true}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId,children:description})]});};const LAYOUT_CHILD_BLOCK_PROPS_REFERENCE={};function useBlockPropsChildLayoutStyles({style}){var _style$layout;const shouldRenderChildLayoutStyles=(0,external_wp_data_namespaceObject.useSelect)(select=>{return!select(store).getSettings().disableLayoutStyles;});const layout=(_style$layout=style?.layout)!==null&&_style$layout!==void 0?_style$layout:{};const{selfStretch,flexSize,columnStart,rowStart,columnSpan,rowSpan}=layout;const parentLayout=useLayout()||{};const{columnCount,minimumColumnWidth}=parentLayout;const id=(0,external_wp_compose_namespaceObject.useInstanceId)(LAYOUT_CHILD_BLOCK_PROPS_REFERENCE);const selector=`.wp-container-content-${id}`;if(false){}
let css='';if(shouldRenderChildLayoutStyles){if(selfStretch==='fixed'&&flexSize){css=`${selector} {
    flex-basis: ${flexSize};
    box-sizing: border-box;
   }`;}else if(selfStretch==='fill'){css=`${selector} {
    flex-grow: 1;
   }`;}else if(columnStart&&columnSpan){css=`${selector} {
    grid-column: ${columnStart} / span ${columnSpan};
   }`;}else if(columnStart){css=`${selector} {
    grid-column: ${columnStart};
   }`;}else if(columnSpan){css=`${selector} {
    grid-column: span ${columnSpan};
   }`;}
if(rowStart&&rowSpan){css+=`${selector} {
    grid-row: ${rowStart} / span ${rowSpan};
   }`;}else if(rowStart){css+=`${selector} {
    grid-row: ${rowStart};
   }`;}else if(rowSpan){css+=`${selector} {
    grid-row: span ${rowSpan};
   }`;}
if((columnSpan||columnStart)&&(minimumColumnWidth||!columnCount)){let parentColumnValue=parseFloat(minimumColumnWidth);if(isNaN(parentColumnValue)){parentColumnValue=12;}
let parentColumnUnit=minimumColumnWidth?.replace(parentColumnValue,'');if(!['px','rem','em'].includes(parentColumnUnit)){parentColumnUnit='rem';}
let numColsToBreakAt=2;if(columnSpan&&columnStart){numColsToBreakAt=columnSpan+columnStart-1;}else if(columnSpan){numColsToBreakAt=columnSpan;}else{numColsToBreakAt=columnStart;}
const defaultGapValue=parentColumnUnit==='px'?24:1.5;const containerQueryValue=numColsToBreakAt*parentColumnValue+(numColsToBreakAt-1)*defaultGapValue;const minimumContainerQueryValue=parentColumnValue*2+defaultGapValue-1;const gridColumnValue=columnSpan&&columnSpan>1?'1/-1':'auto';css+=`@container (max-width: ${Math.max(containerQueryValue, minimumContainerQueryValue)}${parentColumnUnit}) {
    ${selector} {
     grid-column: ${gridColumnValue};
     grid-row: auto;
    }
   }`;}}
useStyleOverride({css});if(!css){return;}
return{className:`wp-container-content-${id}`};}
function ChildLayoutControlsPure({clientId,style,setAttributes}){const parentLayout=useLayout()||{};const{type:parentLayoutType='default',allowSizingOnChildren=false,isManualPlacement}=parentLayout;if(parentLayoutType!=='grid'){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridTools,{clientId:clientId,style:style,setAttributes:setAttributes,allowSizingOnChildren:allowSizingOnChildren,isManualPlacement:isManualPlacement,parentLayout:parentLayout});}
function GridTools({clientId,style,setAttributes,allowSizingOnChildren,isManualPlacement,parentLayout}){const{rootClientId,isVisible}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,getBlockEditingMode,getTemplateLock}=select(store);const _rootClientId=getBlockRootClientId(clientId);if(getTemplateLock(_rootClientId)||getBlockEditingMode(_rootClientId)!=='default'){return{rootClientId:_rootClientId,isVisible:false};}
return{rootClientId:_rootClientId,isVisible:true};},[clientId]);const[resizerBounds,setResizerBounds]=(0,external_wp_element_namespaceObject.useState)();if(!isVisible){return null;}
function updateLayout(layout){setAttributes({style:{...style,layout:{...style?.layout,...layout}}});}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridVisualizer,{clientId:rootClientId,contentRef:setResizerBounds,parentLayout:parentLayout}),allowSizingOnChildren&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridItemResizer,{clientId:clientId,bounds:resizerBounds,onChange:updateLayout,parentLayout:parentLayout}),isManualPlacement&&window.__experimentalEnableGridInteractivity&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridItemMovers,{layout:style?.layout,parentLayout:parentLayout,onChange:updateLayout,gridClientId:rootClientId,blockClientId:clientId})]});}
const layout_child=({useBlockProps:useBlockPropsChildLayoutStyles,edit:ChildLayoutControlsPure,attributeKeys:['style'],hasSupport(){return true;}});;function ContentLockControlsPure({clientId}){const{templateLock,isLockedByParent,isEditingAsBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getContentLockingParent,getTemplateLock,getTemporarilyEditingAsBlocks}=unlock(select(store));return{templateLock:getTemplateLock(clientId),isLockedByParent:!!getContentLockingParent(clientId),isEditingAsBlocks:getTemporarilyEditingAsBlocks()===clientId};},[clientId]);const{stopEditingAsBlocks}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const isContentLocked=!isLockedByParent&&templateLock==='contentOnly';const stopEditingAsBlockCallback=(0,external_wp_element_namespaceObject.useCallback)(()=>{stopEditingAsBlocks(clientId);},[clientId,stopEditingAsBlocks]);if(!isContentLocked&&!isEditingAsBlocks){return null;}
const showStopEditingAsBlocks=isEditingAsBlocks&&!isContentLocked;return showStopEditingAsBlocks&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls,{group:"other",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{onClick:stopEditingAsBlockCallback,children:(0,external_wp_i18n_namespaceObject.__)('Done')})});}
const content_lock_ui=({edit:ContentLockControlsPure,hasSupport(){return true;}});;const META_ATTRIBUTE_NAME='metadata';function addMetaAttribute(blockTypeSettings){if(blockTypeSettings?.attributes?.[META_ATTRIBUTE_NAME]?.type){return blockTypeSettings;}
blockTypeSettings.attributes={...blockTypeSettings.attributes,[META_ATTRIBUTE_NAME]:{type:'object'}};return blockTypeSettings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/metadata/addMetaAttribute',addMetaAttribute);;const block_hooks_EMPTY_OBJECT={};function BlockHooksControlPure({name,clientId,metadata:{ignoredHookedBlocks=[]}={}}){const blockTypes=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_blocks_namespaceObject.store).getBlockTypes(),[]);const hookedBlocksForCurrentBlock=(0,external_wp_element_namespaceObject.useMemo)(()=>blockTypes?.filter(({name:blockName,blockHooks})=>blockHooks&&name in blockHooks||ignoredHookedBlocks.includes(blockName)),[blockTypes,name,ignoredHookedBlocks]);const hookedBlockClientIds=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlocks,getBlockRootClientId,getGlobalBlockCount}=select(store);const rootClientId=getBlockRootClientId(clientId);const _hookedBlockClientIds=hookedBlocksForCurrentBlock.reduce((clientIds,block)=>{if(getGlobalBlockCount(block.name)===0){return clientIds;}
const relativePosition=block?.blockHooks?.[name];let candidates;switch(relativePosition){case'before':case'after':candidates=getBlocks(rootClientId);break;case'first_child':case'last_child':candidates=getBlocks(clientId);break;case undefined:candidates=[...getBlocks(rootClientId),...getBlocks(clientId)];break;}
const hookedBlock=candidates?.find(candidate=>candidate.name===block.name);if(hookedBlock){return{...clientIds,[block.name]:hookedBlock.clientId};}
return clientIds;},{});if(Object.values(_hookedBlockClientIds).length>0){return _hookedBlockClientIds;}
return block_hooks_EMPTY_OBJECT;},[hookedBlocksForCurrentBlock,name,clientId]);const{getBlockIndex,getBlockCount,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{insertBlock,removeBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);if(!hookedBlocksForCurrentBlock.length){return null;}
const groupedHookedBlocks=hookedBlocksForCurrentBlock.reduce((groups,block)=>{const[namespace]=block.name.split('/');if(!groups[namespace]){groups[namespace]=[];}
groups[namespace].push(block);return groups;},{});const insertBlockIntoDesignatedLocation=(block,relativePosition)=>{const blockIndex=getBlockIndex(clientId);const innerBlocksLength=getBlockCount(clientId);const rootClientId=getBlockRootClientId(clientId);switch(relativePosition){case'before':case'after':insertBlock(block,relativePosition==='after'?blockIndex+1:blockIndex,rootClientId,false);break;case'first_child':case'last_child':insertBlock(block,relativePosition==='first_child'?0:innerBlocksLength,clientId,false);break;case undefined:insertBlock(block,blockIndex+1,rootClientId,false);break;}};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.PanelBody,{className:"block-editor-hooks__block-hooks",title:(0,external_wp_i18n_namespaceObject.__)('Plugins'),initialOpen:true,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{className:"block-editor-hooks__block-hooks-helptext",children:(0,external_wp_i18n_namespaceObject.__)('Manage the inclusion of blocks added automatically by plugins.')}),Object.keys(groupedHookedBlocks).map(vendor=>{return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_element_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("h3",{children:vendor}),groupedHookedBlocks[vendor].map(block=>{const checked=block.name in hookedBlockClientIds;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,checked:checked,label:block.title,onChange:()=>{if(!checked){const relativePosition=block.blockHooks[name];insertBlockIntoDesignatedLocation((0,external_wp_blocks_namespaceObject.createBlock)(block.name),relativePosition);return;}
removeBlock(hookedBlockClientIds[block.name],false);}},block.title);})]},vendor);})]})});}
const block_hooks=({edit:BlockHooksControlPure,attributeKeys:['metadata'],hasSupport(){return true;}});;const{Menu}=unlock(external_wp_components_namespaceObject.privateApis);const block_bindings_EMPTY_OBJECT={};const block_bindings_useToolsPanelDropdownMenuProps=()=>{const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');return!isMobile?{popoverProps:{placement:'left-start',offset:259}}:{};};function BlockBindingsPanelMenuContent({fieldsList,attribute,binding}){const{clientId}=useBlockEditContext();const registeredSources=(0,external_wp_blocks_namespaceObject.getBlockBindingsSources)();const{updateBlockBindings}=useBlockBindingsUtils();const currentKey=binding?.args?.key;const attributeType=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{name:blockName}=select(store).getBlock(clientId);const _attributeType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName).attributes?.[attribute]?.type;return _attributeType==='rich-text'?'string':_attributeType;},[clientId,attribute]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:Object.entries(fieldsList).map(([name,fields],i)=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_element_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Menu.Group,{children:[Object.keys(fieldsList).length>1&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(Menu.GroupLabel,{children:registeredSources[name].label}),Object.entries(fields).filter(([,args])=>args?.type===attributeType).map(([key,args])=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Menu.RadioItem,{onChange:()=>updateBlockBindings({[attribute]:{source:name,args:{key}}}),name:attribute+'-binding',value:key,checked:key===currentKey,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(Menu.ItemLabel,{children:args?.label}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(Menu.ItemHelpText,{children:args?.value})]},key))]}),i!==Object.keys(fieldsList).length-1&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(Menu.Separator,{})]},name))});}
function BlockBindingsAttribute({attribute,binding,fieldsList}){const{source:sourceName,args}=binding||{};const sourceProps=(0,external_wp_blocks_namespaceObject.getBlockBindingsSource)(sourceName);const isSourceInvalid=!sourceProps;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{className:"block-editor-bindings__item",spacing:0,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{truncate:true,children:attribute}),!!binding&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{truncate:true,variant:!isSourceInvalid&&'muted',isDestructive:isSourceInvalid,children:isSourceInvalid?(0,external_wp_i18n_namespaceObject.__)('Invalid source'):fieldsList?.[sourceName]?.[args?.key]?.label||sourceProps?.label||sourceName})]});}
function ReadOnlyBlockBindingsPanelItems({bindings,fieldsList}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:Object.entries(bindings).map(([attribute,binding])=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockBindingsAttribute,{attribute:attribute,binding:binding,fieldsList:fieldsList})},attribute))});}
function EditableBlockBindingsPanelItems({attributes,bindings,fieldsList}){const{updateBlockBindings}=useBlockBindingsUtils();const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:attributes.map(attribute=>{const binding=bindings[attribute];return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>!!binding,label:attribute,onDeselect:()=>{updateBlockBindings({[attribute]:undefined});},children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(Menu,{placement:isMobile?'bottom-start':'left-start',children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(Menu.TriggerButton,{render:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalItem,{}),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockBindingsAttribute,{attribute:attribute,binding:binding,fieldsList:fieldsList})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(Menu.Popover,{gutter:isMobile?8:36,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockBindingsPanelMenuContent,{fieldsList:fieldsList,attribute:attribute,binding:binding})})]})},attribute);})});}
const BlockBindingsPanel=({name:blockName,metadata})=>{const blockContext=(0,external_wp_element_namespaceObject.useContext)(block_context);const{removeAllBlockBindings}=useBlockBindingsUtils();const bindableAttributes=getBindableAttributes(blockName);const dropdownMenuProps=block_bindings_useToolsPanelDropdownMenuProps();const _fieldsList={};const{fieldsList,canUpdateBlockBindings}=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!bindableAttributes||bindableAttributes.length===0){return block_bindings_EMPTY_OBJECT;}
const registeredSources=(0,external_wp_blocks_namespaceObject.getBlockBindingsSources)();Object.entries(registeredSources).forEach(([sourceName,{getFieldsList,usesContext}])=>{if(getFieldsList){const context={};if(usesContext?.length){for(const key of usesContext){context[key]=blockContext[key];}}
const sourceList=getFieldsList({select,context});if(Object.keys(sourceList||{}).length){_fieldsList[sourceName]={...sourceList};}}});return{fieldsList:Object.values(_fieldsList).length>0?_fieldsList:block_bindings_EMPTY_OBJECT,canUpdateBlockBindings:select(store).getSettings().canUpdateBlockBindings};},[blockContext,bindableAttributes]);if(!bindableAttributes||bindableAttributes.length===0){return null;}
const{bindings}=metadata||{};const filteredBindings={...bindings};Object.keys(filteredBindings).forEach(key=>{if(!canBindAttribute(blockName,key)||filteredBindings[key].source==='core/pattern-overrides'){delete filteredBindings[key];}});const readOnly=!canUpdateBlockBindings||!Object.keys(fieldsList).length;if(readOnly&&Object.keys(filteredBindings).length===0){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls,{group:"bindings",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:(0,external_wp_i18n_namespaceObject.__)('Attributes'),resetAll:()=>{removeAllBlockBindings();},dropdownMenuProps:dropdownMenuProps,className:"block-editor-bindings__panel",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalItemGroup,{isBordered:true,isSeparated:true,children:readOnly?(0,external_ReactJSXRuntime_namespaceObject.jsx)(ReadOnlyBlockBindingsPanelItems,{bindings:filteredBindings,fieldsList:fieldsList}):(0,external_ReactJSXRuntime_namespaceObject.jsx)(EditableBlockBindingsPanelItems,{attributes:bindableAttributes,bindings:filteredBindings,fieldsList:fieldsList})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{as:"div",variant:"muted",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:(0,external_wp_i18n_namespaceObject.__)('Attributes connected to custom fields or other dynamic data.')})})]})});};const block_bindings=({edit:BlockBindingsPanel,attributeKeys:['metadata'],hasSupport(){return true;}});;function addLabelCallback(settings){if(settings.__experimentalLabel){return settings;}
const supportsBlockNaming=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'renaming',true);if(supportsBlockNaming){settings.__experimentalLabel=(attributes,{context})=>{const{metadata}=attributes;if(context==='list-view'&&metadata?.name){return metadata.name;}};}
return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/metadata/addLabelCallback',addLabelCallback);;function useGridLayoutSync({clientId:gridClientId}){const{gridLayout,blockOrder,selectedBlockLayout}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockAttributes$l;const{getBlockAttributes,getBlockOrder}=select(store);const selectedBlock=select(store).getSelectedBlock();return{gridLayout:(_getBlockAttributes$l=getBlockAttributes(gridClientId).layout)!==null&&_getBlockAttributes$l!==void 0?_getBlockAttributes$l:{},blockOrder:getBlockOrder(gridClientId),selectedBlockLayout:selectedBlock?.attributes.style?.layout};},[gridClientId]);const{getBlockAttributes,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{updateBlockAttributes,__unstableMarkNextChangeAsNotPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(store);const selectedBlockRect=(0,external_wp_element_namespaceObject.useMemo)(()=>selectedBlockLayout?new GridRect(selectedBlockLayout):null,[selectedBlockLayout]);const previouslySelectedBlockRect=(0,external_wp_compose_namespaceObject.usePrevious)(selectedBlockRect);const previousIsManualPlacement=(0,external_wp_compose_namespaceObject.usePrevious)(gridLayout.isManualPlacement);const previousBlockOrder=(0,external_wp_compose_namespaceObject.usePrevious)(blockOrder);(0,external_wp_element_namespaceObject.useEffect)(()=>{const updates={};if(gridLayout.isManualPlacement){const occupiedRects=[];for(const clientId of blockOrder){var _getBlockAttributes$s;const{columnStart,rowStart,columnSpan=1,rowSpan=1}=(_getBlockAttributes$s=getBlockAttributes(clientId).style?.layout)!==null&&_getBlockAttributes$s!==void 0?_getBlockAttributes$s:{};if(!columnStart||!rowStart){continue;}
occupiedRects.push(new GridRect({columnStart,rowStart,columnSpan,rowSpan}));}
for(const clientId of blockOrder){var _attributes$style$lay;const attributes=getBlockAttributes(clientId);const{columnStart,rowStart,columnSpan=1,rowSpan=1}=(_attributes$style$lay=attributes.style?.layout)!==null&&_attributes$style$lay!==void 0?_attributes$style$lay:{};if(columnStart&&rowStart){continue;}
const[newColumnStart,newRowStart]=placeBlock(occupiedRects,gridLayout.columnCount,columnSpan,rowSpan,previouslySelectedBlockRect?.columnEnd,previouslySelectedBlockRect?.rowEnd);occupiedRects.push(new GridRect({columnStart:newColumnStart,rowStart:newRowStart,columnSpan,rowSpan}));updates[clientId]={style:{...attributes.style,layout:{...attributes.style?.layout,columnStart:newColumnStart,rowStart:newRowStart}}};}
const bottomMostRow=Math.max(...occupiedRects.map(r=>r.rowEnd));if(!gridLayout.rowCount||gridLayout.rowCount<bottomMostRow){updates[gridClientId]={layout:{...gridLayout,rowCount:bottomMostRow}};}
for(const clientId of previousBlockOrder!==null&&previousBlockOrder!==void 0?previousBlockOrder:[]){if(!blockOrder.includes(clientId)){var _attributes$style$lay2;const rootClientId=getBlockRootClientId(clientId);if(rootClientId===null){continue;}
const rootAttributes=getBlockAttributes(rootClientId);if(rootAttributes?.layout?.type==='grid'){continue;}
const attributes=getBlockAttributes(clientId);const{columnStart,rowStart,columnSpan,rowSpan,...layout}=(_attributes$style$lay2=attributes.style?.layout)!==null&&_attributes$style$lay2!==void 0?_attributes$style$lay2:{};if(columnStart||rowStart||columnSpan||rowSpan){const hasEmptyLayoutAttribute=Object.keys(layout).length===0;updates[clientId]=setImmutably(attributes,['style','layout'],hasEmptyLayoutAttribute?undefined:layout);}}}}else{if(previousIsManualPlacement===true){for(const clientId of blockOrder){var _attributes$style$lay3;const attributes=getBlockAttributes(clientId);const{columnStart,rowStart,...layout}=(_attributes$style$lay3=attributes.style?.layout)!==null&&_attributes$style$lay3!==void 0?_attributes$style$lay3:{};if(columnStart||rowStart){const hasEmptyLayoutAttribute=Object.keys(layout).length===0;updates[clientId]=setImmutably(attributes,['style','layout'],hasEmptyLayoutAttribute?undefined:layout);}}}
if(gridLayout.rowCount){updates[gridClientId]={layout:{...gridLayout,rowCount:undefined}};}}
if(Object.keys(updates).length){__unstableMarkNextChangeAsNotPersistent();updateBlockAttributes(Object.keys(updates),updates,true);}},[gridClientId,gridLayout,previousBlockOrder,blockOrder,previouslySelectedBlockRect,previousIsManualPlacement,__unstableMarkNextChangeAsNotPersistent,getBlockAttributes,getBlockRootClientId,updateBlockAttributes]);}
function placeBlock(occupiedRects,gridColumnCount,blockColumnSpan,blockRowSpan,startColumn=1,startRow=1){for(let row=startRow;;row++){for(let column=row===startRow?startColumn:1;column<=gridColumnCount;column++){const candidateRect=new GridRect({columnStart:column,rowStart:row,columnSpan:blockColumnSpan,rowSpan:blockRowSpan});if(!occupiedRects.some(r=>r.intersectsRect(candidateRect))){return[column,row];}}}};function GridLayoutSync(props){useGridLayoutSync(props);}
function grid_visualizer_GridTools({clientId,layout}){const isVisible=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isBlockSelected,isDraggingBlocks,getTemplateLock,getBlockEditingMode}=select(store);if(!isDraggingBlocks()&&!isBlockSelected(clientId)||getTemplateLock(clientId)||getBlockEditingMode(clientId)!=='default'){return false;}
return true;},[clientId]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridLayoutSync,{clientId:clientId}),isVisible&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(GridVisualizer,{clientId:clientId,parentLayout:layout})]});}
const addGridVisualizerToBlockEdit=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>props=>{if(props.attributes.layout?.type!=='grid'){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockEdit,{...props},"edit");}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(grid_visualizer_GridTools,{clientId:props.clientId,layout:props.attributes.layout}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockEdit,{...props},"edit")]});},'addGridVisualizerToBlockEdit');(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/editor/grid-visualizer',addGridVisualizerToBlockEdit);;function getBorderClassesAndStyles(attributes){const border=attributes.style?.border||{};const className=getBorderClasses(attributes);return{className:className||undefined,style:getInlineStyles({border})};}
function useBorderProps(attributes){const{colors}=useMultipleOriginColorsAndGradients();const borderProps=getBorderClassesAndStyles(attributes);const{borderColor}=attributes;if(borderColor){const borderColorObject=getMultiOriginColor({colors,namedColor:borderColor});borderProps.style.borderColor=borderColorObject.color;}
return borderProps;};function getShadowClassesAndStyles(attributes){const shadow=attributes.style?.shadow||'';return{style:getInlineStyles({shadow})};};function getColorClassesAndStyles(attributes){const{backgroundColor,textColor,gradient,style}=attributes;const backgroundClass=getColorClassName('background-color',backgroundColor);const textClass=getColorClassName('color',textColor);const gradientClass=__experimentalGetGradientClass(gradient);const hasGradient=gradientClass||style?.color?.gradient;const className=dist_clsx(textClass,gradientClass,{[backgroundClass]:!hasGradient&&!!backgroundClass,'has-text-color':textColor||style?.color?.text,'has-background':backgroundColor||style?.color?.background||gradient||style?.color?.gradient,'has-link-color':style?.elements?.link?.color});const colorStyles=style?.color||{};const styleProp=getInlineStyles({color:colorStyles});return{className:className||undefined,style:styleProp};}
function useColorProps(attributes){const{backgroundColor,textColor,gradient}=attributes;const[userPalette,themePalette,defaultPalette,userGradients,themeGradients,defaultGradients]=use_settings_useSettings('color.palette.custom','color.palette.theme','color.palette.default','color.gradients.custom','color.gradients.theme','color.gradients.default');const colors=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPalette||[]),...(themePalette||[]),...(defaultPalette||[])],[userPalette,themePalette,defaultPalette]);const gradients=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userGradients||[]),...(themeGradients||[]),...(defaultGradients||[])],[userGradients,themeGradients,defaultGradients]);const colorProps=getColorClassesAndStyles(attributes);if(backgroundColor){const backgroundColorObject=getColorObjectByAttributeValues(colors,backgroundColor);colorProps.style.backgroundColor=backgroundColorObject.color;}
if(gradient){colorProps.style.background=getGradientValueBySlug(gradients,gradient);}
if(textColor){const textColorObject=getColorObjectByAttributeValues(colors,textColor);colorProps.style.color=textColorObject.color;}
return colorProps;};function getSpacingClassesAndStyles(attributes){const{style}=attributes;const spacingStyles=style?.spacing||{};const styleProp=getInlineStyles({spacing:spacingStyles});return{style:styleProp};};const{kebabCase:use_typography_props_kebabCase}=unlock(external_wp_components_namespaceObject.privateApis);function getTypographyClassesAndStyles(attributes,settings){let typographyStyles=attributes?.style?.typography||{};typographyStyles={...typographyStyles,fontSize:getTypographyFontSizeValue({size:attributes?.style?.typography?.fontSize},settings)};const style=getInlineStyles({typography:typographyStyles});const fontFamilyClassName=!!attributes?.fontFamily?`has-${use_typography_props_kebabCase(attributes.fontFamily)}-font-family`:'';const textAlignClassName=!!attributes?.style?.typography?.textAlign?`has-text-align-${attributes?.style?.typography?.textAlign}`:'';const className=dist_clsx(fontFamilyClassName,textAlignClassName,getFontSizeClass(attributes?.fontSize));return{className,style};};function useCachedTruthy(value){const[cachedValue,setCachedValue]=(0,external_wp_element_namespaceObject.useState)(value);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(value){setCachedValue(value);}},[value]);return cachedValue;};createBlockEditFilter([align,text_align,hooks_anchor,custom_class_name,style,duotone,position,layout,content_lock_ui,block_hooks,block_bindings,layout_child].filter(Boolean));createBlockListBlockFilter([align,text_align,background,style,color,dimensions,duotone,font_family,font_size,border,position,block_style_variation,layout_child]);createBlockSaveFilter([align,text_align,hooks_anchor,aria_label,custom_class_name,border,color,style,font_family,font_size]);;const{kebabCase:with_colors_kebabCase}=unlock(external_wp_components_namespaceObject.privateApis);const upperFirst=([firstLetter,...rest])=>firstLetter.toUpperCase()+rest.join('');const withCustomColorPalette=colorsArray=>(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>props=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{...props,colors:colorsArray}),'withCustomColorPalette');const withEditorColorPalette=()=>(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>props=>{const[userPalette,themePalette,defaultPalette]=use_settings_useSettings('color.palette.custom','color.palette.theme','color.palette.default');const allColors=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPalette||[]),...(themePalette||[]),...(defaultPalette||[])],[userPalette,themePalette,defaultPalette]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{...props,colors:allColors});},'withEditorColorPalette');function createColorHOC(colorTypes,withColorPalette){const colorMap=colorTypes.reduce((colorObject,colorType)=>{return{...colorObject,...(typeof colorType==='string'?{[colorType]:with_colors_kebabCase(colorType)}:colorType)};},{});return(0,external_wp_compose_namespaceObject.compose)([withColorPalette,WrappedComponent=>{return class extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.setters=this.createSetters();this.colorUtils={getMostReadableColor:this.getMostReadableColor.bind(this)};this.state={};}
getMostReadableColor(colorValue){const{colors}=this.props;return getMostReadableColor(colors,colorValue);}
createSetters(){return Object.keys(colorMap).reduce((settersAccumulator,colorAttributeName)=>{const upperFirstColorAttributeName=upperFirst(colorAttributeName);const customColorAttributeName=`custom${upperFirstColorAttributeName}`;settersAccumulator[`set${upperFirstColorAttributeName}`]=this.createSetColor(colorAttributeName,customColorAttributeName);return settersAccumulator;},{});}
createSetColor(colorAttributeName,customColorAttributeName){return colorValue=>{const colorObject=getColorObjectByColorValue(this.props.colors,colorValue);this.props.setAttributes({[colorAttributeName]:colorObject&&colorObject.slug?colorObject.slug:undefined,[customColorAttributeName]:colorObject&&colorObject.slug?undefined:colorValue});};}
static getDerivedStateFromProps({attributes,colors},previousState){return Object.entries(colorMap).reduce((newState,[colorAttributeName,colorContext])=>{const colorObject=getColorObjectByAttributeValues(colors,attributes[colorAttributeName],attributes[`custom${upperFirst(colorAttributeName)}`]);const previousColorObject=previousState[colorAttributeName];const previousColor=previousColorObject?.color;if(previousColor===colorObject.color&&previousColorObject){newState[colorAttributeName]=previousColorObject;}else{newState[colorAttributeName]={...colorObject,class:getColorClassName(colorContext,colorObject.slug)};}
return newState;},{});}
render(){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{...this.props,colors:undefined,...this.state,...this.setters,colorUtils:this.colorUtils});}};}]);}
function createCustomColorsHOC(colorsArray){return(...colorTypes)=>{const withColorPalette=withCustomColorPalette(colorsArray);return(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(createColorHOC(colorTypes,withColorPalette),'withCustomColors');};}
function withColors(...colorTypes){const withColorPalette=withEditorColorPalette();return(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(createColorHOC(colorTypes,withColorPalette),'withColors');};;;function font_size_picker_FontSizePicker(props){const[fontSizes,customFontSize]=use_settings_useSettings('typography.fontSizes','typography.customFontSize');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FontSizePicker,{...props,fontSizes:fontSizes,disableCustomFontSizes:!customFontSize});}
const font_size_picker=(font_size_picker_FontSizePicker);;const DEFAULT_FONT_SIZES=[];const with_font_sizes_upperFirst=([firstLetter,...rest])=>firstLetter.toUpperCase()+rest.join('');const with_font_sizes=((...fontSizeNames)=>{const fontSizeAttributeNames=fontSizeNames.reduce((fontSizeAttributeNamesAccumulator,fontSizeAttributeName)=>{fontSizeAttributeNamesAccumulator[fontSizeAttributeName]=`custom${with_font_sizes_upperFirst(fontSizeAttributeName)}`;return fontSizeAttributeNamesAccumulator;},{});return(0,external_wp_compose_namespaceObject.createHigherOrderComponent)((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>props=>{const[fontSizes]=use_settings_useSettings('typography.fontSizes');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{...props,fontSizes:fontSizes||DEFAULT_FONT_SIZES});},'withFontSizes'),WrappedComponent=>{return class extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.setters=this.createSetters();this.state={};}
createSetters(){return Object.entries(fontSizeAttributeNames).reduce((settersAccumulator,[fontSizeAttributeName,customFontSizeAttributeName])=>{const upperFirstFontSizeAttributeName=with_font_sizes_upperFirst(fontSizeAttributeName);settersAccumulator[`set${upperFirstFontSizeAttributeName}`]=this.createSetFontSize(fontSizeAttributeName,customFontSizeAttributeName);return settersAccumulator;},{});}
createSetFontSize(fontSizeAttributeName,customFontSizeAttributeName){return fontSizeValue=>{const fontSizeObject=this.props.fontSizes?.find(({size})=>size===Number(fontSizeValue));this.props.setAttributes({[fontSizeAttributeName]:fontSizeObject&&fontSizeObject.slug?fontSizeObject.slug:undefined,[customFontSizeAttributeName]:fontSizeObject&&fontSizeObject.slug?undefined:fontSizeValue});};}
static getDerivedStateFromProps({attributes,fontSizes},previousState){const didAttributesChange=(customFontSizeAttributeName,fontSizeAttributeName)=>{if(previousState[fontSizeAttributeName]){if(attributes[fontSizeAttributeName]){return attributes[fontSizeAttributeName]!==previousState[fontSizeAttributeName].slug;}
return previousState[fontSizeAttributeName].size!==attributes[customFontSizeAttributeName];}
return true;};if(!Object.values(fontSizeAttributeNames).some(didAttributesChange)){return null;}
const newState=Object.entries(fontSizeAttributeNames).filter(([key,value])=>didAttributesChange(value,key)).reduce((newStateAccumulator,[fontSizeAttributeName,customFontSizeAttributeName])=>{const fontSizeAttributeValue=attributes[fontSizeAttributeName];const fontSizeObject=utils_getFontSize(fontSizes,fontSizeAttributeValue,attributes[customFontSizeAttributeName]);newStateAccumulator[fontSizeAttributeName]={...fontSizeObject,class:getFontSizeClass(fontSizeAttributeValue)};return newStateAccumulator;},{});return{...previousState,...newState};}
render(){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{...this.props,fontSizes:undefined,...this.state,...this.setters});}};}]),'withFontSizes');});;;const block_noop=()=>{};const block_SHOWN_BLOCK_TYPES=9;function createBlockCompleter(){return{name:'blocks',className:'block-editor-autocompleters__block',triggerPrefix:'/',useItems(filterValue){const{rootClientId,selectedBlockId,prioritizedBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getBlock,getBlockListSettings,getBlockRootClientId}=select(store);const{getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const selectedBlockClientId=getSelectedBlockClientId();const{name:blockName,attributes}=getBlock(selectedBlockClientId);const activeBlockVariation=getActiveBlockVariation(blockName,attributes);const _rootClientId=getBlockRootClientId(selectedBlockClientId);return{selectedBlockId:activeBlockVariation?`${blockName}/${activeBlockVariation.name}`:blockName,rootClientId:_rootClientId,prioritizedBlocks:getBlockListSettings(_rootClientId)?.prioritizedInserterBlocks};},[]);const[items,categories,collections]=use_block_types_state(rootClientId,block_noop,true);const filteredItems=(0,external_wp_element_namespaceObject.useMemo)(()=>{const initialFilteredItems=!!filterValue.trim()?searchBlockItems(items,categories,collections,filterValue):orderInserterBlockItems(orderBy(items,'frecency','desc'),prioritizedBlocks);return initialFilteredItems.filter(item=>item.id!==selectedBlockId).slice(0,block_SHOWN_BLOCK_TYPES);},[filterValue,selectedBlockId,items,categories,collections,prioritizedBlocks]);const options=(0,external_wp_element_namespaceObject.useMemo)(()=>filteredItems.map(blockItem=>{const{title,icon,isDisabled}=blockItem;return{key:`block-${blockItem.id}`,value:blockItem,label:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:icon,showColors:true},"icon"),title]}),isDisabled};}),[filteredItems]);return[options];},allowContext(before,after){return!(/\S/.test(before)||/\S/.test(after));},getOptionCompletion(inserterItem){const{name,initialAttributes,innerBlocks,syncStatus,content}=inserterItem;return{action:'replace',value:syncStatus==='unsynced'?(0,external_wp_blocks_namespaceObject.parse)(content,{__unstableSkipMigrationLogs:true}):(0,external_wp_blocks_namespaceObject.createBlock)(name,initialAttributes,(0,external_wp_blocks_namespaceObject.createBlocksFromInnerBlocksTemplate)(innerBlocks))};}};}
const autocompleters_block=(createBlockCompleter());;const external_wp_apiFetch_namespaceObject=window["wp"]["apiFetch"];var external_wp_apiFetch_default=__webpack_require__.n(external_wp_apiFetch_namespaceObject);;const post=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z"})});const library_post=(post);;const SHOWN_SUGGESTIONS=10;function createLinkCompleter(){return{name:'links',className:'block-editor-autocompleters__link',triggerPrefix:'[[',options:async letters=>{let options=await external_wp_apiFetch_default()({path:(0,external_wp_url_namespaceObject.addQueryArgs)('/wp/v2/search',{per_page:SHOWN_SUGGESTIONS,search:letters,type:'post',order_by:'menu_order'})});options=options.filter(option=>option.title!=='');return options;},getOptionKeywords(item){const expansionWords=item.title.split(/\s+/);return[...expansionWords];},getOptionLabel(item){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:item.subtype==='page'?library_page:library_post},"icon"),(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(item.title)]});},getOptionCompletion(item){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("a",{href:item.url,children:item.title});}};}
const autocompleters_link=(createLinkCompleter());;const autocomplete_EMPTY_ARRAY=[];function useCompleters({completers=autocomplete_EMPTY_ARRAY}){const{name}=useBlockEditContext();return(0,external_wp_element_namespaceObject.useMemo)(()=>{let filteredCompleters=[...completers,autocompleters_link];if(name===(0,external_wp_blocks_namespaceObject.getDefaultBlockName)()||(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,'__experimentalSlashInserter',false)){filteredCompleters=[...filteredCompleters,autocompleters_block];}
if((0,external_wp_hooks_namespaceObject.hasFilter)('editor.Autocomplete.completers')){if(filteredCompleters===completers){filteredCompleters=filteredCompleters.map(completer=>({...completer}));}
filteredCompleters=(0,external_wp_hooks_namespaceObject.applyFilters)('editor.Autocomplete.completers',filteredCompleters,name);}
return filteredCompleters;},[completers,name]);}
function useBlockEditorAutocompleteProps(props){return(0,external_wp_components_namespaceObject.__unstableUseAutocompleteProps)({...props,completers:useCompleters(props)});}
function BlockEditorAutocomplete(props){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Autocomplete,{...props,completers:useCompleters(props)});}
const autocomplete=(BlockEditorAutocomplete);;const fullscreen=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M6 4a2 2 0 0 0-2 2v3h1.5V6a.5.5 0 0 1 .5-.5h3V4H6Zm3 14.5H6a.5.5 0 0 1-.5-.5v-3H4v3a2 2 0 0 0 2 2h3v-1.5Zm6 1.5v-1.5h3a.5.5 0 0 0 .5-.5v-3H20v3a2 2 0 0 1-2 2h-3Zm3-16a2 2 0 0 1 2 2v3h-1.5V6a.5.5 0 0 0-.5-.5h-3V4h3Z"})});const library_fullscreen=(fullscreen);;function BlockFullHeightAlignmentControl({isActive,label=(0,external_wp_i18n_namespaceObject.__)('Full height'),onToggle,isDisabled}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{isActive:isActive,icon:library_fullscreen,label:label,onClick:()=>onToggle(!isActive),disabled:isDisabled});}
const block_full_height_alignment_control=(BlockFullHeightAlignmentControl);;const block_alignment_matrix_control_noop=()=>{};function BlockAlignmentMatrixControl(props){const{label=(0,external_wp_i18n_namespaceObject.__)('Change matrix alignment'),onChange=block_alignment_matrix_control_noop,value='center',isDisabled}=props;const icon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.AlignmentMatrixControl.Icon,{value:value});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:{placement:'bottom-start'},renderToggle:({onToggle,isOpen})=>{const openOnArrowDown=event=>{if(!isOpen&&event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();onToggle();}};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:openOnArrowDown,label:label,icon:icon,showTooltip:true,disabled:isDisabled});},renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.AlignmentMatrixControl,{hasFocusBorder:false,onChange:onChange,value:value})});}
const block_alignment_matrix_control=(BlockAlignmentMatrixControl);;function useBlockDisplayTitle({clientId,maximumLength,context}){const blockTitle=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!clientId){return null;}
const{getBlockName,getBlockAttributes}=select(store);const{getBlockType,getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const blockName=getBlockName(clientId);const blockType=getBlockType(blockName);if(!blockType){return null;}
const attributes=getBlockAttributes(clientId);const label=(0,external_wp_blocks_namespaceObject.__experimentalGetBlockLabel)(blockType,attributes,context);if(label!==blockType.title){return label;}
const match=getActiveBlockVariation(blockName,attributes);return match?.title||blockType.title;},[clientId,context]);if(!blockTitle){return null;}
if(maximumLength&&maximumLength>0&&blockTitle.length>maximumLength){const omission='...';return blockTitle.slice(0,maximumLength-omission.length)+omission;}
return blockTitle;};function BlockTitle({clientId,maximumLength,context}){return useBlockDisplayTitle({clientId,maximumLength,context});};function getEditorRegion(editor){var _Array$from$find,_editorCanvas$closest;if(!editor){return null;}
const editorCanvas=(_Array$from$find=Array.from(document.querySelectorAll('iframe[name="editor-canvas"]').values()).find(iframe=>{const iframeDocument=iframe.contentDocument||iframe.contentWindow.document;return iframeDocument===editor.ownerDocument;}))!==null&&_Array$from$find!==void 0?_Array$from$find:editor;return(_editorCanvas$closest=editorCanvas?.closest('[role="region"]'))!==null&&_editorCanvas$closest!==void 0?_editorCanvas$closest:editorCanvas;};function BlockBreadcrumb({rootLabelText}){const{selectBlock,clearSelectedBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{clientId,parents,hasSelection}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectionStart,getSelectedBlockClientId,getEnabledBlockParents}=unlock(select(store));const selectedBlockClientId=getSelectedBlockClientId();return{parents:getEnabledBlockParents(selectedBlockClientId),clientId:selectedBlockClientId,hasSelection:!!getSelectionStart().clientId};},[]);const rootLabel=rootLabelText||(0,external_wp_i18n_namespaceObject.__)('Document');const blockRef=(0,external_wp_element_namespaceObject.useRef)();useBlockElementRef(clientId,blockRef);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("ul",{className:"block-editor-block-breadcrumb",role:"list","aria-label":(0,external_wp_i18n_namespaceObject.__)('Block breadcrumb'),children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{className:!hasSelection?'block-editor-block-breadcrumb__current':undefined,"aria-current":!hasSelection?'true':undefined,children:[hasSelection&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"small",className:"block-editor-block-breadcrumb__button",onClick:()=>{const blockEditor=blockRef.current?.closest('.editor-styles-wrapper');clearSelectedBlock();getEditorRegion(blockEditor)?.focus();},children:rootLabel}),!hasSelection&&rootLabel,!!clientId&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:chevron_right_small,className:"block-editor-block-breadcrumb__separator"})]}),parents.map(parentClientId=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"small",className:"block-editor-block-breadcrumb__button",onClick:()=>selectBlock(parentClientId),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockTitle,{clientId:parentClientId,maximumLength:35})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:chevron_right_small,className:"block-editor-block-breadcrumb__separator"})]},parentClientId)),!!clientId&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("li",{className:"block-editor-block-breadcrumb__current","aria-current":"true",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockTitle,{clientId:clientId,maximumLength:35})})]});}
const block_breadcrumb=(BlockBreadcrumb);;function useBlockOverlayActive(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{__unstableHasActiveBlockOverlayActive}=select(store);return __unstableHasActiveBlockOverlayActive(clientId);},[clientId]);};const COMMON_PROPS={placement:'top-start'};const DEFAULT_PROPS={...COMMON_PROPS,flip:false,shift:true};const RESTRICTED_HEIGHT_PROPS={...COMMON_PROPS,flip:true,shift:false};function getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky){if(!contentElement||!selectedBlockElement){return DEFAULT_PROPS;}
const scrollTop=scrollContainer?.scrollTop||0;const blockRect=getElementBounds(selectedBlockElement);const contentRect=contentElement.getBoundingClientRect();const topOfContentElementInViewport=scrollTop+contentRect.top;const viewportHeight=contentElement.ownerDocument.documentElement.clientHeight;const restrictedTopArea=topOfContentElementInViewport+toolbarHeight;const hasSpaceForToolbarAbove=blockRect.top>restrictedTopArea;const isBlockTallerThanViewport=blockRect.height>viewportHeight-toolbarHeight;if(!isSticky&&(hasSpaceForToolbarAbove||isBlockTallerThanViewport)){return DEFAULT_PROPS;}
return RESTRICTED_HEIGHT_PROPS;}
function useBlockToolbarPopoverProps({contentElement,clientId}){const selectedBlockElement=useBlockElement(clientId);const[toolbarHeight,setToolbarHeight]=(0,external_wp_element_namespaceObject.useState)(0);const{blockIndex,isSticky}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockIndex,getBlockAttributes}=select(store);return{blockIndex:getBlockIndex(clientId),isSticky:hasStickyOrFixedPositionValue(getBlockAttributes(clientId))};},[clientId]);const scrollContainer=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!contentElement){return;}
return(0,external_wp_dom_namespaceObject.getScrollContainer)(contentElement);},[contentElement]);const[props,setProps]=(0,external_wp_element_namespaceObject.useState)(()=>getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky));const popoverRef=(0,external_wp_compose_namespaceObject.useRefEffect)(popoverNode=>{setToolbarHeight(popoverNode.offsetHeight);},[]);const updateProps=(0,external_wp_element_namespaceObject.useCallback)(()=>setProps(getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky)),[contentElement,selectedBlockElement,scrollContainer,toolbarHeight]);(0,external_wp_element_namespaceObject.useLayoutEffect)(updateProps,[blockIndex,updateProps]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!contentElement||!selectedBlockElement){return;}
const contentView=contentElement?.ownerDocument?.defaultView;contentView?.addEventHandler?.('resize',updateProps);let resizeObserver;const blockView=selectedBlockElement?.ownerDocument?.defaultView;if(blockView.ResizeObserver){resizeObserver=new blockView.ResizeObserver(updateProps);resizeObserver.observe(selectedBlockElement);}
return()=>{contentView?.removeEventHandler?.('resize',updateProps);if(resizeObserver){resizeObserver.disconnect();}};},[updateProps,contentElement,selectedBlockElement]);return{...props,ref:popoverRef};};function useSelectedBlockToolProps(clientId){const selectedBlockProps=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,getBlockParents,__experimentalGetBlockListSettingsForBlocks,isBlockInsertionPointVisible,getBlockInsertionPoint,getBlockOrder,hasMultiSelection,getLastMultiSelectedBlockClientId}=select(store);const blockParentsClientIds=getBlockParents(clientId);const parentBlockListSettings=__experimentalGetBlockListSettingsForBlocks(blockParentsClientIds);const capturingClientId=blockParentsClientIds.find(parentClientId=>parentBlockListSettings[parentClientId]?.__experimentalCaptureToolbars);let isInsertionPointVisible=false;if(isBlockInsertionPointVisible()){const insertionPoint=getBlockInsertionPoint();const order=getBlockOrder(insertionPoint.rootClientId);isInsertionPointVisible=order[insertionPoint.index]===clientId;}
return{capturingClientId,isInsertionPointVisible,lastClientId:hasMultiSelection()?getLastMultiSelectedBlockClientId():null,rootClientId:getBlockRootClientId(clientId)};},[clientId]);return selectedBlockProps;};function EmptyBlockInserter({clientId,__unstableContentRef}){const{capturingClientId,isInsertionPointVisible,lastClientId,rootClientId}=useSelectedBlockToolProps(clientId);const popoverProps=useBlockToolbarPopoverProps({contentElement:__unstableContentRef?.current,clientId});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(cover,{clientId:capturingClientId||clientId,bottomClientId:lastClientId,className:dist_clsx('block-editor-block-list__block-side-inserter-popover',{'is-insertion-point-visible':isInsertionPointVisible}),__unstableContentRef:__unstableContentRef,...popoverProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-list__empty-block-inserter",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter,{position:"bottom right",rootClientId:rootClientId,clientId:clientId,__experimentalIsQuick:true})})});};const SCROLL_INACTIVE_DISTANCE_PX=50;const SCROLL_INTERVAL_MS=25;const PIXELS_PER_SECOND_PER_PERCENTAGE=1000;const VELOCITY_MULTIPLIER=PIXELS_PER_SECOND_PER_PERCENTAGE*(SCROLL_INTERVAL_MS / 1000);function useScrollWhenDragging(){const dragStartYRef=(0,external_wp_element_namespaceObject.useRef)(null);const velocityYRef=(0,external_wp_element_namespaceObject.useRef)(null);const scrollParentYRef=(0,external_wp_element_namespaceObject.useRef)(null);const scrollEditorIntervalRef=(0,external_wp_element_namespaceObject.useRef)(null);(0,external_wp_element_namespaceObject.useEffect)(()=>()=>{if(scrollEditorIntervalRef.current){clearInterval(scrollEditorIntervalRef.current);scrollEditorIntervalRef.current=null;}},[]);const startScrolling=(0,external_wp_element_namespaceObject.useCallback)(event=>{dragStartYRef.current=event.clientY;scrollParentYRef.current=(0,external_wp_dom_namespaceObject.getScrollContainer)(event.target);scrollEditorIntervalRef.current=setInterval(()=>{if(scrollParentYRef.current&&velocityYRef.current){const newTop=scrollParentYRef.current.scrollTop+velocityYRef.current;scrollParentYRef.current.scroll({top:newTop});}},SCROLL_INTERVAL_MS);},[]);const scrollOnDragOver=(0,external_wp_element_namespaceObject.useCallback)(event=>{if(!scrollParentYRef.current){return;}
const scrollParentHeight=scrollParentYRef.current.offsetHeight;const offsetDragStartPosition=dragStartYRef.current-scrollParentYRef.current.offsetTop;const offsetDragPosition=event.clientY-scrollParentYRef.current.offsetTop;if(event.clientY>offsetDragStartPosition){const moveableDistance=Math.max(scrollParentHeight-offsetDragStartPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const dragDistance=Math.max(offsetDragPosition-offsetDragStartPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const distancePercentage=moveableDistance===0||dragDistance===0?0:dragDistance / moveableDistance;velocityYRef.current=VELOCITY_MULTIPLIER*distancePercentage;}else if(event.clientY<offsetDragStartPosition){const moveableDistance=Math.max(offsetDragStartPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const dragDistance=Math.max(offsetDragStartPosition-offsetDragPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const distancePercentage=moveableDistance===0||dragDistance===0?0:dragDistance / moveableDistance;velocityYRef.current=-VELOCITY_MULTIPLIER*distancePercentage;}else{velocityYRef.current=0;}},[]);const stopScrolling=()=>{dragStartYRef.current=null;scrollParentYRef.current=null;if(scrollEditorIntervalRef.current){clearInterval(scrollEditorIntervalRef.current);scrollEditorIntervalRef.current=null;}};return[startScrolling,scrollOnDragOver,stopScrolling];};const BlockDraggable=({appendToOwnerDocument,children,clientIds,cloneClassname,elementId,onDragStart,onDragEnd,fadeWhenDisabled=false,dragComponent})=>{const{srcRootClientId,isDraggable,icon,visibleInserter,getBlockType}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canMoveBlocks,getBlockRootClientId,getBlockName,getBlockAttributes,isBlockInsertionPointVisible}=select(store);const{getBlockType:_getBlockType,getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const rootClientId=getBlockRootClientId(clientIds[0]);const blockName=getBlockName(clientIds[0]);const variation=getActiveBlockVariation(blockName,getBlockAttributes(clientIds[0]));return{srcRootClientId:rootClientId,isDraggable:canMoveBlocks(clientIds),icon:variation?.icon||_getBlockType(blockName)?.icon,visibleInserter:isBlockInsertionPointVisible(),getBlockType:_getBlockType};},[clientIds]);const isDraggingRef=(0,external_wp_element_namespaceObject.useRef)(false);const[startScrolling,scrollOnDragOver,stopScrolling]=useScrollWhenDragging();const{getAllowedBlocks,getBlockNamesByClientId,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{startDraggingBlocks,stopDraggingBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);(0,external_wp_element_namespaceObject.useEffect)(()=>{return()=>{if(isDraggingRef.current){stopDraggingBlocks();}};},[]);const blockEl=useBlockElement(clientIds[0]);const editorRoot=blockEl?.closest('body');(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!editorRoot||!fadeWhenDisabled){return;}
const onDragOver=event=>{if(!event.target.closest('[data-block]')){return;}
const draggedBlockNames=getBlockNamesByClientId(clientIds);const targetClientId=event.target.closest('[data-block]').getAttribute('data-block');const allowedBlocks=getAllowedBlocks(targetClientId);const targetBlockName=getBlockNamesByClientId([targetClientId])[0];let dropTargetValid;if(allowedBlocks?.length===0){const targetRootClientId=getBlockRootClientId(targetClientId);const targetRootBlockName=getBlockNamesByClientId([targetRootClientId])[0];const rootAllowedBlocks=getAllowedBlocks(targetRootClientId);dropTargetValid=isDropTargetValid(getBlockType,rootAllowedBlocks,draggedBlockNames,targetRootBlockName);}else{dropTargetValid=isDropTargetValid(getBlockType,allowedBlocks,draggedBlockNames,targetBlockName);}
if(!dropTargetValid&&!visibleInserter){window?.document?.body?.classList?.add('block-draggable-invalid-drag-token');}else{window?.document?.body?.classList?.remove('block-draggable-invalid-drag-token');}};const throttledOnDragOver=(0,external_wp_compose_namespaceObject.throttle)(onDragOver,200);editorRoot.addEventListener('dragover',throttledOnDragOver);return()=>{editorRoot.removeEventListener('dragover',throttledOnDragOver);};},[clientIds,editorRoot,fadeWhenDisabled,getAllowedBlocks,getBlockNamesByClientId,getBlockRootClientId,getBlockType,visibleInserter]);if(!isDraggable){return children({draggable:false});}
const transferData={type:'block',srcClientIds:clientIds,srcRootClientId};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Draggable,{appendToOwnerDocument:appendToOwnerDocument,cloneClassname:cloneClassname,__experimentalTransferDataType:"wp-blocks",transferData:transferData,onDragStart:event=>{window.requestAnimationFrame(()=>{startDraggingBlocks(clientIds);isDraggingRef.current=true;startScrolling(event);if(onDragStart){onDragStart();}});},onDragOver:scrollOnDragOver,onDragEnd:()=>{stopDraggingBlocks();isDraggingRef.current=false;stopScrolling();if(onDragEnd){onDragEnd();}},__experimentalDragComponent:dragComponent!==undefined?dragComponent:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockDraggableChip,{count:clientIds.length,icon:icon,fadeWhenDisabled:true}),elementId:elementId,children:({onDraggableStart,onDraggableEnd})=>{return children({draggable:true,onDragStart:onDraggableStart,onDragEnd:onDraggableEnd});}});};const block_draggable=(BlockDraggable);;const getMovementDirection=(moveDirection,orientation)=>{if(moveDirection==='up'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?'right':'left';}
return'up';}else if(moveDirection==='down'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?'left':'right';}
return'down';}
return null;};function getBlockMoverDescription(selectedCount,type,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(selectedCount>1){return getMultiBlockMoverDescription(selectedCount,firstIndex,isFirst,isLast,dir,orientation);}
if(isFirst&&isLast){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %s is the only block, and cannot be moved'),type);}
if(dir>0&&!isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d down to position %3$d'),type,position,position+1);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d left to position %3$d'),type,position,position+1);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d right to position %3$d'),type,position,position+1);}}
if(dir>0&&isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the end of the content and cant be moved down'),type);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the end of the content and cant be moved left'),type);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the end of the content and cant be moved right'),type);}}
if(dir<0&&!isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d up to position %3$d'),type,position,position-1);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d left to position %3$d'),type,position,position-1);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d right to position %3$d'),type,position,position-1);}}
if(dir<0&&isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the beginning of the content and cant be moved up'),type);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the beginning of the content and cant be moved left'),type);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the beginning of the content and cant be moved right'),type);}}}
function getMultiBlockMoverDescription(selectedCount,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(isFirst&&isLast){return(0,external_wp_i18n_namespaceObject.__)('All blocks are selected, and cannot be moved');}
if(dir>0&&!isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d down by one place'),selectedCount,position);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d left by one place'),selectedCount,position);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d right by one place'),selectedCount,position);}}
if(dir>0&&isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved down as they are already at the bottom');}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved left as they are already are at the leftmost position');}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved right as they are already are at the rightmost position');}}
if(dir<0&&!isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d up by one place'),selectedCount,position);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d left by one place'),selectedCount,position);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d right by one place'),selectedCount,position);}}
if(dir<0&&isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved up as they are already at the top');}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved left as they are already are at the leftmost position');}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved right as they are already are at the rightmost position');}}};const getArrowIcon=(direction,orientation)=>{if(direction==='up'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_right:chevron_left;}
return chevron_up;}else if(direction==='down'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left:chevron_right;}
return chevron_down;}
return null;};const getMovementDirectionLabel=(moveDirection,orientation)=>{if(moveDirection==='up'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?(0,external_wp_i18n_namespaceObject.__)('Move right'):(0,external_wp_i18n_namespaceObject.__)('Move left');}
return(0,external_wp_i18n_namespaceObject.__)('Move up');}else if(moveDirection==='down'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?(0,external_wp_i18n_namespaceObject.__)('Move left'):(0,external_wp_i18n_namespaceObject.__)('Move right');}
return(0,external_wp_i18n_namespaceObject.__)('Move down');}
return null;};const BlockMoverButton=(0,external_wp_element_namespaceObject.forwardRef)(({clientIds,direction,orientation:moverOrientation,...props},ref)=>{const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockMoverButton);const normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds];const blocksCount=normalizedClientIds.length;const{disabled}=props;const{blockType,isDisabled,rootClientId,isFirst,isLast,firstIndex,orientation='vertical'}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockIndex,getBlockRootClientId,getBlockOrder,getBlock,getBlockListSettings}=select(store);const firstClientId=normalizedClientIds[0];const blockRootClientId=getBlockRootClientId(firstClientId);const firstBlockIndex=getBlockIndex(firstClientId);const lastBlockIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]);const blockOrder=getBlockOrder(blockRootClientId);const block=getBlock(firstClientId);const isFirstBlock=firstBlockIndex===0;const isLastBlock=lastBlockIndex===blockOrder.length-1;const{orientation:blockListOrientation}=getBlockListSettings(blockRootClientId)||{};return{blockType:block?(0,external_wp_blocks_namespaceObject.getBlockType)(block.name):null,isDisabled:disabled||(direction==='up'?isFirstBlock:isLastBlock),rootClientId:blockRootClientId,firstIndex:firstBlockIndex,isFirst:isFirstBlock,isLast:isLastBlock,orientation:moverOrientation||blockListOrientation};},[clientIds,direction]);const{moveBlocksDown,moveBlocksUp}=(0,external_wp_data_namespaceObject.useDispatch)(store);const moverFunction=direction==='up'?moveBlocksUp:moveBlocksDown;const onClick=event=>{moverFunction(clientIds,rootClientId);if(props.onClick){props.onClick(event);}};const descriptionId=`block-editor-block-mover-button__description-${instanceId}`;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,ref:ref,className:dist_clsx('block-editor-block-mover-button',`is-${direction}-button`),icon:getArrowIcon(direction,orientation),label:getMovementDirectionLabel(direction,orientation),"aria-describedby":descriptionId,...props,onClick:isDisabled?null:onClick,disabled:isDisabled,accessibleWhenDisabled:true}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId,children:getBlockMoverDescription(blocksCount,blockType&&blockType.title,firstIndex,isFirst,isLast,direction==='up'?-1:1,orientation)})]});});const BlockMoverUpButton=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockMoverButton,{direction:"up",ref:ref,...props});});const BlockMoverDownButton=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockMoverButton,{direction:"down",ref:ref,...props});});;function BlockMover({clientIds,hideDragHandle,isBlockMoverUpButtonDisabled,isBlockMoverDownButtonDisabled}){const{canMove,rootClientId,isFirst,isLast,orientation,isManualGrid}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockAttributes;const{getBlockIndex,getBlockListSettings,canMoveBlocks,getBlockOrder,getBlockRootClientId,getBlockAttributes}=select(store);const normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds];const firstClientId=normalizedClientIds[0];const _rootClientId=getBlockRootClientId(firstClientId);const firstIndex=getBlockIndex(firstClientId);const lastIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]);const blockOrder=getBlockOrder(_rootClientId);const{layout={}}=(_getBlockAttributes=getBlockAttributes(_rootClientId))!==null&&_getBlockAttributes!==void 0?_getBlockAttributes:{};return{canMove:canMoveBlocks(clientIds),rootClientId:_rootClientId,isFirst:firstIndex===0,isLast:lastIndex===blockOrder.length-1,orientation:getBlockListSettings(_rootClientId)?.orientation,isManualGrid:layout.type==='grid'&&layout.isManualPlacement&&window.__experimentalEnableGridInteractivity};},[clientIds]);if(!canMove||isFirst&&isLast&&!rootClientId||hideDragHandle&&isManualGrid){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.ToolbarGroup,{className:dist_clsx('block-editor-block-mover',{'is-horizontal':orientation==='horizontal'}),children:[!hideDragHandle&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_draggable,{clientIds:clientIds,fadeWhenDisabled:true,children:draggableProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,icon:drag_handle,className:"block-editor-block-mover__drag-handle",label:(0,external_wp_i18n_namespaceObject.__)('Drag'),tabIndex:"-1",...draggableProps})}),!isManualGrid&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-mover__move-button-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarItem,{children:itemProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockMoverUpButton,{disabled:isBlockMoverUpButtonDisabled,clientIds:clientIds,...itemProps})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarItem,{children:itemProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockMoverDownButton,{disabled:isBlockMoverDownButtonDisabled,clientIds:clientIds,...itemProps})})]})]});}
const block_mover=(BlockMover);;const{clearTimeout:utils_clearTimeout,setTimeout:utils_setTimeout}=window;const DEBOUNCE_TIMEOUT=200;function useDebouncedShowGestures({ref,isFocused,highlightParent,debounceTimeout=DEBOUNCE_TIMEOUT}){const{getSelectedBlockClientId,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{toggleBlockHighlight}=(0,external_wp_data_namespaceObject.useDispatch)(store);const timeoutRef=(0,external_wp_element_namespaceObject.useRef)();const isDistractionFree=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings().isDistractionFree,[]);const handleOnChange=nextIsFocused=>{if(nextIsFocused&&isDistractionFree){return;}
const selectedBlockClientId=getSelectedBlockClientId();const clientId=highlightParent?getBlockRootClientId(selectedBlockClientId):selectedBlockClientId;toggleBlockHighlight(clientId,nextIsFocused);};const getIsHovered=()=>{return ref?.current&&ref.current.matches(':hover');};const shouldHideGestures=()=>{const isHovered=getIsHovered();return!isFocused&&!isHovered;};const clearTimeoutRef=()=>{const timeout=timeoutRef.current;if(timeout&&utils_clearTimeout){utils_clearTimeout(timeout);}};const debouncedShowGestures=event=>{if(event){event.stopPropagation();}
clearTimeoutRef();handleOnChange(true);};const debouncedHideGestures=event=>{if(event){event.stopPropagation();}
clearTimeoutRef();timeoutRef.current=utils_setTimeout(()=>{if(shouldHideGestures()){handleOnChange(false);}},debounceTimeout);};(0,external_wp_element_namespaceObject.useEffect)(()=>()=>{handleOnChange(false);clearTimeoutRef();},[]);return{debouncedShowGestures,debouncedHideGestures};}
function useShowHoveredOrFocusedGestures({ref,highlightParent=false,debounceTimeout=DEBOUNCE_TIMEOUT}){const[isFocused,setIsFocused]=(0,external_wp_element_namespaceObject.useState)(false);const{debouncedShowGestures,debouncedHideGestures}=useDebouncedShowGestures({ref,debounceTimeout,isFocused,highlightParent});const registerRef=(0,external_wp_element_namespaceObject.useRef)(false);const isFocusedWithin=()=>{return ref?.current&&ref.current.contains(ref.current.ownerDocument.activeElement);};(0,external_wp_element_namespaceObject.useEffect)(()=>{const node=ref.current;const handleOnFocus=()=>{if(isFocusedWithin()){setIsFocused(true);debouncedShowGestures();}};const handleOnBlur=()=>{if(!isFocusedWithin()){setIsFocused(false);debouncedHideGestures();}};if(node&&!registerRef.current){node.addEventListener('focus',handleOnFocus,true);node.addEventListener('blur',handleOnBlur,true);registerRef.current=true;}
return()=>{if(node){node.removeEventListener('focus',handleOnFocus);node.removeEventListener('blur',handleOnBlur);}};},[ref,registerRef,setIsFocused,debouncedShowGestures,debouncedHideGestures]);return{onMouseMove:debouncedShowGestures,onMouseLeave:debouncedHideGestures};};function BlockParentSelector(){const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{parentClientId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockParents,getSelectedBlockClientId,getParentSectionBlock}=unlock(select(store));const selectedBlockClientId=getSelectedBlockClientId();const parentSection=getParentSectionBlock(selectedBlockClientId);const parents=getBlockParents(selectedBlockClientId);const _parentClientId=parentSection!==null&&parentSection!==void 0?parentSection:parents[parents.length-1];return{parentClientId:_parentClientId};},[]);const blockInformation=useBlockDisplayInformation(parentClientId);const nodeRef=(0,external_wp_element_namespaceObject.useRef)();const showHoveredOrFocusedGestures=useShowHoveredOrFocusedGestures({ref:nodeRef,highlightParent:true});return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-parent-selector",ref:nodeRef,...showHoveredOrFocusedGestures,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{className:"block-editor-block-parent-selector__button",onClick:()=>selectBlock(parentClientId),label:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Select parent block: %s'),blockInformation?.title),showTooltip:true,icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:blockInformation?.icon})})},parentClientId);};const copy_copy=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4.5h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5ZM3 5a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm17 3v10.75c0 .69-.56 1.25-1.25 1.25H6v1.5h12.75a2.75 2.75 0 0 0 2.75-2.75V8H20Z"})});const library_copy=(copy_copy);;function PreviewBlockPopover({blocks}){const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');if(isMobile){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-switcher__popover-preview-container",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{className:"block-editor-block-switcher__popover-preview",placement:"right-start",focusOnMount:false,offset:16,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-switcher__preview",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-switcher__preview-title",children:(0,external_wp_i18n_namespaceObject.__)('Preview')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_preview,{viewportWidth:500,blocks:blocks})]})})});};const block_variation_transformations_EMPTY_OBJECT={};function useBlockVariationTransforms({clientIds,blocks}){const{activeBlockVariation,blockVariationTransformations}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockAttributes,canRemoveBlocks}=select(store);const{getActiveBlockVariation,getBlockVariations}=select(external_wp_blocks_namespaceObject.store);const canRemove=canRemoveBlocks(clientIds);if(blocks.length!==1||!canRemove){return block_variation_transformations_EMPTY_OBJECT;}
const[firstBlock]=blocks;return{blockVariationTransformations:getBlockVariations(firstBlock.name,'transform'),activeBlockVariation:getActiveBlockVariation(firstBlock.name,getBlockAttributes(firstBlock.clientId))};},[clientIds,blocks]);const transformations=(0,external_wp_element_namespaceObject.useMemo)(()=>{return blockVariationTransformations?.filter(({name})=>name!==activeBlockVariation?.name);},[blockVariationTransformations,activeBlockVariation]);return transformations;}
const BlockVariationTransformations=({transformations,onSelect,blocks})=>{const[hoveredTransformItemName,setHoveredTransformItemName]=(0,external_wp_element_namespaceObject.useState)();return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[hoveredTransformItemName&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(PreviewBlockPopover,{blocks:(0,external_wp_blocks_namespaceObject.cloneBlock)(blocks[0],transformations.find(({name})=>name===hoveredTransformItemName).attributes)}),transformations?.map(item=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockVariationTransformationItem,{item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName},item.name))]});};function BlockVariationTransformationItem({item,onSelect,setHoveredTransformItemName}){const{name,icon,title}=item;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuItem,{className:(0,external_wp_blocks_namespaceObject.getBlockMenuDefaultClassName)(name),onClick:event=>{event.preventDefault();onSelect(name);},onMouseLeave:()=>setHoveredTransformItemName(null),onMouseEnter:()=>setHoveredTransformItemName(name),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:icon,showColors:true}),title]});}
const block_variation_transformations=(BlockVariationTransformations);;function useGroupedTransforms(possibleBlockTransformations){const priorityContentTransformationBlocks={'core/paragraph':1,'core/heading':2,'core/list':3,'core/quote':4};const transformations=(0,external_wp_element_namespaceObject.useMemo)(()=>{const priorityTextTransformsNames=Object.keys(priorityContentTransformationBlocks);const groupedPossibleTransforms=possibleBlockTransformations.reduce((accumulator,item)=>{const{name}=item;if(priorityTextTransformsNames.includes(name)){accumulator.priorityTextTransformations.push(item);}else{accumulator.restTransformations.push(item);}
return accumulator;},{priorityTextTransformations:[],restTransformations:[]});if(groupedPossibleTransforms.priorityTextTransformations.length===1&&groupedPossibleTransforms.priorityTextTransformations[0].name==='core/quote'){const singleQuote=groupedPossibleTransforms.priorityTextTransformations.pop();groupedPossibleTransforms.restTransformations.push(singleQuote);}
return groupedPossibleTransforms;},[possibleBlockTransformations]);transformations.priorityTextTransformations.sort(({name:currentName},{name:nextName})=>{return priorityContentTransformationBlocks[currentName]<priorityContentTransformationBlocks[nextName]?-1:1;});return transformations;}
const BlockTransformationsMenu=({className,possibleBlockTransformations,possibleBlockVariationTransformations,onSelect,onSelectVariation,blocks})=>{const[hoveredTransformItemName,setHoveredTransformItemName]=(0,external_wp_element_namespaceObject.useState)();const{priorityTextTransformations,restTransformations}=useGroupedTransforms(possibleBlockTransformations);const hasBothContentTransformations=priorityTextTransformations.length&&restTransformations.length;const restTransformItems=!!restTransformations.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(RestTransformationItems,{restTransformations:restTransformations,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Transform to'),className:className,children:[hoveredTransformItemName&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(PreviewBlockPopover,{blocks:(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,hoveredTransformItemName)}),!!possibleBlockVariationTransformations?.length&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_variation_transformations,{transformations:possibleBlockVariationTransformations,blocks:blocks,onSelect:onSelectVariation}),priorityTextTransformations.map(item=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockTransformationItem,{item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName},item.name)),!hasBothContentTransformations&&restTransformItems]}),!!hasBothContentTransformations&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{className:className,children:restTransformItems})]});};function RestTransformationItems({restTransformations,onSelect,setHoveredTransformItemName}){return restTransformations.map(item=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockTransformationItem,{item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName},item.name));}
function BlockTransformationItem({item,onSelect,setHoveredTransformItemName}){const{name,icon,title,isDisabled}=item;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuItem,{className:(0,external_wp_blocks_namespaceObject.getBlockMenuDefaultClassName)(name),onClick:event=>{event.preventDefault();onSelect(name);},disabled:isDisabled,onMouseLeave:()=>setHoveredTransformItemName(null),onMouseEnter:()=>setHoveredTransformItemName(name),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:icon,showColors:true}),title]});}
const block_transformations_menu=(BlockTransformationsMenu);;function getActiveStyle(styles,className){for(const style of new(external_wp_tokenList_default())(className).values()){if(style.indexOf('is-style-')===-1){continue;}
const potentialStyleName=style.substring(9);const activeStyle=styles?.find(({name})=>name===potentialStyleName);if(activeStyle){return activeStyle;}}
return getDefaultStyle(styles);}
function replaceActiveStyle(className,activeStyle,newStyle){const list=new(external_wp_tokenList_default())(className);if(activeStyle){list.remove('is-style-'+activeStyle.name);}
list.add('is-style-'+newStyle.name);return list.value;}
function getRenderedStyles(styles){if(!styles||styles.length===0){return[];}
return getDefaultStyle(styles)?styles:[{name:'default',label:(0,external_wp_i18n_namespaceObject._x)('Default','block style'),isDefault:true},...styles];}
function getDefaultStyle(styles){return styles?.find(style=>style.isDefault);};function useGenericPreviewBlock(block,type){return(0,external_wp_element_namespaceObject.useMemo)(()=>{const example=type?.example;const blockName=type?.name;if(example&&blockName){return(0,external_wp_blocks_namespaceObject.getBlockFromExample)(blockName,{attributes:example.attributes,innerBlocks:example.innerBlocks});}
if(block){return(0,external_wp_blocks_namespaceObject.cloneBlock)(block);}},[type?.example?block?.name:block,type]);}
function useStylesForBlocks({clientId,onSwitch}){const selector=select=>{const{getBlock}=select(store);const block=getBlock(clientId);if(!block){return{};}
const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(block.name);const{getBlockStyles}=select(external_wp_blocks_namespaceObject.store);return{block,blockType,styles:getBlockStyles(block.name),className:block.attributes.className||''};};const{styles,block,blockType,className}=(0,external_wp_data_namespaceObject.useSelect)(selector,[clientId]);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const stylesToRender=getRenderedStyles(styles);const activeStyle=getActiveStyle(stylesToRender,className);const genericPreviewBlock=useGenericPreviewBlock(block,blockType);const onSelect=style=>{const styleClassName=replaceActiveStyle(className,activeStyle,style);updateBlockAttributes(clientId,{className:styleClassName});onSwitch();};return{onSelect,stylesToRender,activeStyle,genericPreviewBlock,className};};const menu_items_noop=()=>{};function BlockStylesMenuItems({clientId,onSwitch=menu_items_noop}){const{onSelect,stylesToRender,activeStyle}=useStylesForBlocks({clientId,onSwitch});if(!stylesToRender||stylesToRender.length===0){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:stylesToRender.map(style=>{const menuItemText=style.label||style.name;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{icon:activeStyle.name===style.name?library_check:null,onClick:()=>onSelect(style),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{as:"span",limit:18,ellipsizeMode:"tail",truncate:true,children:menuItemText})},style.name);})});};function BlockStylesMenu({hoveredBlock,onSwitch}){const{clientId}=hoveredBlock;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Styles'),className:"block-editor-block-switcher__styles__menugroup",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockStylesMenuItems,{clientId:clientId,onSwitch:onSwitch})});};const getMatchingBlockByName=(block,selectedBlockName,consumedBlocks=new Set())=>{const{clientId,name,innerBlocks=[]}=block;if(consumedBlocks.has(clientId)){return;}
if(name===selectedBlockName){return block;}
for(const innerBlock of innerBlocks){const match=getMatchingBlockByName(innerBlock,selectedBlockName,consumedBlocks);if(match){return match;}}};const getRetainedBlockAttributes=(name,attributes)=>{const contentAttributes=(0,external_wp_blocks_namespaceObject.getBlockAttributesNamesByRole)(name,'content');if(!contentAttributes?.length){return attributes;}
return contentAttributes.reduce((_accumulator,attribute)=>{if(attributes[attribute]){_accumulator[attribute]=attributes[attribute];}
return _accumulator;},{});};;const transformMatchingBlock=(match,selectedBlock)=>{const retainedBlockAttributes=getRetainedBlockAttributes(selectedBlock.name,selectedBlock.attributes);match.attributes={...match.attributes,...retainedBlockAttributes};};const getPatternTransformedBlocks=(selectedBlocks,patternBlocks)=>{const _patternBlocks=patternBlocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));const consumedBlocks=new Set();for(const selectedBlock of selectedBlocks){let isMatch=false;for(const patternBlock of _patternBlocks){const match=getMatchingBlockByName(patternBlock,selectedBlock.name,consumedBlocks);if(!match){continue;}
isMatch=true;consumedBlocks.add(match.clientId);transformMatchingBlock(match,selectedBlock);break;}
if(!isMatch){return;}}
return _patternBlocks;};const useTransformedPatterns=(patterns,selectedBlocks)=>{return(0,external_wp_element_namespaceObject.useMemo)(()=>patterns.reduce((accumulator,_pattern)=>{const transformedBlocks=getPatternTransformedBlocks(selectedBlocks,_pattern.blocks);if(transformedBlocks){accumulator.push({..._pattern,transformedBlocks});}
return accumulator;},[]),[patterns,selectedBlocks]);};const use_transformed_patterns=(useTransformedPatterns);;function PatternTransformationsMenu({blocks,patterns:statePatterns,onSelect}){const[showTransforms,setShowTransforms]=(0,external_wp_element_namespaceObject.useState)(false);const patterns=use_transformed_patterns(statePatterns,blocks);if(!patterns.length){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuGroup,{className:"block-editor-block-switcher__pattern__transforms__menugroup",children:[showTransforms&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(PreviewPatternsPopover,{patterns:patterns,onSelect:onSelect}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:event=>{event.preventDefault();setShowTransforms(!showTransforms);},icon:chevron_right,children:(0,external_wp_i18n_namespaceObject.__)('Patterns')})]});}
function PreviewPatternsPopover({patterns,onSelect}){const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-switcher__popover-preview-container",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{className:"block-editor-block-switcher__popover-preview",placement:isMobile?'bottom':'right-start',offset:16,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-switcher__preview is-pattern-list-preview",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(pattern_transformations_menu_BlockPatternsList,{patterns:patterns,onSelect:onSelect})})})});}
function pattern_transformations_menu_BlockPatternsList({patterns,onSelect}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite,{role:"listbox",className:"block-editor-block-switcher__preview-patterns-container","aria-label":(0,external_wp_i18n_namespaceObject.__)('Patterns list'),children:patterns.map(pattern=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(pattern_transformations_menu_BlockPattern,{pattern:pattern,onSelect:onSelect},pattern.name))});}
function pattern_transformations_menu_BlockPattern({pattern,onSelect}){const baseClassName='block-editor-block-switcher__preview-patterns-container';const descriptionId=(0,external_wp_compose_namespaceObject.useInstanceId)(pattern_transformations_menu_BlockPattern,`${baseClassName}-list__item-description`);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:`${baseClassName}-list__list-item`,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Composite.Item,{render:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{role:"option","aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:undefined,className:`${baseClassName}-list__item`}),onClick:()=>onSelect(pattern.transformedBlocks),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_preview,{blocks:pattern.transformedBlocks,viewportWidth:pattern.viewportWidth||500}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:`${baseClassName}-list__item-title`,children:pattern.title})]}),!!pattern.description&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId,children:pattern.description})]});}
const pattern_transformations_menu=(PatternTransformationsMenu);;function BlockSwitcherDropdownMenuContents({onClose,clientIds,hasBlockStyles,canRemove}){const{replaceBlocks,multiSelect,updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{possibleBlockTransformations,patterns,blocks,isUsingBindings}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockAttributes,getBlocksByClientId,getBlockRootClientId,getBlockTransformItems,__experimentalGetPatternTransformItems}=select(store);const rootClientId=getBlockRootClientId(clientIds[0]);const _blocks=getBlocksByClientId(clientIds);return{blocks:_blocks,possibleBlockTransformations:getBlockTransformItems(_blocks,rootClientId),patterns:__experimentalGetPatternTransformItems(_blocks,rootClientId),isUsingBindings:clientIds.every(clientId=>!!getBlockAttributes(clientId)?.metadata?.bindings)};},[clientIds]);const blockVariationTransformations=useBlockVariationTransforms({clientIds,blocks});function selectForMultipleBlocks(insertedBlocks){if(insertedBlocks.length>1){multiSelect(insertedBlocks[0].clientId,insertedBlocks[insertedBlocks.length-1].clientId);}}
function onBlockTransform(name){const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,name);replaceBlocks(clientIds,newBlocks);selectForMultipleBlocks(newBlocks);}
function onBlockVariationTransform(name){updateBlockAttributes(blocks[0].clientId,{...blockVariationTransformations.find(({name:variationName})=>variationName===name).attributes});}
function onPatternTransform(transformedBlocks){replaceBlocks(clientIds,transformedBlocks);selectForMultipleBlocks(transformedBlocks);}
const isSingleBlock=blocks.length===1;const isTemplate=isSingleBlock&&(0,external_wp_blocks_namespaceObject.isTemplatePart)(blocks[0]);const hasPossibleBlockTransformations=!!possibleBlockTransformations.length&&canRemove&&!isTemplate;const hasPossibleBlockVariationTransformations=!!blockVariationTransformations?.length;const hasPatternTransformation=!!patterns?.length&&canRemove;const hasBlockOrBlockVariationTransforms=hasPossibleBlockTransformations||hasPossibleBlockVariationTransformations;const hasContents=hasBlockStyles||hasBlockOrBlockVariationTransforms||hasPatternTransformation;if(!hasContents){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{className:"block-editor-block-switcher__no-transforms",children:(0,external_wp_i18n_namespaceObject.__)('No transforms.')});}
const connectedBlockDescription=isSingleBlock?(0,external_wp_i18n_namespaceObject._x)('This block is connected.','block toolbar button label and description'):(0,external_wp_i18n_namespaceObject._x)('These blocks are connected.','block toolbar button label and description');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-switcher__container",children:[hasPatternTransformation&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(pattern_transformations_menu,{blocks:blocks,patterns:patterns,onSelect:transformedBlocks=>{onPatternTransform(transformedBlocks);onClose();}}),hasBlockOrBlockVariationTransforms&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_transformations_menu,{className:"block-editor-block-switcher__transforms__menugroup",possibleBlockTransformations:possibleBlockTransformations,possibleBlockVariationTransformations:blockVariationTransformations,blocks:blocks,onSelect:name=>{onBlockTransform(name);onClose();},onSelectVariation:name=>{onBlockVariationTransform(name);onClose();}}),hasBlockStyles&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockStylesMenu,{hoveredBlock:blocks[0],onSwitch:onClose}),isUsingBindings&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{className:"block-editor-block-switcher__binding-indicator",children:connectedBlockDescription})})]});}
const BlockSwitcher=({clientIds})=>{const{hasContentOnlyLocking,canRemove,hasBlockStyles,icon,invalidBlocks,isReusable,isTemplate,isDisabled}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getTemplateLock,getBlocksByClientId,getBlockAttributes,canRemoveBlocks,getBlockEditingMode}=select(store);const{getBlockStyles,getBlockType,getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const _blocks=getBlocksByClientId(clientIds);if(!_blocks.length||_blocks.some(block=>!block)){return{invalidBlocks:true};}
const[{name:firstBlockName}]=_blocks;const _isSingleBlockSelected=_blocks.length===1;const blockType=getBlockType(firstBlockName);const editingMode=getBlockEditingMode(clientIds[0]);let _icon;let _hasTemplateLock;if(_isSingleBlockSelected){const match=getActiveBlockVariation(firstBlockName,getBlockAttributes(clientIds[0]));_icon=match?.icon||blockType.icon;_hasTemplateLock=getTemplateLock(clientIds[0])==='contentOnly';}else{const isSelectionOfSameType=new Set(_blocks.map(({name})=>name)).size===1;_hasTemplateLock=clientIds.some(id=>getTemplateLock(id)==='contentOnly');_icon=isSelectionOfSameType?blockType.icon:library_copy;}
return{canRemove:canRemoveBlocks(clientIds),hasBlockStyles:_isSingleBlockSelected&&!!getBlockStyles(firstBlockName)?.length,icon:_icon,isReusable:_isSingleBlockSelected&&(0,external_wp_blocks_namespaceObject.isReusableBlock)(_blocks[0]),isTemplate:_isSingleBlockSelected&&(0,external_wp_blocks_namespaceObject.isTemplatePart)(_blocks[0]),hasContentOnlyLocking:_hasTemplateLock,isDisabled:editingMode!=='default'};},[clientIds]);const blockTitle=useBlockDisplayTitle({clientId:clientIds?.[0],maximumLength:35});const showIconLabels=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_preferences_namespaceObject.store).get('core','showIconLabels'),[]);if(invalidBlocks){return null;}
const isSingleBlock=clientIds.length===1;const blockSwitcherLabel=isSingleBlock?blockTitle:(0,external_wp_i18n_namespaceObject.__)('Multiple blocks selected');const blockIndicatorText=(isReusable||isTemplate)&&!showIconLabels&&blockTitle?blockTitle:undefined;const hideDropdown=isDisabled||!hasBlockStyles&&!canRemove||hasContentOnlyLocking;if(hideDropdown){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{disabled:true,className:"block-editor-block-switcher__no-switcher-icon",title:blockSwitcherLabel,icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{className:"block-editor-block-switcher__toggle",icon:icon,showColors:true}),text:blockIndicatorText})});}
const blockSwitcherDescription=isSingleBlock?(0,external_wp_i18n_namespaceObject.__)('Change block type or style'):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('Change type of %d block','Change type of %d blocks',clientIds.length),clientIds.length);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarItem,{children:toggleProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{className:"block-editor-block-switcher",label:blockSwitcherLabel,popoverProps:{placement:'bottom-start',className:'block-editor-block-switcher__popover'},icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{className:"block-editor-block-switcher__toggle",icon:icon,showColors:true}),text:blockIndicatorText,toggleProps:{description:blockSwitcherDescription,...toggleProps},menuProps:{orientation:'both'},children:({onClose})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockSwitcherDropdownMenuContents,{onClose:onClose,clientIds:clientIds,hasBlockStyles:hasBlockStyles,canRemove:canRemove})})})});};const block_switcher=(BlockSwitcher);;const{Fill:__unstableBlockToolbarLastItem,Slot:block_toolbar_last_item_Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('__unstableBlockToolbarLastItem');__unstableBlockToolbarLastItem.Slot=block_toolbar_last_item_Slot;const block_toolbar_last_item=(__unstableBlockToolbarLastItem);;const ALIGN_SUPPORT_KEY='align';const ALIGN_WIDE_SUPPORT_KEY='alignWide';const supports_BORDER_SUPPORT_KEY='__experimentalBorder';const supports_COLOR_SUPPORT_KEY='color';const CUSTOM_CLASS_NAME_SUPPORT_KEY='customClassName';const supports_FONT_FAMILY_SUPPORT_KEY='typography.__experimentalFontFamily';const supports_FONT_SIZE_SUPPORT_KEY='typography.fontSize';const supports_LINE_HEIGHT_SUPPORT_KEY='typography.lineHeight';const supports_FONT_STYLE_SUPPORT_KEY='typography.__experimentalFontStyle';const supports_FONT_WEIGHT_SUPPORT_KEY='typography.__experimentalFontWeight';const supports_TEXT_ALIGN_SUPPORT_KEY='typography.textAlign';const supports_TEXT_COLUMNS_SUPPORT_KEY='typography.textColumns';const supports_TEXT_DECORATION_SUPPORT_KEY='typography.__experimentalTextDecoration';const supports_WRITING_MODE_SUPPORT_KEY='typography.__experimentalWritingMode';const supports_TEXT_TRANSFORM_SUPPORT_KEY='typography.__experimentalTextTransform';const supports_LETTER_SPACING_SUPPORT_KEY='typography.__experimentalLetterSpacing';const LAYOUT_SUPPORT_KEY='layout';const supports_TYPOGRAPHY_SUPPORT_KEYS=[supports_LINE_HEIGHT_SUPPORT_KEY,supports_FONT_SIZE_SUPPORT_KEY,supports_FONT_STYLE_SUPPORT_KEY,supports_FONT_WEIGHT_SUPPORT_KEY,supports_FONT_FAMILY_SUPPORT_KEY,supports_TEXT_ALIGN_SUPPORT_KEY,supports_TEXT_COLUMNS_SUPPORT_KEY,supports_TEXT_DECORATION_SUPPORT_KEY,supports_TEXT_TRANSFORM_SUPPORT_KEY,supports_WRITING_MODE_SUPPORT_KEY,supports_LETTER_SPACING_SUPPORT_KEY];const EFFECTS_SUPPORT_KEYS=['shadow'];const supports_SPACING_SUPPORT_KEY='spacing';const supports_styleSupportKeys=[...EFFECTS_SUPPORT_KEYS,...supports_TYPOGRAPHY_SUPPORT_KEYS,supports_BORDER_SUPPORT_KEY,supports_COLOR_SUPPORT_KEY,supports_SPACING_SUPPORT_KEY];const hasAlignSupport=nameOrType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,ALIGN_SUPPORT_KEY);const getAlignSupport=nameOrType=>getBlockSupport(nameOrType,ALIGN_SUPPORT_KEY);const hasAlignWideSupport=nameOrType=>hasBlockSupport(nameOrType,ALIGN_WIDE_SUPPORT_KEY);const getAlignWideSupport=nameOrType=>getBlockSupport(nameOrType,ALIGN_WIDE_SUPPORT_KEY);function supports_hasBorderSupport(nameOrType,feature='any'){if(external_wp_element_namespaceObject.Platform.OS!=='web'){return false;}
const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(nameOrType,supports_BORDER_SUPPORT_KEY);if(support===true){return true;}
if(feature==='any'){return!!(support?.color||support?.radius||support?.width||support?.style);}
return!!support?.[feature];}
const getBorderSupport=(nameOrType,feature)=>getBlockSupport(nameOrType,[supports_BORDER_SUPPORT_KEY,feature]);const supports_hasColorSupport=nameOrType=>{const colorSupport=getBlockSupport(nameOrType,supports_COLOR_SUPPORT_KEY);return colorSupport&&(colorSupport.link===true||colorSupport.gradient===true||colorSupport.background!==false||colorSupport.text!==false);};const supports_hasLinkColorSupport=nameOrType=>{if(Platform.OS!=='web'){return false;}
const colorSupport=getBlockSupport(nameOrType,supports_COLOR_SUPPORT_KEY);return colorSupport!==null&&typeof colorSupport==='object'&&!!colorSupport.link;};const supports_hasGradientSupport=nameOrType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(nameOrType,supports_COLOR_SUPPORT_KEY);return colorSupport!==null&&typeof colorSupport==='object'&&!!colorSupport.gradients;};const supports_hasBackgroundColorSupport=nameOrType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(nameOrType,supports_COLOR_SUPPORT_KEY);return colorSupport&&colorSupport.background!==false;};const hasTextAlignSupport=nameOrType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,supports_TEXT_ALIGN_SUPPORT_KEY);const getTextAlignSupport=nameOrType=>getBlockSupport(nameOrType,supports_TEXT_ALIGN_SUPPORT_KEY);const supports_hasTextColorSupport=nameOrType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(nameOrType,supports_COLOR_SUPPORT_KEY);return colorSupport&&colorSupport.text!==false;};const getColorSupport=(nameOrType,feature)=>getBlockSupport(nameOrType,[supports_COLOR_SUPPORT_KEY,feature]);const hasCustomClassNameSupport=nameOrType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,CUSTOM_CLASS_NAME_SUPPORT_KEY,true);const getCustomClassNameSupport=nameOrType=>getBlockSupport(nameOrType,CUSTOM_CLASS_NAME_SUPPORT_KEY,true);const hasFontFamilySupport=nameOrType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,supports_FONT_FAMILY_SUPPORT_KEY);const getFontFamilySupport=nameOrType=>getBlockSupport(nameOrType,supports_FONT_FAMILY_SUPPORT_KEY);const hasFontSizeSupport=nameOrType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,supports_FONT_SIZE_SUPPORT_KEY);const getFontSizeSupport=nameOrType=>getBlockSupport(nameOrType,supports_FONT_SIZE_SUPPORT_KEY);const hasLayoutSupport=nameOrType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,LAYOUT_SUPPORT_KEY);const getLayoutSupport=nameOrType=>getBlockSupport(nameOrType,LAYOUT_SUPPORT_KEY);const supports_hasStyleSupport=nameOrType=>supports_styleSupportKeys.some(key=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,key));;function hasSerializedBlocks(text){try{const blocks=(0,external_wp_blocks_namespaceObject.parse)(text,{__unstableSkipMigrationLogs:true,__unstableSkipAutop:true});if(blocks.length===1&&blocks[0].name==='core/freeform'){return false;}
return true;}catch(err){return false;}}
const STYLE_ATTRIBUTES={align:hasAlignSupport,borderColor:nameOrType=>supports_hasBorderSupport(nameOrType,'color'),backgroundColor:supports_hasBackgroundColorSupport,textAlign:hasTextAlignSupport,textColor:supports_hasTextColorSupport,gradient:supports_hasGradientSupport,className:hasCustomClassNameSupport,fontFamily:hasFontFamilySupport,fontSize:hasFontSizeSupport,layout:hasLayoutSupport,style:supports_hasStyleSupport};function getStyleAttributes(sourceBlock,targetBlock){return Object.entries(STYLE_ATTRIBUTES).reduce((attributes,[attributeKey,hasSupport])=>{if(hasSupport(sourceBlock.name)&&hasSupport(targetBlock.name)){attributes[attributeKey]=sourceBlock.attributes[attributeKey];}
return attributes;},{});}
function recursivelyUpdateBlockAttributes(targetBlocks,sourceBlocks,updateBlockAttributes){for(let index=0;index<Math.min(sourceBlocks.length,targetBlocks.length);index+=1){updateBlockAttributes(targetBlocks[index].clientId,getStyleAttributes(sourceBlocks[index],targetBlocks[index]));recursivelyUpdateBlockAttributes(targetBlocks[index].innerBlocks,sourceBlocks[index].innerBlocks,updateBlockAttributes);}}
function usePasteStyles(){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{createSuccessNotice,createWarningNotice,createErrorNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);return(0,external_wp_element_namespaceObject.useCallback)(async targetBlocks=>{let html='';try{if(!window.navigator.clipboard){createErrorNotice((0,external_wp_i18n_namespaceObject.__)('Unable to paste styles. This feature is only available on secure (https) sites in supporting browsers.'),{type:'snackbar'});return;}
html=await window.navigator.clipboard.readText();}catch(error){createErrorNotice((0,external_wp_i18n_namespaceObject.__)('Unable to paste styles. Please allow browser clipboard permissions before continuing.'),{type:'snackbar'});return;}
if(!html||!hasSerializedBlocks(html)){createWarningNotice((0,external_wp_i18n_namespaceObject.__)("Unable to paste styles. Block styles couldn't be found within the copied content."),{type:'snackbar'});return;}
const copiedBlocks=(0,external_wp_blocks_namespaceObject.parse)(html);if(copiedBlocks.length===1){registry.batch(()=>{recursivelyUpdateBlockAttributes(targetBlocks,targetBlocks.map(()=>copiedBlocks[0]),updateBlockAttributes);});}else{registry.batch(()=>{recursivelyUpdateBlockAttributes(targetBlocks,copiedBlocks,updateBlockAttributes);});}
if(targetBlocks.length===1){const title=(0,external_wp_blocks_namespaceObject.getBlockType)(targetBlocks[0].name)?.title;createSuccessNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Pasted styles to %s.'),title),{type:'snackbar'});}else{createSuccessNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Pasted styles to %d blocks.'),targetBlocks.length),{type:'snackbar'});}},[registry.batch,updateBlockAttributes,createSuccessNotice,createWarningNotice,createErrorNotice]);};function BlockActions({clientIds,children,__experimentalUpdateSelection:updateSelection}){const{getDefaultBlockName,getGroupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const selected=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canInsertBlockType,getBlockRootClientId,getBlocksByClientId,getDirectInsertBlock,canRemoveBlocks}=select(store);const blocks=getBlocksByClientId(clientIds);const rootClientId=getBlockRootClientId(clientIds[0]);const canInsertDefaultBlock=canInsertBlockType(getDefaultBlockName(),rootClientId);const directInsertBlock=rootClientId?getDirectInsertBlock(rootClientId):null;return{canRemove:canRemoveBlocks(clientIds),canInsertBlock:canInsertDefaultBlock||!!directInsertBlock,canCopyStyles:blocks.every(block=>{return!!block&&((0,external_wp_blocks_namespaceObject.hasBlockSupport)(block.name,'color')||(0,external_wp_blocks_namespaceObject.hasBlockSupport)(block.name,'typography'));}),canDuplicate:blocks.every(block=>{return!!block&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(block.name,'multiple',true)&&canInsertBlockType(block.name,rootClientId);})};},[clientIds,getDefaultBlockName]);const{getBlocksByClientId,getBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const{canRemove,canInsertBlock,canCopyStyles,canDuplicate}=selected;const{removeBlocks,replaceBlocks,duplicateBlocks,insertAfterBlock,insertBeforeBlock,flashBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const pasteStyles=usePasteStyles();return children({canCopyStyles,canDuplicate,canInsertBlock,canRemove,onDuplicate(){return duplicateBlocks(clientIds,updateSelection);},onRemove(){return removeBlocks(clientIds,updateSelection);},onInsertBefore(){insertBeforeBlock(clientIds[0]);},onInsertAfter(){insertAfterBlock(clientIds[clientIds.length-1]);},onGroup(){if(!clientIds.length){return;}
const groupingBlockName=getGroupingBlockName();const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(getBlocksByClientId(clientIds),groupingBlockName);if(!newBlocks){return;}
replaceBlocks(clientIds,newBlocks);},onUngroup(){if(!clientIds.length){return;}
const innerBlocks=getBlocks(clientIds[0]);if(!innerBlocks.length){return;}
replaceBlocks(clientIds,innerBlocks);},onCopy(){if(clientIds.length===1){flashBlock(clientIds[0]);}},async onPasteStyles(){await pasteStyles(getBlocksByClientId(clientIds));}});};const CommentIconSlotFill=(0,external_wp_components_namespaceObject.createSlotFill)(Symbol('CommentIconSlotFill'));const block_comment_icon_slot=(CommentIconSlotFill);;function BlockHTMLConvertButton({clientId}){const block=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlock(clientId),[clientId]);const{replaceBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);if(!block||block.name!=='core/html'){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>replaceBlocks(clientId,(0,external_wp_blocks_namespaceObject.rawHandler)({HTML:(0,external_wp_blocks_namespaceObject.getBlockContent)(block)})),children:(0,external_wp_i18n_namespaceObject.__)('Convert to Blocks')});}
const block_html_convert_button=(BlockHTMLConvertButton);;const{Fill:__unstableBlockSettingsMenuFirstItem,Slot:block_settings_menu_first_item_Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('__unstableBlockSettingsMenuFirstItem');__unstableBlockSettingsMenuFirstItem.Slot=block_settings_menu_first_item_Slot;const block_settings_menu_first_item=(__unstableBlockSettingsMenuFirstItem);;function useConvertToGroupButtonProps(selectedClientIds){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlocksByClientId,getSelectedBlockClientIds,isUngroupable,isGroupable}=select(store);const{getGroupingBlockName,getBlockType}=select(external_wp_blocks_namespaceObject.store);const clientIds=selectedClientIds?.length?selectedClientIds:getSelectedBlockClientIds();const blocksSelection=getBlocksByClientId(clientIds);const[firstSelectedBlock]=blocksSelection;const _isUngroupable=clientIds.length===1&&isUngroupable(clientIds[0]);return{clientIds,isGroupable:isGroupable(clientIds),isUngroupable:_isUngroupable,blocksSelection,groupingBlockName:getGroupingBlockName(),onUngroup:_isUngroupable&&getBlockType(firstSelectedBlock.name)?.transforms?.ungroup};},[selectedClientIds]);};function ConvertToGroupButton({clientIds,isGroupable,isUngroupable,onUngroup,blocksSelection,groupingBlockName,onClose=()=>{}}){const{getSelectedBlockClientIds}=(0,external_wp_data_namespaceObject.useSelect)(store);const{replaceBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onConvertToGroup=()=>{const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocksSelection,groupingBlockName);if(newBlocks){replaceBlocks(clientIds,newBlocks);}};const onConvertFromGroup=()=>{let innerBlocks=blocksSelection[0].innerBlocks;if(!innerBlocks.length){return;}
if(onUngroup){innerBlocks=onUngroup(blocksSelection[0].attributes,blocksSelection[0].innerBlocks);}
replaceBlocks(clientIds,innerBlocks);};if(!isGroupable&&!isUngroupable){return null;}
const selectedBlockClientIds=getSelectedBlockClientIds();return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[isGroupable&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{shortcut:selectedBlockClientIds.length>1?external_wp_keycodes_namespaceObject.displayShortcut.primary('g'):undefined,onClick:()=>{onConvertToGroup();onClose();},children:(0,external_wp_i18n_namespaceObject._x)('Group','verb')}),isUngroupable&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{onConvertFromGroup();onClose();},children:(0,external_wp_i18n_namespaceObject._x)('Ungroup','Ungrouping blocks from within a grouping block back into individual blocks within the Editor')})]});};function useBlockLock(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canEditBlock,canMoveBlock,canRemoveBlock,canLockBlockType,getBlockName,getTemplateLock}=select(store);const canEdit=canEditBlock(clientId);const canMove=canMoveBlock(clientId);const canRemove=canRemoveBlock(clientId);return{canEdit,canMove,canRemove,canLock:canLockBlockType(getBlockName(clientId)),isContentLocked:getTemplateLock(clientId)==='contentOnly',isLocked:!canEdit||!canMove||!canRemove};},[clientId]);};const unlock_unlock=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8h1.5c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1z"})});const library_unlock=(unlock_unlock);;const lockOutline=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zM9.8 7c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v3H9.8V7zm6.7 11.5h-9v-7h9v7z"})});const lock_outline=(lockOutline);;const lock_lock=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})});const library_lock=(lock_lock);;const ALLOWS_EDIT_LOCKING=['core/navigation'];function getTemplateLockValue(lock){if(lock.remove&&lock.move){return'all';}
if(lock.remove&&!lock.move){return'insert';}
return false;}
function BlockLockModal({clientId,onClose}){const[lock,setLock]=(0,external_wp_element_namespaceObject.useState)({move:false,remove:false});const{canEdit,canMove,canRemove}=useBlockLock(clientId);const{allowsEditLocking,templateLock,hasTemplateLock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,getBlockAttributes}=select(store);const blockName=getBlockName(clientId);const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);return{allowsEditLocking:ALLOWS_EDIT_LOCKING.includes(blockName),templateLock:getBlockAttributes(clientId)?.templateLock,hasTemplateLock:!!blockType?.attributes?.templateLock};},[clientId]);const[applyTemplateLock,setApplyTemplateLock]=(0,external_wp_element_namespaceObject.useState)(!!templateLock);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const blockInformation=useBlockDisplayInformation(clientId);(0,external_wp_element_namespaceObject.useEffect)(()=>{setLock({move:!canMove,remove:!canRemove,...(allowsEditLocking?{edit:!canEdit}:{})});},[canEdit,canMove,canRemove,allowsEditLocking]);const isAllChecked=Object.values(lock).every(Boolean);const isMixed=Object.values(lock).some(Boolean)&&!isAllChecked;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Lock %s'),blockInformation.title),overlayClassName:"block-editor-block-lock-modal",onRequestClose:onClose,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("form",{onSubmit:event=>{event.preventDefault();updateBlockAttributes([clientId],{lock,templateLock:applyTemplateLock?getTemplateLockValue(lock):undefined});onClose();},children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{className:"block-editor-block-lock-modal__options",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("legend",{children:(0,external_wp_i18n_namespaceObject.__)('Select the features you want to lock')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("ul",{role:"list",className:"block-editor-block-lock-modal__checklist",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CheckboxControl,{__nextHasNoMarginBottom:true,className:"block-editor-block-lock-modal__options-all",label:(0,external_wp_i18n_namespaceObject.__)('Lock all'),checked:isAllChecked,indeterminate:isMixed,onChange:newValue=>setLock({move:newValue,remove:newValue,...(allowsEditLocking?{edit:newValue}:{})})}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("ul",{role:"list",className:"block-editor-block-lock-modal__checklist",children:[allowsEditLocking&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{className:"block-editor-block-lock-modal__checklist-item",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CheckboxControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Lock editing'),checked:!!lock.edit,onChange:edit=>setLock(prevLock=>({...prevLock,edit}))}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.edit?library_lock:library_unlock})]}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{className:"block-editor-block-lock-modal__checklist-item",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CheckboxControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Lock movement'),checked:lock.move,onChange:move=>setLock(prevLock=>({...prevLock,move}))}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.move?library_lock:library_unlock})]}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{className:"block-editor-block-lock-modal__checklist-item",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CheckboxControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Lock removal'),checked:lock.remove,onChange:remove=>setLock(prevLock=>({...prevLock,remove}))}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.remove?library_lock:library_unlock})]})]})]})}),hasTemplateLock&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,className:"block-editor-block-lock-modal__template-lock",label:(0,external_wp_i18n_namespaceObject.__)('Apply to all blocks inside'),checked:applyTemplateLock,disabled:lock.move&&!lock.remove,onChange:()=>setApplyTemplateLock(!applyTemplateLock)})]}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:false,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:onClose,__next40pxDefaultSize:true,children:(0,external_wp_i18n_namespaceObject.__)('Cancel')})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"primary",type:"submit",__next40pxDefaultSize:true,children:(0,external_wp_i18n_namespaceObject.__)('Apply')})})]})]})});};function BlockLockMenuItem({clientId}){const{canLock,isLocked}=useBlockLock(clientId);const[isModalOpen,toggleModal]=(0,external_wp_element_namespaceObject.useReducer)(isActive=>!isActive,false);if(!canLock){return null;}
const label=isLocked?(0,external_wp_i18n_namespaceObject.__)('Unlock'):(0,external_wp_i18n_namespaceObject.__)('Lock');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{icon:isLocked?library_unlock:lock_outline,onClick:toggleModal,"aria-expanded":isModalOpen,"aria-haspopup":"dialog",children:label}),isModalOpen&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockLockModal,{clientId:clientId,onClose:toggleModal})]});};const block_mode_toggle_noop=()=>{};function BlockModeToggle({clientId,onToggle=block_mode_toggle_noop}){const{blockType,mode,isCodeEditingEnabled}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlock,getBlockMode,getSettings}=select(store);const block=getBlock(clientId);return{mode:getBlockMode(clientId),blockType:block?(0,external_wp_blocks_namespaceObject.getBlockType)(block.name):null,isCodeEditingEnabled:getSettings().codeEditingEnabled};},[clientId]);const{toggleBlockMode}=(0,external_wp_data_namespaceObject.useDispatch)(store);if(!blockType||!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'html',true)||!isCodeEditingEnabled){return null;}
const label=mode==='visual'?(0,external_wp_i18n_namespaceObject.__)('Edit as HTML'):(0,external_wp_i18n_namespaceObject.__)('Edit visually');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{toggleBlockMode(clientId);onToggle();},children:label});};function ModifyContentLockMenuItem({clientId,onClose}){const{templateLock,isLockedByParent,isEditingAsBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getContentLockingParent,getTemplateLock,getTemporarilyEditingAsBlocks}=unlock(select(store));return{templateLock:getTemplateLock(clientId),isLockedByParent:!!getContentLockingParent(clientId),isEditingAsBlocks:getTemporarilyEditingAsBlocks()===clientId};},[clientId]);const blockEditorActions=(0,external_wp_data_namespaceObject.useDispatch)(store);const isContentLocked=!isLockedByParent&&templateLock==='contentOnly';if(!isContentLocked&&!isEditingAsBlocks){return null;}
const{modifyContentLockBlock}=unlock(blockEditorActions);const showStartEditingAsBlocks=!isEditingAsBlocks&&isContentLocked;return showStartEditingAsBlocks&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{modifyContentLockBlock(clientId);onClose();},children:(0,external_wp_i18n_namespaceObject._x)('Modify','Unlock content locked blocks')});};function useBlockRename(name){return{canRename:(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,'renaming',true)};};function isEmptyString(testString){return testString?.trim()?.length===0;};function BlockRenameModal({clientId,onClose}){const[editedBlockName,setEditedBlockName]=(0,external_wp_element_namespaceObject.useState)();const blockInformation=useBlockDisplayInformation(clientId);const{metadata}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockAttributes}=select(store);return{metadata:getBlockAttributes(clientId)?.metadata};},[clientId]);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const blockName=metadata?.name||'';const originalBlockName=blockInformation?.title;const hasOverridesWarning=!!blockName&&!!metadata?.bindings&&Object.values(metadata.bindings).some(binding=>binding.source==='core/pattern-overrides');const nameHasChanged=editedBlockName!==undefined&&editedBlockName!==blockName;const nameIsOriginal=editedBlockName===originalBlockName;const nameIsEmpty=isEmptyString(editedBlockName);const isNameValid=nameHasChanged||nameIsOriginal;const autoSelectInputText=event=>event.target.select();const handleSubmit=()=>{const newName=nameIsOriginal||nameIsEmpty?undefined:editedBlockName;const message=nameIsOriginal||nameIsEmpty?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block name reset to: "%s".'),editedBlockName):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block name changed to: "%s".'),editedBlockName);(0,external_wp_a11y_namespaceObject.speak)(message,'assertive');updateBlockAttributes([clientId],{metadata:{...metadata,name:newName}});onClose();};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.__)('Rename'),onRequestClose:onClose,overlayClassName:"block-editor-block-rename-modal",focusOnMount:"firstContentElement",size:"small",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("form",{onSubmit:e=>{e.preventDefault();if(!isNameValid){return;}
handleSubmit();},children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:"3",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextControl,{__nextHasNoMarginBottom:true,__next40pxDefaultSize:true,value:editedBlockName!==null&&editedBlockName!==void 0?editedBlockName:blockName,label:(0,external_wp_i18n_namespaceObject.__)('Name'),help:hasOverridesWarning?(0,external_wp_i18n_namespaceObject.__)('This block allows overrides. Changing the name can cause problems with content entered into instances of this pattern.'):undefined,placeholder:originalBlockName,onChange:setEditedBlockName,onFocus:autoSelectInputText}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"right",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"tertiary",onClick:onClose,children:(0,external_wp_i18n_namespaceObject.__)('Cancel')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,accessibleWhenDisabled:true,disabled:!isNameValid,variant:"primary",type:"submit",children:(0,external_wp_i18n_namespaceObject.__)('Save')})]})]})})});};function BlockRenameControl({clientId}){const[renamingBlock,setRenamingBlock]=(0,external_wp_element_namespaceObject.useState)(false);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{setRenamingBlock(true);},"aria-expanded":renamingBlock,"aria-haspopup":"dialog",children:(0,external_wp_i18n_namespaceObject.__)('Rename')}),renamingBlock&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockRenameModal,{clientId:clientId,onClose:()=>setRenamingBlock(false)})]});};const{Fill,Slot:block_settings_menu_controls_Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('BlockSettingsMenuControls');const BlockSettingsMenuControlsSlot=({fillProps,clientIds=null})=>{const{selectedBlocks,selectedClientIds,isContentOnly}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockNamesByClientId,getSelectedBlockClientIds,getBlockEditingMode}=select(store);const ids=clientIds!==null?clientIds:getSelectedBlockClientIds();return{selectedBlocks:getBlockNamesByClientId(ids),selectedClientIds:ids,isContentOnly:getBlockEditingMode(ids[0])==='contentOnly'};},[clientIds]);const{canLock}=useBlockLock(selectedClientIds[0]);const{canRename}=useBlockRename(selectedBlocks[0]);const showLockButton=selectedClientIds.length===1&&canLock&&!isContentOnly;const showRenameButton=selectedClientIds.length===1&&canRename&&!isContentOnly;const convertToGroupButtonProps=useConvertToGroupButtonProps(selectedClientIds);const{isGroupable,isUngroupable}=convertToGroupButtonProps;const showConvertToGroupButton=(isGroupable||isUngroupable)&&!isContentOnly;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_settings_menu_controls_Slot,{fillProps:{...fillProps,selectedBlocks,selectedClientIds},children:fills=>{if(!fills?.length>0&&!showConvertToGroupButton&&!showLockButton){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuGroup,{children:[showConvertToGroupButton&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ConvertToGroupButton,{...convertToGroupButtonProps,onClose:fillProps?.onClose}),showLockButton&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockLockMenuItem,{clientId:selectedClientIds[0]}),showRenameButton&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockRenameControl,{clientId:selectedClientIds[0]}),fills,selectedClientIds.length===1&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ModifyContentLockMenuItem,{clientId:selectedClientIds[0],onClose:fillProps?.onClose}),fillProps?.count===1&&!isContentOnly&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockModeToggle,{clientId:fillProps?.firstBlockClientId,onToggle:fillProps?.onClose})]});}});};function BlockSettingsMenuControls({...props}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:document,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(Fill,{...props})});}
BlockSettingsMenuControls.Slot=BlockSettingsMenuControlsSlot;const block_settings_menu_controls=(BlockSettingsMenuControls);;function BlockParentSelectorMenuItem({parentClientId,parentBlockType}){const isSmallViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const menuItemRef=(0,external_wp_element_namespaceObject.useRef)();const gesturesProps=useShowHoveredOrFocusedGestures({ref:menuItemRef,highlightParent:true});if(!isSmallViewport){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{...gesturesProps,ref:menuItemRef,icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:parentBlockType.icon}),onClick:()=>selectBlock(parentClientId),children:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Select parent block (%s)'),parentBlockType.title)});};const block_settings_dropdown_POPOVER_PROPS={className:'block-editor-block-settings-menu__popover',placement:'bottom-start'};function CopyMenuItem({clientIds,onCopy,label,shortcut,eventType='copy',__experimentalUpdateSelection:updateSelection=false}){const{getBlocksByClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{removeBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const notifyCopy=useNotifyCopy();const ref=(0,external_wp_compose_namespaceObject.useCopyToClipboard)(()=>(0,external_wp_blocks_namespaceObject.serialize)(getBlocksByClientId(clientIds)),()=>{switch(eventType){case'copy':case'copyStyles':onCopy();notifyCopy(eventType,clientIds);break;case'cut':notifyCopy(eventType,clientIds);removeBlocks(clientIds,updateSelection);break;default:break;}});const copyMenuItemLabel=label?label:(0,external_wp_i18n_namespaceObject.__)('Copy');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{ref:ref,shortcut:shortcut,children:copyMenuItemLabel});}
function BlockSettingsDropdown({block,clientIds,children,__experimentalSelectBlock,...props}){const currentClientId=block?.clientId;const count=clientIds.length;const firstBlockClientId=clientIds[0];const{firstParentClientId,parentBlockType,previousBlockClientId,selectedBlockClientIds,openedBlockSettingsMenu,isContentOnly}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,getBlockRootClientId,getPreviousBlockClientId,getSelectedBlockClientIds,getBlockAttributes,getOpenedBlockSettingsMenu,getBlockEditingMode}=unlock(select(store));const{getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const _firstParentClientId=getBlockRootClientId(firstBlockClientId);const parentBlockName=_firstParentClientId&&getBlockName(_firstParentClientId);return{firstParentClientId:_firstParentClientId,parentBlockType:_firstParentClientId&&(getActiveBlockVariation(parentBlockName,getBlockAttributes(_firstParentClientId))||(0,external_wp_blocks_namespaceObject.getBlockType)(parentBlockName)),previousBlockClientId:getPreviousBlockClientId(firstBlockClientId),selectedBlockClientIds:getSelectedBlockClientIds(),openedBlockSettingsMenu:getOpenedBlockSettingsMenu(),isContentOnly:getBlockEditingMode(firstBlockClientId)==='contentOnly'};},[firstBlockClientId]);const{getBlockOrder,getSelectedBlockClientIds}=(0,external_wp_data_namespaceObject.useSelect)(store);const{setOpenedBlockSettingsMenu}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const shortcuts=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getShortcutRepresentation}=select(external_wp_keyboardShortcuts_namespaceObject.store);return{copy:getShortcutRepresentation('core/block-editor/copy'),cut:getShortcutRepresentation('core/block-editor/cut'),duplicate:getShortcutRepresentation('core/block-editor/duplicate'),remove:getShortcutRepresentation('core/block-editor/remove'),insertAfter:getShortcutRepresentation('core/block-editor/insert-after'),insertBefore:getShortcutRepresentation('core/block-editor/insert-before')};},[]);const hasSelectedBlocks=selectedBlockClientIds.length>0;async function updateSelectionAfterDuplicate(clientIdsPromise){if(!__experimentalSelectBlock){return;}
const ids=await clientIdsPromise;if(ids&&ids[0]){__experimentalSelectBlock(ids[0],false);}}
function updateSelectionAfterRemove(){if(!__experimentalSelectBlock){return;}
let blockToFocus=previousBlockClientId||firstParentClientId;if(!blockToFocus){blockToFocus=getBlockOrder()[0];}
const shouldUpdateSelection=hasSelectedBlocks&&getSelectedBlockClientIds().length===0;__experimentalSelectBlock(blockToFocus,shouldUpdateSelection);}
const parentBlockIsSelected=selectedBlockClientIds?.includes(firstParentClientId);const open=!currentClientId?undefined:openedBlockSettingsMenu===currentClientId||false;function onToggle(localOpen){if(localOpen&&openedBlockSettingsMenu!==currentClientId){setOpenedBlockSettingsMenu(currentClientId);}else if(!localOpen&&openedBlockSettingsMenu&&openedBlockSettingsMenu===currentClientId){setOpenedBlockSettingsMenu(undefined);}}
const shouldShowBlockParentMenuItem=!parentBlockIsSelected&&!!firstParentClientId;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockActions,{clientIds:clientIds,__experimentalUpdateSelection:!__experimentalSelectBlock,children:({canCopyStyles,canDuplicate,canInsertBlock,canRemove,onDuplicate,onInsertAfter,onInsertBefore,onRemove,onCopy,onPasteStyles})=>{const isEmpty=!canRemove&&!canDuplicate&&!canInsertBlock&&isContentOnly;if(isEmpty){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{icon:more_vertical,label:(0,external_wp_i18n_namespaceObject.__)('Options'),className:"block-editor-block-settings-menu",popoverProps:block_settings_dropdown_POPOVER_PROPS,open:open,onToggle:onToggle,noIcons:true,...props,children:({onClose})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuGroup,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_settings_menu_first_item.Slot,{fillProps:{onClose}}),shouldShowBlockParentMenuItem&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockParentSelectorMenuItem,{parentClientId:firstParentClientId,parentBlockType:parentBlockType}),count===1&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_html_convert_button,{clientId:firstBlockClientId}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(CopyMenuItem,{clientIds:clientIds,onCopy:onCopy,shortcut:shortcuts.copy}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(CopyMenuItem,{clientIds:clientIds,label:(0,external_wp_i18n_namespaceObject.__)('Cut'),eventType:"cut",shortcut:shortcuts.cut,__experimentalUpdateSelection:!__experimentalSelectBlock}),canDuplicate&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_wp_compose_namespaceObject.pipe)(onClose,onDuplicate,updateSelectionAfterDuplicate),shortcut:shortcuts.duplicate,children:(0,external_wp_i18n_namespaceObject.__)('Duplicate')}),canInsertBlock&&!isContentOnly&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_wp_compose_namespaceObject.pipe)(onClose,onInsertBefore),shortcut:shortcuts.insertBefore,children:(0,external_wp_i18n_namespaceObject.__)('Add before')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_wp_compose_namespaceObject.pipe)(onClose,onInsertAfter),shortcut:shortcuts.insertAfter,children:(0,external_wp_i18n_namespaceObject.__)('Add after')})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_comment_icon_slot.Slot,{fillProps:{onClose}})]}),canCopyStyles&&!isContentOnly&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.MenuGroup,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(CopyMenuItem,{clientIds:clientIds,onCopy:onCopy,label:(0,external_wp_i18n_namespaceObject.__)('Copy styles'),eventType:"copyStyles"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:onPasteStyles,children:(0,external_wp_i18n_namespaceObject.__)('Paste styles')})]}),!isContentOnly&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_settings_menu_controls.Slot,{fillProps:{onClose,count,firstBlockClientId},clientIds:clientIds}),typeof children==='function'?children({onClose}):external_wp_element_namespaceObject.Children.map(child=>(0,external_wp_element_namespaceObject.cloneElement)(child,{onClose})),canRemove&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_wp_compose_namespaceObject.pipe)(onClose,onRemove,updateSelectionAfterRemove),shortcut:shortcuts.remove,children:(0,external_wp_i18n_namespaceObject.__)('Delete')})})]})});}});}
const block_settings_dropdown=(BlockSettingsDropdown);;const CommentIconToolbarSlotFill=(0,external_wp_components_namespaceObject.createSlotFill)(Symbol('CommentIconToolbarSlotFill'));const block_comment_icon_toolbar_slot=(CommentIconToolbarSlotFill);;function BlockSettingsMenu({clientIds,...props}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.ToolbarGroup,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_comment_icon_toolbar_slot.Slot,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarItem,{children:toggleProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_settings_dropdown,{clientIds:clientIds,toggleProps:toggleProps,...props})})]});}
const block_settings_menu=(BlockSettingsMenu);;function BlockLockToolbar({clientId}){const{canLock,isLocked}=useBlockLock(clientId);const[isModalOpen,toggleModal]=(0,external_wp_element_namespaceObject.useReducer)(isActive=>!isActive,false);const hasLockButtonShownRef=(0,external_wp_element_namespaceObject.useRef)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(isLocked){hasLockButtonShownRef.current=true;}},[isLocked]);if(!isLocked&&!hasLockButtonShownRef.current){return null;}
let label=isLocked?(0,external_wp_i18n_namespaceObject.__)('Unlock'):(0,external_wp_i18n_namespaceObject.__)('Lock');if(!canLock&&isLocked){label=(0,external_wp_i18n_namespaceObject.__)('Locked');}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{className:"block-editor-block-lock-toolbar",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{disabled:!canLock,icon:isLocked?library_lock:library_unlock,label:label,onClick:toggleModal,"aria-expanded":isModalOpen,"aria-haspopup":"dialog"})}),isModalOpen&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockLockModal,{clientId:clientId,onClose:toggleModal})]});};const group_group=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})});const library_group=(group_group);;const row=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M4 6.5h5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4V16h5a.5.5 0 0 0 .5-.5v-7A.5.5 0 0 0 9 8H4V6.5Zm16 0h-5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h5V16h-5a.5.5 0 0 1-.5-.5v-7A.5.5 0 0 1 15 8h5V6.5Z"})});const library_row=(row);;const stack=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17.5 4v5a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V4H8v5a.5.5 0 0 0 .5.5h7A.5.5 0 0 0 16 9V4h1.5Zm0 16v-5a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v5H8v-5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v5h1.5Z"})});const library_stack=(stack);;const grid_grid=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})});const library_grid=(grid_grid);;const layouts={group:{type:'constrained'},row:{type:'flex',flexWrap:'nowrap'},stack:{type:'flex',orientation:'vertical'},grid:{type:'grid'}};function BlockGroupToolbar(){const{blocksSelection,clientIds,groupingBlockName,isGroupable}=useConvertToGroupButtonProps();const{replaceBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{canRemove,variations}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canRemoveBlocks}=select(store);const{getBlockVariations}=select(external_wp_blocks_namespaceObject.store);return{canRemove:canRemoveBlocks(clientIds),variations:getBlockVariations(groupingBlockName,'transform')};},[clientIds,groupingBlockName]);const onConvertToGroup=layout=>{const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocksSelection,groupingBlockName);if(typeof layout!=='string'){layout='group';}
if(newBlocks&&newBlocks.length>0){newBlocks[0].attributes.layout=layouts[layout];replaceBlocks(clientIds,newBlocks);}};const onConvertToRow=()=>onConvertToGroup('row');const onConvertToStack=()=>onConvertToGroup('stack');const onConvertToGrid=()=>onConvertToGroup('grid');if(!isGroupable||!canRemove){return null;}
const canInsertRow=!!variations.find(({name})=>name==='group-row');const canInsertStack=!!variations.find(({name})=>name==='group-stack');const canInsertGrid=!!variations.find(({name})=>name==='group-grid');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.ToolbarGroup,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_group,label:(0,external_wp_i18n_namespaceObject._x)('Group','action: convert blocks to group'),onClick:onConvertToGroup}),canInsertRow&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_row,label:(0,external_wp_i18n_namespaceObject._x)('Row','action: convert blocks to row'),onClick:onConvertToRow}),canInsertStack&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_stack,label:(0,external_wp_i18n_namespaceObject._x)('Stack','action: convert blocks to stack'),onClick:onConvertToStack}),canInsertGrid&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_grid,label:(0,external_wp_i18n_namespaceObject._x)('Grid','action: convert blocks to grid'),onClick:onConvertToGrid})]});}
const toolbar=(BlockGroupToolbar);;function BlockEditVisuallyButton({clientIds}){const clientId=clientIds.length===1?clientIds[0]:undefined;const canEditVisually=(0,external_wp_data_namespaceObject.useSelect)(select=>!!clientId&&select(store).getBlockMode(clientId)==='html',[clientId]);const{toggleBlockMode}=(0,external_wp_data_namespaceObject.useDispatch)(store);if(!canEditVisually){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{onClick:()=>{toggleBlockMode(clientId);},children:(0,external_wp_i18n_namespaceObject.__)('Edit visually')})});};const __unstableBlockNameContext=(0,external_wp_element_namespaceObject.createContext)('');const block_name_context=(__unstableBlockNameContext);;function hasOnlyToolbarItem(elements){const dataProp='toolbarItem';return!elements.some(element=>!(dataProp in element.dataset));}
function getAllFocusableToolbarItemsIn(container){return Array.from(container.querySelectorAll('[data-toolbar-item]:not([disabled])'));}
function hasFocusWithin(container){return container.contains(container.ownerDocument.activeElement);}
function focusFirstTabbableIn(container){const[firstTabbable]=external_wp_dom_namespaceObject.focus.tabbable.find(container);if(firstTabbable){firstTabbable.focus({preventScroll:true});}}
function useIsAccessibleToolbar(toolbarRef){const initialAccessibleToolbarState=true;const[isAccessibleToolbar,setIsAccessibleToolbar]=(0,external_wp_element_namespaceObject.useState)(initialAccessibleToolbarState);const determineIsAccessibleToolbar=(0,external_wp_element_namespaceObject.useCallback)(()=>{const tabbables=external_wp_dom_namespaceObject.focus.tabbable.find(toolbarRef.current);const onlyToolbarItem=hasOnlyToolbarItem(tabbables);if(!onlyToolbarItem){external_wp_deprecated_default()('Using custom components as toolbar controls',{since:'5.6',alternative:'ToolbarItem, ToolbarButton or ToolbarDropdownMenu components',link:'https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols'});}
setIsAccessibleToolbar(onlyToolbarItem);},[toolbarRef]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{const observer=new window.MutationObserver(determineIsAccessibleToolbar);observer.observe(toolbarRef.current,{childList:true,subtree:true});return()=>observer.disconnect();},[determineIsAccessibleToolbar,isAccessibleToolbar,toolbarRef]);return isAccessibleToolbar;}
function useToolbarFocus({toolbarRef,focusOnMount,isAccessibleToolbar,defaultIndex,onIndexChange,shouldUseKeyboardFocusShortcut,focusEditorOnEscape}){const[initialFocusOnMount]=(0,external_wp_element_namespaceObject.useState)(focusOnMount);const[initialIndex]=(0,external_wp_element_namespaceObject.useState)(defaultIndex);const focusToolbar=(0,external_wp_element_namespaceObject.useCallback)(()=>{focusFirstTabbableIn(toolbarRef.current);},[toolbarRef]);const focusToolbarViaShortcut=()=>{if(shouldUseKeyboardFocusShortcut){focusToolbar();}};(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/block-editor/focus-toolbar',focusToolbarViaShortcut);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(initialFocusOnMount){focusToolbar();}},[isAccessibleToolbar,initialFocusOnMount,focusToolbar]);(0,external_wp_element_namespaceObject.useEffect)(()=>{const navigableToolbarRef=toolbarRef.current;let raf=0;if(!initialFocusOnMount&&!hasFocusWithin(navigableToolbarRef)){raf=window.requestAnimationFrame(()=>{const items=getAllFocusableToolbarItemsIn(navigableToolbarRef);const index=initialIndex||0;if(items[index]&&hasFocusWithin(navigableToolbarRef)){items[index].focus({preventScroll:true});}});}
return()=>{window.cancelAnimationFrame(raf);if(!onIndexChange||!navigableToolbarRef){return;}
const items=getAllFocusableToolbarItemsIn(navigableToolbarRef);const index=items.findIndex(item=>item.tabIndex===0);onIndexChange(index);};},[initialIndex,initialFocusOnMount,onIndexChange,toolbarRef]);const{getLastFocus}=unlock((0,external_wp_data_namespaceObject.useSelect)(store));(0,external_wp_element_namespaceObject.useEffect)(()=>{const navigableToolbarRef=toolbarRef.current;if(focusEditorOnEscape){const handleKeyDown=event=>{const lastFocus=getLastFocus();if(event.keyCode===external_wp_keycodes_namespaceObject.ESCAPE&&lastFocus?.current){event.preventDefault();lastFocus.current.focus();}};navigableToolbarRef.addEventListener('keydown',handleKeyDown);return()=>{navigableToolbarRef.removeEventListener('keydown',handleKeyDown);};}},[focusEditorOnEscape,getLastFocus,toolbarRef]);}
function NavigableToolbar({children,focusOnMount,focusEditorOnEscape=false,shouldUseKeyboardFocusShortcut=true,__experimentalInitialIndex:initialIndex,__experimentalOnIndexChange:onIndexChange,orientation='horizontal',...props}){const toolbarRef=(0,external_wp_element_namespaceObject.useRef)();const isAccessibleToolbar=useIsAccessibleToolbar(toolbarRef);useToolbarFocus({toolbarRef,focusOnMount,defaultIndex:initialIndex,onIndexChange,isAccessibleToolbar,shouldUseKeyboardFocusShortcut,focusEditorOnEscape});if(isAccessibleToolbar){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Toolbar,{label:props['aria-label'],ref:toolbarRef,orientation:orientation,...props,children:children});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.NavigableMenu,{orientation:orientation,role:"toolbar",ref:toolbarRef,...props,children:children});};function useHasBlockToolbar(){const{isToolbarEnabled,isBlockDisabled}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockEditingMode,getBlockName,getBlockSelectionStart}=select(store);const selectedBlockClientId=getBlockSelectionStart();const blockType=selectedBlockClientId&&(0,external_wp_blocks_namespaceObject.getBlockType)(getBlockName(selectedBlockClientId));return{isToolbarEnabled:blockType&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'__experimentalToolbar',true),isBlockDisabled:getBlockEditingMode(selectedBlockClientId)==='disabled'};},[]);if(!isToolbarEnabled||isBlockDisabled){return false;}
return true;};const change_design_EMPTY_ARRAY=[];const MAX_PATTERNS_TO_SHOW=6;const change_design_POPOVER_PROPS={placement:'bottom-start'};function ChangeDesign({clientId}){const{categories,currentPatternName,patterns}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockAttributes,getBlockRootClientId,__experimentalGetAllowedPatterns}=select(store);const attributes=getBlockAttributes(clientId);const _categories=attributes?.metadata?.categories||change_design_EMPTY_ARRAY;const rootBlock=getBlockRootClientId(clientId);const _patterns=_categories.length>0?__experimentalGetAllowedPatterns(rootBlock):change_design_EMPTY_ARRAY;return{categories:_categories,currentPatternName:attributes?.metadata?.patternName,patterns:_patterns};},[clientId]);const{replaceBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const sameCategoryPatternsWithSingleWrapper=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(categories.length===0||!patterns||patterns.length===0){return change_design_EMPTY_ARRAY;}
return patterns.filter(pattern=>{const isCorePattern=pattern.source==='core'||pattern.source?.startsWith('pattern-directory')&&pattern.source!=='pattern-directory/theme';return(pattern.blocks.length===1&&!isCorePattern&&currentPatternName!==pattern.name&&pattern.categories?.some(category=>{return categories.includes(category);})&&(pattern.syncStatus==='unsynced'||!pattern.id));}).slice(0,MAX_PATTERNS_TO_SHOW);},[categories,currentPatternName,patterns]);if(sameCategoryPatternsWithSingleWrapper.length<2){return null;}
const onClickPattern=pattern=>{var _pattern$blocks;const newBlocks=((_pattern$blocks=pattern.blocks)!==null&&_pattern$blocks!==void 0?_pattern$blocks:[]).map(block=>{return(0,external_wp_blocks_namespaceObject.cloneBlock)(block);});newBlocks[0].attributes.metadata={...newBlocks[0].attributes.metadata,categories};replaceBlocks(clientId,newBlocks);};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:change_design_POPOVER_PROPS,renderToggle:({onToggle,isOpen})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{onClick:()=>onToggle(!isOpen),"aria-expanded":isOpen,children:(0,external_wp_i18n_namespaceObject.__)('Change design')})});},renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{className:"block-editor-block-toolbar-change-design-content-wrapper",paddingSize:"none",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_patterns_list,{blockPatterns:sameCategoryPatternsWithSingleWrapper,onClickPattern:onClickPattern,showTitlesAsTooltip:true})})});};const styleIcon=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Path,{d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3z"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Path,{stroke:"currentColor",strokeWidth:"1.5",d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3z"})]});function SwitchSectionStyle({clientId}){var _mergedConfig$setting,_mergedConfig$styles;const{stylesToRender,activeStyle,className}=useStylesForBlocks({clientId});const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{merged:mergedConfig}=(0,external_wp_element_namespaceObject.useContext)(GlobalStylesContext);const{globalSettings,globalStyles,blockName}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const settings=select(store).getSettings();return{globalSettings:settings.__experimentalFeatures,globalStyles:settings[globalStylesDataKey],blockName:select(store).getBlockName(clientId)};},[clientId]);const activeStyleBackground=activeStyle?.name?getVariationStylesWithRefValues({settings:(_mergedConfig$setting=mergedConfig?.settings)!==null&&_mergedConfig$setting!==void 0?_mergedConfig$setting:globalSettings,styles:(_mergedConfig$styles=mergedConfig?.styles)!==null&&_mergedConfig$styles!==void 0?_mergedConfig$styles:globalStyles},blockName,activeStyle.name)?.color?.background:undefined;if(!stylesToRender||stylesToRender.length===0){return null;}
const handleStyleSwitch=()=>{const currentIndex=stylesToRender.findIndex(style=>style.name===activeStyle.name);const nextIndex=(currentIndex+1)%stylesToRender.length;const nextStyle=stylesToRender[nextIndex];const styleClassName=replaceActiveStyle(className,activeStyle,nextStyle);updateBlockAttributes(clientId,{className:styleClassName});};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{onClick:handleStyleSwitch,label:(0,external_wp_i18n_namespaceObject.__)('Shuffle styles'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{icon:styleIcon,style:{fill:activeStyleBackground||'transparent'}})})});}
const switch_section_style=(SwitchSectionStyle);;function PrivateBlockToolbar({hideDragHandle,focusOnMount,__experimentalInitialIndex,__experimentalOnIndexChange,variant='unstyled'}){const{blockClientId,blockClientIds,isDefaultEditingMode,blockType,toolbarKey,shouldShowVisualToolbar,showParentSelector,isUsingBindings,hasParentPattern,hasContentOnlyLocking,showShuffleButton,showSlots,showGroupButtons,showLockButtons,showSwitchSectionStyleButton,hasFixedToolbar,isNavigationMode}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,getBlockMode,getBlockParents,getSelectedBlockClientIds,isBlockValid,getBlockEditingMode,getBlockAttributes,getBlockParentsByBlockName,getTemplateLock,getSettings,getParentSectionBlock,isZoomOut,isNavigationMode:_isNavigationMode}=unlock(select(store));const selectedBlockClientIds=getSelectedBlockClientIds();const selectedBlockClientId=selectedBlockClientIds[0];const parents=getBlockParents(selectedBlockClientId);const parentSection=getParentSectionBlock(selectedBlockClientId);const parentClientId=parentSection!==null&&parentSection!==void 0?parentSection:parents[parents.length-1];const parentBlockName=getBlockName(parentClientId);const parentBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(parentBlockName);const editingMode=getBlockEditingMode(selectedBlockClientId);const _isDefaultEditingMode=editingMode==='default';const _blockName=getBlockName(selectedBlockClientId);const isValid=selectedBlockClientIds.every(id=>isBlockValid(id));const isVisual=selectedBlockClientIds.every(id=>getBlockMode(id)==='visual');const _isUsingBindings=selectedBlockClientIds.every(clientId=>!!getBlockAttributes(clientId)?.metadata?.bindings);const _hasParentPattern=selectedBlockClientIds.every(clientId=>getBlockParentsByBlockName(clientId,'core/block',true).length>0);const _hasTemplateLock=selectedBlockClientIds.some(id=>getTemplateLock(id)==='contentOnly');const _isZoomOut=isZoomOut();return{blockClientId:selectedBlockClientId,blockClientIds:selectedBlockClientIds,isDefaultEditingMode:_isDefaultEditingMode,blockType:selectedBlockClientId&&(0,external_wp_blocks_namespaceObject.getBlockType)(_blockName),shouldShowVisualToolbar:isValid&&isVisual,toolbarKey:`${selectedBlockClientId}${parentClientId}`,showParentSelector:!_isZoomOut&&parentBlockType&&editingMode!=='contentOnly'&&getBlockEditingMode(parentClientId)!=='disabled'&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(parentBlockType,'__experimentalParentSelector',true)&&selectedBlockClientIds.length===1,isUsingBindings:_isUsingBindings,hasParentPattern:_hasParentPattern,hasContentOnlyLocking:_hasTemplateLock,showShuffleButton:_isZoomOut,showSlots:!_isZoomOut,showGroupButtons:!_isZoomOut,showLockButtons:!_isZoomOut,showSwitchSectionStyleButton:_isZoomOut,hasFixedToolbar:getSettings().hasFixedToolbar,isNavigationMode:_isNavigationMode()};},[]);const toolbarWrapperRef=(0,external_wp_element_namespaceObject.useRef)(null);const nodeRef=(0,external_wp_element_namespaceObject.useRef)();const showHoveredOrFocusedGestures=useShowHoveredOrFocusedGestures({ref:nodeRef});const isLargeViewport=!(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const hasBlockToolbar=useHasBlockToolbar();if(!hasBlockToolbar){return null;}
const isMultiToolbar=blockClientIds.length>1;const isSynced=(0,external_wp_blocks_namespaceObject.isReusableBlock)(blockType)||(0,external_wp_blocks_namespaceObject.isTemplatePart)(blockType);const classes=dist_clsx('block-editor-block-contextual-toolbar',{'has-parent':showParentSelector,'is-inverted-toolbar':isNavigationMode&&!hasFixedToolbar});const innerClasses=dist_clsx('block-editor-block-toolbar',{'is-synced':isSynced,'is-connected':isUsingBindings});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(NavigableToolbar,{focusEditorOnEscape:true,className:classes,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Block tools'),variant:variant==='toolbar'?undefined:variant,focusOnMount:focusOnMount,__experimentalInitialIndex:__experimentalInitialIndex,__experimentalOnIndexChange:__experimentalOnIndexChange,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{ref:toolbarWrapperRef,className:innerClasses,children:[showParentSelector&&!isMultiToolbar&&isLargeViewport&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockParentSelector,{}),(shouldShowVisualToolbar||isMultiToolbar)&&!hasParentPattern&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:nodeRef,...showHoveredOrFocusedGestures,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.ToolbarGroup,{className:"block-editor-block-toolbar__block-controls",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_switcher,{clientIds:blockClientIds}),!isMultiToolbar&&isDefaultEditingMode&&showLockButtons&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockLockToolbar,{clientId:blockClientId}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_mover,{clientIds:blockClientIds,hideDragHandle:hideDragHandle})]})}),!hasContentOnlyLocking&&shouldShowVisualToolbar&&isMultiToolbar&&showGroupButtons&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(toolbar,{}),showShuffleButton&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ChangeDesign,{clientId:blockClientIds[0]}),showSwitchSectionStyleButton&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(switch_section_style,{clientId:blockClientIds[0]}),shouldShowVisualToolbar&&showSlots&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls.Slot,{group:"parent",className:"block-editor-block-toolbar__slot"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls.Slot,{group:"block",className:"block-editor-block-toolbar__slot"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls.Slot,{className:"block-editor-block-toolbar__slot"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls.Slot,{group:"inline",className:"block-editor-block-toolbar__slot"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls.Slot,{group:"other",className:"block-editor-block-toolbar__slot"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_name_context.Provider,{value:blockType?.name,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_toolbar_last_item.Slot,{})})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockEditVisuallyButton,{clientIds:blockClientIds}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_settings_menu,{clientIds:blockClientIds})]})},toolbarKey);}
function BlockToolbar({hideDragHandle,variant}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateBlockToolbar,{hideDragHandle:hideDragHandle,variant:variant,focusOnMount:undefined,__experimentalInitialIndex:undefined,__experimentalOnIndexChange:undefined});};function BlockToolbarPopover({clientId,isTyping,__unstableContentRef}){const{capturingClientId,isInsertionPointVisible,lastClientId}=useSelectedBlockToolProps(clientId);const initialToolbarItemIndexRef=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useEffect)(()=>{initialToolbarItemIndexRef.current=undefined;},[clientId]);const{stopTyping}=(0,external_wp_data_namespaceObject.useDispatch)(store);const isToolbarForcedRef=(0,external_wp_element_namespaceObject.useRef)(false);(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/block-editor/focus-toolbar',()=>{isToolbarForcedRef.current=true;stopTyping(true);});(0,external_wp_element_namespaceObject.useEffect)(()=>{isToolbarForcedRef.current=false;});const clientIdToPositionOver=capturingClientId||clientId;const popoverProps=useBlockToolbarPopoverProps({contentElement:__unstableContentRef?.current,clientId:clientIdToPositionOver});return!isTyping&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateBlockPopover,{clientId:clientIdToPositionOver,bottomClientId:lastClientId,className:dist_clsx('block-editor-block-list__block-popover',{'is-insertion-point-visible':isInsertionPointVisible}),resize:false,...popoverProps,__unstableContentRef:__unstableContentRef,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateBlockToolbar,{focusOnMount:isToolbarForcedRef.current,__experimentalInitialIndex:initialToolbarItemIndexRef.current,__experimentalOnIndexChange:index=>{initialToolbarItemIndexRef.current=index;},variant:"toolbar"})});};function ZoomOutModeInserterButton({onClick}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"primary",icon:library_plus,size:"compact",className:dist_clsx('block-editor-button-pattern-inserter__button','block-editor-block-tools__zoom-out-mode-inserter-button'),onClick:onClick,label:(0,external_wp_i18n_namespaceObject._x)('Add pattern','Generic label for pattern inserter button')});}
const zoom_out_mode_inserter_button=(ZoomOutModeInserterButton);;function ZoomOutModeInserters(){const[isReady,setIsReady]=(0,external_wp_element_namespaceObject.useState)(false);const{hasSelection,blockOrder,setInserterIsOpened,sectionRootClientId,selectedBlockClientId,blockInsertionPoint,insertionPointVisible}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,getBlockOrder,getSelectionStart,getSelectedBlockClientId,getSectionRootClientId,getBlockInsertionPoint,isBlockInsertionPointVisible}=unlock(select(store));const root=getSectionRootClientId();return{hasSelection:!!getSelectionStart().clientId,blockOrder:getBlockOrder(root),sectionRootClientId:root,setInserterIsOpened:getSettings().__experimentalSetIsInserterOpened,selectedBlockClientId:getSelectedBlockClientId(),blockInsertionPoint:getBlockInsertionPoint(),insertionPointVisible:isBlockInsertionPointVisible()};},[]);const{showInsertionPoint}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));(0,external_wp_element_namespaceObject.useEffect)(()=>{const timeout=setTimeout(()=>{setIsReady(true);},500);return()=>{clearTimeout(timeout);};},[]);if(!isReady||!hasSelection){return null;}
const previousClientId=selectedBlockClientId;const index=blockOrder.findIndex(clientId=>selectedBlockClientId===clientId);const insertionIndex=index+1;const nextClientId=blockOrder[insertionIndex];if(insertionPointVisible&&blockInsertionPoint?.index===insertionIndex){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(inbetween,{previousClientId:previousClientId,nextClientId:nextClientId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(zoom_out_mode_inserter_button,{onClick:()=>{setInserterIsOpened({rootClientId:sectionRootClientId,insertionIndex,tab:'patterns',category:'all'});showInsertionPoint(sectionRootClientId,insertionIndex,{operation:'insert'});}})});}
const zoom_out_mode_inserters=(ZoomOutModeInserters);;function useShowBlockTools(){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getFirstMultiSelectedBlockClientId,getBlock,getBlockMode,getSettings,__unstableGetEditorMode,isTyping}=unlock(select(store));const clientId=getSelectedBlockClientId()||getFirstMultiSelectedBlockClientId();const block=getBlock(clientId);const editorMode=__unstableGetEditorMode();const hasSelectedBlock=!!clientId&&!!block;const isEmptyDefaultBlock=hasSelectedBlock&&(0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(block)&&getBlockMode(clientId)!=='html';const _showEmptyBlockSideInserter=clientId&&!isTyping()&&editorMode!=='navigation'&&isEmptyDefaultBlock;const _showBlockToolbarPopover=!getSettings().hasFixedToolbar&&!_showEmptyBlockSideInserter&&hasSelectedBlock&&!isEmptyDefaultBlock;return{showEmptyBlockSideInserter:_showEmptyBlockSideInserter,showBlockToolbarPopover:_showBlockToolbarPopover};},[]);};function block_tools_selector(select){const{getSelectedBlockClientId,getFirstMultiSelectedBlockClientId,getSettings,isTyping,isDragging,isZoomOut}=unlock(select(store));const clientId=getSelectedBlockClientId()||getFirstMultiSelectedBlockClientId();return{clientId,hasFixedToolbar:getSettings().hasFixedToolbar,isTyping:isTyping(),isZoomOutMode:isZoomOut(),isDragging:isDragging()};}
function BlockTools({children,__unstableContentRef,...props}){const{clientId,hasFixedToolbar,isTyping,isZoomOutMode,isDragging}=(0,external_wp_data_namespaceObject.useSelect)(block_tools_selector,[]);const isMatch=(0,external_wp_keyboardShortcuts_namespaceObject.__unstableUseShortcutEventMatch)();const{getBlocksByClientId,getSelectedBlockClientIds,getBlockRootClientId,isGroupable}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getGroupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const{showEmptyBlockSideInserter,showBlockToolbarPopover}=useShowBlockTools();const{duplicateBlocks,removeBlocks,replaceBlocks,insertAfterBlock,insertBeforeBlock,selectBlock,moveBlocksUp,moveBlocksDown,expandBlock}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));function onKeyDown(event){if(event.defaultPrevented){return;}
if(isMatch('core/block-editor/move-up',event)||isMatch('core/block-editor/move-down',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();const rootClientId=getBlockRootClientId(clientIds[0]);const direction=isMatch('core/block-editor/move-up',event)?'up':'down';if(direction==='up'){moveBlocksUp(clientIds,rootClientId);}else{moveBlocksDown(clientIds,rootClientId);}
const blockLength=Array.isArray(clientIds)?clientIds.length:1;const message=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d block moved.','%d blocks moved.',clientIds.length),blockLength);(0,external_wp_a11y_namespaceObject.speak)(message);}}else if(isMatch('core/block-editor/duplicate',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();duplicateBlocks(clientIds);}}else if(isMatch('core/block-editor/remove',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();removeBlocks(clientIds);}}else if(isMatch('core/block-editor/insert-after',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();insertAfterBlock(clientIds[clientIds.length-1]);}}else if(isMatch('core/block-editor/insert-before',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();insertBeforeBlock(clientIds[0]);}}else if(isMatch('core/block-editor/unselect',event)){if(event.target.closest('[role=toolbar]')){return;}
const clientIds=getSelectedBlockClientIds();if(clientIds.length>1){event.preventDefault();selectBlock(clientIds[0]);}}else if(isMatch('core/block-editor/collapse-list-view',event)){if((0,external_wp_dom_namespaceObject.isTextField)(event.target)||(0,external_wp_dom_namespaceObject.isTextField)(event.target?.contentWindow?.document?.activeElement)){return;}
event.preventDefault();expandBlock(clientId);}else if(isMatch('core/block-editor/group',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length>1&&isGroupable(clientIds)){event.preventDefault();const blocks=getBlocksByClientId(clientIds);const groupingBlockName=getGroupingBlockName();const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,groupingBlockName);replaceBlocks(clientIds,newBlocks);(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('Selected blocks are grouped.'));}}}
const blockToolbarRef=use_popover_scroll(__unstableContentRef);const blockToolbarAfterRef=use_popover_scroll(__unstableContentRef);return((0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...props,onKeyDown:onKeyDown,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(insertion_point_InsertionPointOpenRef.Provider,{value:(0,external_wp_element_namespaceObject.useRef)(false),children:[!isTyping&&!isZoomOutMode&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(InsertionPoint,{__unstableContentRef:__unstableContentRef}),showEmptyBlockSideInserter&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(EmptyBlockInserter,{__unstableContentRef:__unstableContentRef,clientId:clientId}),showBlockToolbarPopover&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockToolbarPopover,{__unstableContentRef:__unstableContentRef,clientId:clientId,isTyping:isTyping}),!isZoomOutMode&&!hasFixedToolbar&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover.Slot,{name:"block-toolbar",ref:blockToolbarRef}),children,(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover.Slot,{name:"__unstable-block-tools-after",ref:blockToolbarAfterRef}),isZoomOutMode&&!isDragging&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(zoom_out_mode_inserters,{__unstableContentRef:__unstableContentRef})]})}));};const external_wp_commands_namespaceObject=window["wp"]["commands"];;const ungroup=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 9c0 .3-.2.5-.5.5h-7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7zm-5 5c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h1V9H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-1h-1.5v1z"})});const library_ungroup=(ungroup);;const trash=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});const library_trash=(trash);;const getTransformCommands=()=>function useTransformCommands(){const{replaceBlocks,multiSelect}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{blocks,clientIds,canRemove,possibleBlockTransformations,invalidSelection}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,getBlockTransformItems,getSelectedBlockClientIds,getBlocksByClientId,canRemoveBlocks}=select(store);const selectedBlockClientIds=getSelectedBlockClientIds();const selectedBlocks=getBlocksByClientId(selectedBlockClientIds);if(selectedBlocks.filter(block=>!block).length>0){return{invalidSelection:true};}
const rootClientId=getBlockRootClientId(selectedBlockClientIds[0]);return{blocks:selectedBlocks,clientIds:selectedBlockClientIds,possibleBlockTransformations:getBlockTransformItems(selectedBlocks,rootClientId),canRemove:canRemoveBlocks(selectedBlockClientIds),invalidSelection:false};},[]);if(invalidSelection){return{isLoading:false,commands:[]};}
const isTemplate=blocks.length===1&&(0,external_wp_blocks_namespaceObject.isTemplatePart)(blocks[0]);function selectForMultipleBlocks(insertedBlocks){if(insertedBlocks.length>1){multiSelect(insertedBlocks[0].clientId,insertedBlocks[insertedBlocks.length-1].clientId);}}
function onBlockTransform(name){const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,name);replaceBlocks(clientIds,newBlocks);selectForMultipleBlocks(newBlocks);}
const hasPossibleBlockTransformations=!!possibleBlockTransformations.length&&canRemove&&!isTemplate;if(!clientIds||clientIds.length<1||!hasPossibleBlockTransformations){return{isLoading:false,commands:[]};}
const commands=possibleBlockTransformations.map(transformation=>{const{name,title,icon}=transformation;return{name:'core/block-editor/transform-to-'+name.replace('/','-'),label:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Transform to %s'),title),icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:icon}),callback:({close})=>{onBlockTransform(name);close();}};});return{isLoading:false,commands};};const getQuickActionsCommands=()=>function useQuickActionsCommands(){const{clientIds,isUngroupable,isGroupable}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientIds,isUngroupable:_isUngroupable,isGroupable:_isGroupable}=select(store);const selectedBlockClientIds=getSelectedBlockClientIds();return{clientIds:selectedBlockClientIds,isUngroupable:_isUngroupable(),isGroupable:_isGroupable()};},[]);const{canInsertBlockType,getBlockRootClientId,getBlocksByClientId,canRemoveBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getDefaultBlockName,getGroupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const blocks=getBlocksByClientId(clientIds);const{removeBlocks,replaceBlocks,duplicateBlocks,insertAfterBlock,insertBeforeBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onGroup=()=>{if(!blocks.length){return;}
const groupingBlockName=getGroupingBlockName();const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,groupingBlockName);if(!newBlocks){return;}
replaceBlocks(clientIds,newBlocks);};const onUngroup=()=>{if(!blocks.length){return;}
const innerBlocks=blocks[0].innerBlocks;if(!innerBlocks.length){return;}
replaceBlocks(clientIds,innerBlocks);};if(!clientIds||clientIds.length<1){return{isLoading:false,commands:[]};}
const rootClientId=getBlockRootClientId(clientIds[0]);const canInsertDefaultBlock=canInsertBlockType(getDefaultBlockName(),rootClientId);const canDuplicate=blocks.every(block=>{return!!block&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(block.name,'multiple',true)&&canInsertBlockType(block.name,rootClientId);});const canRemove=canRemoveBlocks(clientIds);const commands=[];if(canDuplicate){commands.push({name:'duplicate',label:(0,external_wp_i18n_namespaceObject.__)('Duplicate'),callback:()=>duplicateBlocks(clientIds,true),icon:library_copy});}
if(canInsertDefaultBlock){commands.push({name:'add-before',label:(0,external_wp_i18n_namespaceObject.__)('Add before'),callback:()=>{const clientId=Array.isArray(clientIds)?clientIds[0]:clientId;insertBeforeBlock(clientId);},icon:library_plus},{name:'add-after',label:(0,external_wp_i18n_namespaceObject.__)('Add after'),callback:()=>{const clientId=Array.isArray(clientIds)?clientIds[clientIds.length-1]:clientId;insertAfterBlock(clientId);},icon:library_plus});}
if(isGroupable){commands.push({name:'Group',label:(0,external_wp_i18n_namespaceObject.__)('Group'),callback:onGroup,icon:library_group});}
if(isUngroupable){commands.push({name:'ungroup',label:(0,external_wp_i18n_namespaceObject.__)('Ungroup'),callback:onUngroup,icon:library_ungroup});}
if(canRemove){commands.push({name:'remove',label:(0,external_wp_i18n_namespaceObject.__)('Delete'),callback:()=>removeBlocks(clientIds,true),icon:library_trash});}
return{isLoading:false,commands:commands.map(command=>({...command,name:'core/block-editor/action-'+command.name,callback:({close})=>{command.callback();close();}}))};};const useBlockCommands=()=>{(0,external_wp_commands_namespaceObject.useCommandLoader)({name:'core/block-editor/blockTransforms',hook:getTransformCommands()});(0,external_wp_commands_namespaceObject.useCommandLoader)({name:'core/block-editor/blockQuickActions',hook:getQuickActionsCommands(),context:'block-selection-edit'});};;const EDITOR_STYLE_TRANSFORM_OPTIONS={ignoredSelectors:[/\.editor-styles-wrapper/gi]};function ExperimentalBlockCanvas({shouldIframe=true,height='300px',children=(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockList,{}),styles,contentRef:contentRefProp,iframeProps}){useBlockCommands();const isTabletViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const resetTypingRef=useMouseMoveTypingReset();const clearerRef=useBlockSelectionClearer();const localRef=(0,external_wp_element_namespaceObject.useRef)();const contentRef=(0,external_wp_compose_namespaceObject.useMergeRefs)([contentRefProp,clearerRef,localRef]);const zoomLevel=(0,external_wp_data_namespaceObject.useSelect)(select=>unlock(select(store)).getZoomLevel(),[]);const zoomOutIframeProps=zoomLevel!==100&&!isTabletViewport?{scale:zoomLevel,frameSize:'40px'}:{};if(!shouldIframe){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(BlockTools,{__unstableContentRef:localRef,style:{height,display:'flex'},children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(editor_styles,{styles:styles,scope:":where(.editor-styles-wrapper)",transformOptions:EDITOR_STYLE_TRANSFORM_OPTIONS}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(writing_flow,{ref:contentRef,className:"editor-styles-wrapper",tabIndex:-1,style:{height:'100%',width:'100%'},children:children})]});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockTools,{__unstableContentRef:localRef,style:{height,display:'flex'},children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(iframe,{...iframeProps,...zoomOutIframeProps,ref:resetTypingRef,contentRef:contentRef,style:{...iframeProps?.style},name:"editor-canvas",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(editor_styles,{styles:styles}),children]})});}
function BlockCanvas({children,height,styles}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ExperimentalBlockCanvas,{height:height,styles:styles,children:children});}
const block_canvas=(BlockCanvas);;const ColorSelectorSVGIcon=()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Path,{d:"M7.434 5l3.18 9.16H8.538l-.692-2.184H4.628l-.705 2.184H2L5.18 5h2.254zm-1.13 1.904h-.115l-1.148 3.593H7.44L6.304 6.904zM14.348 7.006c1.853 0 2.9.876 2.9 2.374v4.78h-1.79v-.914h-.114c-.362.64-1.123 1.022-2.031 1.022-1.346 0-2.292-.826-2.292-2.108 0-1.27.972-2.006 2.71-2.107l1.696-.102V9.38c0-.584-.42-.914-1.18-.914-.667 0-1.112.228-1.264.647h-1.701c.12-1.295 1.307-2.107 3.066-2.107zm1.079 4.1l-1.416.09c-.793.056-1.18.342-1.18.844 0 .52.45.837 1.091.837.857 0 1.505-.545 1.505-1.256v-.515z"})});const ColorSelectorIcon=({style,className})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-library-colors-selector__icon-container",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:`${className} block-library-colors-selector__state-selection`,style:style,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorSelectorSVGIcon,{})})});};const renderToggleComponent=({TextColor,BackgroundColor})=>({onToggle,isOpen})=>{const openOnArrowDown=event=>{if(!isOpen&&event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();onToggle();}};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{className:"components-toolbar__control block-library-colors-selector__toggle",label:(0,external_wp_i18n_namespaceObject.__)('Open Colors Selector'),onClick:onToggle,onKeyDown:openOnArrowDown,icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BackgroundColor,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(TextColor,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorSelectorIcon,{})})})})});};const BlockColorsStyleSelector=({children,...other})=>{external_wp_deprecated_default()(`wp.blockEditor.BlockColorsStyleSelector`,{alternative:'block supports API',since:'6.1',version:'6.3'});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:{placement:'bottom-start'},className:"block-library-colors-selector",contentClassName:"block-library-colors-selector__popover",renderToggle:renderToggleComponent(other),renderContent:()=>children});};const color_style_selector=(BlockColorsStyleSelector);;const listView=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})});const list_view=(listView);;const ListViewContext=(0,external_wp_element_namespaceObject.createContext)({});const useListViewContext=()=>(0,external_wp_element_namespaceObject.useContext)(ListViewContext);;function AriaReferencedText({children,...props}){const ref=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useEffect)(()=>{if(ref.current){ref.current.textContent=ref.current.textContent;}},[children]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{hidden:true,...props,ref:ref,children:children});};const Appender=(0,external_wp_element_namespaceObject.forwardRef)(({nestingLevel,blockCount,clientId,...props},ref)=>{const{insertedBlock,setInsertedBlock}=useListViewContext();const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(Appender);const hideInserter=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getTemplateLock,isZoomOut}=unlock(select(store));return!!getTemplateLock(clientId)||isZoomOut();},[clientId]);const blockTitle=useBlockDisplayTitle({clientId,context:'list-view'});const insertedBlockTitle=useBlockDisplayTitle({clientId:insertedBlock?.clientId,context:'list-view'});(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!insertedBlockTitle?.length){return;}
(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s block inserted'),insertedBlockTitle),'assertive');},[insertedBlockTitle]);if(hideInserter){return null;}
const descriptionId=`list-view-appender__${instanceId}`;const description=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Append to %1$s block at position %2$d, Level %3$d'),blockTitle,blockCount+1,nestingLevel);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"list-view-appender",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inserter,{ref:ref,rootClientId:clientId,position:"bottom right",isAppender:true,selectBlockOnInsert:false,shouldDirectInsert:false,__experimentalIsQuick:true,...props,toggleProps:{'aria-describedby':descriptionId},onSelectOrClose:maybeInsertedBlock=>{if(maybeInsertedBlock?.clientId){setInsertedBlock(maybeInsertedBlock);}}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(AriaReferencedText,{id:descriptionId,children:description})]});});;const AnimatedTreeGridRow=dist_esm_it(external_wp_components_namespaceObject.__experimentalTreeGridRow);const ListViewLeaf=(0,external_wp_element_namespaceObject.forwardRef)(({isDragged,isSelected,position,level,rowCount,children,className,path,...props},ref)=>{const animationRef=use_moving_animation({clientId:props['data-block'],enableAnimation:true,triggerAnimationOnChange:path});const mergedRef=(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,animationRef]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(AnimatedTreeGridRow,{ref:mergedRef,className:dist_clsx('block-editor-list-view-leaf',className),level:level,positionInSet:position,setSize:rowCount,isExpanded:undefined,...props,children:children});});const leaf=(ListViewLeaf);;function useListViewScrollIntoView({isSelected,selectedClientIds,rowItemRef}){const isSingleSelection=selectedClientIds.length===1;(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!isSelected||!isSingleSelection||!rowItemRef.current){return;}
const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(rowItemRef.current);const{ownerDocument}=rowItemRef.current;const windowScroll=scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement;if(windowScroll||!scrollContainer){return;}
const rowRect=rowItemRef.current.getBoundingClientRect();const scrollContainerRect=scrollContainer.getBoundingClientRect();if(rowRect.top<scrollContainerRect.top||rowRect.bottom>scrollContainerRect.bottom){rowItemRef.current.scrollIntoView();}},[isSelected,isSingleSelection,rowItemRef]);};const pinSmall=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M10.97 10.159a3.382 3.382 0 0 0-2.857.955l1.724 1.723-2.836 2.913L7 17h1.25l2.913-2.837 1.723 1.723a3.38 3.38 0 0 0 .606-.825c.33-.63.446-1.343.35-2.032L17 10.695 13.305 7l-2.334 3.159Z"})});const pin_small=(pinSmall);;const lockSmall=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z"})});const lock_small=(lockSmall);;function ListViewExpander({onClick}){return((0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view__expander",onClick:event=>onClick(event,{forceToggle:true}),"aria-hidden":"true","data-testid":"list-view-expander",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left_small:chevron_right_small})}));};const MAX_IMAGES=3;function getImage(block){if(block.name!=='core/image'){return;}
if(block.attributes?.url){return{url:block.attributes.url,alt:block.attributes.alt,clientId:block.clientId};}}
function getImagesFromGallery(block){if(block.name!=='core/gallery'||!block.innerBlocks){return[];}
const images=[];for(const innerBlock of block.innerBlocks){const img=getImage(innerBlock);if(img){images.push(img);}
if(images.length>=MAX_IMAGES){return images;}}
return images;}
function getImagesFromBlock(block,isExpanded){const img=getImage(block);if(img){return[img];}
return isExpanded?[]:getImagesFromGallery(block);}
function useListViewImages({clientId,isExpanded}){const{block}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const _block=select(store).getBlock(clientId);return{block:_block};},[clientId]);const images=(0,external_wp_element_namespaceObject.useMemo)(()=>{return getImagesFromBlock(block,isExpanded);},[block,isExpanded]);return images;};const{Badge:block_select_button_Badge}=unlock(external_wp_components_namespaceObject.privateApis);function ListViewBlockSelectButton({className,block:{clientId},onClick,onContextMenu,onMouseDown,onToggleExpanded,tabIndex,onFocus,onDragStart,onDragEnd,draggable,isExpanded,ariaDescribedBy},ref){const blockInformation=useBlockDisplayInformation(clientId);const blockTitle=useBlockDisplayTitle({clientId,context:'list-view'});const{isLocked}=useBlockLock(clientId);const{isContentOnly}=(0,external_wp_data_namespaceObject.useSelect)(select=>({isContentOnly:select(store).getBlockEditingMode(clientId)==='contentOnly'}),[clientId]);const shouldShowLockIcon=isLocked&&!isContentOnly;const isSticky=blockInformation?.positionType==='sticky';const images=useListViewImages({clientId,isExpanded});const onDragStartHandler=event=>{event.dataTransfer.clearData();onDragStart?.(event);};function onKeyDown(event){if(event.keyCode===external_wp_keycodes_namespaceObject.ENTER||event.keyCode===external_wp_keycodes_namespaceObject.SPACE){onClick(event);}}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("a",{className:dist_clsx('block-editor-list-view-block-select-button',className),onClick:onClick,onContextMenu:onContextMenu,onKeyDown:onKeyDown,onMouseDown:onMouseDown,ref:ref,tabIndex:tabIndex,onFocus:onFocus,onDragStart:onDragStartHandler,onDragEnd:onDragEnd,draggable:draggable,href:`#block-${clientId}`,"aria-describedby":ariaDescribedBy,"aria-expanded":isExpanded,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ListViewExpander,{onClick:onToggleExpanded}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:blockInformation?.icon,showColors:true,context:"list-view"}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view-block-select-button__title",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{ellipsizeMode:"auto",children:blockTitle})}),blockInformation?.anchor&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view-block-select-button__anchor-wrapper",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_select_button_Badge,{className:"block-editor-list-view-block-select-button__anchor",children:blockInformation.anchor})}),isSticky&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view-block-select-button__sticky",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:pin_small})}),images.length?(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view-block-select-button__images","aria-hidden":true,children:images.map((image,index)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view-block-select-button__image",style:{backgroundImage:`url(${image.url})`,zIndex:images.length-index}},image.clientId))}):null,shouldShowLockIcon&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view-block-select-button__lock",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:lock_small})})]})]});}
const block_select_button=((0,external_wp_element_namespaceObject.forwardRef)(ListViewBlockSelectButton));;const ListViewBlockContents=(0,external_wp_element_namespaceObject.forwardRef)(({onClick,onToggleExpanded,block,isSelected,position,siblingBlockCount,level,isExpanded,selectedClientIds,...props},ref)=>{const{clientId}=block;const{AdditionalBlockContent,insertedBlock,setInsertedBlock}=useListViewContext();const draggableClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[AdditionalBlockContent&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(AdditionalBlockContent,{block:block,insertedBlock:insertedBlock,setInsertedBlock:setInsertedBlock}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_draggable,{appendToOwnerDocument:true,clientIds:draggableClientIds,cloneClassname:"block-editor-list-view-draggable-chip",children:({draggable,onDragStart,onDragEnd})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_select_button,{ref:ref,className:"block-editor-list-view-block-contents",block:block,onClick:onClick,onToggleExpanded:onToggleExpanded,isSelected:isSelected,position:position,siblingBlockCount:siblingBlockCount,level:level,draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd,isExpanded:isExpanded,...props})})]});});const block_contents=(ListViewBlockContents);;const getBlockPositionDescription=(position,siblingCount,level)=>(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$d of %2$d, Level %3$d.'),position,siblingCount,level);const getBlockPropertiesDescription=(blockInformation,isLocked)=>[blockInformation?.positionLabel?`${(0,external_wp_i18n_namespaceObject.sprintf)(
// translators: %s: Position of selected block, e.g. "Sticky" or "Fixed".
(0,external_wp_i18n_namespaceObject.__)('Position: %s'), blockInformation.positionLabel)}.`:undefined,isLocked?(0,external_wp_i18n_namespaceObject.__)('This block is locked.'):undefined].filter(Boolean).join(' ');const isClientIdSelected=(clientId,selectedBlockClientIds)=>Array.isArray(selectedBlockClientIds)&&selectedBlockClientIds.length?selectedBlockClientIds.indexOf(clientId)!==-1:selectedBlockClientIds===clientId;function getCommonDepthClientIds(startId,endId,startParents,endParents){const startPath=[...startParents,startId];const endPath=[...endParents,endId];const depth=Math.min(startPath.length,endPath.length)-1;const start=startPath[depth];const end=endPath[depth];return{start,end};}
function focusListItem(focusClientId,treeGridElement){const getFocusElement=()=>{const row=treeGridElement?.querySelector(`[role=row][data-block="${focusClientId}"]`);if(!row){return null;}
return external_wp_dom_namespaceObject.focus.focusable.find(row)[0];};let focusElement=getFocusElement();if(focusElement){focusElement.focus();}else{window.requestAnimationFrame(()=>{focusElement=getFocusElement();if(focusElement){focusElement.focus();}});}}
function getDragDisplacementValues({blockIndexes,blockDropTargetIndex,blockDropPosition,clientId,firstDraggedBlockIndex,isDragged}){let displacement;let isNesting;let isAfterDraggedBlocks;if(!isDragged){isNesting=false;const thisBlockIndex=blockIndexes[clientId];isAfterDraggedBlocks=thisBlockIndex>firstDraggedBlockIndex;if(blockDropTargetIndex!==undefined&&blockDropTargetIndex!==null&&firstDraggedBlockIndex!==undefined){if(thisBlockIndex!==undefined){if(thisBlockIndex>=firstDraggedBlockIndex&&thisBlockIndex<blockDropTargetIndex){displacement='up';}else if(thisBlockIndex<firstDraggedBlockIndex&&thisBlockIndex>=blockDropTargetIndex){displacement='down';}else{displacement='normal';}
isNesting=typeof blockDropTargetIndex==='number'&&blockDropTargetIndex-1===thisBlockIndex&&blockDropPosition==='inside';}}else if(blockDropTargetIndex===null&&firstDraggedBlockIndex!==undefined){if(thisBlockIndex!==undefined&&thisBlockIndex>=firstDraggedBlockIndex){displacement='up';}else{displacement='normal';}}else if(blockDropTargetIndex!==undefined&&blockDropTargetIndex!==null&&firstDraggedBlockIndex===undefined){if(thisBlockIndex!==undefined){if(thisBlockIndex<blockDropTargetIndex){displacement='normal';}else{displacement='down';}}}else if(blockDropTargetIndex===null){displacement='normal';}}
return{displacement,isNesting,isAfterDraggedBlocks};};function ListViewBlock({block:{clientId},displacement,isAfterDraggedBlocks,isDragged,isNesting,isSelected,isBranchSelected,selectBlock,position,level,rowCount,siblingBlockCount,showBlockMovers,path,isExpanded,selectedClientIds,isSyncedBranch}){const cellRef=(0,external_wp_element_namespaceObject.useRef)(null);const rowRef=(0,external_wp_element_namespaceObject.useRef)(null);const settingsRef=(0,external_wp_element_namespaceObject.useRef)(null);const[isHovered,setIsHovered]=(0,external_wp_element_namespaceObject.useState)(false);const[settingsAnchorRect,setSettingsAnchorRect]=(0,external_wp_element_namespaceObject.useState)();const{isLocked,canEdit,canMove}=useBlockLock(clientId);const isFirstSelectedBlock=isSelected&&selectedClientIds[0]===clientId;const isLastSelectedBlock=isSelected&&selectedClientIds[selectedClientIds.length-1]===clientId;const{toggleBlockHighlight,duplicateBlocks,multiSelect,replaceBlocks,removeBlocks,insertAfterBlock,insertBeforeBlock,setOpenedBlockSettingsMenu}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));const{canInsertBlockType,getSelectedBlockClientIds,getPreviousBlockClientId,getBlockRootClientId,getBlockOrder,getBlockParents,getBlocksByClientId,canRemoveBlocks,isGroupable}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getGroupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const blockInformation=useBlockDisplayInformation(clientId);const{block,blockName,allowRightClickOverrides}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlock,getBlockName,getSettings}=select(store);return{block:getBlock(clientId),blockName:getBlockName(clientId),allowRightClickOverrides:getSettings().allowRightClickOverrides};},[clientId]);const showBlockActions=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'__experimentalToolbar',true);const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(ListViewBlock);const descriptionId=`list-view-block-select-button__description-${instanceId}`;const{expand,collapse,collapseAll,BlockSettingsMenu,listViewInstanceId,expandedState,setInsertedBlock,treeGridElementRef,rootClientId}=useListViewContext();const isMatch=(0,external_wp_keyboardShortcuts_namespaceObject.__unstableUseShortcutEventMatch)();function getBlocksToUpdate(){const selectedBlockClientIds=getSelectedBlockClientIds();const isUpdatingSelectedBlocks=selectedBlockClientIds.includes(clientId);const firstBlockClientId=isUpdatingSelectedBlocks?selectedBlockClientIds[0]:clientId;const firstBlockRootClientId=getBlockRootClientId(firstBlockClientId);const blocksToUpdate=isUpdatingSelectedBlocks?selectedBlockClientIds:[clientId];return{blocksToUpdate,firstBlockClientId,firstBlockRootClientId,selectedBlockClientIds};}
async function onKeyDown(event){if(event.defaultPrevented){return;}
if(event.target.closest('[role=dialog]')){return;}
const isDeleteKey=[external_wp_keycodes_namespaceObject.BACKSPACE,external_wp_keycodes_namespaceObject.DELETE].includes(event.keyCode);if(isMatch('core/block-editor/unselect',event)&&selectedClientIds.length>0){event.stopPropagation();event.preventDefault();selectBlock(event,undefined);}else if(isDeleteKey||isMatch('core/block-editor/remove',event)){var _getPreviousBlockClie;const{blocksToUpdate:blocksToDelete,firstBlockClientId,firstBlockRootClientId,selectedBlockClientIds}=getBlocksToUpdate();if(!canRemoveBlocks(blocksToDelete)){return;}
let blockToFocus=(_getPreviousBlockClie=getPreviousBlockClientId(firstBlockClientId))!==null&&_getPreviousBlockClie!==void 0?_getPreviousBlockClie:firstBlockRootClientId;removeBlocks(blocksToDelete,false);const shouldUpdateSelection=selectedBlockClientIds.length>0&&getSelectedBlockClientIds().length===0;if(!blockToFocus){blockToFocus=getBlockOrder()[0];}
updateFocusAndSelection(blockToFocus,shouldUpdateSelection);}else if(isMatch('core/block-editor/duplicate',event)){event.preventDefault();const{blocksToUpdate,firstBlockRootClientId}=getBlocksToUpdate();const canDuplicate=getBlocksByClientId(blocksToUpdate).every(blockToUpdate=>{return!!blockToUpdate&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockToUpdate.name,'multiple',true)&&canInsertBlockType(blockToUpdate.name,firstBlockRootClientId);});if(canDuplicate){const updatedBlocks=await duplicateBlocks(blocksToUpdate,false);if(updatedBlocks?.length){updateFocusAndSelection(updatedBlocks[0],false);}}}else if(isMatch('core/block-editor/insert-before',event)){event.preventDefault();const{blocksToUpdate}=getBlocksToUpdate();await insertBeforeBlock(blocksToUpdate[0]);const newlySelectedBlocks=getSelectedBlockClientIds();setOpenedBlockSettingsMenu(undefined);updateFocusAndSelection(newlySelectedBlocks[0],false);}else if(isMatch('core/block-editor/insert-after',event)){event.preventDefault();const{blocksToUpdate}=getBlocksToUpdate();await insertAfterBlock(blocksToUpdate.at(-1));const newlySelectedBlocks=getSelectedBlockClientIds();setOpenedBlockSettingsMenu(undefined);updateFocusAndSelection(newlySelectedBlocks[0],false);}else if(isMatch('core/block-editor/select-all',event)){event.preventDefault();const{firstBlockRootClientId,selectedBlockClientIds}=getBlocksToUpdate();const blockClientIds=getBlockOrder(firstBlockRootClientId);if(!blockClientIds.length){return;}
if(external_wp_isShallowEqual_default()(selectedBlockClientIds,blockClientIds)){if(firstBlockRootClientId&&firstBlockRootClientId!==rootClientId){updateFocusAndSelection(firstBlockRootClientId,true);return;}}
multiSelect(blockClientIds[0],blockClientIds[blockClientIds.length-1],null);}else if(isMatch('core/block-editor/collapse-list-view',event)){event.preventDefault();const{firstBlockClientId}=getBlocksToUpdate();const blockParents=getBlockParents(firstBlockClientId,false);collapseAll();expand(blockParents);}else if(isMatch('core/block-editor/group',event)){const{blocksToUpdate}=getBlocksToUpdate();if(blocksToUpdate.length>1&&isGroupable(blocksToUpdate)){event.preventDefault();const blocks=getBlocksByClientId(blocksToUpdate);const groupingBlockName=getGroupingBlockName();const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,groupingBlockName);replaceBlocks(blocksToUpdate,newBlocks);(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('Selected blocks are grouped.'));const newlySelectedBlocks=getSelectedBlockClientIds();setOpenedBlockSettingsMenu(undefined);updateFocusAndSelection(newlySelectedBlocks[0],false);}}}
const onMouseEnter=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsHovered(true);toggleBlockHighlight(clientId,true);},[clientId,setIsHovered,toggleBlockHighlight]);const onMouseLeave=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsHovered(false);toggleBlockHighlight(clientId,false);},[clientId,setIsHovered,toggleBlockHighlight]);const selectEditorBlock=(0,external_wp_element_namespaceObject.useCallback)(event=>{selectBlock(event,clientId);event.preventDefault();},[clientId,selectBlock]);const updateFocusAndSelection=(0,external_wp_element_namespaceObject.useCallback)((focusClientId,shouldSelectBlock)=>{if(shouldSelectBlock){selectBlock(undefined,focusClientId,null,null);}
focusListItem(focusClientId,treeGridElementRef?.current);},[selectBlock,treeGridElementRef]);const toggleExpanded=(0,external_wp_element_namespaceObject.useCallback)(event=>{event.preventDefault();event.stopPropagation();if(isExpanded===true){collapse(clientId);}else if(isExpanded===false){expand(clientId);}},[clientId,expand,collapse,isExpanded]);const onContextMenu=(0,external_wp_element_namespaceObject.useCallback)(event=>{if(showBlockActions&&allowRightClickOverrides){settingsRef.current?.click();setSettingsAnchorRect(new window.DOMRect(event.clientX,event.clientY,0,0));event.preventDefault();}},[allowRightClickOverrides,settingsRef,showBlockActions]);const onMouseDown=(0,external_wp_element_namespaceObject.useCallback)(event=>{if(allowRightClickOverrides&&event.button===2){event.preventDefault();}},[allowRightClickOverrides]);const settingsPopoverAnchor=(0,external_wp_element_namespaceObject.useMemo)(()=>{const{ownerDocument}=rowRef?.current||{};if(!settingsAnchorRect||!ownerDocument){return undefined;}
return{ownerDocument,getBoundingClientRect(){return settingsAnchorRect;}};},[settingsAnchorRect]);const clearSettingsAnchorRect=(0,external_wp_element_namespaceObject.useCallback)(()=>{setSettingsAnchorRect(undefined);},[setSettingsAnchorRect]);useListViewScrollIntoView({isSelected,rowItemRef:rowRef,selectedClientIds});if(!block){return null;}
const blockPositionDescription=getBlockPositionDescription(position,siblingBlockCount,level);const blockPropertiesDescription=getBlockPropertiesDescription(blockInformation,isLocked);const hasSiblings=siblingBlockCount>0;const hasRenderedMovers=showBlockMovers&&hasSiblings;const moverCellClassName=dist_clsx('block-editor-list-view-block__mover-cell',{'is-visible':isHovered||isSelected});const listViewBlockSettingsClassName=dist_clsx('block-editor-list-view-block__menu-cell',{'is-visible':isHovered||isFirstSelectedBlock});let colSpan;if(hasRenderedMovers){colSpan=2;}else if(!showBlockActions){colSpan=3;}
const classes=dist_clsx({'is-selected':isSelected,'is-first-selected':isFirstSelectedBlock,'is-last-selected':isLastSelectedBlock,'is-branch-selected':isBranchSelected,'is-synced-branch':isSyncedBranch,'is-dragging':isDragged,'has-single-cell':!showBlockActions,'is-synced':blockInformation?.isSynced,'is-draggable':canMove,'is-displacement-normal':displacement==='normal','is-displacement-up':displacement==='up','is-displacement-down':displacement==='down','is-after-dragged-blocks':isAfterDraggedBlocks,'is-nesting':isNesting});const dropdownClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];const currentlyEditingBlockInCanvas=isSelected&&selectedClientIds.length===1;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(leaf,{className:classes,isDragged:isDragged,onKeyDown:onKeyDown,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,onFocus:onMouseEnter,onBlur:onMouseLeave,level:level,position:position,rowCount:rowCount,path:path,id:`list-view-${listViewInstanceId}-block-${clientId}`,"data-block":clientId,"data-expanded":canEdit?isExpanded:undefined,ref:rowRef,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTreeGridCell,{className:"block-editor-list-view-block__contents-cell",colSpan:colSpan,ref:cellRef,"aria-selected":!!isSelected,children:({ref,tabIndex,onFocus})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-list-view-block__contents-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_contents,{block:block,onClick:selectEditorBlock,onContextMenu:onContextMenu,onMouseDown:onMouseDown,onToggleExpanded:toggleExpanded,isSelected:isSelected,position:position,siblingBlockCount:siblingBlockCount,level:level,ref:ref,tabIndex:currentlyEditingBlockInCanvas?0:tabIndex,onFocus:onFocus,isExpanded:canEdit?isExpanded:undefined,selectedClientIds:selectedClientIds,ariaDescribedBy:descriptionId}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(AriaReferencedText,{id:descriptionId,children:[blockPositionDescription,blockPropertiesDescription].filter(Boolean).join(' ')})]})}),hasRenderedMovers&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalTreeGridCell,{className:moverCellClassName,withoutGridItem:true,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTreeGridItem,{children:({ref,tabIndex,onFocus})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockMoverUpButton,{orientation:"vertical",clientIds:[clientId],ref:ref,tabIndex:tabIndex,onFocus:onFocus})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTreeGridItem,{children:({ref,tabIndex,onFocus})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockMoverDownButton,{orientation:"vertical",clientIds:[clientId],ref:ref,tabIndex:tabIndex,onFocus:onFocus})})]})}),showBlockActions&&BlockSettingsMenu&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTreeGridCell,{className:listViewBlockSettingsClassName,"aria-selected":!!isSelected,ref:settingsRef,children:({ref,tabIndex,onFocus})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockSettingsMenu,{clientIds:dropdownClientIds,block:block,icon:more_vertical,label:(0,external_wp_i18n_namespaceObject.__)('Options'),popoverProps:{anchor:settingsPopoverAnchor},toggleProps:{ref,className:'block-editor-list-view-block__menu',tabIndex,onClick:clearSettingsAnchorRect,onFocus},disableOpenOnArrowDown:true,expand:expand,expandedState:expandedState,setInsertedBlock:setInsertedBlock,__experimentalSelectBlock:updateFocusAndSelection})})]});}
const list_view_block=((0,external_wp_element_namespaceObject.memo)(ListViewBlock));;function countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault){var _expandedState$block$;const isDragged=draggedClientIds?.includes(block.clientId);if(isDragged){return 0;}
const isExpanded=(_expandedState$block$=expandedState[block.clientId])!==null&&_expandedState$block$!==void 0?_expandedState$block$:isExpandedByDefault;if(isExpanded){return 1+block.innerBlocks.reduce(countReducer(expandedState,draggedClientIds,isExpandedByDefault),0);}
return 1;}
const countReducer=(expandedState,draggedClientIds,isExpandedByDefault)=>(count,block)=>{var _expandedState$block$2;const isDragged=draggedClientIds?.includes(block.clientId);if(isDragged){return count;}
const isExpanded=(_expandedState$block$2=expandedState[block.clientId])!==null&&_expandedState$block$2!==void 0?_expandedState$block$2:isExpandedByDefault;if(isExpanded&&block.innerBlocks.length>0){return count+countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault);}
return count+1;};const branch_noop=()=>{};function ListViewBranch(props){const{blocks,selectBlock=branch_noop,showBlockMovers,selectedClientIds,level=1,path='',isBranchSelected=false,listPosition=0,fixedListWindow,isExpanded,parentId,shouldShowInnerBlocks=true,isSyncedBranch=false,showAppender:showAppenderProp=true}=props;const parentBlockInformation=useBlockDisplayInformation(parentId);const syncedBranch=isSyncedBranch||!!parentBlockInformation?.isSynced;const canParentExpand=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!parentId){return true;}
return select(store).canEditBlock(parentId);},[parentId]);const{blockDropPosition,blockDropTargetIndex,firstDraggedBlockIndex,blockIndexes,expandedState,draggedClientIds}=useListViewContext();const nextPositionRef=(0,external_wp_element_namespaceObject.useRef)();if(!canParentExpand){return null;}
const showAppender=showAppenderProp&&level===1;const filteredBlocks=blocks.filter(Boolean);const blockCount=filteredBlocks.length;const rowCount=showAppender?blockCount+1:blockCount;nextPositionRef.current=listPosition;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[filteredBlocks.map((block,index)=>{var _expandedState$client;const{clientId,innerBlocks}=block;if(index>0){nextPositionRef.current+=countBlocks(filteredBlocks[index-1],expandedState,draggedClientIds,isExpanded);}
const isDragged=!!draggedClientIds?.includes(clientId);const{displacement,isAfterDraggedBlocks,isNesting}=getDragDisplacementValues({blockIndexes,blockDropTargetIndex,blockDropPosition,clientId,firstDraggedBlockIndex,isDragged});const{itemInView}=fixedListWindow;const blockInView=itemInView(nextPositionRef.current);const position=index+1;const updatedPath=path.length>0?`${path}_${position}`:`${position}`;const hasNestedBlocks=!!innerBlocks?.length;const shouldExpand=hasNestedBlocks&&shouldShowInnerBlocks?(_expandedState$client=expandedState[clientId])!==null&&_expandedState$client!==void 0?_expandedState$client:isExpanded:undefined;const isSelected=isClientIdSelected(clientId,selectedClientIds);const isSelectedBranch=isBranchSelected||isSelected&&hasNestedBlocks;const showBlock=isDragged||blockInView||isSelected&&clientId===selectedClientIds[0]||index===0||index===blockCount-1;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_data_namespaceObject.AsyncModeProvider,{value:!isSelected,children:[showBlock&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(list_view_block,{block:block,selectBlock:selectBlock,isSelected:isSelected,isBranchSelected:isSelectedBranch,isDragged:isDragged,level:level,position:position,rowCount:rowCount,siblingBlockCount:blockCount,showBlockMovers:showBlockMovers,path:updatedPath,isExpanded:isDragged?false:shouldExpand,listPosition:nextPositionRef.current,selectedClientIds:selectedClientIds,isSyncedBranch:syncedBranch,displacement:displacement,isAfterDraggedBlocks:isAfterDraggedBlocks,isNesting:isNesting}),!showBlock&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("tr",{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("td",{className:"block-editor-list-view-placeholder"})}),hasNestedBlocks&&shouldExpand&&!isDragged&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ListViewBranch,{parentId:clientId,blocks:innerBlocks,selectBlock:selectBlock,showBlockMovers:showBlockMovers,level:level+1,path:updatedPath,listPosition:nextPositionRef.current+1,fixedListWindow:fixedListWindow,isBranchSelected:isSelectedBranch,selectedClientIds:selectedClientIds,isExpanded:isExpanded,isSyncedBranch:syncedBranch})]},clientId);}),showAppender&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTreeGridRow,{level:level,setSize:rowCount,positionInSet:rowCount,isExpanded:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTreeGridCell,{children:treeGridCellProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(Appender,{clientId:parentId,nestingLevel:level,blockCount:blockCount,...treeGridCellProps})})})]});}
const branch=((0,external_wp_element_namespaceObject.memo)(ListViewBranch));;function ListViewDropIndicatorPreview({draggedBlockClientId,listViewRef,blockDropTarget}){const blockInformation=useBlockDisplayInformation(draggedBlockClientId);const blockTitle=useBlockDisplayTitle({clientId:draggedBlockClientId,context:'list-view'});const{rootClientId,clientId,dropPosition}=blockDropTarget||{};const[rootBlockElement,blockElement]=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!listViewRef.current){return[];}
const _rootBlockElement=rootClientId?listViewRef.current.querySelector(`[data-block="${rootClientId}"]`):undefined;const _blockElement=clientId?listViewRef.current.querySelector(`[data-block="${clientId}"]`):undefined;return[_rootBlockElement,_blockElement];},[listViewRef,rootClientId,clientId]);const targetElement=blockElement||rootBlockElement;const rtl=(0,external_wp_i18n_namespaceObject.isRTL)();const getDropIndicatorWidth=(0,external_wp_element_namespaceObject.useCallback)((targetElementRect,indent)=>{if(!targetElement){return 0;}
let width=targetElement.offsetWidth;const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(targetElement,'horizontal');const ownerDocument=targetElement.ownerDocument;const windowScroll=scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement;if(scrollContainer&&!windowScroll){const scrollContainerRect=scrollContainer.getBoundingClientRect();const distanceBetweenContainerAndTarget=(0,external_wp_i18n_namespaceObject.isRTL)()?scrollContainerRect.right-targetElementRect.right:targetElementRect.left-scrollContainerRect.left;const scrollContainerWidth=scrollContainer.clientWidth;if(scrollContainerWidth<width+distanceBetweenContainerAndTarget){width=scrollContainerWidth-distanceBetweenContainerAndTarget;}
if(!rtl&&targetElementRect.left+indent<scrollContainerRect.left){width-=scrollContainerRect.left-targetElementRect.left;return width;}
if(rtl&&targetElementRect.right-indent>scrollContainerRect.right){width-=targetElementRect.right-scrollContainerRect.right;return width;}}
return width-indent;},[rtl,targetElement]);const style=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!targetElement){return{};}
const targetElementRect=targetElement.getBoundingClientRect();return{width:getDropIndicatorWidth(targetElementRect,0)};},[getDropIndicatorWidth,targetElement]);const horizontalScrollOffsetStyle=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!targetElement){return{};}
const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(targetElement);const ownerDocument=targetElement.ownerDocument;const windowScroll=scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement;if(scrollContainer&&!windowScroll){const scrollContainerRect=scrollContainer.getBoundingClientRect();const targetElementRect=targetElement.getBoundingClientRect();const distanceBetweenContainerAndTarget=rtl?scrollContainerRect.right-targetElementRect.right:targetElementRect.left-scrollContainerRect.left;if(!rtl&&scrollContainerRect.left>targetElementRect.left){return{transform:`translateX( ${distanceBetweenContainerAndTarget}px )`};}
if(rtl&&scrollContainerRect.right<targetElementRect.right){return{transform:`translateX( ${distanceBetweenContainerAndTarget * -1}px )`};}}
return{};},[rtl,targetElement]);const ariaLevel=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!rootBlockElement){return 1;}
const _ariaLevel=parseInt(rootBlockElement.getAttribute('aria-level'),10);return _ariaLevel?_ariaLevel+1:1;},[rootBlockElement]);const hasAdjacentSelectedBranch=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!targetElement){return false;}
return targetElement.classList.contains('is-branch-selected');},[targetElement]);const popoverAnchor=(0,external_wp_element_namespaceObject.useMemo)(()=>{const isValidDropPosition=dropPosition==='top'||dropPosition==='bottom'||dropPosition==='inside';if(!targetElement||!isValidDropPosition){return undefined;}
return{contextElement:targetElement,getBoundingClientRect(){const rect=targetElement.getBoundingClientRect();let left=rect.left;let top=0;const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(targetElement,'horizontal');const doc=targetElement.ownerDocument;const windowScroll=scrollContainer===doc.body||scrollContainer===doc.documentElement;if(scrollContainer&&!windowScroll){const scrollContainerRect=scrollContainer.getBoundingClientRect();const scrollbarWidth=rtl?scrollContainer.offsetWidth-scrollContainer.clientWidth:0;if(left<scrollContainerRect.left+scrollbarWidth){left=scrollContainerRect.left+scrollbarWidth;}}
if(dropPosition==='top'){top=rect.top-rect.height*2;}else{top=rect.top;}
const width=getDropIndicatorWidth(rect,0);const height=rect.height;return new window.DOMRect(left,top,width,height);}};},[targetElement,dropPosition,getDropIndicatorWidth,rtl]);if(!targetElement){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{animate:false,anchor:popoverAnchor,focusOnMount:false,className:"block-editor-list-view-drop-indicator--preview",variant:"unstyled",flip:false,resize:true,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{style:style,className:dist_clsx('block-editor-list-view-drop-indicator__line',{'block-editor-list-view-drop-indicator__line--darker':hasAdjacentSelectedBranch}),children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-list-view-leaf","aria-level":ariaLevel,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx('block-editor-list-view-block-select-button','block-editor-list-view-block-contents'),style:horizontalScrollOffsetStyle,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ListViewExpander,{onClick:()=>{}}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:blockInformation?.icon,showColors:true,context:"list-view"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalHStack,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-list-view-block-select-button__title",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{ellipsizeMode:"auto",children:blockTitle})})})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-list-view-block__menu-cell"})]})})});};function useBlockSelection(){const{clearSelectedBlock,multiSelect,selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{getBlockName,getBlockParents,getBlockSelectionStart,getSelectedBlockClientIds,hasMultiSelection,hasSelectedBlock}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getBlockType}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const updateBlockSelection=(0,external_wp_element_namespaceObject.useCallback)(async(event,clientId,destinationClientId,focusPosition)=>{if(!event?.shiftKey&&event?.keyCode!==external_wp_keycodes_namespaceObject.ESCAPE){selectBlock(clientId,focusPosition);return;}
event.preventDefault();const isOnlyDeselection=event.type==='keydown'&&event.keyCode===external_wp_keycodes_namespaceObject.ESCAPE;const isKeyPress=event.type==='keydown'&&(event.keyCode===external_wp_keycodes_namespaceObject.UP||event.keyCode===external_wp_keycodes_namespaceObject.DOWN||event.keyCode===external_wp_keycodes_namespaceObject.HOME||event.keyCode===external_wp_keycodes_namespaceObject.END);if(!isKeyPress&&!hasSelectedBlock()&&!hasMultiSelection()){selectBlock(clientId,null);return;}
const selectedBlocks=getSelectedBlockClientIds();const clientIdWithParents=[...getBlockParents(clientId),clientId];if(isOnlyDeselection||isKeyPress&&!selectedBlocks.some(blockId=>clientIdWithParents.includes(blockId))){await clearSelectedBlock();}
if(!isOnlyDeselection){let startTarget=getBlockSelectionStart();let endTarget=clientId;if(isKeyPress){if(!hasSelectedBlock()&&!hasMultiSelection()){startTarget=clientId;}
if(destinationClientId){endTarget=destinationClientId;}}
const startParents=getBlockParents(startTarget);const endParents=getBlockParents(endTarget);const{start,end}=getCommonDepthClientIds(startTarget,endTarget,startParents,endParents);await multiSelect(start,end,null);}
const updatedSelectedBlocks=getSelectedBlockClientIds();if((event.keyCode===external_wp_keycodes_namespaceObject.HOME||event.keyCode===external_wp_keycodes_namespaceObject.END)&&updatedSelectedBlocks.length>1){return;}
const selectionDiff=selectedBlocks.filter(blockId=>!updatedSelectedBlocks.includes(blockId));let label;if(selectionDiff.length===1){const title=getBlockType(getBlockName(selectionDiff[0]))?.title;if(title){label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s deselected.'),title);}}else if(selectionDiff.length>1){label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s blocks deselected.'),selectionDiff.length);}
if(label){(0,external_wp_a11y_namespaceObject.speak)(label,'assertive');}},[clearSelectedBlock,getBlockName,getBlockType,getBlockParents,getBlockSelectionStart,getSelectedBlockClientIds,hasMultiSelection,hasSelectedBlock,multiSelect,selectBlock]);return{updateBlockSelection};};function useListViewBlockIndexes(blocks){const blockIndexes=(0,external_wp_element_namespaceObject.useMemo)(()=>{const indexes={};let currentGlobalIndex=0;const traverseBlocks=blockList=>{blockList.forEach(block=>{indexes[block.clientId]=currentGlobalIndex;currentGlobalIndex++;if(block.innerBlocks.length>0){traverseBlocks(block.innerBlocks);}});};traverseBlocks(blocks);return indexes;},[blocks]);return blockIndexes;};function useListViewClientIds({blocks,rootClientId}){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getDraggedBlockClientIds,getSelectedBlockClientIds,getEnabledClientIdsTree}=unlock(select(store));return{selectedClientIds:getSelectedBlockClientIds(),draggedClientIds:getDraggedBlockClientIds(),clientIdsTree:blocks!==null&&blocks!==void 0?blocks:getEnabledClientIdsTree(rootClientId)};},[blocks,rootClientId]);};function useListViewCollapseItems({collapseAll,expand}){const{expandedBlock,getBlockParents}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockParents:_getBlockParents,getExpandedBlock}=unlock(select(store));return{expandedBlock:getExpandedBlock(),getBlockParents:_getBlockParents};},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(expandedBlock){const blockParents=getBlockParents(expandedBlock,false);collapseAll();expand(blockParents);}},[collapseAll,expand,expandedBlock,getBlockParents]);};const NESTING_LEVEL_INDENTATION=24;function isUpGesture(point,rect,nestingLevel=1,rtl=false){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION;return rtl?point.x>blockIndentPosition:point.x<blockIndentPosition;}
function getDesiredRelativeParentLevel(point,rect,nestingLevel=1,rtl=false){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION;const distanceBetweenPointAndBlockIndentPosition=rtl?blockIndentPosition-point.x:point.x-blockIndentPosition;const desiredParentLevel=Math.round(distanceBetweenPointAndBlockIndentPosition / NESTING_LEVEL_INDENTATION);return Math.abs(desiredParentLevel);}
function getCandidateBlockParents(candidateBlockData,blocksData){const candidateBlockParents=[];let currentBlockData=candidateBlockData;while(currentBlockData){candidateBlockParents.push({...currentBlockData});currentBlockData=blocksData.find(blockData=>blockData.clientId===currentBlockData.rootClientId);}
return candidateBlockParents;}
function getNextNonDraggedBlock(blocksData,index){const nextBlockData=blocksData[index+1];if(nextBlockData&&nextBlockData.isDraggedBlock){return getNextNonDraggedBlock(blocksData,index+1);}
return nextBlockData;}
function isNestingGesture(point,rect,nestingLevel=1,rtl=false){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION;const isNestingHorizontalGesture=rtl?point.x<blockIndentPosition-NESTING_LEVEL_INDENTATION:point.x>blockIndentPosition+NESTING_LEVEL_INDENTATION;return isNestingHorizontalGesture&&point.y<rect.bottom;}
const ALLOWED_DROP_EDGES=['top','bottom'];function getListViewDropTarget(blocksData,position,rtl=false){let candidateEdge;let candidateBlockData;let candidateDistance;let candidateRect;let candidateBlockIndex;for(let i=0;i<blocksData.length;i++){const blockData=blocksData[i];if(blockData.isDraggedBlock){continue;}
const rect=blockData.element.getBoundingClientRect();const[distance,edge]=getDistanceToNearestEdge(position,rect,ALLOWED_DROP_EDGES);const isCursorWithinBlock=isPointContainedByRect(position,rect);if(candidateDistance===undefined||distance<candidateDistance||isCursorWithinBlock){candidateDistance=distance;const index=blocksData.indexOf(blockData);const previousBlockData=blocksData[index-1];if(edge==='top'&&previousBlockData&&previousBlockData.rootClientId===blockData.rootClientId&&!previousBlockData.isDraggedBlock){candidateBlockData=previousBlockData;candidateEdge='bottom';candidateRect=previousBlockData.element.getBoundingClientRect();candidateBlockIndex=index-1;}else{candidateBlockData=blockData;candidateEdge=edge;candidateRect=rect;candidateBlockIndex=index;}
if(isCursorWithinBlock){break;}}}
if(!candidateBlockData){return;}
const candidateBlockParents=getCandidateBlockParents(candidateBlockData,blocksData);const isDraggingBelow=candidateEdge==='bottom';if(isDraggingBelow&&candidateBlockData.canInsertDraggedBlocksAsChild&&(candidateBlockData.innerBlockCount>0&&candidateBlockData.isExpanded||isNestingGesture(position,candidateRect,candidateBlockParents.length,rtl))){const newBlockIndex=candidateBlockData.isExpanded?0:candidateBlockData.innerBlockCount||0;return{rootClientId:candidateBlockData.clientId,clientId:candidateBlockData.clientId,blockIndex:newBlockIndex,dropPosition:'inside'};}
if(isDraggingBelow&&candidateBlockData.rootClientId&&isUpGesture(position,candidateRect,candidateBlockParents.length,rtl)){const nextBlock=getNextNonDraggedBlock(blocksData,candidateBlockIndex);const currentLevel=candidateBlockData.nestingLevel;const nextLevel=nextBlock?nextBlock.nestingLevel:1;if(currentLevel&&nextLevel){const desiredRelativeLevel=getDesiredRelativeParentLevel(position,candidateRect,candidateBlockParents.length,rtl);const targetParentIndex=Math.max(Math.min(desiredRelativeLevel,currentLevel-nextLevel),0);if(candidateBlockParents[targetParentIndex]){let newBlockIndex=candidateBlockData.blockIndex;if(candidateBlockParents[targetParentIndex].nestingLevel===nextBlock?.nestingLevel){newBlockIndex=nextBlock?.blockIndex;}else{for(let i=candidateBlockIndex;i>=0;i--){const blockData=blocksData[i];if(blockData.rootClientId===candidateBlockParents[targetParentIndex].rootClientId){newBlockIndex=blockData.blockIndex+1;break;}}}
return{rootClientId:candidateBlockParents[targetParentIndex].rootClientId,clientId:candidateBlockData.clientId,blockIndex:newBlockIndex,dropPosition:candidateEdge};}}}
if(!candidateBlockData.canInsertDraggedBlocksAsSibling){return;}
const offset=isDraggingBelow?1:0;return{rootClientId:candidateBlockData.rootClientId,clientId:candidateBlockData.clientId,blockIndex:candidateBlockData.blockIndex+offset,dropPosition:candidateEdge};}
const EXPAND_THROTTLE_OPTIONS={leading:false,trailing:true};function useListViewDropZone({dropZoneElement,expandedState,setExpandedState}){const{getBlockRootClientId,getBlockIndex,getBlockCount,getDraggedBlockClientIds,canInsertBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const[target,setTarget]=(0,external_wp_element_namespaceObject.useState)();const{rootClientId:targetRootClientId,blockIndex:targetBlockIndex}=target||{};const onBlockDrop=useOnBlockDrop(targetRootClientId,targetBlockIndex);const rtl=(0,external_wp_i18n_namespaceObject.isRTL)();const previousRootClientId=(0,external_wp_compose_namespaceObject.usePrevious)(targetRootClientId);const maybeExpandBlock=(0,external_wp_element_namespaceObject.useCallback)((_expandedState,_target)=>{const{rootClientId}=_target||{};if(!rootClientId){return;}
if(_target?.dropPosition==='inside'&&!_expandedState[rootClientId]){setExpandedState({type:'expand',clientIds:[rootClientId]});}},[setExpandedState]);const throttledMaybeExpandBlock=(0,external_wp_compose_namespaceObject.useThrottle)(maybeExpandBlock,500,EXPAND_THROTTLE_OPTIONS);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(target?.dropPosition!=='inside'||previousRootClientId!==target?.rootClientId){throttledMaybeExpandBlock.cancel();return;}
throttledMaybeExpandBlock(expandedState,target);},[expandedState,previousRootClientId,target,throttledMaybeExpandBlock]);const draggedBlockClientIds=getDraggedBlockClientIds();const throttled=(0,external_wp_compose_namespaceObject.useThrottle)((0,external_wp_element_namespaceObject.useCallback)((event,currentTarget)=>{const position={x:event.clientX,y:event.clientY};const isBlockDrag=!!draggedBlockClientIds?.length;const blockElements=Array.from(currentTarget.querySelectorAll('[data-block]'));const blocksData=blockElements.map(blockElement=>{const clientId=blockElement.dataset.block;const isExpanded=blockElement.dataset.expanded==='true';const isDraggedBlock=blockElement.classList.contains('is-dragging');const nestingLevel=parseInt(blockElement.getAttribute('aria-level'),10);const rootClientId=getBlockRootClientId(clientId);return{clientId,isExpanded,rootClientId,blockIndex:getBlockIndex(clientId),element:blockElement,nestingLevel:nestingLevel||undefined,isDraggedBlock:isBlockDrag?isDraggedBlock:false,innerBlockCount:getBlockCount(clientId),canInsertDraggedBlocksAsSibling:isBlockDrag?canInsertBlocks(draggedBlockClientIds,rootClientId):true,canInsertDraggedBlocksAsChild:isBlockDrag?canInsertBlocks(draggedBlockClientIds,clientId):true};});const newTarget=getListViewDropTarget(blocksData,position,rtl);if(newTarget){setTarget(newTarget);}},[canInsertBlocks,draggedBlockClientIds,getBlockCount,getBlockIndex,getBlockRootClientId,rtl]),50);const ref=(0,external_wp_compose_namespaceObject.__experimentalUseDropZone)({dropZoneElement,onDrop(event){throttled.cancel();if(target){onBlockDrop(event);}
setTarget(undefined);},onDragLeave(){throttled.cancel();setTarget(null);},onDragOver(event){throttled(event,event.currentTarget);},onDragEnd(){throttled.cancel();setTarget(undefined);}});return{ref,target};};function useListViewExpandSelectedItem({firstSelectedBlockClientId,setExpandedState}){const[selectedTreeId,setSelectedTreeId]=(0,external_wp_element_namespaceObject.useState)(null);const{selectedBlockParentClientIds}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockParents}=select(store);return{selectedBlockParentClientIds:getBlockParents(firstSelectedBlockClientId,false)};},[firstSelectedBlockClientId]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(selectedTreeId===firstSelectedBlockClientId){return;}
if(selectedBlockParentClientIds?.length){setExpandedState({type:'expand',clientIds:selectedBlockParentClientIds});}},[firstSelectedBlockClientId,selectedBlockParentClientIds,selectedTreeId,setExpandedState]);return{setSelectedTreeId};};function use_clipboard_handler_useClipboardHandler({selectBlock}){const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{getBlockOrder,getBlockRootClientId,getBlocksByClientId,getPreviousBlockClientId,getSelectedBlockClientIds,getSettings,canInsertBlockType,canRemoveBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const{flashBlock,removeBlocks,replaceBlocks,insertBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const notifyCopy=useNotifyCopy();return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function updateFocusAndSelection(focusClientId,shouldSelectBlock){if(shouldSelectBlock){selectBlock(undefined,focusClientId,null,null);}
focusListItem(focusClientId,node);}
function getBlocksToUpdate(clientId){const selectedBlockClientIds=getSelectedBlockClientIds();const isUpdatingSelectedBlocks=selectedBlockClientIds.includes(clientId);const firstBlockClientId=isUpdatingSelectedBlocks?selectedBlockClientIds[0]:clientId;const firstBlockRootClientId=getBlockRootClientId(firstBlockClientId);const blocksToUpdate=isUpdatingSelectedBlocks?selectedBlockClientIds:[clientId];return{blocksToUpdate,firstBlockClientId,firstBlockRootClientId,originallySelectedBlockClientIds:selectedBlockClientIds};}
function handler(event){if(event.defaultPrevented){return;}
if(!node.contains(event.target.ownerDocument.activeElement)){return;}
const listViewRow=event.target.ownerDocument.activeElement?.closest('[role=row]');const clientId=listViewRow?.dataset?.block;if(!clientId){return;}
const{blocksToUpdate:selectedBlockClientIds,firstBlockClientId,firstBlockRootClientId,originallySelectedBlockClientIds}=getBlocksToUpdate(clientId);if(selectedBlockClientIds.length===0){return;}
event.preventDefault();if(event.type==='copy'||event.type==='cut'){if(selectedBlockClientIds.length===1){flashBlock(selectedBlockClientIds[0]);}
notifyCopy(event.type,selectedBlockClientIds);const blocks=getBlocksByClientId(selectedBlockClientIds);setClipboardBlocks(event,blocks,registry);}
if(event.type==='cut'){var _getPreviousBlockClie;if(!canRemoveBlocks(selectedBlockClientIds)){return;}
let blockToFocus=(_getPreviousBlockClie=getPreviousBlockClientId(firstBlockClientId))!==null&&_getPreviousBlockClie!==void 0?_getPreviousBlockClie:firstBlockRootClientId;removeBlocks(selectedBlockClientIds,false);const shouldUpdateSelection=originallySelectedBlockClientIds.length>0&&getSelectedBlockClientIds().length===0;if(!blockToFocus){blockToFocus=getBlockOrder()[0];}
updateFocusAndSelection(blockToFocus,shouldUpdateSelection);}else if(event.type==='paste'){const{__experimentalCanUserUseUnfilteredHTML:canUserUseUnfilteredHTML}=getSettings();const blocks=getPasteBlocks(event,canUserUseUnfilteredHTML);if(selectedBlockClientIds.length===1){const[selectedBlockClientId]=selectedBlockClientIds;if(blocks.every(block=>canInsertBlockType(block.name,selectedBlockClientId))){insertBlocks(blocks,undefined,selectedBlockClientId);updateFocusAndSelection(blocks[0]?.clientId,false);return;}}
replaceBlocks(selectedBlockClientIds,blocks,blocks.length-1,-1);updateFocusAndSelection(blocks[0]?.clientId,false);}}
node.ownerDocument.addEventListener('copy',handler);node.ownerDocument.addEventListener('cut',handler);node.ownerDocument.addEventListener('paste',handler);return()=>{node.ownerDocument.removeEventListener('copy',handler);node.ownerDocument.removeEventListener('cut',handler);node.ownerDocument.removeEventListener('paste',handler);};},[]);};const expanded=(state,action)=>{if(action.type==='clear'){return{};}
if(Array.isArray(action.clientIds)){return{...state,...action.clientIds.reduce((newState,id)=>({...newState,[id]:action.type==='expand'}),{})};}
return state;};const BLOCK_LIST_ITEM_HEIGHT=32;function ListViewComponent({id,blocks,dropZoneElement,showBlockMovers=false,isExpanded=false,showAppender=false,blockSettingsMenu:BlockSettingsMenu=BlockSettingsDropdown,rootClientId,description,onSelect,additionalBlockContent:AdditionalBlockContent},ref){if(blocks){external_wp_deprecated_default()('`blocks` property in `wp.blockEditor.__experimentalListView`',{since:'6.3',alternative:'`rootClientId` property'});}
const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(ListViewComponent);const{clientIdsTree,draggedClientIds,selectedClientIds}=useListViewClientIds({blocks,rootClientId});const blockIndexes=useListViewBlockIndexes(clientIdsTree);const{getBlock}=(0,external_wp_data_namespaceObject.useSelect)(store);const{visibleBlockCount}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getGlobalBlockCount,getClientIdsOfDescendants}=select(store);const draggedBlockCount=draggedClientIds?.length>0?getClientIdsOfDescendants(draggedClientIds).length+1:0;return{visibleBlockCount:getGlobalBlockCount()-draggedBlockCount};},[draggedClientIds]);const{updateBlockSelection}=useBlockSelection();const[expandedState,setExpandedState]=(0,external_wp_element_namespaceObject.useReducer)(expanded,{});const[insertedBlock,setInsertedBlock]=(0,external_wp_element_namespaceObject.useState)(null);const{setSelectedTreeId}=useListViewExpandSelectedItem({firstSelectedBlockClientId:selectedClientIds[0],setExpandedState});const selectEditorBlock=(0,external_wp_element_namespaceObject.useCallback)((event,blockClientId,focusPosition)=>{updateBlockSelection(event,blockClientId,null,focusPosition);setSelectedTreeId(blockClientId);if(onSelect){onSelect(getBlock(blockClientId));}},[setSelectedTreeId,updateBlockSelection,onSelect,getBlock]);const{ref:dropZoneRef,target:blockDropTarget}=useListViewDropZone({dropZoneElement,expandedState,setExpandedState});const elementRef=(0,external_wp_element_namespaceObject.useRef)();const clipBoardRef=use_clipboard_handler_useClipboardHandler({selectBlock:selectEditorBlock});const treeGridRef=(0,external_wp_compose_namespaceObject.useMergeRefs)([clipBoardRef,elementRef,dropZoneRef,ref]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(selectedClientIds?.length){focusListItem(selectedClientIds[0],elementRef?.current);}},[]);const expand=(0,external_wp_element_namespaceObject.useCallback)(clientId=>{if(!clientId){return;}
const clientIds=Array.isArray(clientId)?clientId:[clientId];setExpandedState({type:'expand',clientIds});},[setExpandedState]);const collapse=(0,external_wp_element_namespaceObject.useCallback)(clientId=>{if(!clientId){return;}
setExpandedState({type:'collapse',clientIds:[clientId]});},[setExpandedState]);const collapseAll=(0,external_wp_element_namespaceObject.useCallback)(()=>{setExpandedState({type:'clear'});},[setExpandedState]);const expandRow=(0,external_wp_element_namespaceObject.useCallback)(row=>{expand(row?.dataset?.block);},[expand]);const collapseRow=(0,external_wp_element_namespaceObject.useCallback)(row=>{collapse(row?.dataset?.block);},[collapse]);const focusRow=(0,external_wp_element_namespaceObject.useCallback)((event,startRow,endRow)=>{if(event.shiftKey){updateBlockSelection(event,startRow?.dataset?.block,endRow?.dataset?.block);}},[updateBlockSelection]);useListViewCollapseItems({collapseAll,expand});const firstDraggedBlockClientId=draggedClientIds?.[0];const{blockDropTargetIndex,blockDropPosition,firstDraggedBlockIndex}=(0,external_wp_element_namespaceObject.useMemo)(()=>{let _blockDropTargetIndex,_firstDraggedBlockIndex;if(blockDropTarget?.clientId){const foundBlockIndex=blockIndexes[blockDropTarget.clientId];_blockDropTargetIndex=foundBlockIndex===undefined||blockDropTarget?.dropPosition==='top'?foundBlockIndex:foundBlockIndex+1;}else if(blockDropTarget===null){_blockDropTargetIndex=null;}
if(firstDraggedBlockClientId){const foundBlockIndex=blockIndexes[firstDraggedBlockClientId];_firstDraggedBlockIndex=foundBlockIndex===undefined||blockDropTarget?.dropPosition==='top'?foundBlockIndex:foundBlockIndex+1;}
return{blockDropTargetIndex:_blockDropTargetIndex,blockDropPosition:blockDropTarget?.dropPosition,firstDraggedBlockIndex:_firstDraggedBlockIndex};},[blockDropTarget,blockIndexes,firstDraggedBlockClientId]);const contextValue=(0,external_wp_element_namespaceObject.useMemo)(()=>({blockDropPosition,blockDropTargetIndex,blockIndexes,draggedClientIds,expandedState,expand,firstDraggedBlockIndex,collapse,collapseAll,BlockSettingsMenu,listViewInstanceId:instanceId,AdditionalBlockContent,insertedBlock,setInsertedBlock,treeGridElementRef:elementRef,rootClientId}),[blockDropPosition,blockDropTargetIndex,blockIndexes,draggedClientIds,expandedState,expand,firstDraggedBlockIndex,collapse,collapseAll,BlockSettingsMenu,instanceId,AdditionalBlockContent,insertedBlock,setInsertedBlock,rootClientId]);const[fixedListWindow]=(0,external_wp_compose_namespaceObject.__experimentalUseFixedWindowList)(elementRef,BLOCK_LIST_ITEM_HEIGHT,visibleBlockCount,{expandedState,useWindowing:true,windowOverscan:40});if(!clientIdsTree.length&&!showAppender){return null;}
const describedById=description&&`block-editor-list-view-description-${instanceId}`;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_data_namespaceObject.AsyncModeProvider,{value:true,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ListViewDropIndicatorPreview,{draggedBlockClientId:firstDraggedBlockClientId,listViewRef:elementRef,blockDropTarget:blockDropTarget}),description&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{id:describedById,children:description}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTreeGrid,{id:id,className:dist_clsx('block-editor-list-view-tree',{'is-dragging':draggedClientIds?.length>0&&blockDropTargetIndex!==undefined}),"aria-label":(0,external_wp_i18n_namespaceObject.__)('Block navigation structure'),ref:treeGridRef,onCollapseRow:collapseRow,onExpandRow:expandRow,onFocusRow:focusRow,applicationAriaLabel:(0,external_wp_i18n_namespaceObject.__)('Block navigation structure'),"aria-describedby":describedById,style:{'--wp-admin--list-view-dragged-items-height':draggedClientIds?.length?`${BLOCK_LIST_ITEM_HEIGHT * (draggedClientIds.length - 1)}px`:null},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(ListViewContext.Provider,{value:contextValue,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(branch,{blocks:clientIdsTree,parentId:rootClientId,selectBlock:selectEditorBlock,showBlockMovers:showBlockMovers,fixedListWindow:fixedListWindow,selectedClientIds:selectedClientIds,isExpanded:isExpanded,showAppender:showAppender})})})]});}
const PrivateListView=(0,external_wp_element_namespaceObject.forwardRef)(ListViewComponent);const components_list_view=((0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateListView,{ref:ref,...props,showAppender:false,rootClientId:null,onSelect:null,additionalBlockContent:null,blockSettingsMenu:undefined});}));;function BlockNavigationDropdownToggle({isEnabled,onToggle,isOpen,innerRef,...props}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,...props,ref:innerRef,icon:list_view,"aria-expanded":isOpen,"aria-haspopup":"true",onClick:isEnabled?onToggle:undefined,label:(0,external_wp_i18n_namespaceObject.__)('List view'),className:"block-editor-block-navigation","aria-disabled":!isEnabled});}
function BlockNavigationDropdown({isDisabled,...props},ref){external_wp_deprecated_default()('wp.blockEditor.BlockNavigationDropdown',{since:'6.1',alternative:'wp.components.Dropdown and wp.blockEditor.ListView'});const hasBlocks=(0,external_wp_data_namespaceObject.useSelect)(select=>!!select(store).getBlockCount(),[]);const isEnabled=hasBlocks&&!isDisabled;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{contentClassName:"block-editor-block-navigation__popover",popoverProps:{placement:'bottom-start'},renderToggle:({isOpen,onToggle})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockNavigationDropdownToggle,{...props,innerRef:ref,isOpen:isOpen,onToggle:onToggle,isEnabled:isEnabled}),renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-navigation__container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{className:"block-editor-block-navigation__label",children:(0,external_wp_i18n_namespaceObject.__)('List view')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(components_list_view,{})]})});}
const dropdown=((0,external_wp_element_namespaceObject.forwardRef)(BlockNavigationDropdown));;function BlockStylesPreviewPanel({genericPreviewBlock,style,className,activeStyle}){const example=(0,external_wp_blocks_namespaceObject.getBlockType)(genericPreviewBlock.name)?.example;const styleClassName=replaceActiveStyle(className,activeStyle,style);const previewBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>{return{...genericPreviewBlock,title:style.label||style.name,description:style.description,initialAttributes:{...genericPreviewBlock.attributes,className:styleClassName+' block-editor-block-styles__block-preview-container'},example};},[genericPreviewBlock,styleClassName]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(preview_panel,{item:previewBlocks});};const block_styles_noop=()=>{};function BlockStyles({clientId,onSwitch=block_styles_noop,onHoverClassName=block_styles_noop}){const{onSelect,stylesToRender,activeStyle,genericPreviewBlock,className:previewClassName}=useStylesForBlocks({clientId,onSwitch});const[hoveredStyle,setHoveredStyle]=(0,external_wp_element_namespaceObject.useState)(null);const isMobileViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');if(!stylesToRender||stylesToRender.length===0){return null;}
const debouncedSetHoveredStyle=(0,external_wp_compose_namespaceObject.debounce)(setHoveredStyle,250);const onSelectStylePreview=style=>{onSelect(style);onHoverClassName(null);setHoveredStyle(null);debouncedSetHoveredStyle.cancel();};const styleItemHandler=item=>{var _item$name;if(hoveredStyle===item){debouncedSetHoveredStyle.cancel();return;}
debouncedSetHoveredStyle(item);onHoverClassName((_item$name=item?.name)!==null&&_item$name!==void 0?_item$name:null);};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-styles",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-styles__variants",children:stylesToRender.map(style=>{const buttonText=style.label||style.name;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:dist_clsx('block-editor-block-styles__item',{'is-active':activeStyle.name===style.name}),variant:"secondary",label:buttonText,onMouseEnter:()=>styleItemHandler(style),onFocus:()=>styleItemHandler(style),onMouseLeave:()=>styleItemHandler(null),onBlur:()=>styleItemHandler(null),onClick:()=>onSelectStylePreview(style),"aria-current":activeStyle.name===style.name,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{numberOfLines:1,className:"block-editor-block-styles__item-text",children:buttonText})},style.name);})}),hoveredStyle&&!isMobileViewport&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{placement:"left-start",offset:34,focusOnMount:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-styles__preview-panel",onMouseLeave:()=>styleItemHandler(null),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockStylesPreviewPanel,{activeStyle:activeStyle,className:previewClassName,genericPreviewBlock:genericPreviewBlock,style:hoveredStyle})})})]});}
const block_styles=(BlockStyles);;const paragraph=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})});const library_paragraph=(paragraph);;const headingLevel1=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M17.6 7c-.6.9-1.5 1.7-2.6 2v1h2v7h2V7h-1.4zM11 11H7V7H5v10h2v-4h4v4h2V7h-2v4z"})});const heading_level_1=(headingLevel1);;const headingLevel2=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M9 11.1H5v-4H3v10h2v-4h4v4h2v-10H9v4zm8 4c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6v1.5h8v-2H17z"})});const heading_level_2=(headingLevel2);;const headingLevel3=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M9 11H5V7H3v10h2v-4h4v4h2V7H9v4zm11.3 1.7c-.4-.4-1-.7-1.6-.8v-.1c.6-.2 1.1-.5 1.5-.9.3-.4.5-.8.5-1.3 0-.4-.1-.8-.3-1.1-.2-.3-.5-.6-.8-.8-.4-.2-.8-.4-1.2-.5-.6-.1-1.1-.2-1.6-.2-.6 0-1.3.1-1.8.3s-1.1.5-1.6.9l1.2 1.4c.4-.2.7-.4 1.1-.6.3-.2.7-.3 1.1-.3.4 0 .8.1 1.1.3.3.2.4.5.4.8 0 .4-.2.7-.6.9-.7.3-1.5.5-2.2.4v1.6c.5 0 1 0 1.5.1.3.1.7.2 1 .3.2.1.4.2.5.4s.1.4.1.6c0 .3-.2.7-.5.8-.4.2-.9.3-1.4.3s-1-.1-1.4-.3c-.4-.2-.8-.4-1.2-.7L13 15.6c.5.4 1 .8 1.6 1 .7.3 1.5.4 2.3.4.6 0 1.1-.1 1.6-.2.4-.1.9-.2 1.3-.5.4-.2.7-.5.9-.9.2-.4.3-.8.3-1.2 0-.6-.3-1.1-.7-1.5z"})});const heading_level_3=(headingLevel3);;const headingLevel4=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M20 13V7h-3l-4 6v2h5v2h2v-2h1v-2h-1zm-2 0h-2.8L18 9v4zm-9-2H5V7H3v10h2v-4h4v4h2V7H9v4z"})});const heading_level_4=(headingLevel4);;const headingLevel5=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M9 11H5V7H3v10h2v-4h4v4h2V7H9v4zm11.7 1.2c-.2-.3-.5-.7-.8-.9-.3-.3-.7-.5-1.1-.6-.5-.1-.9-.2-1.4-.2-.2 0-.5.1-.7.1-.2.1-.5.1-.7.2l.1-1.9h4.3V7H14l-.3 5 1 .6.5-.2.4-.1c.1-.1.3-.1.4-.1h.5c.5 0 1 .1 1.4.4.4.2.6.7.6 1.1 0 .4-.2.8-.6 1.1-.4.3-.9.4-1.4.4-.4 0-.9-.1-1.3-.3-.4-.2-.7-.4-1.1-.7 0 0-1.1 1.4-1 1.5.5.4 1 .8 1.6 1 .7.3 1.5.4 2.3.4.5 0 1-.1 1.5-.3s.9-.4 1.3-.7c.4-.3.7-.7.9-1.1s.3-.9.3-1.4-.1-1-.3-1.4z"})});const heading_level_5=(headingLevel5);;const headingLevel6=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M20.7 12.4c-.2-.3-.4-.6-.7-.9s-.6-.5-1-.6c-.4-.2-.8-.2-1.2-.2-.5 0-.9.1-1.3.3s-.8.5-1.2.8c0-.5 0-.9.2-1.4l.6-.9c.2-.2.5-.4.8-.5.6-.2 1.3-.2 1.9 0 .3.1.6.3.8.5 0 0 1.3-1.3 1.3-1.4-.4-.3-.9-.6-1.4-.8-.6-.2-1.3-.3-2-.3-.6 0-1.1.1-1.7.4-.5.2-1 .5-1.4.9-.4.4-.8 1-1 1.6-.3.7-.4 1.5-.4 2.3s.1 1.5.3 2.1c.2.6.6 1.1 1 1.5.4.4.9.7 1.4.9 1 .3 2 .3 3 0 .4-.1.8-.3 1.2-.6.3-.3.6-.6.8-1 .2-.5.3-.9.3-1.4s-.1-.9-.3-1.3zm-2 2.1c-.1.2-.3.4-.4.5-.1.1-.3.2-.5.2-.2.1-.4.1-.6.1-.2.1-.5 0-.7-.1-.2 0-.3-.2-.5-.3-.1-.2-.3-.4-.4-.6-.2-.3-.3-.7-.3-1 .3-.3.6-.5 1-.7.3-.1.7-.2 1-.2.4 0 .8.1 1.1.3.3.3.4.7.4 1.1 0 .2 0 .5-.1.7zM9 11H5V7H3v10h2v-4h4v4h2V7H9v4z"})});const heading_level_6=(headingLevel6);;const LEVEL_TO_PATH={0:library_paragraph,1:heading_level_1,2:heading_level_2,3:heading_level_3,4:heading_level_4,5:heading_level_5,6:heading_level_6};function HeadingLevelIcon({level}){if(LEVEL_TO_PATH[level]){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{icon:LEVEL_TO_PATH[level]});}
return null;};const HEADING_LEVELS=[1,2,3,4,5,6];const block_heading_level_dropdown_POPOVER_PROPS={className:'block-library-heading-level-dropdown'};function HeadingLevelDropdown({options=HEADING_LEVELS,value,onChange}){const validOptions=options.filter(option=>option===0||HEADING_LEVELS.includes(option)).sort((a,b)=>a-b);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarDropdownMenu,{popoverProps:block_heading_level_dropdown_POPOVER_PROPS,icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(HeadingLevelIcon,{level:value}),label:(0,external_wp_i18n_namespaceObject.__)('Change level'),controls:validOptions.map(targetLevel=>{const isActive=targetLevel===value;return{icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(HeadingLevelIcon,{level:targetLevel}),title:targetLevel===0?(0,external_wp_i18n_namespaceObject.__)('Paragraph'):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Heading %d'),targetLevel),isActive,onClick(){onChange(targetLevel);},role:'menuitemradio'};})});};const layout_layout=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})});const library_layout=(layout_layout);;function BlockVariationPicker({icon=library_layout,label=(0,external_wp_i18n_namespaceObject.__)('Choose variation'),instructions=(0,external_wp_i18n_namespaceObject.__)('Select a variation to start with:'),variations,onSelect,allowSkip}){const classes=dist_clsx('block-editor-block-variation-picker',{'has-many-variations':variations.length>4});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Placeholder,{icon:icon,label:label,instructions:instructions,className:classes,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":(0,external_wp_i18n_namespaceObject.__)('Block variations'),children:variations.map(variation=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"tertiary",icon:variation.icon&&variation.icon.src?variation.icon.src:variation.icon,iconSize:48,onClick:()=>onSelect(variation),className:"block-editor-block-variation-picker__variation",label:variation.description||variation.title}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-block-variation-picker__variation-label",children:variation.title})]},variation.name))}),allowSkip&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-variation-picker__skip",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"link",onClick:()=>onSelect(),children:(0,external_wp_i18n_namespaceObject.__)('Skip')})})]});}
const block_variation_picker=(BlockVariationPicker);;const VIEWMODES={carousel:'carousel',grid:'grid'};;const Actions=({onBlockPatternSelect})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-pattern-setup__actions",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"primary",onClick:onBlockPatternSelect,children:(0,external_wp_i18n_namespaceObject.__)('Choose')})});const CarouselNavigation=({handlePrevious,handleNext,activeSlide,totalSlides})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-pattern-setup__navigation",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"compact",icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_right:chevron_left,label:(0,external_wp_i18n_namespaceObject.__)('Previous pattern'),onClick:handlePrevious,disabled:activeSlide===0,accessibleWhenDisabled:true}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"compact",icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left:chevron_right,label:(0,external_wp_i18n_namespaceObject.__)('Next pattern'),onClick:handleNext,disabled:activeSlide===totalSlides-1,accessibleWhenDisabled:true})]});const SetupToolbar=({viewMode,setViewMode,handlePrevious,handleNext,activeSlide,totalSlides,onBlockPatternSelect})=>{const isCarouselView=viewMode===VIEWMODES.carousel;const displayControls=(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-pattern-setup__display-controls",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"compact",icon:stretch_full_width,label:(0,external_wp_i18n_namespaceObject.__)('Carousel view'),onClick:()=>setViewMode(VIEWMODES.carousel),isPressed:isCarouselView}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"compact",icon:library_grid,label:(0,external_wp_i18n_namespaceObject.__)('Grid view'),onClick:()=>setViewMode(VIEWMODES.grid),isPressed:viewMode===VIEWMODES.grid})]});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-pattern-setup__toolbar",children:[isCarouselView&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(CarouselNavigation,{handlePrevious:handlePrevious,handleNext:handleNext,activeSlide:activeSlide,totalSlides:totalSlides}),displayControls,isCarouselView&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(Actions,{onBlockPatternSelect:onBlockPatternSelect})]});};const setup_toolbar=(SetupToolbar);;function usePatternsSetup(clientId,blockName,filterPatternsFn){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,getPatternsByBlockTypes,__experimentalGetAllowedPatterns}=select(store);const rootClientId=getBlockRootClientId(clientId);if(filterPatternsFn){return __experimentalGetAllowedPatterns(rootClientId).filter(filterPatternsFn);}
return getPatternsByBlockTypes(blockName,rootClientId);},[clientId,blockName,filterPatternsFn]);}
const use_patterns_setup=(usePatternsSetup);;const SetupContent=({viewMode,activeSlide,patterns,onBlockPatternSelect,showTitles})=>{const containerClass='block-editor-block-pattern-setup__container';if(viewMode===VIEWMODES.carousel){const slideClass=new Map([[activeSlide,'active-slide'],[activeSlide-1,'previous-slide'],[activeSlide+1,'next-slide']]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-pattern-setup__carousel",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:containerClass,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"carousel-container",children:patterns.map((pattern,index)=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockPatternSlide,{active:index===activeSlide,className:slideClass.get(index)||'',pattern:pattern},pattern.name))})})});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-pattern-setup__grid",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Composite,{role:"listbox",className:containerClass,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Patterns list'),children:patterns.map(pattern=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_pattern_setup_BlockPattern,{pattern:pattern,onSelect:onBlockPatternSelect,showTitles:showTitles},pattern.name))})});};function block_pattern_setup_BlockPattern({pattern,onSelect,showTitles}){const baseClassName='block-editor-block-pattern-setup-list';const{blocks,description,viewportWidth=700}=pattern;const descriptionId=(0,external_wp_compose_namespaceObject.useInstanceId)(block_pattern_setup_BlockPattern,`${baseClassName}__item-description`);return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:`${baseClassName}__list-item`,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Composite.Item,{render:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{"aria-describedby":description?descriptionId:undefined,"aria-label":pattern.title,className:`${baseClassName}__item`}),id:`${baseClassName}__pattern__${pattern.name}`,role:"option",onClick:()=>onSelect(blocks),children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_preview,{blocks:blocks,viewportWidth:viewportWidth}),showTitles&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:`${baseClassName}__item-title`,children:pattern.title}),!!description&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId,children:description})]})});}
function BlockPatternSlide({active,className,pattern,minHeight}){const{blocks,title,description}=pattern;const descriptionId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockPatternSlide,'block-editor-block-pattern-setup-list__item-description');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{"aria-hidden":!active,role:"img",className:`pattern-slide ${className}`,"aria-label":title,"aria-describedby":description?descriptionId:undefined,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_preview,{blocks:blocks,minHeight:minHeight}),!!description&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId,children:description})]});}
const BlockPatternSetup=({clientId,blockName,filterPatternsFn,onBlockPatternSelect,initialViewMode=VIEWMODES.carousel,showTitles=false})=>{const[viewMode,setViewMode]=(0,external_wp_element_namespaceObject.useState)(initialViewMode);const[activeSlide,setActiveSlide]=(0,external_wp_element_namespaceObject.useState)(0);const{replaceBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const patterns=use_patterns_setup(clientId,blockName,filterPatternsFn);if(!patterns?.length){return null;}
const onBlockPatternSelectDefault=blocks=>{const clonedBlocks=blocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));replaceBlock(clientId,clonedBlocks);};const onPatternSelectCallback=onBlockPatternSelect||onBlockPatternSelectDefault;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:`block-editor-block-pattern-setup view-mode-${viewMode}`,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(SetupContent,{viewMode:viewMode,activeSlide:activeSlide,patterns:patterns,onBlockPatternSelect:onPatternSelectCallback,showTitles:showTitles}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(setup_toolbar,{viewMode:viewMode,setViewMode:setViewMode,activeSlide:activeSlide,totalSlides:patterns.length,handleNext:()=>{setActiveSlide(active=>Math.min(active+1,patterns.length-1));},handlePrevious:()=>{setActiveSlide(active=>Math.max(active-1,0));},onBlockPatternSelect:()=>{onPatternSelectCallback(patterns[activeSlide].blocks);}})]})});};const block_pattern_setup=(BlockPatternSetup);;function VariationsButtons({className,onSelectVariation,selectedValue,variations}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{className:className,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{as:"legend",children:(0,external_wp_i18n_namespaceObject.__)('Transform to variation')}),variations.map(variation=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,size:"compact",icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:variation.icon,showColors:true}),isPressed:selectedValue===variation.name,label:selectedValue===variation.name?variation.title:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Transform to %s'),variation.title),onClick:()=>onSelectVariation(variation.name),"aria-label":variation.title,showTooltip:true},variation.name))]});}
function VariationsDropdown({className,onSelectVariation,selectedValue,variations}){const selectOptions=variations.map(({name,title,description})=>({value:name,label:title,info:description}));return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{className:className,label:(0,external_wp_i18n_namespaceObject.__)('Transform to variation'),text:(0,external_wp_i18n_namespaceObject.__)('Transform to variation'),popoverProps:{position:'bottom center',className:`${className}__popover`},icon:chevron_down,toggleProps:{iconPosition:'right'},children:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:`${className}__container`,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItemsChoice,{choices:selectOptions,value:selectedValue,onSelect:onSelectVariation})})})});}
function VariationsToggleGroupControl({className,onSelectVariation,selectedValue,variations}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:className,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{label:(0,external_wp_i18n_namespaceObject.__)('Transform to variation'),value:selectedValue,hideLabelFromVision:true,onChange:onSelectVariation,__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,children:variations.map(variation=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{icon:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:variation.icon,showColors:true}),value:variation.name,label:selectedValue===variation.name?variation.title:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Transform to %s'),variation.title)},variation.name))})});}
function __experimentalBlockVariationTransforms({blockClientId}){const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{activeBlockVariation,variations,isContentOnly}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getActiveBlockVariation,getBlockVariations}=select(external_wp_blocks_namespaceObject.store);const{getBlockName,getBlockAttributes,getBlockEditingMode}=select(store);const name=blockClientId&&getBlockName(blockClientId);const{hasContentRoleAttribute}=unlock(select(external_wp_blocks_namespaceObject.store));const isContentBlock=hasContentRoleAttribute(name);return{activeBlockVariation:getActiveBlockVariation(name,getBlockAttributes(blockClientId)),variations:name&&getBlockVariations(name,'transform'),isContentOnly:getBlockEditingMode(blockClientId)==='contentOnly'&&!isContentBlock};},[blockClientId]);const selectedValue=activeBlockVariation?.name;const hasUniqueIcons=(0,external_wp_element_namespaceObject.useMemo)(()=>{const variationIcons=new Set();if(!variations){return false;}
variations.forEach(variation=>{if(variation.icon){variationIcons.add(variation.icon?.src||variation.icon);}});return variationIcons.size===variations.length;},[variations]);const onSelectVariation=variationName=>{updateBlockAttributes(blockClientId,{...variations.find(({name})=>name===variationName).attributes});};if(!variations?.length||isContentOnly){return null;}
const baseClass='block-editor-block-variation-transforms';const showButtons=variations.length>5;const ButtonComponent=showButtons?VariationsButtons:VariationsToggleGroupControl;const Component=hasUniqueIcons?ButtonComponent:VariationsDropdown;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Component,{className:baseClass,onSelectVariation:onSelectVariation,selectedValue:selectedValue,variations:variations});}
const block_variation_transforms=(__experimentalBlockVariationTransforms);;const with_color_context=((0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>{return props=>{const[defaultColors,themeColors,customColors,enableCustomColors,enableDefaultColors]=use_settings_useSettings('color.palette.default','color.palette.theme','color.palette.custom','color.custom','color.defaultPalette');const _colors=enableDefaultColors?[...(themeColors||[]),...(defaultColors||[]),...(customColors||[])]:[...(themeColors||[]),...(customColors||[])];const{colors=_colors,disableCustomColors=!enableCustomColors}=props;const hasColorsToChoose=colors&&colors.length>0||!disableCustomColors;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(WrappedComponent,{...props,colors,disableCustomColors,hasColorsToChoose});};},'withColorContext'));;const color_palette=(with_color_context(external_wp_components_namespaceObject.ColorPalette));;function ColorPaletteControl({onChange,value,...otherProps}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(control,{...otherProps,onColorChange:onChange,colorValue:value,gradients:[],disableCustomGradients:true});};const external_wp_date_namespaceObject=window["wp"]["date"];;const exampleDate=new Date();exampleDate.setDate(20);exampleDate.setMonth(exampleDate.getMonth()-3);if(exampleDate.getMonth()===4){exampleDate.setMonth(3);}
function DateFormatPicker({format,defaultFormat,onChange}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{as:"fieldset",spacing:4,className:"block-editor-date-format-picker",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{as:"legend",children:(0,external_wp_i18n_namespaceObject.__)('Date format')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Default format'),help:`${(0,external_wp_i18n_namespaceObject.__)('Example:')}  ${(0,external_wp_date_namespaceObject.dateI18n)(defaultFormat, exampleDate)}`,checked:!format,onChange:checked=>onChange(checked?null:defaultFormat)}),format&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(NonDefaultControls,{format:format,onChange:onChange})]});}
function NonDefaultControls({format,onChange}){var _suggestedOptions$fin;const suggestedFormats=[...new Set(['Y-m-d',(0,external_wp_i18n_namespaceObject._x)('n/j/Y','short date format'),(0,external_wp_i18n_namespaceObject._x)('n/j/Y g:i A','short date format with time'),(0,external_wp_i18n_namespaceObject._x)('M j, Y','medium date format'),(0,external_wp_i18n_namespaceObject._x)('M j, Y g:i A','medium date format with time'),(0,external_wp_i18n_namespaceObject._x)('F j, Y','long date format'),(0,external_wp_i18n_namespaceObject._x)('M j','short date format without the year')])];const suggestedOptions=[...suggestedFormats.map((suggestedFormat,index)=>({key:`suggested-${index}`,name:(0,external_wp_date_namespaceObject.dateI18n)(suggestedFormat,exampleDate),format:suggestedFormat})),{key:'human-diff',name:(0,external_wp_date_namespaceObject.humanTimeDiff)(exampleDate),format:'human-diff'}];const customOption={key:'custom',name:(0,external_wp_i18n_namespaceObject.__)('Custom'),className:'block-editor-date-format-picker__custom-format-select-control__custom-option',hint:(0,external_wp_i18n_namespaceObject.__)('Enter your own date format')};const[isCustom,setIsCustom]=(0,external_wp_element_namespaceObject.useState)(()=>!!format&&!suggestedOptions.some(option=>option.format===format));return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CustomSelectControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Choose a format'),options:[...suggestedOptions,customOption],value:isCustom?customOption:(_suggestedOptions$fin=suggestedOptions.find(option=>option.format===format))!==null&&_suggestedOptions$fin!==void 0?_suggestedOptions$fin:customOption,onChange:({selectedItem})=>{if(selectedItem===customOption){setIsCustom(true);}else{setIsCustom(false);onChange(selectedItem.format);}}}),isCustom&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Custom format'),hideLabelFromVision:true,help:(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('Enter a date or time <Link>format string</Link>.'),{Link:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/documentation/article/customize-date-and-time-format/')})}),value:format,onChange:value=>onChange(value)})]});};const WithToolsPanelItem=({setting,children,panelId,...props})=>{const clearValue=()=>{if(setting.colorValue){setting.onColorChange();}else if(setting.gradientValue){setting.onGradientChange();}};return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>{return!!setting.colorValue||!!setting.gradientValue;},label:setting.label,onDeselect:clearValue,isShownByDefault:setting.isShownByDefault!==undefined?setting.isShownByDefault:true,...props,className:"block-editor-tools-panel-color-gradient-settings__item",panelId:panelId,resetAllFilter:setting.resetAllFilter,children:children});};const dropdown_LabeledColorIndicator=({colorValue,label})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ColorIndicator,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:colorValue}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",title:label,children:label})]});const dropdown_renderToggle=settings=>({onToggle,isOpen})=>{const{clearable,colorValue,gradientValue,onColorChange,onGradientChange,label}=settings;const colorButtonRef=(0,external_wp_element_namespaceObject.useRef)(undefined);const toggleProps={onClick:onToggle,className:dist_clsx('block-editor-panel-color-gradient-settings__dropdown',{'is-open':isOpen}),'aria-expanded':isOpen,ref:colorButtonRef};const clearValue=()=>{if(colorValue){onColorChange();}else if(gradientValue){onGradientChange();}};const value=colorValue!==null&&colorValue!==void 0?colorValue:gradientValue;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,...toggleProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(dropdown_LabeledColorIndicator,{colorValue:value,label:label})}),clearable&&value&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('Reset'),className:"block-editor-panel-color-gradient-settings__reset",size:"small",icon:library_reset,onClick:()=>{clearValue();if(isOpen){onToggle();}
colorButtonRef.current?.focus();}})]});};function ColorGradientSettingsDropdown({colors,disableCustomColors,disableCustomGradients,enableAlpha,gradients,settings,__experimentalIsRenderedInSidebar,...props}){let popoverProps;if(__experimentalIsRenderedInSidebar){popoverProps={placement:'left-start',offset:36,shift:true};}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:settings.map((setting,index)=>{const controlProps={clearable:false,colorValue:setting.colorValue,colors,disableCustomColors,disableCustomGradients,enableAlpha,gradientValue:setting.gradientValue,gradients,label:setting.label,onColorChange:setting.onColorChange,onGradientChange:setting.onGradientChange,showTitle:false,__experimentalIsRenderedInSidebar,...setting};const toggleSettings={clearable:setting.clearable,label:setting.label,colorValue:setting.colorValue,gradientValue:setting.gradientValue,onColorChange:setting.onColorChange,onGradientChange:setting.onGradientChange};return setting&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(WithToolsPanelItem,{setting:setting,...props,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{popoverProps:popoverProps,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:dropdown_renderToggle(toggleSettings),renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(control,{...controlProps})})})})},index);})});};const panel_color_gradient_settings_colorsAndGradientKeys=['colors','disableCustomColors','gradients','disableCustomGradients'];const PanelColorGradientSettingsInner=({className,colors,gradients,disableCustomColors,disableCustomGradients,children,settings,title,showTitle=true,__experimentalIsRenderedInSidebar,enableAlpha})=>{const panelId=(0,external_wp_compose_namespaceObject.useInstanceId)(PanelColorGradientSettingsInner);const{batch}=(0,external_wp_data_namespaceObject.useRegistry)();if((!colors||colors.length===0)&&(!gradients||gradients.length===0)&&disableCustomColors&&disableCustomGradients&&settings?.every(setting=>(!setting.colors||setting.colors.length===0)&&(!setting.gradients||setting.gradients.length===0)&&(setting.disableCustomColors===undefined||setting.disableCustomColors)&&(setting.disableCustomGradients===undefined||setting.disableCustomGradients))){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalToolsPanel,{className:dist_clsx('block-editor-panel-color-gradient-settings',className),label:showTitle?title:undefined,resetAll:()=>{batch(()=>{settings.forEach(({colorValue,gradientValue,onColorChange,onGradientChange})=>{if(colorValue){onColorChange();}else if(gradientValue){onGradientChange();}});});},panelId:panelId,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ColorGradientSettingsDropdown,{settings:settings,panelId:panelId,colors,gradients,disableCustomColors,disableCustomGradients,__experimentalIsRenderedInSidebar,enableAlpha}),!!children&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalSpacer,{marginY:4})," ",children]})]});};const PanelColorGradientSettingsSelect=props=>{const colorGradientSettings=useMultipleOriginColorsAndGradients();return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PanelColorGradientSettingsInner,{...colorGradientSettings,...props});};const PanelColorGradientSettings=props=>{if(panel_color_gradient_settings_colorsAndGradientKeys.every(key=>props.hasOwnProperty(key))){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PanelColorGradientSettingsInner,{...props});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PanelColorGradientSettingsSelect,{...props});};const panel_color_gradient_settings=(PanelColorGradientSettings);;const aspectRatio=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M18.5 5.5h-13c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5h-13c-.3 0-.5-.2-.5-.5v-9c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9zM6.5 12H8v-2h2V8.5H6.5V12zm9.5 2h-2v1.5h3.5V12H16v2z"})});const aspect_ratio=(aspectRatio);;const MIN_ZOOM=100;const MAX_ZOOM=300;const constants_POPOVER_PROPS={placement:'bottom-start'};;const messages={crop:(0,external_wp_i18n_namespaceObject.__)('Image cropped.'),rotate:(0,external_wp_i18n_namespaceObject.__)('Image rotated.'),cropAndRotate:(0,external_wp_i18n_namespaceObject.__)('Image cropped and rotated.')};function useSaveImage({crop,rotation,url,id,onSaveImage,onFinishEditing}){const{createErrorNotice,createSuccessNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const[isInProgress,setIsInProgress]=(0,external_wp_element_namespaceObject.useState)(false);const cancel=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsInProgress(false);onFinishEditing();},[onFinishEditing]);const apply=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsInProgress(true);const modifiers=[];if(rotation>0){modifiers.push({type:'rotate',args:{angle:rotation}});}
if(crop.width<99.9||crop.height<99.9){modifiers.push({type:'crop',args:{left:crop.x,top:crop.y,width:crop.width,height:crop.height}});}
if(modifiers.length===0){setIsInProgress(false);onFinishEditing();return;}
const modifierType=modifiers.length===1?modifiers[0].type:'cropAndRotate';external_wp_apiFetch_default()({path:`/wp/v2/media/${id}/edit`,method:'POST',data:{src:url,modifiers}}).then(response=>{onSaveImage({id:response.id,url:response.source_url});createSuccessNotice(messages[modifierType],{type:'snackbar',actions:[{label:(0,external_wp_i18n_namespaceObject.__)('Undo'),onClick:()=>{onSaveImage({id,url});}}]});}).catch(error=>{createErrorNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Could not edit image. %s'),(0,external_wp_dom_namespaceObject.__unstableStripHTML)(error.message)),{id:'image-editing-error',type:'snackbar'});}).finally(()=>{setIsInProgress(false);onFinishEditing();});},[crop,rotation,id,url,onSaveImage,createErrorNotice,createSuccessNotice,onFinishEditing]);return(0,external_wp_element_namespaceObject.useMemo)(()=>({isInProgress,apply,cancel}),[isInProgress,apply,cancel]);};function useTransformImage({url,naturalWidth,naturalHeight}){const[editedUrl,setEditedUrl]=(0,external_wp_element_namespaceObject.useState)();const[crop,setCrop]=(0,external_wp_element_namespaceObject.useState)();const[position,setPosition]=(0,external_wp_element_namespaceObject.useState)({x:0,y:0});const[zoom,setZoom]=(0,external_wp_element_namespaceObject.useState)(100);const[rotation,setRotation]=(0,external_wp_element_namespaceObject.useState)(0);const defaultAspect=naturalWidth / naturalHeight;const[aspect,setAspect]=(0,external_wp_element_namespaceObject.useState)(defaultAspect);const rotateClockwise=(0,external_wp_element_namespaceObject.useCallback)(()=>{const angle=(rotation+90)%360;let naturalAspectRatio=defaultAspect;if(rotation%180===90){naturalAspectRatio=1 / defaultAspect;}
if(angle===0){setEditedUrl();setRotation(angle);setAspect(defaultAspect);setPosition(prevPosition=>({x:-(prevPosition.y*naturalAspectRatio),y:prevPosition.x*naturalAspectRatio}));return;}
function editImage(event){const canvas=document.createElement('canvas');let translateX=0;let translateY=0;if(angle%180){canvas.width=event.target.height;canvas.height=event.target.width;}else{canvas.width=event.target.width;canvas.height=event.target.height;}
if(angle===90||angle===180){translateX=canvas.width;}
if(angle===270||angle===180){translateY=canvas.height;}
const context=canvas.getContext('2d');context.translate(translateX,translateY);context.rotate(angle*Math.PI / 180);context.drawImage(event.target,0,0);canvas.toBlob(blob=>{setEditedUrl(URL.createObjectURL(blob));setRotation(angle);setAspect(canvas.width / canvas.height);setPosition(prevPosition=>({x:-(prevPosition.y*naturalAspectRatio),y:prevPosition.x*naturalAspectRatio}));});}
const el=new window.Image();el.src=url;el.onload=editImage;const imgCrossOrigin=(0,external_wp_hooks_namespaceObject.applyFilters)('media.crossOrigin',undefined,url);if(typeof imgCrossOrigin==='string'){el.crossOrigin=imgCrossOrigin;}},[rotation,defaultAspect,url]);return(0,external_wp_element_namespaceObject.useMemo)(()=>({editedUrl,setEditedUrl,crop,setCrop,position,setPosition,zoom,setZoom,rotation,setRotation,rotateClockwise,aspect,setAspect,defaultAspect}),[editedUrl,crop,position,zoom,rotation,rotateClockwise,aspect,defaultAspect]);};const ImageEditingContext=(0,external_wp_element_namespaceObject.createContext)({});const useImageEditingContext=()=>(0,external_wp_element_namespaceObject.useContext)(ImageEditingContext);function ImageEditingProvider({id,url,naturalWidth,naturalHeight,onFinishEditing,onSaveImage,children}){const transformImage=useTransformImage({url,naturalWidth,naturalHeight});const saveImage=useSaveImage({id,url,onSaveImage,onFinishEditing,...transformImage});const providerValue=(0,external_wp_element_namespaceObject.useMemo)(()=>({...transformImage,...saveImage}),[transformImage,saveImage]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(ImageEditingContext.Provider,{value:providerValue,children:children});};function AspectRatioGroup({aspectRatios,isDisabled,label,onClick,value}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuGroup,{label:label,children:aspectRatios.map(({name,slug,ratio})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{disabled:isDisabled,onClick:()=>{onClick(ratio);},role:"menuitemradio",isSelected:ratio===value,icon:ratio===value?library_check:undefined,children:name},slug))});}
function ratioToNumber(str){const[a,b,...rest]=str.split('/').map(Number);if(a<=0||b<=0||Number.isNaN(a)||Number.isNaN(b)||rest.length){return NaN;}
return b?a / b:a;}
function presetRatioAsNumber({ratio,...rest}){return{ratio:ratioToNumber(ratio),...rest};}
function AspectRatioDropdown({toggleProps}){const{isInProgress,aspect,setAspect,defaultAspect}=useImageEditingContext();const[defaultRatios,themeRatios,showDefaultRatios]=use_settings_useSettings('dimensions.aspectRatios.default','dimensions.aspectRatios.theme','dimensions.defaultAspectRatios');return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{icon:aspect_ratio,label:(0,external_wp_i18n_namespaceObject.__)('Aspect Ratio'),popoverProps:constants_POPOVER_PROPS,toggleProps:toggleProps,children:({onClose})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(AspectRatioGroup,{isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect);onClose();},value:aspect,aspectRatios:[{slug:'original',name:(0,external_wp_i18n_namespaceObject.__)('Original'),ratio:defaultAspect},...(showDefaultRatios?defaultRatios.map(presetRatioAsNumber).filter(({ratio})=>ratio===1):[])]}),themeRatios?.length>0&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(AspectRatioGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Theme'),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect);onClose();},value:aspect,aspectRatios:themeRatios}),showDefaultRatios&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(AspectRatioGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Landscape'),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect);onClose();},value:aspect,aspectRatios:defaultRatios.map(presetRatioAsNumber).filter(({ratio})=>ratio>1)}),showDefaultRatios&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(AspectRatioGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Portrait'),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect);onClose();},value:aspect,aspectRatios:defaultRatios.map(presetRatioAsNumber).filter(({ratio})=>ratio<1)})]})});};var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];};return extendStatics(d,b);};function __extends(d,b){if(typeof b!=="function"&&b!==null)
throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());}
var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p];}
return t;}
return __assign.apply(this,arguments);}
function __rest(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)
t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")
for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))
t[p[i]]=s[p[i]];}
return t;}
function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;}
function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);}}
function __esDecorate(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(f!==void 0&&typeof f!=="function")throw new TypeError("Function expected");return f;}
var kind=contextIn.kind,key=kind==="getter"?"get":kind==="setter"?"set":"value";var target=!descriptorIn&&ctor?contextIn["static"]?ctor:ctor.prototype:null;var descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{});var _,done=false;for(var i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]=p==="access"?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null));};var result=(0,decorators[i])(kind==="accessor"?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if(kind==="accessor"){if(result===void 0)continue;if(result===null||typeof result!=="object")throw new TypeError("Object expected");if(_=accept(result.get))descriptor.get=_;if(_=accept(result.set))descriptor.set=_;if(_=accept(result.init))initializers.unshift(_);}
else if(_=accept(result)){if(kind==="field")initializers.unshift(_);else descriptor[key]=_;}}
if(target)Object.defineProperty(target,contextIn.name,descriptor);done=true;};function __runInitializers(thisArg,initializers,value){var useValue=arguments.length>2;for(var i=0;i<initializers.length;i++){value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);}
return useValue?value:void 0;};function __propKey(x){return typeof x==="symbol"?x:"".concat(x);};function __setFunctionName(f,name,prefix){if(typeof name==="symbol")name=name.description?"[".concat(name.description,"]"):"";return Object.defineProperty(f,"name",{configurable:true,value:prefix?"".concat(prefix," ",name):name});};function __metadata(metadataKey,metadataValue){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(metadataKey,metadataValue);}
function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}
return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}
function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}
function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}
step((generator=generator.apply(thisArg,_arguments||[])).next());});}
function __generator(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1];},trys:[],ops:[]},f,y,t,g=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return g.next=verb(0),g["throw"]=verb(1),g["return"]=verb(2),typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this;}),g;function verb(n){return function(v){return step([n,v]);};}
function step(op){if(f)throw new TypeError("Generator is already executing.");while(g&&(g=0,op[0]&&(_=0)),_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue;}
if(op[0]===3&&(!t||(op[1]>t[0]&&op[1]<t[3]))){_.label=op[1];break;}
if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break;}
if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break;}
if(t[2])_.ops.pop();_.trys.pop();continue;}
op=body.call(thisArg,_);}catch(e){op=[6,e];y=0;}finally{f=t=0;}
if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true};}}
var __createBinding=Object.create?(function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k];}};}
Object.defineProperty(o,k2,desc);}):(function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});function __exportStar(m,o){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(o,p))__createBinding(o,m,p);}
function __values(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o};}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.");}
function __read(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-->0)&&!(r=i.next()).done)ar.push(r.value);}
catch(error){e={error:error};}
finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i);}
finally{if(e)throw e.error;}}
return ar;}
function __spread(){for(var ar=[],i=0;i<arguments.length;i++)
ar=ar.concat(__read(arguments[i]));return ar;}
function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;}
function __spreadArray(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i];}}
return to.concat(ar||Array.prototype.slice.call(from));}
function __await(v){return this instanceof __await?(this.v=v,this):new __await(v);}
function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),i[Symbol.asyncIterator]=function(){return this;},i;function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject);};}
function verb(n,f){if(g[n]){i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v);});};if(f)i[n]=f(i[n]);}}
function resume(n,v){try{step(g[n](v));}catch(e){settle(q[0][3],e);}}
function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r);}
function fulfill(value){resume("next",value);}
function reject(value){resume("throw",value);}
function settle(f,v){if(f(v),q.shift(),q.length)resume(q[0][0],q[0][1]);}}
function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e;}),verb("return"),i[Symbol.iterator]=function(){return this;},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:false}:f?f(v):v;}:f;}}
function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values==="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this;},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value);});};}
function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d});},reject);}}
function __makeTemplateObject(cooked,raw){if(Object.defineProperty){Object.defineProperty(cooked,"raw",{value:raw});}else{cooked.raw=raw;}
return cooked;};var __setModuleDefault=Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:true,value:v});}):function(o,v){o["default"]=v;};var ownKeys=function(o){ownKeys=Object.getOwnPropertyNames||function(o){var ar=[];for(var k in o)if(Object.prototype.hasOwnProperty.call(o,k))ar[ar.length]=k;return ar;};return ownKeys(o);};function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k=ownKeys(mod),i=0;i<k.length;i++)if(k[i]!=="default")__createBinding(result,mod,k[i]);__setModuleDefault(result,mod);return result;}
function __importDefault(mod){return(mod&&mod.__esModule)?mod:{default:mod};}
function __classPrivateFieldGet(receiver,state,kind,f){if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof state==="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return kind==="m"?f:kind==="a"?f.call(receiver):f?f.value:state.get(receiver);}
function __classPrivateFieldSet(receiver,state,value,kind,f){if(kind==="m")throw new TypeError("Private method is not writable");if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof state==="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return(kind==="a"?f.call(receiver,value):f?f.value=value:state.set(receiver,value)),value;}
function __classPrivateFieldIn(state,receiver){if(receiver===null||(typeof receiver!=="object"&&typeof receiver!=="function"))throw new TypeError("Cannot use 'in' operator on non-object");return typeof state==="function"?receiver===state:state.has(receiver);}
function __addDisposableResource(env,value,async){if(value!==null&&value!==void 0){if(typeof value!=="object"&&typeof value!=="function")throw new TypeError("Object expected.");var dispose,inner;if(async){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");dispose=value[Symbol.asyncDispose];}
if(dispose===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");dispose=value[Symbol.dispose];if(async)inner=dispose;}
if(typeof dispose!=="function")throw new TypeError("Object not disposable.");if(inner)dispose=function(){try{inner.call(this);}catch(e){return Promise.reject(e);}};env.stack.push({value:value,dispose:dispose,async:async});}
else if(async){env.stack.push({async:true});}
return value;}
var _SuppressedError=typeof SuppressedError==="function"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name="SuppressedError",e.error=error,e.suppressed=suppressed,e;};function __disposeResources(env){function fail(e){env.error=env.hasError?new _SuppressedError(e,env.error,"An error was suppressed during disposal."):e;env.hasError=true;}
var r,s=0;function next(){while(r=env.stack.pop()){try{if(!r.async&&s===1)return s=0,env.stack.push(r),Promise.resolve().then(next);if(r.dispose){var result=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(result).then(next,function(e){fail(e);return next();});}
else s|=1;}
catch(e){fail(e);}}
if(s===1)return env.hasError?Promise.reject(env.error):Promise.resolve();if(env.hasError)throw env.error;}
return next();}
function __rewriteRelativeImportExtension(path,preserveJsx){if(typeof path==="string"&&/^\.\.?\//.test(path)){return path.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(m,tsx,d,ext,cm){return tsx?preserveJsx?".jsx":".js":d&&(!ext||!cm)?m:(d+ext+"."+cm.toLowerCase()+"js");});}
return path;}
const tslib_es6=({__extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension,});var normalize_wheel=__webpack_require__(7520);var normalize_wheel_default=__webpack_require__.n(normalize_wheel);;function getCropSize(mediaWidth,mediaHeight,containerWidth,containerHeight,aspect,rotation){if(rotation===void 0){rotation=0;}
var _a=rotateSize(mediaWidth,mediaHeight,rotation),width=_a.width,height=_a.height;var fittingWidth=Math.min(width,containerWidth);var fittingHeight=Math.min(height,containerHeight);if(fittingWidth>fittingHeight*aspect){return{width:fittingHeight*aspect,height:fittingHeight};}
return{width:fittingWidth,height:fittingWidth / aspect};}
function getMediaZoom(mediaSize){return mediaSize.width>mediaSize.height?mediaSize.width / mediaSize.naturalWidth:mediaSize.height / mediaSize.naturalHeight;}
function restrictPosition(position,mediaSize,cropSize,zoom,rotation){if(rotation===void 0){rotation=0;}
var _a=rotateSize(mediaSize.width,mediaSize.height,rotation),width=_a.width,height=_a.height;return{x:restrictPositionCoord(position.x,width,cropSize.width,zoom),y:restrictPositionCoord(position.y,height,cropSize.height,zoom)};}
function restrictPositionCoord(position,mediaSize,cropSize,zoom){var maxPosition=mediaSize*zoom / 2-cropSize / 2;return clamp(position,-maxPosition,maxPosition);}
function getDistanceBetweenPoints(pointA,pointB){return Math.sqrt(Math.pow(pointA.y-pointB.y,2)+Math.pow(pointA.x-pointB.x,2));}
function getRotationBetweenPoints(pointA,pointB){return Math.atan2(pointB.y-pointA.y,pointB.x-pointA.x)*180 / Math.PI;}
function computeCroppedArea(crop,mediaSize,cropSize,aspect,zoom,rotation,restrictPosition){if(rotation===void 0){rotation=0;}
if(restrictPosition===void 0){restrictPosition=true;}
var limitAreaFn=restrictPosition?limitArea:noOp;var mediaBBoxSize=rotateSize(mediaSize.width,mediaSize.height,rotation);var mediaNaturalBBoxSize=rotateSize(mediaSize.naturalWidth,mediaSize.naturalHeight,rotation);var croppedAreaPercentages={x:limitAreaFn(100,((mediaBBoxSize.width-cropSize.width / zoom)/ 2-crop.x / zoom)/ mediaBBoxSize.width*100),y:limitAreaFn(100,((mediaBBoxSize.height-cropSize.height / zoom)/ 2-crop.y / zoom)/ mediaBBoxSize.height*100),width:limitAreaFn(100,cropSize.width / mediaBBoxSize.width*100 / zoom),height:limitAreaFn(100,cropSize.height / mediaBBoxSize.height*100 / zoom)};var widthInPixels=Math.round(limitAreaFn(mediaNaturalBBoxSize.width,croppedAreaPercentages.width*mediaNaturalBBoxSize.width / 100));var heightInPixels=Math.round(limitAreaFn(mediaNaturalBBoxSize.height,croppedAreaPercentages.height*mediaNaturalBBoxSize.height / 100));var isImgWiderThanHigh=mediaNaturalBBoxSize.width>=mediaNaturalBBoxSize.height*aspect;var sizePixels=isImgWiderThanHigh?{width:Math.round(heightInPixels*aspect),height:heightInPixels}:{width:widthInPixels,height:Math.round(widthInPixels / aspect)};var croppedAreaPixels=__assign(__assign({},sizePixels),{x:Math.round(limitAreaFn(mediaNaturalBBoxSize.width-sizePixels.width,croppedAreaPercentages.x*mediaNaturalBBoxSize.width / 100)),y:Math.round(limitAreaFn(mediaNaturalBBoxSize.height-sizePixels.height,croppedAreaPercentages.y*mediaNaturalBBoxSize.height / 100))});return{croppedAreaPercentages:croppedAreaPercentages,croppedAreaPixels:croppedAreaPixels};}
function limitArea(max,value){return Math.min(max,Math.max(0,value));}
function noOp(_max,value){return value;}
function getInitialCropFromCroppedAreaPercentages(croppedAreaPercentages,mediaSize,rotation,cropSize,minZoom,maxZoom){var mediaBBoxSize=rotateSize(mediaSize.width,mediaSize.height,rotation);var zoom=clamp(cropSize.width / mediaBBoxSize.width*(100 / croppedAreaPercentages.width),minZoom,maxZoom);var crop={x:zoom*mediaBBoxSize.width / 2-cropSize.width / 2-mediaBBoxSize.width*zoom*(croppedAreaPercentages.x / 100),y:zoom*mediaBBoxSize.height / 2-cropSize.height / 2-mediaBBoxSize.height*zoom*(croppedAreaPercentages.y / 100)};return{crop:crop,zoom:zoom};}
function getZoomFromCroppedAreaPixels(croppedAreaPixels,mediaSize,cropSize){var mediaZoom=getMediaZoom(mediaSize);return cropSize.height>cropSize.width?cropSize.height /(croppedAreaPixels.height*mediaZoom):cropSize.width /(croppedAreaPixels.width*mediaZoom);}
function getInitialCropFromCroppedAreaPixels(croppedAreaPixels,mediaSize,rotation,cropSize,minZoom,maxZoom){if(rotation===void 0){rotation=0;}
var mediaNaturalBBoxSize=rotateSize(mediaSize.naturalWidth,mediaSize.naturalHeight,rotation);var zoom=clamp(getZoomFromCroppedAreaPixels(croppedAreaPixels,mediaSize,cropSize),minZoom,maxZoom);var cropZoom=cropSize.height>cropSize.width?cropSize.height / croppedAreaPixels.height:cropSize.width / croppedAreaPixels.width;var crop={x:((mediaNaturalBBoxSize.width-croppedAreaPixels.width)/ 2-croppedAreaPixels.x)*cropZoom,y:((mediaNaturalBBoxSize.height-croppedAreaPixels.height)/ 2-croppedAreaPixels.y)*cropZoom};return{crop:crop,zoom:zoom};}
function getCenter(a,b){return{x:(b.x+a.x)/ 2,y:(b.y+a.y)/ 2};}
function getRadianAngle(degreeValue){return degreeValue*Math.PI / 180;}
function rotateSize(width,height,rotation){var rotRad=getRadianAngle(rotation);return{width:Math.abs(Math.cos(rotRad)*width)+Math.abs(Math.sin(rotRad)*height),height:Math.abs(Math.sin(rotRad)*width)+Math.abs(Math.cos(rotRad)*height)};}
function clamp(value,min,max){return Math.min(Math.max(value,min),max);}
function classNames(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}
return args.filter(function(value){if(typeof value==='string'&&value.length>0){return true;}
return false;}).join(' ').trim();}
var css_248z=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n";var index_module_MIN_ZOOM=1;var index_module_MAX_ZOOM=3;var Cropper=function(_super){__extends(Cropper,_super);function Cropper(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.imageRef=external_React_.createRef();_this.videoRef=external_React_.createRef();_this.containerPosition={x:0,y:0};_this.containerRef=null;_this.styleRef=null;_this.containerRect=null;_this.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0};_this.dragStartPosition={x:0,y:0};_this.dragStartCrop={x:0,y:0};_this.gestureZoomStart=0;_this.gestureRotationStart=0;_this.isTouching=false;_this.lastPinchDistance=0;_this.lastPinchRotation=0;_this.rafDragTimeout=null;_this.rafPinchTimeout=null;_this.wheelTimer=null;_this.currentDoc=typeof document!=='undefined'?document:null;_this.currentWindow=typeof window!=='undefined'?window:null;_this.resizeObserver=null;_this.state={cropSize:null,hasWheelJustStarted:false,mediaObjectFit:undefined};_this.initResizeObserver=function(){if(typeof window.ResizeObserver==='undefined'||!_this.containerRef){return;}
var isFirstResize=true;_this.resizeObserver=new window.ResizeObserver(function(entries){if(isFirstResize){isFirstResize=false;return;}
_this.computeSizes();});_this.resizeObserver.observe(_this.containerRef);};_this.preventZoomSafari=function(e){return e.preventDefault();};_this.cleanEvents=function(){if(!_this.currentDoc)return;_this.currentDoc.removeEventListener('mousemove',_this.onMouseMove);_this.currentDoc.removeEventListener('mouseup',_this.onDragStopped);_this.currentDoc.removeEventListener('touchmove',_this.onTouchMove);_this.currentDoc.removeEventListener('touchend',_this.onDragStopped);_this.currentDoc.removeEventListener('gesturemove',_this.onGestureMove);_this.currentDoc.removeEventListener('gestureend',_this.onGestureEnd);_this.currentDoc.removeEventListener('scroll',_this.onScroll);};_this.clearScrollEvent=function(){if(_this.containerRef)_this.containerRef.removeEventListener('wheel',_this.onWheel);if(_this.wheelTimer){clearTimeout(_this.wheelTimer);}};_this.onMediaLoad=function(){var cropSize=_this.computeSizes();if(cropSize){_this.emitCropData();_this.setInitialCrop(cropSize);}
if(_this.props.onMediaLoaded){_this.props.onMediaLoaded(_this.mediaSize);}};_this.setInitialCrop=function(cropSize){if(_this.props.initialCroppedAreaPercentages){var _a=getInitialCropFromCroppedAreaPercentages(_this.props.initialCroppedAreaPercentages,_this.mediaSize,_this.props.rotation,cropSize,_this.props.minZoom,_this.props.maxZoom),crop=_a.crop,zoom=_a.zoom;_this.props.onCropChange(crop);_this.props.onZoomChange&&_this.props.onZoomChange(zoom);}else if(_this.props.initialCroppedAreaPixels){var _b=getInitialCropFromCroppedAreaPixels(_this.props.initialCroppedAreaPixels,_this.mediaSize,_this.props.rotation,cropSize,_this.props.minZoom,_this.props.maxZoom),crop=_b.crop,zoom=_b.zoom;_this.props.onCropChange(crop);_this.props.onZoomChange&&_this.props.onZoomChange(zoom);}};_this.computeSizes=function(){var _a,_b,_c,_d,_e,_f;var mediaRef=_this.imageRef.current||_this.videoRef.current;if(mediaRef&&_this.containerRef){_this.containerRect=_this.containerRef.getBoundingClientRect();_this.saveContainerPosition();var containerAspect=_this.containerRect.width / _this.containerRect.height;var naturalWidth=((_a=_this.imageRef.current)===null||_a===void 0?void 0:_a.naturalWidth)||((_b=_this.videoRef.current)===null||_b===void 0?void 0:_b.videoWidth)||0;var naturalHeight=((_c=_this.imageRef.current)===null||_c===void 0?void 0:_c.naturalHeight)||((_d=_this.videoRef.current)===null||_d===void 0?void 0:_d.videoHeight)||0;var isMediaScaledDown=mediaRef.offsetWidth<naturalWidth||mediaRef.offsetHeight<naturalHeight;var mediaAspect=naturalWidth / naturalHeight;var renderedMediaSize=void 0;if(isMediaScaledDown){switch(_this.state.mediaObjectFit){default:case'contain':renderedMediaSize=containerAspect>mediaAspect?{width:_this.containerRect.height*mediaAspect,height:_this.containerRect.height}:{width:_this.containerRect.width,height:_this.containerRect.width / mediaAspect};break;case'horizontal-cover':renderedMediaSize={width:_this.containerRect.width,height:_this.containerRect.width / mediaAspect};break;case'vertical-cover':renderedMediaSize={width:_this.containerRect.height*mediaAspect,height:_this.containerRect.height};break;}}else{renderedMediaSize={width:mediaRef.offsetWidth,height:mediaRef.offsetHeight};}
_this.mediaSize=__assign(__assign({},renderedMediaSize),{naturalWidth:naturalWidth,naturalHeight:naturalHeight});if(_this.props.setMediaSize){_this.props.setMediaSize(_this.mediaSize);}
var cropSize=_this.props.cropSize?_this.props.cropSize:getCropSize(_this.mediaSize.width,_this.mediaSize.height,_this.containerRect.width,_this.containerRect.height,_this.props.aspect,_this.props.rotation);if(((_e=_this.state.cropSize)===null||_e===void 0?void 0:_e.height)!==cropSize.height||((_f=_this.state.cropSize)===null||_f===void 0?void 0:_f.width)!==cropSize.width){_this.props.onCropSizeChange&&_this.props.onCropSizeChange(cropSize);}
_this.setState({cropSize:cropSize},_this.recomputeCropPosition);if(_this.props.setCropSize){_this.props.setCropSize(cropSize);}
return cropSize;}};_this.saveContainerPosition=function(){if(_this.containerRef){var bounds=_this.containerRef.getBoundingClientRect();_this.containerPosition={x:bounds.left,y:bounds.top};}};_this.onMouseDown=function(e){if(!_this.currentDoc)return;e.preventDefault();_this.currentDoc.addEventListener('mousemove',_this.onMouseMove);_this.currentDoc.addEventListener('mouseup',_this.onDragStopped);_this.saveContainerPosition();_this.onDragStart(Cropper.getMousePoint(e));};_this.onMouseMove=function(e){return _this.onDrag(Cropper.getMousePoint(e));};_this.onScroll=function(e){if(!_this.currentDoc)return;e.preventDefault();_this.saveContainerPosition();};_this.onTouchStart=function(e){if(!_this.currentDoc)return;_this.isTouching=true;if(_this.props.onTouchRequest&&!_this.props.onTouchRequest(e)){return;}
_this.currentDoc.addEventListener('touchmove',_this.onTouchMove,{passive:false});_this.currentDoc.addEventListener('touchend',_this.onDragStopped);_this.saveContainerPosition();if(e.touches.length===2){_this.onPinchStart(e);}else if(e.touches.length===1){_this.onDragStart(Cropper.getTouchPoint(e.touches[0]));}};_this.onTouchMove=function(e){e.preventDefault();if(e.touches.length===2){_this.onPinchMove(e);}else if(e.touches.length===1){_this.onDrag(Cropper.getTouchPoint(e.touches[0]));}};_this.onGestureStart=function(e){if(!_this.currentDoc)return;e.preventDefault();_this.currentDoc.addEventListener('gesturechange',_this.onGestureMove);_this.currentDoc.addEventListener('gestureend',_this.onGestureEnd);_this.gestureZoomStart=_this.props.zoom;_this.gestureRotationStart=_this.props.rotation;};_this.onGestureMove=function(e){e.preventDefault();if(_this.isTouching){return;}
var point=Cropper.getMousePoint(e);var newZoom=_this.gestureZoomStart-1+e.scale;_this.setNewZoom(newZoom,point,{shouldUpdatePosition:true});if(_this.props.onRotationChange){var newRotation=_this.gestureRotationStart+e.rotation;_this.props.onRotationChange(newRotation);}};_this.onGestureEnd=function(e){_this.cleanEvents();};_this.onDragStart=function(_a){var _b,_c;var x=_a.x,y=_a.y;_this.dragStartPosition={x:x,y:y};_this.dragStartCrop=__assign({},_this.props.crop);(_c=(_b=_this.props).onInteractionStart)===null||_c===void 0?void 0:_c.call(_b);};_this.onDrag=function(_a){var x=_a.x,y=_a.y;if(!_this.currentWindow)return;if(_this.rafDragTimeout)_this.currentWindow.cancelAnimationFrame(_this.rafDragTimeout);_this.rafDragTimeout=_this.currentWindow.requestAnimationFrame(function(){if(!_this.state.cropSize)return;if(x===undefined||y===undefined)return;var offsetX=x-_this.dragStartPosition.x;var offsetY=y-_this.dragStartPosition.y;var requestedPosition={x:_this.dragStartCrop.x+offsetX,y:_this.dragStartCrop.y+offsetY};var newPosition=_this.props.restrictPosition?restrictPosition(requestedPosition,_this.mediaSize,_this.state.cropSize,_this.props.zoom,_this.props.rotation):requestedPosition;_this.props.onCropChange(newPosition);});};_this.onDragStopped=function(){var _a,_b;_this.isTouching=false;_this.cleanEvents();_this.emitCropData();(_b=(_a=_this.props).onInteractionEnd)===null||_b===void 0?void 0:_b.call(_a);};_this.onWheel=function(e){if(!_this.currentWindow)return;if(_this.props.onWheelRequest&&!_this.props.onWheelRequest(e)){return;}
e.preventDefault();var point=Cropper.getMousePoint(e);var pixelY=normalize_wheel_default()(e).pixelY;var newZoom=_this.props.zoom-pixelY*_this.props.zoomSpeed / 200;_this.setNewZoom(newZoom,point,{shouldUpdatePosition:true});if(!_this.state.hasWheelJustStarted){_this.setState({hasWheelJustStarted:true},function(){var _a,_b;return(_b=(_a=_this.props).onInteractionStart)===null||_b===void 0?void 0:_b.call(_a);});}
if(_this.wheelTimer){clearTimeout(_this.wheelTimer);}
_this.wheelTimer=_this.currentWindow.setTimeout(function(){return _this.setState({hasWheelJustStarted:false},function(){var _a,_b;return(_b=(_a=_this.props).onInteractionEnd)===null||_b===void 0?void 0:_b.call(_a);});},250);};_this.getPointOnContainer=function(_a,containerTopLeft){var x=_a.x,y=_a.y;if(!_this.containerRect){throw new Error('The Cropper is not mounted');}
return{x:_this.containerRect.width / 2-(x-containerTopLeft.x),y:_this.containerRect.height / 2-(y-containerTopLeft.y)};};_this.getPointOnMedia=function(_a){var x=_a.x,y=_a.y;var _b=_this.props,crop=_b.crop,zoom=_b.zoom;return{x:(x+crop.x)/ zoom,y:(y+crop.y)/ zoom};};_this.setNewZoom=function(zoom,point,_a){var _b=_a===void 0?{}:_a,_c=_b.shouldUpdatePosition,shouldUpdatePosition=_c===void 0?true:_c;if(!_this.state.cropSize||!_this.props.onZoomChange)return;var newZoom=clamp(zoom,_this.props.minZoom,_this.props.maxZoom);if(shouldUpdatePosition){var zoomPoint=_this.getPointOnContainer(point,_this.containerPosition);var zoomTarget=_this.getPointOnMedia(zoomPoint);var requestedPosition={x:zoomTarget.x*newZoom-zoomPoint.x,y:zoomTarget.y*newZoom-zoomPoint.y};var newPosition=_this.props.restrictPosition?restrictPosition(requestedPosition,_this.mediaSize,_this.state.cropSize,newZoom,_this.props.rotation):requestedPosition;_this.props.onCropChange(newPosition);}
_this.props.onZoomChange(newZoom);};_this.getCropData=function(){if(!_this.state.cropSize){return null;}
var restrictedPosition=_this.props.restrictPosition?restrictPosition(_this.props.crop,_this.mediaSize,_this.state.cropSize,_this.props.zoom,_this.props.rotation):_this.props.crop;return computeCroppedArea(restrictedPosition,_this.mediaSize,_this.state.cropSize,_this.getAspect(),_this.props.zoom,_this.props.rotation,_this.props.restrictPosition);};_this.emitCropData=function(){var cropData=_this.getCropData();if(!cropData)return;var croppedAreaPercentages=cropData.croppedAreaPercentages,croppedAreaPixels=cropData.croppedAreaPixels;if(_this.props.onCropComplete){_this.props.onCropComplete(croppedAreaPercentages,croppedAreaPixels);}
if(_this.props.onCropAreaChange){_this.props.onCropAreaChange(croppedAreaPercentages,croppedAreaPixels);}};_this.emitCropAreaChange=function(){var cropData=_this.getCropData();if(!cropData)return;var croppedAreaPercentages=cropData.croppedAreaPercentages,croppedAreaPixels=cropData.croppedAreaPixels;if(_this.props.onCropAreaChange){_this.props.onCropAreaChange(croppedAreaPercentages,croppedAreaPixels);}};_this.recomputeCropPosition=function(){if(!_this.state.cropSize)return;var newPosition=_this.props.restrictPosition?restrictPosition(_this.props.crop,_this.mediaSize,_this.state.cropSize,_this.props.zoom,_this.props.rotation):_this.props.crop;_this.props.onCropChange(newPosition);_this.emitCropData();};return _this;}
Cropper.prototype.componentDidMount=function(){if(!this.currentDoc||!this.currentWindow)return;if(this.containerRef){if(this.containerRef.ownerDocument){this.currentDoc=this.containerRef.ownerDocument;}
if(this.currentDoc.defaultView){this.currentWindow=this.currentDoc.defaultView;}
this.initResizeObserver();if(typeof window.ResizeObserver==='undefined'){this.currentWindow.addEventListener('resize',this.computeSizes);}
this.props.zoomWithScroll&&this.containerRef.addEventListener('wheel',this.onWheel,{passive:false});this.containerRef.addEventListener('gesturestart',this.onGestureStart);}
this.currentDoc.addEventListener('scroll',this.onScroll);if(!this.props.disableAutomaticStylesInjection){this.styleRef=this.currentDoc.createElement('style');this.styleRef.setAttribute('type','text/css');if(this.props.nonce){this.styleRef.setAttribute('nonce',this.props.nonce);}
this.styleRef.innerHTML=css_248z;this.currentDoc.head.appendChild(this.styleRef);}
if(this.imageRef.current&&this.imageRef.current.complete){this.onMediaLoad();}
if(this.props.setImageRef){this.props.setImageRef(this.imageRef);}
if(this.props.setVideoRef){this.props.setVideoRef(this.videoRef);}};Cropper.prototype.componentWillUnmount=function(){var _a,_b;if(!this.currentDoc||!this.currentWindow)return;if(typeof window.ResizeObserver==='undefined'){this.currentWindow.removeEventListener('resize',this.computeSizes);}
(_a=this.resizeObserver)===null||_a===void 0?void 0:_a.disconnect();if(this.containerRef){this.containerRef.removeEventListener('gesturestart',this.preventZoomSafari);}
if(this.styleRef){(_b=this.styleRef.parentNode)===null||_b===void 0?void 0:_b.removeChild(this.styleRef);}
this.cleanEvents();this.props.zoomWithScroll&&this.clearScrollEvent();};Cropper.prototype.componentDidUpdate=function(prevProps){var _a,_b,_c,_d,_e,_f,_g,_h,_j;if(prevProps.rotation!==this.props.rotation){this.computeSizes();this.recomputeCropPosition();}else if(prevProps.aspect!==this.props.aspect){this.computeSizes();}else if(prevProps.objectFit!==this.props.objectFit){this.computeSizes();}else if(prevProps.zoom!==this.props.zoom){this.recomputeCropPosition();}else if(((_a=prevProps.cropSize)===null||_a===void 0?void 0:_a.height)!==((_b=this.props.cropSize)===null||_b===void 0?void 0:_b.height)||((_c=prevProps.cropSize)===null||_c===void 0?void 0:_c.width)!==((_d=this.props.cropSize)===null||_d===void 0?void 0:_d.width)){this.computeSizes();}else if(((_e=prevProps.crop)===null||_e===void 0?void 0:_e.x)!==((_f=this.props.crop)===null||_f===void 0?void 0:_f.x)||((_g=prevProps.crop)===null||_g===void 0?void 0:_g.y)!==((_h=this.props.crop)===null||_h===void 0?void 0:_h.y)){this.emitCropAreaChange();}
if(prevProps.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef){this.props.zoomWithScroll?this.containerRef.addEventListener('wheel',this.onWheel,{passive:false}):this.clearScrollEvent();}
if(prevProps.video!==this.props.video){(_j=this.videoRef.current)===null||_j===void 0?void 0:_j.load();}
var objectFit=this.getObjectFit();if(objectFit!==this.state.mediaObjectFit){this.setState({mediaObjectFit:objectFit},this.computeSizes);}};Cropper.prototype.getAspect=function(){var _a=this.props,cropSize=_a.cropSize,aspect=_a.aspect;if(cropSize){return cropSize.width / cropSize.height;}
return aspect;};Cropper.prototype.getObjectFit=function(){var _a,_b,_c,_d;if(this.props.objectFit==='cover'){var mediaRef=this.imageRef.current||this.videoRef.current;if(mediaRef&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var containerAspect=this.containerRect.width / this.containerRect.height;var naturalWidth=((_a=this.imageRef.current)===null||_a===void 0?void 0:_a.naturalWidth)||((_b=this.videoRef.current)===null||_b===void 0?void 0:_b.videoWidth)||0;var naturalHeight=((_c=this.imageRef.current)===null||_c===void 0?void 0:_c.naturalHeight)||((_d=this.videoRef.current)===null||_d===void 0?void 0:_d.videoHeight)||0;var mediaAspect=naturalWidth / naturalHeight;return mediaAspect<containerAspect?'horizontal-cover':'vertical-cover';}
return'horizontal-cover';}
return this.props.objectFit;};Cropper.prototype.onPinchStart=function(e){var pointA=Cropper.getTouchPoint(e.touches[0]);var pointB=Cropper.getTouchPoint(e.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(pointA,pointB);this.lastPinchRotation=getRotationBetweenPoints(pointA,pointB);this.onDragStart(getCenter(pointA,pointB));};Cropper.prototype.onPinchMove=function(e){var _this=this;if(!this.currentDoc||!this.currentWindow)return;var pointA=Cropper.getTouchPoint(e.touches[0]);var pointB=Cropper.getTouchPoint(e.touches[1]);var center=getCenter(pointA,pointB);this.onDrag(center);if(this.rafPinchTimeout)this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout);this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var distance=getDistanceBetweenPoints(pointA,pointB);var newZoom=_this.props.zoom*(distance / _this.lastPinchDistance);_this.setNewZoom(newZoom,center,{shouldUpdatePosition:false});_this.lastPinchDistance=distance;var rotation=getRotationBetweenPoints(pointA,pointB);var newRotation=_this.props.rotation+(rotation-_this.lastPinchRotation);_this.props.onRotationChange&&_this.props.onRotationChange(newRotation);_this.lastPinchRotation=rotation;});};Cropper.prototype.render=function(){var _this=this;var _a=this.props,image=_a.image,video=_a.video,mediaProps=_a.mediaProps,transform=_a.transform,_b=_a.crop,x=_b.x,y=_b.y,rotation=_a.rotation,zoom=_a.zoom,cropShape=_a.cropShape,showGrid=_a.showGrid,_c=_a.style,containerStyle=_c.containerStyle,cropAreaStyle=_c.cropAreaStyle,mediaStyle=_c.mediaStyle,_d=_a.classes,containerClassName=_d.containerClassName,cropAreaClassName=_d.cropAreaClassName,mediaClassName=_d.mediaClassName;var objectFit=this.state.mediaObjectFit;return external_React_.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function ref(el){return _this.containerRef=el;},"data-testid":"container",style:containerStyle,className:classNames('reactEasyCrop_Container',containerClassName)},image?external_React_.createElement("img",__assign({alt:"",className:classNames('reactEasyCrop_Image',objectFit==='contain'&&'reactEasyCrop_Contain',objectFit==='horizontal-cover'&&'reactEasyCrop_Cover_Horizontal',objectFit==='vertical-cover'&&'reactEasyCrop_Cover_Vertical',mediaClassName)},mediaProps,{src:image,ref:this.imageRef,style:__assign(__assign({},mediaStyle),{transform:transform||"translate(".concat(x,"px, ").concat(y,"px) rotate(").concat(rotation,"deg) scale(").concat(zoom,")")}),onLoad:this.onMediaLoad})):video&&external_React_.createElement("video",__assign({autoPlay:true,loop:true,muted:true,className:classNames('reactEasyCrop_Video',objectFit==='contain'&&'reactEasyCrop_Contain',objectFit==='horizontal-cover'&&'reactEasyCrop_Cover_Horizontal',objectFit==='vertical-cover'&&'reactEasyCrop_Cover_Vertical',mediaClassName)},mediaProps,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign(__assign({},mediaStyle),{transform:transform||"translate(".concat(x,"px, ").concat(y,"px) rotate(").concat(rotation,"deg) scale(").concat(zoom,")")}),controls:false}),(Array.isArray(video)?video:[{src:video}]).map(function(item){return external_React_.createElement("source",__assign({key:item.src},item));})),this.state.cropSize&&external_React_.createElement("div",{style:__assign(__assign({},cropAreaStyle),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:classNames('reactEasyCrop_CropArea',cropShape==='round'&&'reactEasyCrop_CropAreaRound',showGrid&&'reactEasyCrop_CropAreaGrid',cropAreaClassName)}));};Cropper.defaultProps={zoom:1,rotation:0,aspect:4 / 3,maxZoom:index_module_MAX_ZOOM,minZoom:index_module_MIN_ZOOM,cropShape:'rect',objectFit:'contain',showGrid:true,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:true,zoomWithScroll:true};Cropper.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)};};Cropper.getTouchPoint=function(touch){return{x:Number(touch.clientX),y:Number(touch.clientY)};};return Cropper;}(external_React_.Component);;function ImageCropper({url,width,height,naturalHeight,naturalWidth,borderProps}){const{isInProgress,editedUrl,position,zoom,aspect,setPosition,setCrop,setZoom,rotation}=useImageEditingContext();const[contentResizeListener,{width:clientWidth}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();let editedHeight=height||clientWidth*naturalHeight / naturalWidth;if(rotation%180===90){editedHeight=clientWidth*naturalWidth / naturalHeight;}
const area=(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx('wp-block-image__crop-area',borderProps?.className,{'is-applying':isInProgress}),style:{...borderProps?.style,width:width||clientWidth,height:editedHeight},children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(Cropper,{image:editedUrl||url,disabled:isInProgress,minZoom:MIN_ZOOM / 100,maxZoom:MAX_ZOOM / 100,crop:position,zoom:zoom / 100,aspect:aspect,onCropChange:pos=>{setPosition(pos);},onCropComplete:newCropPercent=>{setCrop(newCropPercent);},onZoomChange:newZoom=>{setZoom(newZoom*100);}}),isInProgress&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Spinner,{})]});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[contentResizeListener,area]});};const search=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})});const library_search=(search);;function ZoomDropdown(){const{isInProgress,zoom,setZoom}=useImageEditingContext();return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{contentClassName:"wp-block-image__zoom",popoverProps:constants_POPOVER_PROPS,renderToggle:({isOpen,onToggle})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_search,label:(0,external_wp_i18n_namespaceObject.__)('Zoom'),onClick:onToggle,"aria-expanded":isOpen,disabled:isInProgress}),renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{paddingSize:"medium",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.RangeControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Zoom'),min:MIN_ZOOM,max:MAX_ZOOM,value:Math.round(zoom),onChange:setZoom})})});};const rotateRight=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})});const rotate_right=(rotateRight);;function RotationButton(){const{isInProgress,rotateClockwise}=useImageEditingContext();return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{icon:rotate_right,label:(0,external_wp_i18n_namespaceObject.__)('Rotate'),onClick:rotateClockwise,disabled:isInProgress});};function FormControls(){const{isInProgress,apply,cancel}=useImageEditingContext();return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{onClick:apply,disabled:isInProgress,children:(0,external_wp_i18n_namespaceObject.__)('Apply')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{onClick:cancel,children:(0,external_wp_i18n_namespaceObject.__)('Cancel')})]});};function ImageEditor({id,url,width,height,naturalHeight,naturalWidth,onSaveImage,onFinishEditing,borderProps}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(ImageEditingProvider,{id:id,url:url,naturalWidth:naturalWidth,naturalHeight:naturalHeight,onSaveImage:onSaveImage,onFinishEditing:onFinishEditing,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ImageCropper,{borderProps:borderProps,url:url,width:width,height:height,naturalHeight:naturalHeight,naturalWidth:naturalWidth}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(block_controls,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.ToolbarGroup,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(ZoomDropdown,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarItem,{children:toggleProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(AspectRatioDropdown,{toggleProps:toggleProps})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(RotationButton,{})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(FormControls,{})})]})]});};function useDimensionHandler(customHeight,customWidth,defaultHeight,defaultWidth,onChange){var _ref,_ref2;const[currentWidth,setCurrentWidth]=(0,external_wp_element_namespaceObject.useState)((_ref=customWidth!==null&&customWidth!==void 0?customWidth:defaultWidth)!==null&&_ref!==void 0?_ref:'');const[currentHeight,setCurrentHeight]=(0,external_wp_element_namespaceObject.useState)((_ref2=customHeight!==null&&customHeight!==void 0?customHeight:defaultHeight)!==null&&_ref2!==void 0?_ref2:'');(0,external_wp_element_namespaceObject.useEffect)(()=>{if(customWidth===undefined&&defaultWidth!==undefined){setCurrentWidth(defaultWidth);}
if(customHeight===undefined&&defaultHeight!==undefined){setCurrentHeight(defaultHeight);}},[defaultWidth,defaultHeight]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(customWidth!==undefined&&Number.parseInt(customWidth)!==Number.parseInt(currentWidth)){setCurrentWidth(customWidth);}
if(customHeight!==undefined&&Number.parseInt(customHeight)!==Number.parseInt(currentHeight)){setCurrentHeight(customHeight);}},[customWidth,customHeight]);const updateDimension=(dimension,value)=>{const parsedValue=value===''?undefined:parseInt(value,10);if(dimension==='width'){setCurrentWidth(parsedValue);}else{setCurrentHeight(parsedValue);}
onChange({[dimension]:parsedValue});};const updateDimensions=(nextHeight,nextWidth)=>{setCurrentHeight(nextHeight!==null&&nextHeight!==void 0?nextHeight:defaultHeight);setCurrentWidth(nextWidth!==null&&nextWidth!==void 0?nextWidth:defaultWidth);onChange({height:nextHeight,width:nextWidth});};return{currentHeight,currentWidth,updateDimension,updateDimensions};};const IMAGE_SIZE_PRESETS=[25,50,75,100];const image_size_control_noop=()=>{};function getScaledWidthAndHeight(scale,imageWidth,imageHeight){const scaledWidth=Math.round(imageWidth*(scale / 100));const scaledHeight=Math.round(imageHeight*(scale / 100));return{scaledWidth,scaledHeight};}
function ImageSizeControl({imageSizeHelp,imageWidth,imageHeight,imageSizeOptions=[],isResizable=true,slug,width,height,onChange,onChangeImage=image_size_control_noop}){const{currentHeight,currentWidth,updateDimension,updateDimensions}=useDimensionHandler(height,width,imageHeight,imageWidth,onChange);const handleUpdateDimensions=scale=>{if(undefined===scale){updateDimensions();return;}
const{scaledWidth,scaledHeight}=getScaledWidthAndHeight(scale,imageWidth,imageHeight);updateDimensions(scaledHeight,scaledWidth);};const selectedValue=IMAGE_SIZE_PRESETS.find(scale=>{const{scaledWidth,scaledHeight}=getScaledWidthAndHeight(scale,imageWidth,imageHeight);return currentWidth===scaledWidth&&currentHeight===scaledHeight;});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[imageSizeOptions&&imageSizeOptions.length>0&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SelectControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Resolution'),value:slug,options:imageSizeOptions,onChange:onChangeImage,help:imageSizeHelp,size:"__unstable-large"}),isResizable&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-image-size-control",children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{align:"baseline",spacing:"3",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalNumberControl,{className:"block-editor-image-size-control__width",label:(0,external_wp_i18n_namespaceObject.__)('Width'),value:currentWidth,min:1,onChange:value=>updateDimension('width',value),size:"__unstable-large"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalNumberControl,{className:"block-editor-image-size-control__height",label:(0,external_wp_i18n_namespaceObject.__)('Height'),value:currentHeight,min:1,onChange:value=>updateDimension('height',value),size:"__unstable-large"})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{label:(0,external_wp_i18n_namespaceObject.__)('Image size presets'),hideLabelFromVision:true,onChange:handleUpdateDimensions,value:selectedValue,isBlock:true,__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,children:IMAGE_SIZE_PRESETS.map(scale=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{value:scale,label:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%d%%'),scale)},scale);})})]})]});};function LinkViewerURL({url,urlLabel,className}){const linkClassName=dist_clsx(className,'block-editor-url-popover__link-viewer-url');if(!url){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:linkClassName});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ExternalLink,{className:linkClassName,href:url,children:urlLabel||(0,external_wp_url_namespaceObject.filterURLForDisplay)((0,external_wp_url_namespaceObject.safeDecodeURI)(url))});};function LinkViewer({className,linkClassName,onEditLinkClick,url,urlLabel,...props}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx('block-editor-url-popover__link-viewer',className),...props,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(LinkViewerURL,{url:url,urlLabel:urlLabel,className:linkClassName}),onEditLinkClick&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{icon:edit,label:(0,external_wp_i18n_namespaceObject.__)('Edit'),onClick:onEditLinkClick,size:"compact"})]});};function LinkEditor({autocompleteRef,className,onChangeInputValue,value,...props}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("form",{className:dist_clsx('block-editor-url-popover__link-editor',className),...props,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(url_input,{value:value,onChange:onChangeInputValue,autocompleteRef:autocompleteRef}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{icon:keyboard_return,label:(0,external_wp_i18n_namespaceObject.__)('Apply'),type:"submit",size:"compact"})]});};const{__experimentalPopoverLegacyPositionToPlacement}=unlock(external_wp_components_namespaceObject.privateApis);const DEFAULT_PLACEMENT='bottom';const URLPopover=(0,external_wp_element_namespaceObject.forwardRef)(({additionalControls,children,renderSettings,placement,focusOnMount='firstElement',position,...popoverProps},ref)=>{if(position!==undefined){external_wp_deprecated_default()('`position` prop in wp.blockEditor.URLPopover',{since:'6.2',alternative:'`placement` prop'});}
let computedPlacement;if(placement!==undefined){computedPlacement=placement;}else if(position!==undefined){computedPlacement=__experimentalPopoverLegacyPositionToPlacement(position);}
computedPlacement=computedPlacement||DEFAULT_PLACEMENT;const[isSettingsExpanded,setIsSettingsExpanded]=(0,external_wp_element_namespaceObject.useState)(false);const showSettings=!!renderSettings&&isSettingsExpanded;const toggleSettingsVisibility=()=>{setIsSettingsExpanded(!isSettingsExpanded);};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Popover,{ref:ref,role:"dialog","aria-modal":"true","aria-label":(0,external_wp_i18n_namespaceObject.__)('Edit URL'),className:"block-editor-url-popover",focusOnMount:focusOnMount,placement:computedPlacement,shift:true,variant:"toolbar",...popoverProps,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-url-popover__input-container",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-url-popover__row",children:[children,!!renderSettings&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down,label:(0,external_wp_i18n_namespaceObject.__)('Link settings'),onClick:toggleSettingsVisibility,"aria-expanded":isSettingsExpanded,size:"compact"})]})}),showSettings&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-url-popover__settings",children:renderSettings()}),additionalControls&&!showSettings&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-url-popover__additional-controls",children:additionalControls})]});});URLPopover.LinkEditor=LinkEditor;URLPopover.LinkViewer=LinkViewer;const url_popover=(URLPopover);;const media_placeholder_noop=()=>{};const InsertFromURLPopover=({src,onChange,onSubmit,onClose,popoverAnchor})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(url_popover,{anchor:popoverAnchor,onClose:onClose,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:onSubmit,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControl,{__next40pxDefaultSize:true,label:(0,external_wp_i18n_namespaceObject.__)('URL'),type:"text",hideLabelFromVision:true,placeholder:(0,external_wp_i18n_namespaceObject.__)('Paste or type URL'),onChange:onChange,value:src,suffix:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControlSuffixWrapper,{variant:"control",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"small",icon:keyboard_return,label:(0,external_wp_i18n_namespaceObject.__)('Apply'),type:"submit"})})})})});const URLSelectionUI=({src,onChangeSrc,onSelectURL})=>{const[popoverAnchor,setPopoverAnchor]=(0,external_wp_element_namespaceObject.useState)(null);const[isURLInputVisible,setIsURLInputVisible]=(0,external_wp_element_namespaceObject.useState)(false);const openURLInput=()=>{setIsURLInputVisible(true);};const closeURLInput=()=>{setIsURLInputVisible(false);popoverAnchor?.focus();};const onSubmitSrc=event=>{event.preventDefault();if(src&&onSelectURL){onSelectURL(src);closeURLInput();}};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-media-placeholder__url-input-container",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:"block-editor-media-placeholder__button",onClick:openURLInput,isPressed:isURLInputVisible,variant:"secondary","aria-haspopup":"dialog",ref:setPopoverAnchor,children:(0,external_wp_i18n_namespaceObject.__)('Insert from URL')}),isURLInputVisible&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(InsertFromURLPopover,{src:src,onChange:onChangeSrc,onSubmit:onSubmitSrc,onClose:closeURLInput,popoverAnchor:popoverAnchor})]});};function MediaPlaceholder({value={},allowedTypes,className,icon,labels={},mediaPreview,notices,isAppender,accept,addToGallery,multiple=false,handleUpload=true,disableDropZone,disableMediaButtons,onError,onSelect,onCancel,onSelectURL,onToggleFeaturedImage,onDoubleClick,onFilesPreUpload=media_placeholder_noop,onHTMLDrop:deprecatedOnHTMLDrop,children,mediaLibraryButton,placeholder,style}){if(deprecatedOnHTMLDrop){external_wp_deprecated_default()('wp.blockEditor.MediaPlaceholder onHTMLDrop prop',{since:'6.2',version:'6.4'});}
const mediaUpload=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return getSettings().mediaUpload;},[]);const[src,setSrc]=(0,external_wp_element_namespaceObject.useState)('');(0,external_wp_element_namespaceObject.useEffect)(()=>{var _value$src;setSrc((_value$src=value?.src)!==null&&_value$src!==void 0?_value$src:'');},[value?.src]);const onlyAllowsImages=()=>{if(!allowedTypes||allowedTypes.length===0){return false;}
return allowedTypes.every(allowedType=>allowedType==='image'||allowedType.startsWith('image/'));};const onFilesUpload=files=>{if(!handleUpload||typeof handleUpload==='function'&&!handleUpload(files)){return onSelect(files);}
onFilesPreUpload(files);let setMedia;if(multiple){if(addToGallery){let lastMediaPassed=[];setMedia=newMedia=>{const filteredMedia=(value!==null&&value!==void 0?value:[]).filter(item=>{if(item.id){return!lastMediaPassed.some(({id})=>Number(id)===Number(item.id));}
return!lastMediaPassed.some(({urlSlug})=>item.url.includes(urlSlug));});onSelect(filteredMedia.concat(newMedia));lastMediaPassed=newMedia.map(media=>{const cutOffIndex=media.url.lastIndexOf('.');const urlSlug=media.url.slice(0,cutOffIndex);return{id:media.id,urlSlug};});};}else{setMedia=onSelect;}}else{setMedia=([media])=>onSelect(media);}
mediaUpload({allowedTypes,filesList:files,onFileChange:setMedia,onError,multiple});};async function handleBlocksDrop(event){const{blocks}=parseDropEvent(event);if(!blocks?.length){return;}
const uploadedMediaList=await Promise.all(blocks.map(block=>{const blockType=block.name.split('/')[1];if(block.attributes.id){block.attributes.type=blockType;return block.attributes;}
return new Promise((resolve,reject)=>{window.fetch(block.attributes.url).then(response=>response.blob()).then(blob=>mediaUpload({filesList:[blob],additionalData:{title:block.attributes.title,alt_text:block.attributes.alt,caption:block.attributes.caption,type:blockType},onFileChange:([media])=>{if(media.id){resolve(media);}},allowedTypes,onError:reject})).catch(()=>resolve(block.attributes.url));});})).catch(err=>onError(err));if(multiple){onSelect(uploadedMediaList);}else{onSelect(uploadedMediaList[0]);}}
const onUpload=event=>{onFilesUpload(event.target.files);};const defaultRenderPlaceholder=content=>{let{instructions,title}=labels;if(!mediaUpload&&!onSelectURL){instructions=(0,external_wp_i18n_namespaceObject.__)('To edit this block, you need permission to upload media.');}
if(instructions===undefined||title===undefined){const typesAllowed=allowedTypes!==null&&allowedTypes!==void 0?allowedTypes:[];const[firstAllowedType]=typesAllowed;const isOneType=1===typesAllowed.length;const isAudio=isOneType&&'audio'===firstAllowedType;const isImage=isOneType&&'image'===firstAllowedType;const isVideo=isOneType&&'video'===firstAllowedType;if(instructions===undefined&&mediaUpload){instructions=(0,external_wp_i18n_namespaceObject.__)('Drag and drop an image or video, upload, or choose from your library.');if(isAudio){instructions=(0,external_wp_i18n_namespaceObject.__)('Drag and drop an audio file, upload, or choose from your library.');}else if(isImage){instructions=(0,external_wp_i18n_namespaceObject.__)('Drag and drop an image, upload, or choose from your library.');}else if(isVideo){instructions=(0,external_wp_i18n_namespaceObject.__)('Drag and drop a video, upload, or choose from your library.');}}
if(title===undefined){title=(0,external_wp_i18n_namespaceObject.__)('Media');if(isAudio){title=(0,external_wp_i18n_namespaceObject.__)('Audio');}else if(isImage){title=(0,external_wp_i18n_namespaceObject.__)('Image');}else if(isVideo){title=(0,external_wp_i18n_namespaceObject.__)('Video');}}}
const placeholderClassName=dist_clsx('block-editor-media-placeholder',className,{'is-appender':isAppender});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Placeholder,{icon:icon,label:title,instructions:instructions,className:placeholderClassName,notices:notices,onDoubleClick:onDoubleClick,preview:mediaPreview,style:style,children:[content,children]});};const renderPlaceholder=placeholder!==null&&placeholder!==void 0?placeholder:defaultRenderPlaceholder;const renderDropZone=()=>{if(disableDropZone){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropZone,{onFilesDrop:onFilesUpload,onDrop:handleBlocksDrop,isEligible:dataTransfer=>{const prefix='wp-block:core/';const types=[];for(const type of dataTransfer.types){if(type.startsWith(prefix)){types.push(type.slice(prefix.length));}}
return types.every(type=>allowedTypes.includes(type))&&(multiple?true:types.length===1);}});};const renderCancelLink=()=>{return onCancel&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:"block-editor-media-placeholder__cancel-button",title:(0,external_wp_i18n_namespaceObject.__)('Cancel'),variant:"link",onClick:onCancel,children:(0,external_wp_i18n_namespaceObject.__)('Cancel')});};const renderUrlSelectionUI=()=>{return onSelectURL&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(URLSelectionUI,{src:src,onChangeSrc:setSrc,onSelectURL:onSelectURL});};const renderFeaturedImageToggle=()=>{return onToggleFeaturedImage&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-media-placeholder__url-input-container",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:"block-editor-media-placeholder__button",onClick:onToggleFeaturedImage,variant:"secondary",children:(0,external_wp_i18n_namespaceObject.__)('Use featured image')})});};const renderMediaUploadChecked=()=>{const defaultButton=({open})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"secondary",onClick:()=>{open();},children:(0,external_wp_i18n_namespaceObject.__)('Media Library')});};const libraryButton=mediaLibraryButton!==null&&mediaLibraryButton!==void 0?mediaLibraryButton:defaultButton;const uploadMediaLibraryButton=(0,external_ReactJSXRuntime_namespaceObject.jsx)(media_upload,{addToGallery:addToGallery,gallery:multiple&&onlyAllowsImages(),multiple:multiple,onSelect:onSelect,allowedTypes:allowedTypes,mode:"browse",value:Array.isArray(value)?value.map(({id})=>id):value.id,render:libraryButton});if(mediaUpload&&isAppender){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[renderDropZone(),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FormFileUpload,{onChange:onUpload,accept:accept,multiple:!!multiple,render:({openFileDialog})=>{const content=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"primary",className:dist_clsx('block-editor-media-placeholder__button','block-editor-media-placeholder__upload-button'),onClick:openFileDialog,children:(0,external_wp_i18n_namespaceObject._x)('Upload','verb')}),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink()]});return renderPlaceholder(content);}})]});}
if(mediaUpload){const content=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[renderDropZone(),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FormFileUpload,{render:({openFileDialog})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,onClick:openFileDialog,variant:"primary",className:dist_clsx('block-editor-media-placeholder__button','block-editor-media-placeholder__upload-button'),children:(0,external_wp_i18n_namespaceObject._x)('Upload','verb')}),onChange:onUpload,accept:accept,multiple:!!multiple}),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink()]});return renderPlaceholder(content);}
return renderPlaceholder(uploadMediaLibraryButton);};if(disableMediaButtons){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(check,{children:renderDropZone()});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(check,{fallback:renderPlaceholder(renderUrlSelectionUI()),children:renderMediaUploadChecked()});}
const media_placeholder=((0,external_wp_components_namespaceObject.withFilters)('editor.MediaPlaceholder')(MediaPlaceholder));;const PanelColorSettings=({colorSettings,...props})=>{const settings=colorSettings.map(setting=>{if(!setting){return setting;}
const{value,onChange,...otherSettings}=setting;return{...otherSettings,colorValue:value,onColorChange:onChange};});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(panel_color_gradient_settings,{settings:settings,gradients:[],disableCustomGradients:true,...props});};const panel_color_settings=(PanelColorSettings);;const format_toolbar_POPOVER_PROPS={placement:'bottom-start'};const FormatToolbar=()=>{return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[['bold','italic','link','unknown'].map(format=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Slot,{name:`RichText.ToolbarControls.${format}`},format)),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Slot,{name:"RichText.ToolbarControls",children:fills=>{if(!fills.length){return null;}
const allProps=fills.map(([{props}])=>props);const hasActive=allProps.some(({isActive})=>isActive);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarItem,{children:toggleProps=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.DropdownMenu,{icon:chevron_down,label:(0,external_wp_i18n_namespaceObject.__)('More'),toggleProps:{...toggleProps,className:dist_clsx(toggleProps.className,{'is-pressed':hasActive}),description:(0,external_wp_i18n_namespaceObject.__)('Displays more block tools')},controls:orderBy(fills.map(([{props}])=>props),'title'),popoverProps:format_toolbar_POPOVER_PROPS})});}})]});};const format_toolbar=(FormatToolbar);;function InlineToolbar({popoverAnchor}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Popover,{placement:"top",focusOnMount:false,anchor:popoverAnchor,className:"block-editor-rich-text__inline-format-toolbar",__unstableSlotName:"block-toolbar",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(NavigableToolbar,{className:"block-editor-rich-text__inline-format-toolbar-group","aria-label":(0,external_wp_i18n_namespaceObject.__)('Format tools'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarGroup,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(format_toolbar,{})})})});}
const FormatToolbarContainer=({inline,editableContentElement})=>{if(inline){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(InlineToolbar,{popoverAnchor:editableContentElement});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_controls,{group:"inline",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(format_toolbar,{})});};const format_toolbar_container=(FormatToolbarContainer);;function useMarkPersistent({html,value}){const previousTextRef=(0,external_wp_element_namespaceObject.useRef)();const hasActiveFormats=!!value.activeFormats?.length;const{__unstableMarkLastChangeAsPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(store);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previousTextRef.current){previousTextRef.current=value.text;return;}
if(previousTextRef.current!==value.text){const timeout=window.setTimeout(()=>{__unstableMarkLastChangeAsPersistent();},1000);previousTextRef.current=value.text;return()=>{window.clearTimeout(timeout);};}
__unstableMarkLastChangeAsPersistent();},[html,hasActiveFormats]);};function formatTypesSelector(select){return select(external_wp_richText_namespaceObject.store).getFormatTypes();}
const interactiveContentTags=new Set(['a','audio','button','details','embed','iframe','input','label','select','textarea','video']);function prefixSelectKeys(selected,prefix){if(typeof selected!=='object'){return{[prefix]:selected};}
return Object.fromEntries(Object.entries(selected).map(([key,value])=>[`${prefix}.${key}`,value]));}
function getPrefixedSelectKeys(selected,prefix){if(selected[prefix]){return selected[prefix];}
return Object.keys(selected).filter(key=>key.startsWith(prefix+'.')).reduce((accumulator,key)=>{accumulator[key.slice(prefix.length+1)]=selected[key];return accumulator;},{});}
function useFormatTypes({clientId,identifier,withoutInteractiveFormatting,allowedFormats}){const allFormatTypes=(0,external_wp_data_namespaceObject.useSelect)(formatTypesSelector,[]);const formatTypes=(0,external_wp_element_namespaceObject.useMemo)(()=>{return allFormatTypes.filter(({name,interactive,tagName})=>{if(allowedFormats&&!allowedFormats.includes(name)){return false;}
if(withoutInteractiveFormatting&&(interactive||interactiveContentTags.has(tagName))){return false;}
return true;});},[allFormatTypes,allowedFormats,withoutInteractiveFormatting]);const keyedSelected=(0,external_wp_data_namespaceObject.useSelect)(select=>formatTypes.reduce((accumulator,type)=>{if(!type.__experimentalGetPropsForEditableTreePreparation){return accumulator;}
return{...accumulator,...prefixSelectKeys(type.__experimentalGetPropsForEditableTreePreparation(select,{richTextIdentifier:identifier,blockClientId:clientId}),type.name)};},{}),[formatTypes,clientId,identifier]);const dispatch=(0,external_wp_data_namespaceObject.useDispatch)();const prepareHandlers=[];const valueHandlers=[];const changeHandlers=[];const dependencies=[];for(const key in keyedSelected){dependencies.push(keyedSelected[key]);}
formatTypes.forEach(type=>{if(type.__experimentalCreatePrepareEditableTree){const handler=type.__experimentalCreatePrepareEditableTree(getPrefixedSelectKeys(keyedSelected,type.name),{richTextIdentifier:identifier,blockClientId:clientId});if(type.__experimentalCreateOnChangeEditableValue){valueHandlers.push(handler);}else{prepareHandlers.push(handler);}}
if(type.__experimentalCreateOnChangeEditableValue){let dispatchers={};if(type.__experimentalGetPropsForEditableTreeChangeHandler){dispatchers=type.__experimentalGetPropsForEditableTreeChangeHandler(dispatch,{richTextIdentifier:identifier,blockClientId:clientId});}
const selected=getPrefixedSelectKeys(keyedSelected,type.name);changeHandlers.push(type.__experimentalCreateOnChangeEditableValue({...(typeof selected==='object'?selected:{}),...dispatchers},{richTextIdentifier:identifier,blockClientId:clientId}));}});return{formatTypes,prepareHandlers,valueHandlers,changeHandlers,dependencies};};const wrapSelectionSettings=['`','"',"'",'',''];const before_input_rules=(props=>element=>{function onInput(event){const{inputType,data}=event;const{value,onChange,registry}=props.current;if(inputType!=='insertText'){return;}
if((0,external_wp_richText_namespaceObject.isCollapsed)(value)){return;}
const pair=(0,external_wp_hooks_namespaceObject.applyFilters)('blockEditor.wrapSelectionSettings',wrapSelectionSettings).find(([startChar,endChar])=>startChar===data||endChar===data);if(!pair){return;}
const[startChar,endChar=startChar]=pair;const start=value.start;const end=value.end+startChar.length;let newValue=(0,external_wp_richText_namespaceObject.insert)(value,startChar,start,start);newValue=(0,external_wp_richText_namespaceObject.insert)(newValue,endChar,end,end);const{__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange}=registry.dispatch(store);__unstableMarkLastChangeAsPersistent();onChange(newValue);__unstableMarkAutomaticChange();const init={};for(const key in event){init[key]=event[key];}
init.data=endChar;const{ownerDocument}=element;const{defaultView}=ownerDocument;const newEvent=new defaultView.InputEvent('input',init);window.queueMicrotask(()=>{event.target.dispatchEvent(newEvent);});event.preventDefault();}
element.addEventListener('beforeinput',onInput);return()=>{element.removeEventListener('beforeinput',onInput);};});;function preventEventDiscovery(value){const searchText='tales of gutenberg';const addText=' ';const{start,text}=value;if(start<searchText.length){return value;}
const charactersBefore=text.slice(start-searchText.length,start);if(charactersBefore.toLowerCase()!==searchText){return value;}
return(0,external_wp_richText_namespaceObject.insert)(value,addText);};function findSelection(blocks){let i=blocks.length;while(i--){const attributeKey=retrieveSelectedAttribute(blocks[i].attributes);if(attributeKey){blocks[i].attributes[attributeKey]=blocks[i].attributes[attributeKey].toString().replace(START_OF_SELECTED_AREA,'');return[blocks[i].clientId,attributeKey,0,0];}
const nestedSelection=findSelection(blocks[i].innerBlocks);if(nestedSelection){return nestedSelection;}}
return[];}
const input_rules=(props=>element=>{function inputRule(){const{getValue,onReplace,selectionChange,registry}=props.current;if(!onReplace){return;}
const value=getValue();const{start,text}=value;const characterBefore=text.slice(start-1,start);if(characterBefore!==' '){return;}
const trimmedTextBefore=text.slice(0,start).trim();const prefixTransforms=(0,external_wp_blocks_namespaceObject.getBlockTransforms)('from').filter(({type})=>type==='prefix');const transformation=(0,external_wp_blocks_namespaceObject.findTransform)(prefixTransforms,({prefix})=>{return trimmedTextBefore===prefix;});if(!transformation){return;}
const content=(0,external_wp_richText_namespaceObject.toHTMLString)({value:(0,external_wp_richText_namespaceObject.insert)(value,START_OF_SELECTED_AREA,0,start)});const block=transformation.transform(content);selectionChange(...findSelection([block]));onReplace([block]);registry.dispatch(store).__unstableMarkAutomaticChange();return true;}
function onInput(event){const{inputType,type}=event;const{getValue,onChange,__unstableAllowPrefixTransformations,formatTypes,registry}=props.current;if(inputType!=='insertText'&&type!=='compositionend'){return;}
if(__unstableAllowPrefixTransformations&&inputRule()){return;}
const value=getValue();const transformed=formatTypes.reduce((accumulator,{__unstableInputRule})=>{if(__unstableInputRule){accumulator=__unstableInputRule(accumulator);}
return accumulator;},preventEventDiscovery(value));const{__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange}=registry.dispatch(store);if(transformed!==value){__unstableMarkLastChangeAsPersistent();onChange({...transformed,activeFormats:value.activeFormats});__unstableMarkAutomaticChange();}}
element.addEventListener('input',onInput);element.addEventListener('compositionend',onInput);return()=>{element.removeEventListener('input',onInput);element.removeEventListener('compositionend',onInput);};});;const insert_replacement_text=(props=>element=>{function onInput(event){if(event.inputType!=='insertReplacementText'){return;}
const{registry}=props.current;registry.dispatch(store).__unstableMarkLastChangeAsPersistent();}
element.addEventListener('beforeinput',onInput);return()=>{element.removeEventListener('beforeinput',onInput);};});;const remove_browser_shortcuts=(()=>node=>{function onKeydown(event){if(external_wp_keycodes_namespaceObject.isKeyboardEvent.primary(event,'z')||external_wp_keycodes_namespaceObject.isKeyboardEvent.primary(event,'y')||external_wp_keycodes_namespaceObject.isKeyboardEvent.primaryShift(event,'z')){event.preventDefault();}}
node.addEventListener('keydown',onKeydown);return()=>{node.removeEventListener('keydown',onKeydown);};});;const shortcuts=(props=>element=>{const{keyboardShortcuts}=props.current;function onKeyDown(event){for(const keyboardShortcut of keyboardShortcuts.current){keyboardShortcut(event);}}
element.addEventListener('keydown',onKeyDown);return()=>{element.removeEventListener('keydown',onKeyDown);};});;const input_events=(props=>element=>{const{inputEvents}=props.current;function onInput(event){for(const keyboardShortcut of inputEvents.current){keyboardShortcut(event);}}
element.addEventListener('input',onInput);return()=>{element.removeEventListener('input',onInput);};});;const undo_automatic_change=(props=>element=>{function onKeyDown(event){const{keyCode}=event;if(event.defaultPrevented){return;}
if(keyCode!==external_wp_keycodes_namespaceObject.BACKSPACE&&keyCode!==external_wp_keycodes_namespaceObject.ESCAPE){return;}
const{registry}=props.current;const{didAutomaticChange,getSettings}=registry.select(store);const{__experimentalUndo}=getSettings();if(!__experimentalUndo){return;}
if(!didAutomaticChange()){return;}
event.preventDefault();__experimentalUndo();}
element.addEventListener('keydown',onKeyDown);return()=>{element.removeEventListener('keydown',onKeyDown);};});;function addActiveFormats(value,activeFormats){if(activeFormats?.length){let index=value.formats.length;while(index--){value.formats[index]=[...activeFormats,...(value.formats[index]||[])];}}}
function getMultilineTag(multiline){if(multiline!==true&&multiline!=='p'&&multiline!=='li'){return;}
return multiline===true?'p':multiline;}
function getAllowedFormats({allowedFormats,disableFormats}){if(disableFormats){return getAllowedFormats.EMPTY_ARRAY;}
return allowedFormats;}
getAllowedFormats.EMPTY_ARRAY=[];function createLinkInParagraph(url,onReplace){const link=_jsx("a",{href:url,children:url});onReplace(createBlock('core/paragraph',{content:renderToString(link)}));};const paste_handler=(props=>element=>{function _onPaste(event){const{disableFormats,onChange,value,formatTypes,tagName,onReplace,__unstableEmbedURLOnPaste,preserveWhiteSpace,pastePlainText}=props.current;if(!element.contains(event.target)){return;}
if(event.defaultPrevented){return;}
const{plainText,html}=getPasteEventData(event);event.preventDefault();window.console.log('Received HTML:\n\n',html);window.console.log('Received plain text:\n\n',plainText);if(disableFormats){onChange((0,external_wp_richText_namespaceObject.insert)(value,plainText));return;}
const isInternal=event.clipboardData.getData('rich-text')==='true';function pasteInline(content){const transformed=formatTypes.reduce((accumulator,{__unstablePasteRule})=>{if(__unstablePasteRule&&accumulator===value){accumulator=__unstablePasteRule(value,{html,plainText});}
return accumulator;},value);if(transformed!==value){onChange(transformed);}else{const valueToInsert=(0,external_wp_richText_namespaceObject.create)({html:content});addActiveFormats(valueToInsert,value.activeFormats);onChange((0,external_wp_richText_namespaceObject.insert)(value,valueToInsert));}}
if(isInternal){pasteInline(html);return;}
if(pastePlainText){onChange((0,external_wp_richText_namespaceObject.insert)(value,(0,external_wp_richText_namespaceObject.create)({text:plainText})));return;}
let mode='INLINE';const trimmedPlainText=plainText.trim();if(__unstableEmbedURLOnPaste&&(0,external_wp_richText_namespaceObject.isEmpty)(value)&&(0,external_wp_url_namespaceObject.isURL)(trimmedPlainText)&&/^https?:/.test(trimmedPlainText)){mode='BLOCKS';}
const content=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML:html,plainText,mode,tagName,preserveWhiteSpace});if(typeof content==='string'){pasteInline(content);}else if(content.length>0){if(onReplace&&(0,external_wp_richText_namespaceObject.isEmpty)(value)){onReplace(content,content.length-1,-1);}}}
const{defaultView}=element.ownerDocument;defaultView.addEventListener('paste',_onPaste);return()=>{defaultView.removeEventListener('paste',_onPaste);};});;const event_listeners_delete=(props=>element=>{function onKeyDown(event){const{keyCode}=event;if(event.defaultPrevented){return;}
const{value,onMerge,onRemove}=props.current;if(keyCode===external_wp_keycodes_namespaceObject.DELETE||keyCode===external_wp_keycodes_namespaceObject.BACKSPACE){const{start,end,text}=value;const isReverse=keyCode===external_wp_keycodes_namespaceObject.BACKSPACE;const hasActiveFormats=value.activeFormats&&!!value.activeFormats.length;if(!(0,external_wp_richText_namespaceObject.isCollapsed)(value)||hasActiveFormats||isReverse&&start!==0||!isReverse&&end!==text.length){return;}
if(onMerge){onMerge(!isReverse);}
else if(onRemove&&(0,external_wp_richText_namespaceObject.isEmpty)(value)&&isReverse){onRemove(!isReverse);}
event.preventDefault();}}
element.addEventListener('keydown',onKeyDown);return()=>{element.removeEventListener('keydown',onKeyDown);};});;const enter=(props=>element=>{function onKeyDownDeprecated(event){if(event.keyCode!==external_wp_keycodes_namespaceObject.ENTER){return;}
const{onReplace,onSplit}=props.current;if(onReplace&&onSplit){event.__deprecatedOnSplit=true;}}
function onKeyDown(event){if(event.defaultPrevented){return;}
if(event.target!==element){return;}
if(event.keyCode!==external_wp_keycodes_namespaceObject.ENTER){return;}
const{value,onChange,disableLineBreaks,onSplitAtEnd,onSplitAtDoubleLineEnd,registry}=props.current;event.preventDefault();const{text,start,end}=value;if(event.shiftKey){if(!disableLineBreaks){onChange((0,external_wp_richText_namespaceObject.insert)(value,'\n'));}}else if(onSplitAtEnd&&start===end&&end===text.length){onSplitAtEnd();}else if(onSplitAtDoubleLineEnd&&start===end&&end===text.length&&text.slice(-2)==='\n\n'){registry.batch(()=>{const _value={...value};_value.start=_value.end-2;onChange((0,external_wp_richText_namespaceObject.remove)(_value));onSplitAtDoubleLineEnd();});}else if(!disableLineBreaks){onChange((0,external_wp_richText_namespaceObject.insert)(value,'\n'));}}
const{defaultView}=element.ownerDocument;defaultView.addEventListener('keydown',onKeyDown);element.addEventListener('keydown',onKeyDownDeprecated);return()=>{defaultView.removeEventListener('keydown',onKeyDown);element.removeEventListener('keydown',onKeyDownDeprecated);};});;const firefox_compat=(props=>element=>{function onFocus(){const{registry}=props.current;if(!registry.select(store).isMultiSelecting()){return;}
const parentEditable=element.parentElement.closest('[contenteditable="true"]');if(parentEditable){parentEditable.focus();}}
element.addEventListener('focus',onFocus);return()=>{element.removeEventListener('focus',onFocus);};});;const allEventListeners=[before_input_rules,input_rules,insert_replacement_text,remove_browser_shortcuts,shortcuts,input_events,undo_automatic_change,paste_handler,event_listeners_delete,enter,firefox_compat];function useEventListeners(props){const propsRef=(0,external_wp_element_namespaceObject.useRef)(props);(0,external_wp_element_namespaceObject.useInsertionEffect)(()=>{propsRef.current=props;});const refEffects=(0,external_wp_element_namespaceObject.useMemo)(()=>allEventListeners.map(refEffect=>refEffect(propsRef)),[propsRef]);return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{if(!props.isSelected){return;}
const cleanups=refEffects.map(effect=>effect(element));return()=>{cleanups.forEach(cleanup=>cleanup());};},[refEffects,props.isSelected]);};const format_edit_DEFAULT_BLOCK_CONTEXT={};const usesContextKey=Symbol('usesContext');function format_edit_Edit({onChange,onFocus,value,forwardedRef,settings}){const{name,edit:EditFunction,[usesContextKey]:usesContext}=settings;const blockContext=(0,external_wp_element_namespaceObject.useContext)(block_context);const context=(0,external_wp_element_namespaceObject.useMemo)(()=>{return usesContext?Object.fromEntries(Object.entries(blockContext).filter(([key])=>usesContext.includes(key))):format_edit_DEFAULT_BLOCK_CONTEXT;},[usesContext,blockContext]);if(!EditFunction){return null;}
const activeFormat=(0,external_wp_richText_namespaceObject.getActiveFormat)(value,name);const isActive=activeFormat!==undefined;const activeObject=(0,external_wp_richText_namespaceObject.getActiveObject)(value);const isObjectActive=activeObject!==undefined&&activeObject.type===name;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(EditFunction,{isActive:isActive,activeAttributes:isActive?activeFormat.attributes||{}:{},isObjectActive:isObjectActive,activeObjectAttributes:isObjectActive?activeObject.attributes||{}:{},value:value,onChange:onChange,onFocus:onFocus,contentRef:forwardedRef,context:context},name);}
function FormatEdit({formatTypes,...props}){return formatTypes.map(settings=>(0,external_React_.createElement)(format_edit_Edit,{settings:settings,...props,key:settings.name}));};function valueToHTMLString(value,multiline){if(rich_text.isEmpty(value)){const multilineTag=getMultilineTag(multiline);return multilineTag?`<${multilineTag}></${multilineTag}>`:'';}
if(Array.isArray(value)){external_wp_deprecated_default()('wp.blockEditor.RichText value prop as children type',{since:'6.1',version:'6.3',alternative:'value prop as string',link:'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/'});return external_wp_blocks_namespaceObject.children.toHTML(value);}
if(typeof value==='string'){return value;}
return value.toHTMLString();}
function Content({value,tagName:Tag,multiline,format,...props}){value=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_element_namespaceObject.RawHTML,{children:valueToHTMLString(value,multiline)});return Tag?(0,external_ReactJSXRuntime_namespaceObject.jsx)(Tag,{...props,children:value}):value;};function RichTextMultiline({children,identifier,tagName:TagName='div',value='',onChange,multiline,...props},forwardedRef){external_wp_deprecated_default()('wp.blockEditor.RichText multiline prop',{since:'6.1',version:'6.3',alternative:'nested blocks (InnerBlocks)',link:'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/nested-blocks-inner-blocks/'});const{clientId}=useBlockEditContext();const{getSelectionStart,getSelectionEnd}=(0,external_wp_data_namespaceObject.useSelect)(store);const{selectionChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const multilineTagName=getMultilineTag(multiline);value=value||`<${multilineTagName}></${multilineTagName}>`;const padded=`</${multilineTagName}>${value}<${multilineTagName}>`;const values=padded.split(`</${multilineTagName}><${multilineTagName}>`);values.shift();values.pop();function _onChange(newValues){onChange(`<${multilineTagName}>${newValues.join(`</${multilineTagName}><${multilineTagName}>`)}</${multilineTagName}>`);}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(TagName,{ref:forwardedRef,children:values.map((_value,index)=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(RichTextWrapper,{identifier:`${identifier}-${index}`,tagName:multilineTagName,value:_value,onChange:newValue=>{const newValues=values.slice();newValues[index]=newValue;_onChange(newValues);},isSelected:undefined,onKeyDown:event=>{if(event.keyCode!==external_wp_keycodes_namespaceObject.ENTER){return;}
event.preventDefault();const{offset:start}=getSelectionStart();const{offset:end}=getSelectionEnd();if(typeof start!=='number'||typeof end!=='number'){return;}
const richTextValue=(0,external_wp_richText_namespaceObject.create)({html:_value});richTextValue.start=start;richTextValue.end=end;const array=(0,external_wp_richText_namespaceObject.split)(richTextValue).map(v=>(0,external_wp_richText_namespaceObject.toHTMLString)({value:v}));const newValues=values.slice();newValues.splice(index,1,...array);_onChange(newValues);selectionChange(clientId,`${identifier}-${index + 1}`,0,0);},onMerge:forward=>{const newValues=values.slice();let offset=0;if(forward){if(!newValues[index+1]){return;}
newValues.splice(index,2,newValues[index]+newValues[index+1]);offset=newValues[index].length-1;}else{if(!newValues[index-1]){return;}
newValues.splice(index-1,2,newValues[index-1]+newValues[index]);offset=newValues[index-1].length-1;}
_onChange(newValues);selectionChange(clientId,`${identifier}-${index - (forward ? 0 : 1)}`,offset,offset);},...props},index);})});}
const multiline=((0,external_wp_element_namespaceObject.forwardRef)(RichTextMultiline));;function withDeprecations(Component){return(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{let value=props.value;let onChange=props.onChange;if(Array.isArray(value)){external_wp_deprecated_default()('wp.blockEditor.RichText value prop as children type',{since:'6.1',version:'6.3',alternative:'value prop as string',link:'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/'});value=external_wp_blocks_namespaceObject.children.toHTML(props.value);onChange=newValue=>props.onChange(external_wp_blocks_namespaceObject.children.fromDOM((0,external_wp_richText_namespaceObject.__unstableCreateElement)(document,newValue).childNodes));}
const NewComponent=props.multiline?multiline:Component;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(NewComponent,{...props,value:value,onChange:onChange,ref:ref});});};const keyboardShortcutContext=(0,external_wp_element_namespaceObject.createContext)();const inputEventContext=(0,external_wp_element_namespaceObject.createContext)();const instanceIdKey=Symbol('instanceId');function removeNativeProps(props){const{__unstableMobileNoFocusOnMount,deleteEnter,placeholderTextColor,textAlign,selectionColor,tagsToEliminate,disableEditingMenu,fontSize,fontFamily,fontWeight,fontStyle,minWidth,maxWidth,disableSuggestions,disableAutocorrection,...restProps}=props;return restProps;}
function RichTextWrapper({children,tagName='div',value:adjustedValue='',onChange:adjustedOnChange,isSelected:originalIsSelected,multiline,inlineToolbar,wrapperClassName,autocompleters,onReplace,placeholder,allowedFormats,withoutInteractiveFormatting,onRemove,onMerge,onSplit,__unstableOnSplitAtEnd:onSplitAtEnd,__unstableOnSplitAtDoubleLineEnd:onSplitAtDoubleLineEnd,identifier,preserveWhiteSpace,__unstablePastePlainText:pastePlainText,__unstableEmbedURLOnPaste,__unstableDisableFormats:disableFormats,disableLineBreaks,__unstableAllowPrefixTransformations,readOnly,...props},forwardedRef){props=removeNativeProps(props);if(onSplit){external_wp_deprecated_default()('wp.blockEditor.RichText onSplit prop',{since:'6.4',alternative:'block.json support key: "splitting"'});}
const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(RichTextWrapper);const anchorRef=(0,external_wp_element_namespaceObject.useRef)();const context=useBlockEditContext();const{clientId,isSelected:isBlockSelected,name:blockName}=context;const blockBindings=context[blockBindingsKey];const blockContext=(0,external_wp_element_namespaceObject.useContext)(block_context);const registry=(0,external_wp_data_namespaceObject.useRegistry)();const selector=select=>{if(!isBlockSelected){return{isSelected:false};}
const{getSelectionStart,getSelectionEnd}=select(store);const selectionStart=getSelectionStart();const selectionEnd=getSelectionEnd();let isSelected;if(originalIsSelected===undefined){isSelected=selectionStart.clientId===clientId&&selectionEnd.clientId===clientId&&(identifier?selectionStart.attributeKey===identifier:selectionStart[instanceIdKey]===instanceId);}else if(originalIsSelected){isSelected=selectionStart.clientId===clientId;}
return{selectionStart:isSelected?selectionStart.offset:undefined,selectionEnd:isSelected?selectionEnd.offset:undefined,isSelected};};const{selectionStart,selectionEnd,isSelected}=(0,external_wp_data_namespaceObject.useSelect)(selector,[clientId,identifier,instanceId,originalIsSelected,isBlockSelected]);const{disableBoundBlock,bindingsPlaceholder,bindingsLabel}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _fieldsList$relatedBi;if(!blockBindings?.[identifier]||!canBindBlock(blockName)){return{};}
const relatedBinding=blockBindings[identifier];const blockBindingsSource=(0,external_wp_blocks_namespaceObject.getBlockBindingsSource)(relatedBinding.source);const blockBindingsContext={};if(blockBindingsSource?.usesContext?.length){for(const key of blockBindingsSource.usesContext){blockBindingsContext[key]=blockContext[key];}}
const _disableBoundBlock=!blockBindingsSource?.canUserEditValue?.({select,context:blockBindingsContext,args:relatedBinding.args});if(adjustedValue.length>0){return{disableBoundBlock:_disableBoundBlock,bindingsPlaceholder:null,bindingsLabel:null};}
const{getBlockAttributes}=select(store);const blockAttributes=getBlockAttributes(clientId);const fieldsList=blockBindingsSource?.getFieldsList?.({select,context:blockBindingsContext});const bindingKey=(_fieldsList$relatedBi=fieldsList?.[relatedBinding?.args?.key]?.label)!==null&&_fieldsList$relatedBi!==void 0?_fieldsList$relatedBi:blockBindingsSource?.label;const _bindingsPlaceholder=_disableBoundBlock?bindingKey:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Add %s'),bindingKey);const _bindingsLabel=_disableBoundBlock?relatedBinding?.args?.key||blockBindingsSource?.label:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Empty %s; start writing to edit its value'),relatedBinding?.args?.key||blockBindingsSource?.label);return{disableBoundBlock:_disableBoundBlock,bindingsPlaceholder:blockAttributes?.placeholder||_bindingsPlaceholder,bindingsLabel:_bindingsLabel};},[blockBindings,identifier,blockName,adjustedValue,clientId,blockContext]);const shouldDisableEditing=readOnly||disableBoundBlock;const{getSelectionStart,getSelectionEnd,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{selectionChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const adjustedAllowedFormats=getAllowedFormats({allowedFormats,disableFormats});const hasFormats=!adjustedAllowedFormats||adjustedAllowedFormats.length>0;const onSelectionChange=(0,external_wp_element_namespaceObject.useCallback)((start,end)=>{const selection={};const unset=start===undefined&&end===undefined;const baseSelection={clientId,[identifier?'attributeKey':instanceIdKey]:identifier?identifier:instanceId};if(typeof start==='number'||unset){if(end===undefined&&getBlockRootClientId(clientId)!==getBlockRootClientId(getSelectionEnd().clientId)){return;}
selection.start={...baseSelection,offset:start};}
if(typeof end==='number'||unset){if(start===undefined&&getBlockRootClientId(clientId)!==getBlockRootClientId(getSelectionStart().clientId)){return;}
selection.end={...baseSelection,offset:end};}
selectionChange(selection);},[clientId,getBlockRootClientId,getSelectionEnd,getSelectionStart,identifier,instanceId,selectionChange]);const{formatTypes,prepareHandlers,valueHandlers,changeHandlers,dependencies}=useFormatTypes({clientId,identifier,withoutInteractiveFormatting,allowedFormats:adjustedAllowedFormats});function addEditorOnlyFormats(value){return valueHandlers.reduce((accumulator,fn)=>fn(accumulator,value.text),value.formats);}
function removeEditorOnlyFormats(value){formatTypes.forEach(formatType=>{if(formatType.__experimentalCreatePrepareEditableTree){value=(0,external_wp_richText_namespaceObject.removeFormat)(value,formatType.name,0,value.text.length);}});return value.formats;}
function addInvisibleFormats(value){return prepareHandlers.reduce((accumulator,fn)=>fn(accumulator,value.text),value.formats);}
const{value,getValue,onChange,ref:richTextRef}=(0,external_wp_richText_namespaceObject.__unstableUseRichText)({value:adjustedValue,onChange(html,{__unstableFormats,__unstableText}){adjustedOnChange(html);Object.values(changeHandlers).forEach(changeHandler=>{changeHandler(__unstableFormats,__unstableText);});},selectionStart,selectionEnd,onSelectionChange,placeholder:bindingsPlaceholder||placeholder,__unstableIsSelected:isSelected,__unstableDisableFormats:disableFormats,preserveWhiteSpace,__unstableDependencies:[...dependencies,tagName],__unstableAfterParse:addEditorOnlyFormats,__unstableBeforeSerialize:removeEditorOnlyFormats,__unstableAddInvisibleFormats:addInvisibleFormats});const autocompleteProps=useBlockEditorAutocompleteProps({onReplace,completers:autocompleters,record:value,onChange});useMarkPersistent({html:adjustedValue,value});const keyboardShortcuts=(0,external_wp_element_namespaceObject.useRef)(new Set());const inputEvents=(0,external_wp_element_namespaceObject.useRef)(new Set());function onFocus(){anchorRef.current?.focus();}
const TagName=tagName;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[isSelected&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(keyboardShortcutContext.Provider,{value:keyboardShortcuts,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inputEventContext.Provider,{value:inputEvents,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Popover.__unstableSlotNameProvider,{value:"__unstable-block-tools-after",children:[children&&children({value,onChange,onFocus}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(FormatEdit,{value:value,onChange:onChange,onFocus:onFocus,formatTypes:formatTypes,forwardedRef:anchorRef})]})})}),isSelected&&hasFormats&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(format_toolbar_container,{inline:inlineToolbar,editableContentElement:anchorRef.current}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(TagName,{role:"textbox","aria-multiline":!disableLineBreaks,"aria-readonly":shouldDisableEditing,...props,draggable:undefined,"aria-label":bindingsLabel||props['aria-label']||placeholder,...autocompleteProps,ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([richTextRef,forwardedRef,autocompleteProps.ref,props.ref,useEventListeners({registry,getValue,onChange,__unstableAllowPrefixTransformations,formatTypes,onReplace,selectionChange,isSelected,disableFormats,value,tagName,onSplit,__unstableEmbedURLOnPaste,pastePlainText,onMerge,onRemove,removeEditorOnlyFormats,disableLineBreaks,onSplitAtEnd,onSplitAtDoubleLineEnd,keyboardShortcuts,inputEvents}),anchorRef]),contentEditable:!shouldDisableEditing,suppressContentEditableWarning:true,className:dist_clsx('block-editor-rich-text__editable',props.className,'rich-text'),tabIndex:props.tabIndex===0&&!shouldDisableEditing?null:props.tabIndex,"data-wp-block-attribute-key":identifier})]});}
const PrivateRichText=withDeprecations((0,external_wp_element_namespaceObject.forwardRef)(RichTextWrapper));PrivateRichText.Content=Content;PrivateRichText.isEmpty=value=>{return!value||value.length===0;};const PublicForwardedRichTextContainer=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{const context=useBlockEditContext();const isPreviewMode=context[isPreviewModeKey];if(isPreviewMode){const{children,tagName:Tag='div',value,onChange,isSelected,multiline,inlineToolbar,wrapperClassName,autocompleters,onReplace,placeholder,allowedFormats,withoutInteractiveFormatting,onRemove,onMerge,onSplit,__unstableOnSplitAtEnd,__unstableOnSplitAtDoubleLineEnd,identifier,preserveWhiteSpace,__unstablePastePlainText,__unstableEmbedURLOnPaste,__unstableDisableFormats,disableLineBreaks,__unstableAllowPrefixTransformations,readOnly,...contentProps}=removeNativeProps(props);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Tag,{...contentProps,dangerouslySetInnerHTML:{__html:valueToHTMLString(value,multiline)}});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateRichText,{ref:ref,...props,readOnly:false});});PublicForwardedRichTextContainer.Content=Content;PublicForwardedRichTextContainer.isEmpty=value=>{return!value||value.length===0;};const rich_text=(PublicForwardedRichTextContainer);;const EditableText=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(rich_text,{ref:ref,...props,__unstableDisableFormats:true});});EditableText.Content=({value='',tagName:Tag='div',...props})=>{return(0,external_ReactJSXRuntime_namespaceObject.jsx)(Tag,{...props,children:value});};const editable_text=(EditableText);;const PlainText=(0,external_wp_element_namespaceObject.forwardRef)(({__experimentalVersion,...props},ref)=>{if(__experimentalVersion===2){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(editable_text,{ref:ref,...props});}
const{className,onChange,...remainingProps}=props;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(lib.A,{ref:ref,className:dist_clsx('block-editor-plain-text',className),onChange:event=>onChange(event.target.value),...remainingProps});});const plain_text=(PlainText);;function ResponsiveBlockControlLabel({property,viewport,desc}){const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(ResponsiveBlockControlLabel);const accessibleLabel=desc||(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('Controls the %1$s property for %2$s viewports.','Text labelling a interface as controlling a given layout property (eg: margin) for a given screen size.'),property,viewport.label);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{"aria-describedby":`rbc-desc-${instanceId}`,children:viewport.label}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.VisuallyHidden,{as:"span",id:`rbc-desc-${instanceId}`,children:accessibleLabel})]});};function ResponsiveBlockControl(props){const{title,property,toggleLabel,onIsResponsiveChange,renderDefaultControl,renderResponsiveControls,isResponsive=false,defaultLabel={id:'all',label:(0,external_wp_i18n_namespaceObject._x)('All','screen sizes')},viewports=[{id:'small',label:(0,external_wp_i18n_namespaceObject.__)('Small screens')},{id:'medium',label:(0,external_wp_i18n_namespaceObject.__)('Medium screens')},{id:'large',label:(0,external_wp_i18n_namespaceObject.__)('Large screens')}]}=props;if(!title||!property||!renderDefaultControl){return null;}
const toggleControlLabel=toggleLabel||(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Use the same %s on all screen sizes.'),property);const toggleHelpText=(0,external_wp_i18n_namespaceObject.__)('Choose whether to use the same value for all screen sizes or a unique value for each screen size.');const defaultControl=renderDefaultControl((0,external_ReactJSXRuntime_namespaceObject.jsx)(ResponsiveBlockControlLabel,{property:property,viewport:defaultLabel}),defaultLabel);const defaultResponsiveControls=()=>{return viewports.map(viewport=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_element_namespaceObject.Fragment,{children:renderDefaultControl((0,external_ReactJSXRuntime_namespaceObject.jsx)(ResponsiveBlockControlLabel,{property:property,viewport:viewport}),viewport)},viewport.id));};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("fieldset",{className:"block-editor-responsive-block-control",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("legend",{className:"block-editor-responsive-block-control__title",children:title}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-responsive-block-control__inner",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,className:"block-editor-responsive-block-control__toggle",label:toggleControlLabel,checked:!isResponsive,onChange:onIsResponsiveChange,help:toggleHelpText}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:dist_clsx('block-editor-responsive-block-control__group',{'is-responsive':isResponsive}),children:[!isResponsive&&defaultControl,isResponsive&&(renderResponsiveControls?renderResponsiveControls(viewports):defaultResponsiveControls())]})]})]});}
const responsive_block_control=(ResponsiveBlockControl);;function RichTextShortcut({character,type,onUse}){const keyboardShortcuts=(0,external_wp_element_namespaceObject.useContext)(keyboardShortcutContext);const onUseRef=(0,external_wp_element_namespaceObject.useRef)();onUseRef.current=onUse;(0,external_wp_element_namespaceObject.useEffect)(()=>{function callback(event){if(external_wp_keycodes_namespaceObject.isKeyboardEvent[type](event,character)){onUseRef.current();event.preventDefault();}}
keyboardShortcuts.current.add(callback);return()=>{keyboardShortcuts.current.delete(callback);};},[character,type]);return null;};function RichTextToolbarButton({name,shortcutType,shortcutCharacter,...props}){let shortcut;let fillName='RichText.ToolbarControls';if(name){fillName+=`.${name}`;}
if(shortcutType&&shortcutCharacter){shortcut=external_wp_keycodes_namespaceObject.displayShortcut[shortcutType](shortcutCharacter);}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Fill,{name:fillName,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{...props,shortcut:shortcut})});};function __unstableRichTextInputEvent({inputType,onInput}){const callbacks=(0,external_wp_element_namespaceObject.useContext)(inputEventContext);const onInputRef=(0,external_wp_element_namespaceObject.useRef)();onInputRef.current=onInput;(0,external_wp_element_namespaceObject.useEffect)(()=>{function callback(event){if(event.inputType===inputType){onInputRef.current();event.preventDefault();}}
callbacks.current.add(callback);return()=>{callbacks.current.delete(callback);};},[inputType]);return null;};const selectIcon=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Path,{d:"M9.4 20.5L5.2 3.8l14.6 9-2 .3c-.2 0-.4.1-.7.1-.9.2-1.6.3-2.2.5-.8.3-1.4.5-1.8.8-.4.3-.8.8-1.3 1.5-.4.5-.8 1.2-1.2 2l-.3.6-.9 1.9zM7.6 7.1l2.4 9.3c.2-.4.5-.8.7-1.1.6-.8 1.1-1.4 1.6-1.8.5-.4 1.3-.8 2.2-1.1l1.2-.3-8.1-5z"})});function ToolSelector(props,ref){const mode=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).__unstableGetEditorMode(),[]);const{__unstableSetEditorMode}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Dropdown,{renderToggle:({isOpen,onToggle})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"compact",...props,ref:ref,icon:mode==='navigation'?edit:selectIcon,"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,label:(0,external_wp_i18n_namespaceObject.__)('Tools')}),popoverProps:{placement:'bottom-start'},renderContent:()=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.NavigableMenu,{className:"block-editor-tool-selector__menu",role:"menu","aria-label":(0,external_wp_i18n_namespaceObject.__)('Tools'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItemsChoice,{value:mode==='navigation'?'navigation':'edit',onSelect:newMode=>{__unstableSetEditorMode(newMode);},choices:[{value:'navigation',label:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:edit}),(0,external_wp_i18n_namespaceObject.__)('Write')]}),info:(0,external_wp_i18n_namespaceObject.__)('Focus on content.'),'aria-label':(0,external_wp_i18n_namespaceObject.__)('Write')},{value:'edit',label:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[selectIcon,(0,external_wp_i18n_namespaceObject.__)('Design')]}),info:(0,external_wp_i18n_namespaceObject.__)('Edit layout and styles.'),'aria-label':(0,external_wp_i18n_namespaceObject.__)('Design')}]})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-tool-selector__help",children:(0,external_wp_i18n_namespaceObject.__)('Tools provide different sets of interactions for blocks. Choose between simplified content tools (Write) and advanced visual editing tools (Design).')})]})});}
const tool_selector=((0,external_wp_element_namespaceObject.forwardRef)(ToolSelector));;function UnitControl({units:unitsProp,...props}){const[availableUnits]=use_settings_useSettings('spacing.units');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:availableUnits||['%','px','em','rem','vw'],units:unitsProp});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{units:units,...props});};const arrowLeft=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})});const arrow_left=(arrowLeft);;class URLInputButton extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.toggle=this.toggle.bind(this);this.submitLink=this.submitLink.bind(this);this.state={expanded:false};}
toggle(){this.setState({expanded:!this.state.expanded});}
submitLink(event){event.preventDefault();this.toggle();}
render(){const{url,onChange}=this.props;const{expanded}=this.state;const buttonLabel=url?(0,external_wp_i18n_namespaceObject.__)('Edit link'):(0,external_wp_i18n_namespaceObject.__)('Insert link');return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-url-input__button",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"compact",icon:library_link,label:buttonLabel,onClick:this.toggle,className:"components-toolbar__control",isPressed:!!url}),expanded&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("form",{className:"block-editor-url-input__button-modal",onSubmit:this.submitLink,children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-url-input__button-modal-line",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,className:"block-editor-url-input__back",icon:arrow_left,label:(0,external_wp_i18n_namespaceObject.__)('Close'),onClick:this.toggle}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(url_input,{value:url||'',onChange:onChange,suffix:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalInputControlSuffixWrapper,{variant:"control",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"small",icon:keyboard_return,label:(0,external_wp_i18n_namespaceObject.__)('Submit'),type:"submit"})})})]})})]});}}
const url_input_button=(URLInputButton);;const image_image=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})});const library_image=(image_image);;const LINK_DESTINATION_NONE='none';const LINK_DESTINATION_CUSTOM='custom';const LINK_DESTINATION_MEDIA='media';const LINK_DESTINATION_ATTACHMENT='attachment';const NEW_TAB_REL=['noreferrer','noopener'];const ImageURLInputUI=({linkDestination,onChangeUrl,url,mediaType='image',mediaUrl,mediaLink,linkTarget,linkClass,rel,showLightboxSetting,lightboxEnabled,onSetLightbox,resetLightbox})=>{const[isOpen,setIsOpen]=(0,external_wp_element_namespaceObject.useState)(false);const[popoverAnchor,setPopoverAnchor]=(0,external_wp_element_namespaceObject.useState)(null);const openLinkUI=()=>{setIsOpen(true);};const[isEditingLink,setIsEditingLink]=(0,external_wp_element_namespaceObject.useState)(false);const[urlInput,setUrlInput]=(0,external_wp_element_namespaceObject.useState)(null);const autocompleteRef=(0,external_wp_element_namespaceObject.useRef)(null);const wrapperRef=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!wrapperRef.current){return;}
const nextFocusTarget=external_wp_dom_namespaceObject.focus.focusable.find(wrapperRef.current)[0]||wrapperRef.current;nextFocusTarget.focus();},[isEditingLink,url,lightboxEnabled]);const startEditLink=()=>{if(linkDestination===LINK_DESTINATION_MEDIA||linkDestination===LINK_DESTINATION_ATTACHMENT){setUrlInput('');}
setIsEditingLink(true);};const stopEditLink=()=>{setIsEditingLink(false);};const closeLinkUI=()=>{setUrlInput(null);stopEditLink();setIsOpen(false);};const getUpdatedLinkTargetSettings=value=>{const newLinkTarget=value?'_blank':undefined;let updatedRel;if(newLinkTarget){const rels=(rel!==null&&rel!==void 0?rel:'').split(' ');NEW_TAB_REL.forEach(relVal=>{if(!rels.includes(relVal)){rels.push(relVal);}});updatedRel=rels.join(' ');}else{const rels=(rel!==null&&rel!==void 0?rel:'').split(' ').filter(relVal=>NEW_TAB_REL.includes(relVal)===false);updatedRel=rels.length?rels.join(' '):undefined;}
return{linkTarget:newLinkTarget,rel:updatedRel};};const onFocusOutside=()=>{return event=>{const autocompleteElement=autocompleteRef.current;if(autocompleteElement&&autocompleteElement.contains(event.target)){return;}
setIsOpen(false);setUrlInput(null);stopEditLink();};};const onSubmitLinkChange=()=>{return event=>{if(urlInput){const selectedDestination=getLinkDestinations().find(destination=>destination.url===urlInput)?.linkDestination||LINK_DESTINATION_CUSTOM;onChangeUrl({href:urlInput,linkDestination:selectedDestination,lightbox:{enabled:false}});}
stopEditLink();setUrlInput(null);event.preventDefault();};};const onLinkRemove=()=>{onChangeUrl({linkDestination:LINK_DESTINATION_NONE,href:''});};const getLinkDestinations=()=>{const linkDestinations=[{linkDestination:LINK_DESTINATION_MEDIA,title:(0,external_wp_i18n_namespaceObject.__)('Link to image file'),url:mediaType==='image'?mediaUrl:undefined,icon:library_image}];if(mediaType==='image'&&mediaLink){linkDestinations.push({linkDestination:LINK_DESTINATION_ATTACHMENT,title:(0,external_wp_i18n_namespaceObject.__)('Link to attachment page'),url:mediaType==='image'?mediaLink:undefined,icon:library_page});}
return linkDestinations;};const onSetHref=value=>{const linkDestinations=getLinkDestinations();let linkDestinationInput;if(!value){linkDestinationInput=LINK_DESTINATION_NONE;}else{linkDestinationInput=(linkDestinations.find(destination=>{return destination.url===value;})||{linkDestination:LINK_DESTINATION_CUSTOM}).linkDestination;}
onChangeUrl({linkDestination:linkDestinationInput,href:value});};const onSetNewTab=value=>{const updatedLinkTarget=getUpdatedLinkTargetSettings(value);onChangeUrl(updatedLinkTarget);};const onSetLinkRel=value=>{onChangeUrl({rel:value});};const onSetLinkClass=value=>{onChangeUrl({linkClass:value});};const advancedOptions=(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:"3",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Open in new tab'),onChange:onSetNewTab,checked:linkTarget==='_blank'}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Link rel'),value:rel!==null&&rel!==void 0?rel:'',onChange:onSetLinkRel}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextControl,{__next40pxDefaultSize:true,__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Link CSS class'),value:linkClass||'',onChange:onSetLinkClass})]});const linkEditorValue=urlInput!==null?urlInput:url;const hideLightboxPanel=!lightboxEnabled||lightboxEnabled&&!showLightboxSetting;const showLinkEditor=!linkEditorValue&&hideLightboxPanel;const urlLabel=(getLinkDestinations().find(destination=>destination.linkDestination===linkDestination)||{}).title;const PopoverChildren=()=>{if(lightboxEnabled&&showLightboxSetting&&!url&&!isEditingLink){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-url-popover__expand-on-click",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(build_module_icon,{icon:library_fullscreen}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"text",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:(0,external_wp_i18n_namespaceObject.__)('Enlarge on click')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{className:"description",children:(0,external_wp_i18n_namespaceObject.__)('Scales the image with a lightbox effect')})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{icon:link_off,label:(0,external_wp_i18n_namespaceObject.__)('Disable enlarge on click'),onClick:()=>{onSetLightbox?.(false);},size:"compact"})]});}else if(!url||isEditingLink){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(url_popover.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:linkEditorValue,onChangeInputValue:setUrlInput,onSubmit:onSubmitLinkChange(),autocompleteRef:autocompleteRef});}else if(url&&!isEditingLink){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(url_popover.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",url:url,onEditLinkClick:startEditLink,urlLabel:urlLabel}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{icon:link_off,label:(0,external_wp_i18n_namespaceObject.__)('Remove link'),onClick:()=>{onLinkRemove();resetLightbox?.();},size:"compact"})]});}};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_link,className:"components-toolbar__control",label:(0,external_wp_i18n_namespaceObject.__)('Link'),"aria-expanded":isOpen,onClick:openLinkUI,ref:setPopoverAnchor,isActive:!!url||lightboxEnabled&&showLightboxSetting}),isOpen&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(url_popover,{ref:wrapperRef,anchor:popoverAnchor,onFocusOutside:onFocusOutside(),onClose:closeLinkUI,renderSettings:hideLightboxPanel?()=>advancedOptions:null,additionalControls:showLinkEditor&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.NavigableMenu,{children:[getLinkDestinations().map(link=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{icon:link.icon,iconPosition:"left",onClick:()=>{setUrlInput(null);onSetHref(link.url);stopEditLink();},children:link.title},link.linkDestination)),showLightboxSetting&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.MenuItem,{className:"block-editor-url-popover__expand-on-click",icon:library_fullscreen,info:(0,external_wp_i18n_namespaceObject.__)('Scale the image with a lightbox effect.'),iconPosition:"left",onClick:()=>{setUrlInput(null);onChangeUrl({linkDestination:LINK_DESTINATION_NONE,href:''});onSetLightbox?.(true);stopEditLink();},children:(0,external_wp_i18n_namespaceObject.__)('Enlarge on click')},"expand-on-click")]}),offset:13,children:PopoverChildren()})]});};;function PreviewOptions(){external_wp_deprecated_default()('wp.blockEditor.PreviewOptions',{version:'6.5'});return null;};function useResizeCanvas(deviceType){const[actualWidth,updateActualWidth]=(0,external_wp_element_namespaceObject.useState)(window.innerWidth);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(deviceType==='Desktop'){return;}
const resizeListener=()=>updateActualWidth(window.innerWidth);window.addEventListener('resize',resizeListener);return()=>{window.removeEventListener('resize',resizeListener);};},[deviceType]);const getCanvasWidth=device=>{let deviceWidth;switch(device){case'Tablet':deviceWidth=780;break;case'Mobile':deviceWidth=360;break;default:return null;}
return deviceWidth<actualWidth?deviceWidth:actualWidth;};const contentInlineStyles=device=>{const height=device==='Mobile'?'768px':'1024px';const marginVertical='40px';const marginHorizontal='auto';switch(device){case'Tablet':case'Mobile':return{width:getCanvasWidth(device),marginTop:marginVertical,marginBottom:marginVertical,marginLeft:marginHorizontal,marginRight:marginHorizontal,height,overflowY:'auto'};default:return{marginLeft:marginHorizontal,marginRight:marginHorizontal};}};return contentInlineStyles(deviceType);};function SkipToSelectedBlock(){const selectedBlockClientId=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlockSelectionStart(),[]);const ref=(0,external_wp_element_namespaceObject.useRef)();useBlockElementRef(selectedBlockClientId,ref);const onClick=()=>{ref.current?.focus();};return selectedBlockClientId?(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"secondary",className:"block-editor-skip-to-selected-block",onClick:onClick,children:(0,external_wp_i18n_namespaceObject.__)('Skip to the selected block')}):null;};function MultiSelectionInspector(){const selectedBlockCount=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSelectedBlockCount(),[]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start",spacing:2,className:"block-editor-multi-selection-inspector__card",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:library_copy,showColors:true}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-multi-selection-inspector__card-title",children:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d Block','%d Blocks',selectedBlockCount),selectedBlockCount)})]});};const cog=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})});const library_cog=(cog);;const styles=(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 0 1-6.5 6.5v-13a6.5 6.5 0 0 1 6.5 6.5Z"})});const library_styles=(styles);;const TAB_SETTINGS={name:'settings',title:(0,external_wp_i18n_namespaceObject.__)('Settings'),value:'settings',icon:library_cog};const TAB_STYLES={name:'styles',title:(0,external_wp_i18n_namespaceObject.__)('Styles'),value:'styles',icon:library_styles};const TAB_LIST_VIEW={name:'list',title:(0,external_wp_i18n_namespaceObject.__)('List View'),value:'list-view',icon:list_view};;const AdvancedControls=()=>{const fills=(0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(InspectorAdvancedControls.slotName);const hasFills=Boolean(fills&&fills.length);if(!hasFills){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.PanelBody,{className:"block-editor-block-inspector__advanced",title:(0,external_wp_i18n_namespaceObject.__)('Advanced'),initialOpen:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"advanced"})});};const advanced_controls_panel=(AdvancedControls);;const PositionControlsPanel=()=>{const{selectedClientIds,selectedBlocks,hasPositionAttribute}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlocksByClientId,getSelectedBlockClientIds}=select(store);const selectedBlockClientIds=getSelectedBlockClientIds();const _selectedBlocks=getBlocksByClientId(selectedBlockClientIds);return{selectedClientIds:selectedBlockClientIds,selectedBlocks:_selectedBlocks,hasPositionAttribute:_selectedBlocks?.some(({attributes})=>!!attributes?.style?.position?.type)};},[]);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const dropdownMenuProps=useToolsPanelDropdownMenuProps();function resetPosition(){if(!selectedClientIds?.length||!selectedBlocks?.length){return;}
const attributesByClientId=Object.fromEntries(selectedBlocks?.map(({clientId,attributes})=>[clientId,{style:utils_cleanEmptyObject({...attributes?.style,position:{...attributes?.style?.position,type:undefined,top:undefined,right:undefined,bottom:undefined,left:undefined}})}]));updateBlockAttributes(selectedClientIds,attributesByClientId,true);}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{className:"block-editor-block-inspector__position",label:(0,external_wp_i18n_namespaceObject.__)('Position'),resetAll:resetPosition,dropdownMenuProps:dropdownMenuProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{isShownByDefault:hasPositionAttribute,label:(0,external_wp_i18n_namespaceObject.__)('Position'),hasValue:()=>hasPositionAttribute,onDeselect:resetPosition,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"position"})})});};const PositionControls=()=>{const fills=(0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(inspector_controls_groups.position.name);const hasFills=Boolean(fills&&fills.length);if(!hasFills){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PositionControlsPanel,{});};const position_controls_panel=(PositionControls);;const SettingsTab=({showAdvancedControls=false})=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(position_controls_panel,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"bindings"}),showAdvancedControls&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(advanced_controls_panel,{})})]});const settings_tab=(SettingsTab);;const StylesTab=({blockName,clientId,hasBlockStyles})=>{const borderPanelLabel=useBorderPanelLabel({blockName});return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[hasBlockStyles&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.PanelBody,{title:(0,external_wp_i18n_namespaceObject.__)('Styles'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_styles,{clientId:clientId})})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"color",label:(0,external_wp_i18n_namespaceObject.__)('Color'),className:"color-block-support-panel__inner-wrapper"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"background",label:(0,external_wp_i18n_namespaceObject.__)('Background image')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"filter"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"typography",label:(0,external_wp_i18n_namespaceObject.__)('Typography')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"dimensions",label:(0,external_wp_i18n_namespaceObject.__)('Dimensions')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"border",label:borderPanelLabel}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"styles"})]});};const styles_tab=(StylesTab);;const allowlist=['core/navigation'];const useIsListViewTabDisabled=blockName=>{return!allowlist.includes(blockName);};const use_is_list_view_tab_disabled=(useIsListViewTabDisabled);;const{Tabs:inspector_controls_tabs_Tabs}=unlock(external_wp_components_namespaceObject.privateApis);function InspectorControlsTabs({blockName,clientId,hasBlockStyles,tabs}){const showIconLabels=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(external_wp_preferences_namespaceObject.store).get('core','showIconLabels');},[]);const initialTabName=!use_is_list_view_tab_disabled(blockName)?TAB_LIST_VIEW.name:undefined;return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{className:"block-editor-block-inspector__tabs",children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(inspector_controls_tabs_Tabs,{defaultTabId:initialTabName,children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls_tabs_Tabs.TabList,{children:tabs.map(tab=>showIconLabels?(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls_tabs_Tabs.Tab,{tabId:tab.name,children:tab.title},tab.name):(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Tooltip,{text:tab.title,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls_tabs_Tabs.Tab,{tabId:tab.name,"aria-label":tab.title,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Icon,{icon:tab.icon})})},tab.name))}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls_tabs_Tabs.TabPanel,{tabId:TAB_SETTINGS.name,focusable:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(settings_tab,{showAdvancedControls:!!blockName})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls_tabs_Tabs.TabPanel,{tabId:TAB_STYLES.name,focusable:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(styles_tab,{blockName:blockName,clientId:clientId,hasBlockStyles:hasBlockStyles})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls_tabs_Tabs.TabPanel,{tabId:TAB_LIST_VIEW.name,focusable:false,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"list"})})]},clientId)});};const use_inspector_controls_tabs_EMPTY_ARRAY=[];function getShowTabs(blockName,tabSettings={}){if(tabSettings[blockName]!==undefined){return tabSettings[blockName];}
if(tabSettings.default!==undefined){return tabSettings.default;}
return true;}
function useInspectorControlsTabs(blockName){const tabs=[];const{bindings:bindingsGroup,border:borderGroup,color:colorGroup,default:defaultGroup,dimensions:dimensionsGroup,list:listGroup,position:positionGroup,styles:stylesGroup,typography:typographyGroup,effects:effectsGroup}=inspector_controls_groups;const listViewDisabled=use_is_list_view_tab_disabled(blockName);const listFills=(0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(listGroup.name);const hasListFills=!listViewDisabled&&!!listFills&&listFills.length;const styleFills=[...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(borderGroup.name)||[]),...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(colorGroup.name)||[]),...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(dimensionsGroup.name)||[]),...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(stylesGroup.name)||[]),...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(typographyGroup.name)||[]),...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(effectsGroup.name)||[])];const hasStyleFills=styleFills.length;const advancedFills=[...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(InspectorAdvancedControls.slotName)||[]),...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(bindingsGroup.name)||[])];const settingsFills=[...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(defaultGroup.name)||[]),...((0,external_wp_components_namespaceObject.__experimentalUseSlotFills)(positionGroup.name)||[]),...(hasListFills&&hasStyleFills>1?advancedFills:[])];if(hasListFills){tabs.push(TAB_LIST_VIEW);}
if(settingsFills.length){tabs.push(TAB_SETTINGS);}
if(hasStyleFills){tabs.push(TAB_STYLES);}
const tabSettings=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(store).getSettings().blockInspectorTabs;},[]);const showTabs=getShowTabs(blockName,tabSettings);return showTabs?tabs:use_inspector_controls_tabs_EMPTY_ARRAY;};function useBlockInspectorAnimationSettings(blockType){return(0,external_wp_data_namespaceObject.useSelect)(select=>{if(blockType){const globalBlockInspectorAnimationSettings=select(store).getSettings().blockInspectorAnimation;const animationParent=globalBlockInspectorAnimationSettings?.animationParent;const{getSelectedBlockClientId,getBlockParentsByBlockName}=select(store);const _selectedBlockClientId=getSelectedBlockClientId();const animationParentBlockClientId=getBlockParentsByBlockName(_selectedBlockClientId,animationParent,true)[0];if(!animationParentBlockClientId&&blockType.name!==animationParent){return null;}
return globalBlockInspectorAnimationSettings?.[blockType.name];}
return null;},[blockType]);};function BlockQuickNavigation({clientIds,onSelect}){if(!clientIds.length){return null;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:1,children:clientIds.map(clientId=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockQuickNavigationItem,{onSelect:onSelect,clientId:clientId},clientId))});}
function BlockQuickNavigationItem({clientId,onSelect}){const blockInformation=useBlockDisplayInformation(clientId);const blockTitle=useBlockDisplayTitle({clientId,context:'list-view'});const{isSelected}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isBlockSelected,hasSelectedInnerBlock}=select(store);return{isSelected:isBlockSelected(clientId)||hasSelectedInnerBlock(clientId,true)};},[clientId]);const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,isPressed:isSelected,onClick:async()=>{await selectBlock(clientId);if(onSelect){onSelect(clientId);}},children:(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Flex,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexItem,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:blockInformation?.icon})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.FlexBlock,{style:{textAlign:'left'},children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalTruncate,{children:blockTitle})})]})});};function BlockStylesPanel({clientId}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.PanelBody,{title:(0,external_wp_i18n_namespaceObject.__)('Styles'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_styles,{clientId:clientId})});}
function BlockInspector(){const{count,selectedBlockName,selectedBlockClientId,blockType,isSectionBlock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getSelectedBlockCount,getBlockName,getParentSectionBlock,isSectionBlock:_isSectionBlock}=unlock(select(store));const _selectedBlockClientId=getSelectedBlockClientId();const renderedBlockClientId=getParentSectionBlock(_selectedBlockClientId)||getSelectedBlockClientId();const _selectedBlockName=renderedBlockClientId&&getBlockName(renderedBlockClientId);const _blockType=_selectedBlockName&&(0,external_wp_blocks_namespaceObject.getBlockType)(_selectedBlockName);return{count:getSelectedBlockCount(),selectedBlockClientId:renderedBlockClientId,selectedBlockName:_selectedBlockName,blockType:_blockType,isSectionBlock:_isSectionBlock(renderedBlockClientId)};},[]);const availableTabs=useInspectorControlsTabs(blockType?.name);const showTabs=availableTabs?.length>1;const blockInspectorAnimationSettings=useBlockInspectorAnimationSettings(blockType);const borderPanelLabel=useBorderPanelLabel({blockName:selectedBlockName});if(count>1&&!isSectionBlock){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-inspector",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(MultiSelectionInspector,{}),showTabs?(0,external_ReactJSXRuntime_namespaceObject.jsx)(InspectorControlsTabs,{tabs:availableTabs}):(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"color",label:(0,external_wp_i18n_namespaceObject.__)('Color'),className:"color-block-support-panel__inner-wrapper"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"background",label:(0,external_wp_i18n_namespaceObject.__)('Background image')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"typography",label:(0,external_wp_i18n_namespaceObject.__)('Typography')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"dimensions",label:(0,external_wp_i18n_namespaceObject.__)('Dimensions')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"border",label:borderPanelLabel}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"styles"})]})]});}
const isSelectedBlockUnregistered=selectedBlockName===(0,external_wp_blocks_namespaceObject.getUnregisteredTypeHandlerName)();if(!blockType||!selectedBlockClientId||isSelectedBlockUnregistered){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{className:"block-editor-block-inspector__no-blocks",children:(0,external_wp_i18n_namespaceObject.__)('No block selected.')});}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockInspectorSingleBlockWrapper,{animate:blockInspectorAnimationSettings,wrapper:children=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(AnimatedContainer,{blockInspectorAnimationSettings:blockInspectorAnimationSettings,selectedBlockClientId:selectedBlockClientId,children:children}),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockInspectorSingleBlock,{clientId:selectedBlockClientId,blockName:blockType.name,isSectionBlock:isSectionBlock})});}
const BlockInspectorSingleBlockWrapper=({animate,wrapper,children})=>{return animate?wrapper(children):children;};const AnimatedContainer=({blockInspectorAnimationSettings,selectedBlockClientId,children})=>{const animationOrigin=blockInspectorAnimationSettings&&blockInspectorAnimationSettings.enterDirection==='leftToRight'?-50:50;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__unstableMotion.div,{animate:{x:0,opacity:1,transition:{ease:'easeInOut',duration:0.14}},initial:{x:animationOrigin,opacity:0},children:children},selectedBlockClientId);};const BlockInspectorSingleBlock=({clientId,blockName,isSectionBlock})=>{const availableTabs=useInspectorControlsTabs(blockName);const showTabs=!isSectionBlock&&availableTabs?.length>1;const hasBlockStyles=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockStyles}=select(external_wp_blocks_namespaceObject.store);const blockStyles=getBlockStyles(blockName);return blockStyles&&blockStyles.length>0;},[blockName]);const blockInformation=useBlockDisplayInformation(clientId);const borderPanelLabel=useBorderPanelLabel({blockName});const contentClientIds=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!isSectionBlock){return;}
const{getClientIdsOfDescendants,getBlockName,getBlockEditingMode}=select(store);return getClientIdsOfDescendants(clientId).filter(current=>getBlockName(current)!=='core/list-item'&&getBlockEditingMode(current)==='contentOnly');},[isSectionBlock,clientId]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-inspector",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_card,{...blockInformation,className:blockInformation.isSynced&&'is-synced'}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_variation_transforms,{blockClientId:clientId}),showTabs&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(InspectorControlsTabs,{hasBlockStyles:hasBlockStyles,clientId:clientId,blockName:blockName,tabs:availableTabs}),!showTabs&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[hasBlockStyles&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockStylesPanel,{clientId:clientId}),contentClientIds&&contentClientIds?.length>0&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.PanelBody,{title:(0,external_wp_i18n_namespaceObject.__)('Content'),children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(BlockQuickNavigation,{clientIds:contentClientIds})}),!isSectionBlock&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"list"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"color",label:(0,external_wp_i18n_namespaceObject.__)('Color'),className:"color-block-support-panel__inner-wrapper"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"background",label:(0,external_wp_i18n_namespaceObject.__)('Background image')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"typography",label:(0,external_wp_i18n_namespaceObject.__)('Typography')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"dimensions",label:(0,external_wp_i18n_namespaceObject.__)('Dimensions')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"border",label:borderPanelLabel}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"styles"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(position_controls_panel,{}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(inspector_controls.Slot,{group:"bindings"}),(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(advanced_controls_panel,{})})]})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(SkipToSelectedBlock,{},"back")]});};const block_inspector=(BlockInspector);;const __unstableUseClipboardHandler=()=>{external_wp_deprecated_default()('__unstableUseClipboardHandler',{alternative:'BlockCanvas or WritingFlow',since:'6.4',version:'6.7'});return useClipboardHandler();};function CopyHandler(props){external_wp_deprecated_default()('CopyHandler',{alternative:'BlockCanvas or WritingFlow',since:'6.4',version:'6.7'});return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{...props,ref:useClipboardHandler()});};const library_noop=()=>{};function InserterLibrary({rootClientId,clientId,isAppender,showInserterHelpPanel,showMostUsedBlocks=false,__experimentalInsertionIndex,__experimentalInitialTab,__experimentalInitialCategory,__experimentalFilterValue,onPatternCategorySelection,onSelect=library_noop,shouldFocusBlock=false,onClose},ref){const{destinationRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId}=select(store);const _rootClientId=rootClientId||getBlockRootClientId(clientId)||undefined;return{destinationRootClientId:_rootClientId};},[clientId,rootClientId]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateInserterMenu,{onSelect:onSelect,rootClientId:destinationRootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,showMostUsedBlocks:showMostUsedBlocks,__experimentalInsertionIndex:__experimentalInsertionIndex,__experimentalFilterValue:__experimentalFilterValue,onPatternCategorySelection:onPatternCategorySelection,__experimentalInitialTab:__experimentalInitialTab,__experimentalInitialCategory:__experimentalInitialCategory,shouldFocusBlock:shouldFocusBlock,ref:ref,onClose:onClose});}
const PrivateInserterLibrary=(0,external_wp_element_namespaceObject.forwardRef)(InserterLibrary);function PublicInserterLibrary(props,ref){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivateInserterLibrary,{...props,onPatternCategorySelection:undefined,ref:ref});}
const library=((0,external_wp_element_namespaceObject.forwardRef)(PublicInserterLibrary));;function MultiSelectScrollIntoView(){external_wp_deprecated_default()('wp.blockEditor.MultiSelectScrollIntoView',{hint:'This behaviour is now built-in.',since:'5.8'});return null;};const isIE=window.navigator.userAgent.indexOf('Trident')!==-1;const arrowKeyCodes=new Set([external_wp_keycodes_namespaceObject.UP,external_wp_keycodes_namespaceObject.DOWN,external_wp_keycodes_namespaceObject.LEFT,external_wp_keycodes_namespaceObject.RIGHT]);const initialTriggerPercentage=0.75;function useTypewriter(){const hasSelectedBlock=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).hasSelectedBlock(),[]);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!hasSelectedBlock){return;}
const{ownerDocument}=node;const{defaultView}=ownerDocument;let scrollResizeRafId;let onKeyDownRafId;let caretRect;function onScrollResize(){if(scrollResizeRafId){return;}
scrollResizeRafId=defaultView.requestAnimationFrame(()=>{computeCaretRectangle();scrollResizeRafId=null;});}
function onKeyDown(event){if(onKeyDownRafId){defaultView.cancelAnimationFrame(onKeyDownRafId);}
onKeyDownRafId=defaultView.requestAnimationFrame(()=>{maintainCaretPosition(event);onKeyDownRafId=null;});}
function maintainCaretPosition({keyCode}){if(!isSelectionEligibleForScroll()){return;}
const currentCaretRect=(0,external_wp_dom_namespaceObject.computeCaretRect)(defaultView);if(!currentCaretRect){return;}
if(!caretRect){caretRect=currentCaretRect;return;}
if(arrowKeyCodes.has(keyCode)){caretRect=currentCaretRect;return;}
const diff=currentCaretRect.top-caretRect.top;if(diff===0){return;}
const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(node);if(!scrollContainer){return;}
const windowScroll=scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement;const scrollY=windowScroll?defaultView.scrollY:scrollContainer.scrollTop;const scrollContainerY=windowScroll?0:scrollContainer.getBoundingClientRect().top;const relativeScrollPosition=windowScroll?caretRect.top / defaultView.innerHeight:(caretRect.top-scrollContainerY)/(defaultView.innerHeight-scrollContainerY);if(scrollY===0&&relativeScrollPosition<initialTriggerPercentage&&isLastEditableNode()){caretRect=currentCaretRect;return;}
const scrollContainerHeight=windowScroll?defaultView.innerHeight:scrollContainer.clientHeight;if(caretRect.top+caretRect.height>scrollContainerY+scrollContainerHeight||caretRect.top<scrollContainerY){caretRect=currentCaretRect;return;}
if(windowScroll){defaultView.scrollBy(0,diff);}else{scrollContainer.scrollTop+=diff;}}
function addSelectionChangeListener(){ownerDocument.addEventListener('selectionchange',computeCaretRectOnSelectionChange);}
function computeCaretRectOnSelectionChange(){ownerDocument.removeEventListener('selectionchange',computeCaretRectOnSelectionChange);computeCaretRectangle();}
function computeCaretRectangle(){if(isSelectionEligibleForScroll()){caretRect=(0,external_wp_dom_namespaceObject.computeCaretRect)(defaultView);}}
function isSelectionEligibleForScroll(){return node.contains(ownerDocument.activeElement)&&ownerDocument.activeElement.isContentEditable;}
function isLastEditableNode(){const editableNodes=node.querySelectorAll('[contenteditable="true"]');const lastEditableNode=editableNodes[editableNodes.length-1];return lastEditableNode===ownerDocument.activeElement;}
defaultView.addEventListener('scroll',onScrollResize,true);defaultView.addEventListener('resize',onScrollResize,true);node.addEventListener('keydown',onKeyDown);node.addEventListener('keyup',maintainCaretPosition);node.addEventListener('mousedown',addSelectionChangeListener);node.addEventListener('touchstart',addSelectionChangeListener);return()=>{defaultView.removeEventListener('scroll',onScrollResize,true);defaultView.removeEventListener('resize',onScrollResize,true);node.removeEventListener('keydown',onKeyDown);node.removeEventListener('keyup',maintainCaretPosition);node.removeEventListener('mousedown',addSelectionChangeListener);node.removeEventListener('touchstart',addSelectionChangeListener);ownerDocument.removeEventListener('selectionchange',computeCaretRectOnSelectionChange);defaultView.cancelAnimationFrame(scrollResizeRafId);defaultView.cancelAnimationFrame(onKeyDownRafId);};},[hasSelectedBlock]);}
function Typewriter({children}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("div",{ref:useTypewriter(),className:"block-editor__typewriter",children:children});}
const TypewriterOrIEBypass=isIE?props=>props.children:Typewriter;const typewriter=(TypewriterOrIEBypass);;const RenderedRefsContext=(0,external_wp_element_namespaceObject.createContext)({});function addToBlockType(renderedBlocks,blockName,uniqueId){const result={...renderedBlocks,[blockName]:renderedBlocks[blockName]?new Set(renderedBlocks[blockName]):new Set()};result[blockName].add(uniqueId);return result;}
function RecursionProvider({children,uniqueId,blockName=''}){const previouslyRenderedBlocks=(0,external_wp_element_namespaceObject.useContext)(RenderedRefsContext);const{name}=useBlockEditContext();blockName=blockName||name;const newRenderedBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>addToBlockType(previouslyRenderedBlocks,blockName,uniqueId),[previouslyRenderedBlocks,blockName,uniqueId]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(RenderedRefsContext.Provider,{value:newRenderedBlocks,children:children});}
function useHasRecursion(uniqueId,blockName=''){const previouslyRenderedBlocks=(0,external_wp_element_namespaceObject.useContext)(RenderedRefsContext);const{name}=useBlockEditContext();blockName=blockName||name;return Boolean(previouslyRenderedBlocks[blockName]?.has(uniqueId));}
const DeprecatedExperimentalRecursionProvider=props=>{external_wp_deprecated_default()('wp.blockEditor.__experimentalRecursionProvider',{since:'6.5',alternative:'wp.blockEditor.RecursionProvider'});return(0,external_ReactJSXRuntime_namespaceObject.jsx)(RecursionProvider,{...props});};const DeprecatedExperimentalUseHasRecursion=(...args)=>{external_wp_deprecated_default()('wp.blockEditor.__experimentalUseHasRecursion',{since:'6.5',alternative:'wp.blockEditor.useHasRecursion'});return useHasRecursion(...args);};;function InspectorPopoverHeader({title,help,actions=[],onClose}){return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{className:"block-editor-inspector-popover-header",spacing:4,children:[(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{alignment:"center",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalHeading,{className:"block-editor-inspector-popover-header__heading",level:2,size:13,children:title}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalSpacer,{}),actions.map(({label,icon,onClick})=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"small",className:"block-editor-inspector-popover-header__action",label:label,icon:icon,variant:!icon&&'tertiary',onClick:onClick,children:!icon&&label},label)),onClose&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{size:"small",className:"block-editor-inspector-popover-header__action",label:(0,external_wp_i18n_namespaceObject.__)('Close'),icon:close_small,onClick:onClose})]}),help&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalText,{children:help})]});};function PublishDateTimePicker({onClose,onChange,showPopoverHeaderActions,isCompact,currentDate,...additionalProps},ref){const datePickerProps={startOfWeek:(0,external_wp_date_namespaceObject.getSettings)().l10n.startOfWeek,onChange,currentDate:isCompact?undefined:currentDate,currentTime:isCompact?currentDate:undefined,...additionalProps};const DatePickerComponent=isCompact?external_wp_components_namespaceObject.TimePicker:external_wp_components_namespaceObject.DateTimePicker;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{ref:ref,className:"block-editor-publish-date-time-picker",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(InspectorPopoverHeader,{title:(0,external_wp_i18n_namespaceObject.__)('Publish'),actions:showPopoverHeaderActions?[{label:(0,external_wp_i18n_namespaceObject.__)('Now'),onClick:()=>onChange?.(null)}]:undefined,onClose:onClose}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(DatePickerComponent,{...datePickerProps})]});}
const PrivatePublishDateTimePicker=(0,external_wp_element_namespaceObject.forwardRef)(PublishDateTimePicker);function PublicPublishDateTimePicker(props,ref){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(PrivatePublishDateTimePicker,{...props,showPopoverHeaderActions:true,isCompact:false,ref:ref});}
const publish_date_time_picker=((0,external_wp_element_namespaceObject.forwardRef)(PublicPublishDateTimePicker));;;const elements_ELEMENT_CLASS_NAMES={button:'wp-element-button',caption:'wp-element-caption'};const __experimentalGetElementClassName=element=>{return elements_ELEMENT_CLASS_NAMES[element]?elements_ELEMENT_CLASS_NAMES[element]:'';};;const get_px_from_css_unit=(()=>'');;;function useHasImageSettingsPanel(name,value,inheritedValue){return name==='core/image'&&inheritedValue?.lightbox?.allowEditing||!!value?.lightbox;}
function ImageSettingsPanel({onChange,value,inheritedValue,panelId}){const dropdownMenuProps=useToolsPanelDropdownMenuProps();const resetLightbox=()=>{onChange(undefined);};const onChangeLightbox=newSetting=>{onChange({enabled:newSetting});};let lightboxChecked=false;if(inheritedValue?.lightbox?.enabled){lightboxChecked=inheritedValue.lightbox.enabled;}
return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanel,{label:(0,external_wp_i18n_namespaceObject._x)('Settings','Image settings'),resetAll:resetLightbox,panelId:panelId,dropdownMenuProps:dropdownMenuProps,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>!!value?.lightbox,label:(0,external_wp_i18n_namespaceObject.__)('Enlarge on click'),onDeselect:resetLightbox,isShownByDefault:true,panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ToggleControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Enlarge on click'),checked:lightboxChecked,onChange:onChangeLightbox})})})});};function AdvancedPanel({value,onChange,inheritedValue=value}){const[cssError,setCSSError]=(0,external_wp_element_namespaceObject.useState)(null);const customCSS=inheritedValue?.css;function handleOnChange(newValue){onChange({...value,css:newValue});if(cssError){const[transformed]=transform_styles([{css:newValue}],'.for-validation-only');if(transformed){setCSSError(null);}}}
function handleOnBlur(event){if(!event?.target?.value){setCSSError(null);return;}
const[transformed]=transform_styles([{css:event.target.value}],'.for-validation-only');setCSSError(transformed===null?(0,external_wp_i18n_namespaceObject.__)('There is an error with your CSS structure.'):null);}
return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:3,children:[cssError&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Notice,{status:"error",onRemove:()=>setCSSError(null),children:cssError}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.TextareaControl,{label:(0,external_wp_i18n_namespaceObject.__)('Additional CSS'),__nextHasNoMarginBottom:true,value:customCSS,onChange:newValue=>handleOnChange(newValue),onBlur:handleOnBlur,className:"block-editor-global-styles-advanced-panel__custom-css-input",spellCheck:false})]});};function memize(fn,options){var size=0;var head;var tail;options=options||{};function memoized(){var node=head,len=arguments.length,args,i;searchCache:while(node){if(node.args.length!==arguments.length){node=node.next;continue;}
for(i=0;i<len;i++){if(node.args[i]!==arguments[i]){node=node.next;continue searchCache;}}
if(node!==head){if(node===tail){tail=node.prev;}
(node.prev).next=node.next;if(node.next){node.next.prev=node.prev;}
node.next=head;node.prev=null;(head).prev=node;head=node;}
return node.val;}
args=new Array(len);for(i=0;i<len;i++){args[i]=arguments[i];}
node={args:args,val:fn.apply(null,args),};if(head){head.prev=node;node.next=head;}else{tail=node;}
if(size===(options).maxSize){tail=(tail).prev;(tail).next=null;}else{size++;}
head=node;return node.val;}
memoized.clear=function(){head=null;tail=null;size=0;};return memoized;};const globalStylesChangesCache=new Map();const get_global_styles_changes_EMPTY_ARRAY=[];const translationMap={caption:(0,external_wp_i18n_namespaceObject.__)('Caption'),link:(0,external_wp_i18n_namespaceObject.__)('Link'),button:(0,external_wp_i18n_namespaceObject.__)('Button'),heading:(0,external_wp_i18n_namespaceObject.__)('Heading'),h1:(0,external_wp_i18n_namespaceObject.__)('H1'),h2:(0,external_wp_i18n_namespaceObject.__)('H2'),h3:(0,external_wp_i18n_namespaceObject.__)('H3'),h4:(0,external_wp_i18n_namespaceObject.__)('H4'),h5:(0,external_wp_i18n_namespaceObject.__)('H5'),h6:(0,external_wp_i18n_namespaceObject.__)('H6'),'settings.color':(0,external_wp_i18n_namespaceObject.__)('Color'),'settings.typography':(0,external_wp_i18n_namespaceObject.__)('Typography'),'styles.color':(0,external_wp_i18n_namespaceObject.__)('Colors'),'styles.spacing':(0,external_wp_i18n_namespaceObject.__)('Spacing'),'styles.background':(0,external_wp_i18n_namespaceObject.__)('Background'),'styles.typography':(0,external_wp_i18n_namespaceObject.__)('Typography')};const getBlockNames=memize(()=>(0,external_wp_blocks_namespaceObject.getBlockTypes)().reduce((accumulator,{name,title})=>{accumulator[name]=title;return accumulator;},{}));const isObject=obj=>obj!==null&&typeof obj==='object';function getTranslation(key){if(translationMap[key]){return translationMap[key];}
const keyArray=key.split('.');if(keyArray?.[0]==='blocks'){const blockName=getBlockNames()?.[keyArray[1]];return blockName||keyArray[1];}
if(keyArray?.[0]==='elements'){return translationMap[keyArray[1]]||keyArray[1];}
return undefined;}
function deepCompare(changedObject,originalObject,parentPath=''){if(!isObject(changedObject)&&!isObject(originalObject)){return changedObject!==originalObject?parentPath.split('.').slice(0,2).join('.'):undefined;}
changedObject=isObject(changedObject)?changedObject:{};originalObject=isObject(originalObject)?originalObject:{};const allKeys=new Set([...Object.keys(changedObject),...Object.keys(originalObject)]);let diffs=[];for(const key of allKeys){const path=parentPath?parentPath+'.'+key:key;const changedPath=deepCompare(changedObject[key],originalObject[key],path);if(changedPath){diffs=diffs.concat(changedPath);}}
return diffs;}
function getGlobalStylesChangelist(next,previous){const cacheKey=JSON.stringify({next,previous});if(globalStylesChangesCache.has(cacheKey)){return globalStylesChangesCache.get(cacheKey);}
const changedValueTree=deepCompare({styles:{background:next?.styles?.background,color:next?.styles?.color,typography:next?.styles?.typography,spacing:next?.styles?.spacing},blocks:next?.styles?.blocks,elements:next?.styles?.elements,settings:next?.settings},{styles:{background:previous?.styles?.background,color:previous?.styles?.color,typography:previous?.styles?.typography,spacing:previous?.styles?.spacing},blocks:previous?.styles?.blocks,elements:previous?.styles?.elements,settings:previous?.settings});if(!changedValueTree.length){globalStylesChangesCache.set(cacheKey,get_global_styles_changes_EMPTY_ARRAY);return get_global_styles_changes_EMPTY_ARRAY;}
const result=[...new Set(changedValueTree)].reduce((acc,curr)=>{const translation=getTranslation(curr);if(translation){acc.push([curr.split('.')[0],translation]);}
return acc;},[]);globalStylesChangesCache.set(cacheKey,result);return result;}
function getGlobalStylesChanges(next,previous,options={}){let changeList=getGlobalStylesChangelist(next,previous);const changesLength=changeList.length;const{maxResults}=options;if(changesLength){if(!!maxResults&&changesLength>maxResults){changeList=changeList.slice(0,maxResults);}
return Object.entries(changeList.reduce((acc,curr)=>{const group=acc[curr[0]]||[];if(!group.includes(curr[1])){acc[curr[0]]=[...group,curr[1]];}
return acc;},{})).map(([key,changeValues])=>{const changeValuesLength=changeValues.length;const joinedChangesValue=changeValues.join((0,external_wp_i18n_namespaceObject.__)(', '));switch(key){case'blocks':{return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%s block.','%s blocks.',changeValuesLength),joinedChangesValue);}
case'elements':{return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%s element.','%s elements.',changeValuesLength),joinedChangesValue);}
case'settings':{return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s settings.'),joinedChangesValue);}
case'styles':{return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s styles.'),joinedChangesValue);}
default:{return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s.'),joinedChangesValue);}}});}
return get_global_styles_changes_EMPTY_ARRAY;};;function addValuesForElement(element,values,innerBlocks){if(null===element||undefined===element||false===element){return;}
if(Array.isArray(element)){return addValuesForElements(element,values,innerBlocks);}
switch(typeof element){case'string':case'number':return;}
const{type,props}=element;switch(type){case external_wp_element_namespaceObject.StrictMode:case external_wp_element_namespaceObject.Fragment:return addValuesForElements(props.children,values,innerBlocks);case external_wp_element_namespaceObject.RawHTML:return;case inner_blocks.Content:return addValuesForBlocks(values,innerBlocks);case Content:values.push(props.value);return;}
switch(typeof type){case'string':if(typeof props.children!=='undefined'){return addValuesForElements(props.children,values,innerBlocks);}
return;case'function':const el=type.prototype&&typeof type.prototype.render==='function'?new type(props).render():type(props);return addValuesForElement(el,values,innerBlocks);}}
function addValuesForElements(children,...args){children=Array.isArray(children)?children:[children];for(let i=0;i<children.length;i++){addValuesForElement(children[i],...args);}}
function addValuesForBlocks(values,blocks){for(let i=0;i<blocks.length;i++){const{name,attributes,innerBlocks}=blocks[i];const saveElement=(0,external_wp_blocks_namespaceObject.getSaveElement)(name,attributes,(0,external_ReactJSXRuntime_namespaceObject.jsx)(inner_blocks.Content,{}));addValuesForElement(saveElement,values,innerBlocks);}}
function getRichTextValues(blocks=[]){external_wp_blocks_namespaceObject.__unstableGetBlockProps.skipFilters=true;const values=[];addValuesForBlocks(values,blocks);external_wp_blocks_namespaceObject.__unstableGetBlockProps.skipFilters=false;return values.map(value=>value instanceof external_wp_richText_namespaceObject.RichTextData?value:external_wp_richText_namespaceObject.RichTextData.fromHTMLString(value));};function ResizableBoxPopover({clientId,resizableBoxProps,...props}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)(cover,{clientId:clientId,__unstablePopoverSlot:"block-toolbar",...props,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.ResizableBox,{...resizableBoxProps})});};function BlockTypesChecklist({blockTypes,value,onItemChange}){return(0,external_ReactJSXRuntime_namespaceObject.jsx)("ul",{className:"block-editor-block-manager__checklist",children:blockTypes.map(blockType=>(0,external_ReactJSXRuntime_namespaceObject.jsxs)("li",{className:"block-editor-block-manager__checklist-item",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CheckboxControl,{__nextHasNoMarginBottom:true,label:blockType.title,checked:value.includes(blockType.name),onChange:(...args)=>onItemChange(blockType,...args)}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_icon,{icon:blockType.icon})]},blockType.name))});}
const checklist=(BlockTypesChecklist);;function BlockManagerCategory({title,blockTypes,selectedBlockTypes,onChange}){const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockManagerCategory);const toggleVisible=(0,external_wp_element_namespaceObject.useCallback)((blockType,nextIsChecked)=>{if(nextIsChecked){onChange([...selectedBlockTypes,blockType]);}else{onChange(selectedBlockTypes.filter(({name})=>name!==blockType.name));}},[selectedBlockTypes,onChange]);const toggleAllVisible=(0,external_wp_element_namespaceObject.useCallback)(nextIsChecked=>{if(nextIsChecked){onChange([...selectedBlockTypes,...blockTypes.filter(blockType=>!selectedBlockTypes.find(({name})=>name===blockType.name))]);}else{onChange(selectedBlockTypes.filter(selectedBlockType=>!blockTypes.find(({name})=>name===selectedBlockType.name)));}},[blockTypes,selectedBlockTypes,onChange]);if(!blockTypes.length){return null;}
const checkedBlockNames=blockTypes.map(({name})=>name).filter(type=>(selectedBlockTypes!==null&&selectedBlockTypes!==void 0?selectedBlockTypes:[]).some(selectedBlockType=>selectedBlockType.name===type));const titleId='block-editor-block-manager__category-title-'+instanceId;const isAllChecked=checkedBlockNames.length===blockTypes.length;const isIndeterminate=!isAllChecked&&checkedBlockNames.length>0;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{role:"group","aria-labelledby":titleId,className:"block-editor-block-manager__category",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.CheckboxControl,{__nextHasNoMarginBottom:true,checked:isAllChecked,onChange:toggleAllVisible,className:"block-editor-block-manager__category-title",indeterminate:isIndeterminate,label:(0,external_ReactJSXRuntime_namespaceObject.jsx)("span",{id:titleId,children:title})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(checklist,{blockTypes:blockTypes,value:checkedBlockNames,onItemChange:toggleVisible})]});}
const block_manager_category=(BlockManagerCategory);;function BlockManager({blockTypes,selectedBlockTypes,onChange}){const debouncedSpeak=(0,external_wp_compose_namespaceObject.useDebounce)(external_wp_a11y_namespaceObject.speak,500);const[search,setSearch]=(0,external_wp_element_namespaceObject.useState)('');const{categories,isMatchingSearchTerm}=(0,external_wp_data_namespaceObject.useSelect)(select=>{return{categories:select(external_wp_blocks_namespaceObject.store).getCategories(),isMatchingSearchTerm:select(external_wp_blocks_namespaceObject.store).isMatchingSearchTerm};},[]);function enableAllBlockTypes(){onChange(blockTypes);}
const filteredBlockTypes=blockTypes.filter(blockType=>{return!search||isMatchingSearchTerm(blockType,search);});const numberOfHiddenBlocks=blockTypes.length-selectedBlockTypes.length;(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!search){return;}
const count=filteredBlockTypes.length;const resultsFoundMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found.','%d results found.',count),count);debouncedSpeak(resultsFoundMessage);},[filteredBlockTypes?.length,search,debouncedSpeak]);return(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-manager__content",children:[!!numberOfHiddenBlocks&&(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{className:"block-editor-block-manager__disabled-blocks-count",children:[(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d block is hidden.','%d blocks are hidden.',numberOfHiddenBlocks),numberOfHiddenBlocks),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{__next40pxDefaultSize:true,variant:"link",onClick:enableAllBlockTypes,children:(0,external_wp_i18n_namespaceObject.__)('Reset')})]}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SearchControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Search for a block'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Search for a block'),value:search,onChange:nextSearch=>setSearch(nextSearch),className:"block-editor-block-manager__search"}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)("div",{tabIndex:"0",role:"region","aria-label":(0,external_wp_i18n_namespaceObject.__)('Available block types'),className:"block-editor-block-manager__results",children:[filteredBlockTypes.length===0&&(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{className:"block-editor-block-manager__no-results",children:(0,external_wp_i18n_namespaceObject.__)('No blocks found.')}),categories.map(category=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_manager_category,{title:category.title,blockTypes:filteredBlockTypes.filter(blockType=>blockType.category===category.slug),selectedBlockTypes:selectedBlockTypes,onChange:onChange},category.slug)),(0,external_ReactJSXRuntime_namespaceObject.jsx)(block_manager_category,{title:(0,external_wp_i18n_namespaceObject.__)('Uncategorized'),blockTypes:filteredBlockTypes.filter(({category})=>!category),selectedBlockTypes:selectedBlockTypes,onChange:onChange})]})]});};function BlockRemovalWarningModal({rules}){const{clientIds,selectPrevious,message}=(0,external_wp_data_namespaceObject.useSelect)(select=>unlock(select(store)).getRemovalPromptData());const{clearBlockRemovalPrompt,setBlockRemovalRules,privateRemoveBlocks}=unlock((0,external_wp_data_namespaceObject.useDispatch)(store));(0,external_wp_element_namespaceObject.useEffect)(()=>{setBlockRemovalRules(rules);return()=>{setBlockRemovalRules();};},[rules,setBlockRemovalRules]);if(!message){return;}
const onConfirmRemoval=()=>{privateRemoveBlocks(clientIds,selectPrevious,true);clearBlockRemovalPrompt();};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.__)('Be careful!'),onRequestClose:clearBlockRemovalPrompt,size:"medium",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)("p",{children:message}),(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"right",children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:clearBlockRemovalPrompt,__next40pxDefaultSize:true,children:(0,external_wp_i18n_namespaceObject.__)('Cancel')}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.Button,{variant:"primary",onClick:onConfirmRemoval,__next40pxDefaultSize:true,children:(0,external_wp_i18n_namespaceObject.__)('Delete')})]})]});};const DEFAULT_SCALE_OPTIONS=[{value:'fill',label:(0,external_wp_i18n_namespaceObject._x)('Fill','Scale option for dimensions control'),help:(0,external_wp_i18n_namespaceObject.__)('Fill the space by stretching the content.')},{value:'contain',label:(0,external_wp_i18n_namespaceObject._x)('Contain','Scale option for dimensions control'),help:(0,external_wp_i18n_namespaceObject.__)('Fit the content to the space without clipping.')},{value:'cover',label:(0,external_wp_i18n_namespaceObject._x)('Cover','Scale option for dimensions control'),help:(0,external_wp_i18n_namespaceObject.__)("Fill the space by clipping what doesn't fit.")},{value:'none',label:(0,external_wp_i18n_namespaceObject._x)('None','Scale option for dimensions control'),help:(0,external_wp_i18n_namespaceObject.__)('Do not adjust the sizing of the content. Content that is too large will be clipped, and content that is too small will have additional padding.')},{value:'scale-down',label:(0,external_wp_i18n_namespaceObject._x)('Scale down','Scale option for dimensions control'),help:(0,external_wp_i18n_namespaceObject.__)('Scale down the content to fit the space if it is too big. Content that is too small will have additional padding.')}];function ScaleTool({panelId,value,onChange,options=DEFAULT_SCALE_OPTIONS,defaultValue=DEFAULT_SCALE_OPTIONS[0].value,isShownByDefault=true}){const displayValue=value!==null&&value!==void 0?value:'fill';const scaleHelp=(0,external_wp_element_namespaceObject.useMemo)(()=>{return options.reduce((acc,option)=>{acc[option.value]=option.help;return acc;},{});},[options]);return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Scale'),isShownByDefault:isShownByDefault,hasValue:()=>displayValue!==defaultValue,onDeselect:()=>onChange(defaultValue),panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Scale'),isBlock:true,help:scaleHelp[displayValue],value:displayValue,onChange:onChange,size:"__unstable-large",children:options.map(option=>(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOption,{...option},option.value))})});};function extends_extends(){return extends_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);}
return n;},extends_extends.apply(null,arguments);};function memoize(fn){var cache=Object.create(null);return function(arg){if(cache[arg]===undefined)cache[arg]=fn(arg);return cache[arg];};};var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var isPropValid=memoize(function(prop){return reactPropsRegex.test(prop)||prop.charCodeAt(0)===111&&prop.charCodeAt(1)===110&&prop.charCodeAt(2)<91;});;function sheetForTag(tag){if(tag.sheet){return tag.sheet;}
for(var i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].ownerNode===tag){return document.styleSheets[i];}}}
function createStyleElement(options){var tag=document.createElement('style');tag.setAttribute('data-emotion',options.key);if(options.nonce!==undefined){tag.setAttribute('nonce',options.nonce);}
tag.appendChild(document.createTextNode(''));tag.setAttribute('data-s','');return tag;}
var StyleSheet=function(){function StyleSheet(options){var _this=this;this._insertTag=function(tag){var before;if(_this.tags.length===0){if(_this.insertionPoint){before=_this.insertionPoint.nextSibling;}else if(_this.prepend){before=_this.container.firstChild;}else{before=_this.before;}}else{before=_this.tags[_this.tags.length-1].nextSibling;}
_this.container.insertBefore(tag,before);_this.tags.push(tag);};this.isSpeedy=options.speedy===undefined?"production"==='production':options.speedy;this.tags=[];this.ctr=0;this.nonce=options.nonce;this.key=options.key;this.container=options.container;this.prepend=options.prepend;this.insertionPoint=options.insertionPoint;this.before=null;}
var _proto=StyleSheet.prototype;_proto.hydrate=function hydrate(nodes){nodes.forEach(this._insertTag);};_proto.insert=function insert(rule){if(this.ctr%(this.isSpeedy?65000:1)===0){this._insertTag(createStyleElement(this));}
var tag=this.tags[this.tags.length-1];if(false){var isImportRule;}
if(this.isSpeedy){var sheet=sheetForTag(tag);try{sheet.insertRule(rule,sheet.cssRules.length);}catch(e){if(false){}}}else{tag.appendChild(document.createTextNode(rule));}
this.ctr++;};_proto.flush=function flush(){this.tags.forEach(function(tag){return tag.parentNode&&tag.parentNode.removeChild(tag);});this.tags=[];this.ctr=0;if(false){}};return StyleSheet;}();;var abs=Math.abs
var Utility_from=String.fromCharCode
var Utility_assign=Object.assign
function hash(value,length){return Utility_charat(value,0)^45?(((((((length<<2)^Utility_charat(value,0))<<2)^Utility_charat(value,1))<<2)^Utility_charat(value,2))<<2)^Utility_charat(value,3):0}
function trim(value){return value.trim()}
function Utility_match(value,pattern){return(value=pattern.exec(value))?value[0]:value}
function Utility_replace(value,pattern,replacement){return value.replace(pattern,replacement)}
function indexof(value,search){return value.indexOf(search)}
function Utility_charat(value,index){return value.charCodeAt(index)|0}
function Utility_substr(value,begin,end){return value.slice(begin,end)}
function Utility_strlen(value){return value.length}
function Utility_sizeof(value){return value.length}
function Utility_append(value,array){return array.push(value),value}
function Utility_combine(array,callback){return array.map(callback).join('')};var line=1
var column=1
var Tokenizer_length=0
var Tokenizer_position=0
var Tokenizer_character=0
var characters=''
function node(value,root,parent,type,props,children,length){return{value:value,root:root,parent:parent,type:type,props:props,children:children,line:line,column:column,length:length,return:''}}
function Tokenizer_copy(root,props){return Utility_assign(node('',null,null,'',null,null,0),root,{length:-root.length},props)}
function Tokenizer_char(){return Tokenizer_character}
function prev(){Tokenizer_character=Tokenizer_position>0?Utility_charat(characters,--Tokenizer_position):0
if(column--,Tokenizer_character===10)
column=1,line--
return Tokenizer_character}
function next(){Tokenizer_character=Tokenizer_position<Tokenizer_length?Utility_charat(characters,Tokenizer_position++):0
if(column++,Tokenizer_character===10)
column=1,line++
return Tokenizer_character}
function peek(){return Utility_charat(characters,Tokenizer_position)}
function caret(){return Tokenizer_position}
function slice(begin,end){return Utility_substr(characters,begin,end)}
function token(type){switch(type){case 0:case 9:case 10:case 13:case 32:return 5
case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4
case 58:return 3
case 34:case 39:case 40:case 91:return 2
case 41:case 93:return 1}
return 0}
function alloc(value){return line=column=1,Tokenizer_length=Utility_strlen(characters=value),Tokenizer_position=0,[]}
function dealloc(value){return characters='',value}
function delimit(type){return trim(slice(Tokenizer_position-1,delimiter(type===91?type+2:type===40?type+1:type)))}
function Tokenizer_tokenize(value){return dealloc(tokenizer(alloc(value)))}
function whitespace(type){while(Tokenizer_character=peek())
if(Tokenizer_character<33)
next()
else
break
return token(type)>2||token(Tokenizer_character)>3?'':' '}
function tokenizer(children){while(next())
switch(token(Tokenizer_character)){case 0:append(identifier(Tokenizer_position-1),children)
break
case 2:append(delimit(Tokenizer_character),children)
break
default:append(from(Tokenizer_character),children)}
return children}
function escaping(index,count){while(--count&&next())
if(Tokenizer_character<48||Tokenizer_character>102||(Tokenizer_character>57&&Tokenizer_character<65)||(Tokenizer_character>70&&Tokenizer_character<97))
break
return slice(index,caret()+(count<6&&peek()==32&&next()==32))}
function delimiter(type){while(next())
switch(Tokenizer_character){case type:return Tokenizer_position
case 34:case 39:if(type!==34&&type!==39)
delimiter(Tokenizer_character)
break
case 40:if(type===41)
delimiter(type)
break
case 92:next()
break}
return Tokenizer_position}
function commenter(type,index){while(next())
if(type+Tokenizer_character===47+10)
break
else if(type+Tokenizer_character===42+42&&peek()===47)
break
return'/*'+slice(index,Tokenizer_position-1)+'*'+Utility_from(type===47?type:next())}
function identifier(index){while(!token(peek()))
next()
return slice(index,Tokenizer_position)};var Enum_MS='-ms-'
var Enum_MOZ='-moz-'
var Enum_WEBKIT='-webkit-'
var COMMENT='comm'
var Enum_RULESET='rule'
var Enum_DECLARATION='decl'
var PAGE='@page'
var MEDIA='@media'
var IMPORT='@import'
var CHARSET='@charset'
var VIEWPORT='@viewport'
var SUPPORTS='@supports'
var DOCUMENT='@document'
var NAMESPACE='@namespace'
var Enum_KEYFRAMES='@keyframes'
var FONT_FACE='@font-face'
var COUNTER_STYLE='@counter-style'
var FONT_FEATURE_VALUES='@font-feature-values';function Serializer_serialize(children,callback){var output=''
var length=Utility_sizeof(children)
for(var i=0;i<length;i++)
output+=callback(children[i],i,children,callback)||''
return output}
function Serializer_stringify(element,index,children,callback){switch(element.type){case IMPORT:case Enum_DECLARATION:return element.return=element.return||element.value
case COMMENT:return''
case Enum_KEYFRAMES:return element.return=element.value+'{'+Serializer_serialize(element.children,callback)+'}'
case Enum_RULESET:element.value=element.props.join(',')}
return Utility_strlen(children=Serializer_serialize(element.children,callback))?element.return=element.value+'{'+children+'}':''};function middleware(collection){var length=Utility_sizeof(collection)
return function(element,index,children,callback){var output=''
for(var i=0;i<length;i++)
output+=collection[i](element,index,children,callback)||''
return output}}
function rulesheet(callback){return function(element){if(!element.root)
if(element=element.return)
callback(element)}}
function prefixer(element,index,children,callback){if(element.length>-1)
if(!element.return)
switch(element.type){case DECLARATION:element.return=prefix(element.value,element.length,children)
return
case KEYFRAMES:return serialize([copy(element,{value:replace(element.value,'@','@'+WEBKIT)})],callback)
case RULESET:if(element.length)
return combine(element.props,function(value){switch(match(value,/(::plac\w+|:read-\w+)/)){case':read-only':case':read-write':return serialize([copy(element,{props:[replace(value,/:(read-\w+)/,':'+MOZ+'$1')]})],callback)
case'::placeholder':return serialize([copy(element,{props:[replace(value,/:(plac\w+)/,':'+WEBKIT+'input-$1')]}),copy(element,{props:[replace(value,/:(plac\w+)/,':'+MOZ+'$1')]}),copy(element,{props:[replace(value,/:(plac\w+)/,MS+'input-$1')]})],callback)}
return''})}}
function namespace(element){switch(element.type){case RULESET:element.props=element.props.map(function(value){return combine(tokenize(value),function(value,index,children){switch(charat(value,0)){case 12:return substr(value,1,strlen(value))
case 0:case 40:case 43:case 62:case 126:return value
case 58:if(children[++index]==='global')
children[index]='',children[++index]='\f'+substr(children[index],index=1,-1)
case 32:return index===1?'':value
default:switch(index){case 0:element=value
return sizeof(children)>1?'':value
case index=sizeof(children)-1:case 2:return index===2?value+element+element:value+element
default:return value}}})})}};function compile(value){return dealloc(Parser_parse('',null,null,null,[''],value=alloc(value),0,[0],value))}
function Parser_parse(value,root,parent,rule,rules,rulesets,pseudo,points,declarations){var index=0
var offset=0
var length=pseudo
var atrule=0
var property=0
var previous=0
var variable=1
var scanning=1
var ampersand=1
var character=0
var type=''
var props=rules
var children=rulesets
var reference=rule
var characters=type
while(scanning)
switch(previous=character,character=next()){case 40:if(previous!=108&&Utility_charat(characters,length-1)==58){if(indexof(characters+=Utility_replace(delimit(character),'&','&\f'),'&\f')!=-1)
ampersand=-1
break}
case 34:case 39:case 91:characters+=delimit(character)
break
case 9:case 10:case 13:case 32:characters+=whitespace(previous)
break
case 92:characters+=escaping(caret()-1,7)
continue
case 47:switch(peek()){case 42:case 47:Utility_append(comment(commenter(next(),caret()),root,parent),declarations)
break
default:characters+='/'}
break
case 123*variable:points[index++]=Utility_strlen(characters)*ampersand
case 125*variable:case 59:case 0:switch(character){case 0:case 125:scanning=0
case 59+offset:if(property>0&&(Utility_strlen(characters)-length))
Utility_append(property>32?declaration(characters+';',rule,parent,length-1):declaration(Utility_replace(characters,' ','')+';',rule,parent,length-2),declarations)
break
case 59:characters+=';'
default:Utility_append(reference=ruleset(characters,root,parent,index,offset,rules,points,type,props=[],children=[],length),rulesets)
if(character===123)
if(offset===0)
Parser_parse(characters,root,reference,reference,props,rulesets,length,points,children)
else
switch(atrule===99&&Utility_charat(characters,3)===110?100:atrule){case 100:case 109:case 115:Parser_parse(value,reference,reference,rule&&Utility_append(ruleset(value,reference,reference,0,0,rules,points,type,rules,props=[],length),children),rules,children,length,points,rule?props:children)
break
default:Parser_parse(characters,reference,reference,reference,[''],children,0,points,children)}}
index=offset=property=0,variable=ampersand=1,type=characters='',length=pseudo
break
case 58:length=1+Utility_strlen(characters),property=previous
default:if(variable<1)
if(character==123)
--variable
else if(character==125&&variable++==0&&prev()==125)
continue
switch(characters+=Utility_from(character),character*variable){case 38:ampersand=offset>0?1:(characters+='\f',-1)
break
case 44:points[index++]=(Utility_strlen(characters)-1)*ampersand,ampersand=1
break
case 64:if(peek()===45)
characters+=delimit(next())
atrule=peek(),offset=length=Utility_strlen(type=characters+=identifier(caret())),character++
break
case 45:if(previous===45&&Utility_strlen(characters)==2)
variable=0}}
return rulesets}
function ruleset(value,root,parent,index,offset,rules,points,type,props,children,length){var post=offset-1
var rule=offset===0?rules:['']
var size=Utility_sizeof(rule)
for(var i=0,j=0,k=0;i<index;++i)
for(var x=0,y=Utility_substr(value,post+1,post=abs(j=points[i])),z=value;x<size;++x)
if(z=trim(j>0?rule[x]+' '+y:Utility_replace(y,/&\f/g,rule[x])))
props[k++]=z
return node(value,root,parent,offset===0?Enum_RULESET:type,props,children,length)}
function comment(value,root,parent){return node(value,root,parent,COMMENT,Utility_from(Tokenizer_char()),Utility_substr(value,2,-2),0)}
function declaration(value,root,parent,length){return node(value,root,parent,Enum_DECLARATION,Utility_substr(value,0,length),Utility_substr(value,length+1,-1),length)};var identifierWithPointTracking=function identifierWithPointTracking(begin,points,index){var previous=0;var character=0;while(true){previous=character;character=peek();if(previous===38&&character===12){points[index]=1;}
if(token(character)){break;}
next();}
return slice(begin,Tokenizer_position);};var toRules=function toRules(parsed,points){var index=-1;var character=44;do{switch(token(character)){case 0:if(character===38&&peek()===12){points[index]=1;}
parsed[index]+=identifierWithPointTracking(Tokenizer_position-1,points,index);break;case 2:parsed[index]+=delimit(character);break;case 4:if(character===44){parsed[++index]=peek()===58?'&\f':'';points[index]=parsed[index].length;break;}
default:parsed[index]+=Utility_from(character);}}while(character=next());return parsed;};var getRules=function getRules(value,points){return dealloc(toRules(alloc(value),points));};var fixedElements=new WeakMap();var compat=function compat(element){if(element.type!=='rule'||!element.parent||element.length<1){return;}
var value=element.value,parent=element.parent;var isImplicitRule=element.column===parent.column&&element.line===parent.line;while(parent.type!=='rule'){parent=parent.parent;if(!parent)return;}
if(element.props.length===1&&value.charCodeAt(0)!==58&&!fixedElements.get(parent)){return;}
if(isImplicitRule){return;}
fixedElements.set(element,true);var points=[];var rules=getRules(value,points);var parentRules=parent.props;for(var i=0,k=0;i<rules.length;i++){for(var j=0;j<parentRules.length;j++,k++){element.props[k]=points[i]?rules[i].replace(/&\f/g,parentRules[j]):parentRules[j]+" "+rules[i];}}};var removeLabel=function removeLabel(element){if(element.type==='decl'){var value=element.value;if(value.charCodeAt(0)===108&&value.charCodeAt(2)===98){element["return"]='';element.value='';}}};var ignoreFlag='emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason';var isIgnoringComment=function isIgnoringComment(element){return element.type==='comm'&&element.children.indexOf(ignoreFlag)>-1;};var createUnsafeSelectorsAlarm=function createUnsafeSelectorsAlarm(cache){return function(element,index,children){if(element.type!=='rule'||cache.compat)return;var unsafePseudoClasses=element.value.match(/(:first|:nth|:nth-last)-child/g);if(unsafePseudoClasses){var isNested=element.parent===children[0];var commentContainer=isNested?children[0].children:children;for(var i=commentContainer.length-1;i>=0;i--){var node=commentContainer[i];if(node.line<element.line){break;}
if(node.column<element.column){if(isIgnoringComment(node)){return;}
break;}}
unsafePseudoClasses.forEach(function(unsafePseudoClass){console.error("The pseudo class \""+unsafePseudoClass+"\" is potentially unsafe when doing server-side rendering. Try changing it to \""+unsafePseudoClass.split('-child')[0]+"-of-type\".");});}};};var isImportRule=function isImportRule(element){return element.type.charCodeAt(1)===105&&element.type.charCodeAt(0)===64;};var isPrependedWithRegularRules=function isPrependedWithRegularRules(index,children){for(var i=index-1;i>=0;i--){if(!isImportRule(children[i])){return true;}}
return false;};var nullifyElement=function nullifyElement(element){element.type='';element.value='';element["return"]='';element.children='';element.props='';};var incorrectImportAlarm=function incorrectImportAlarm(element,index,children){if(!isImportRule(element)){return;}
if(element.parent){console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles.");nullifyElement(element);}else if(isPrependedWithRegularRules(index,children)){console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules.");nullifyElement(element);}};function emotion_cache_browser_esm_prefix(value,length){switch(hash(value,length)){case 5103:return Enum_WEBKIT+'print-'+value+value;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Enum_WEBKIT+value+value;case 5349:case 4246:case 4810:case 6968:case 2756:return Enum_WEBKIT+value+Enum_MOZ+value+Enum_MS+value+value;case 6828:case 4268:return Enum_WEBKIT+value+Enum_MS+value+value;case 6165:return Enum_WEBKIT+value+Enum_MS+'flex-'+value+value;case 5187:return Enum_WEBKIT+value+Utility_replace(value,/(\w+).+(:[^]+)/,Enum_WEBKIT+'box-$1$2'+Enum_MS+'flex-$1$2')+value;case 5443:return Enum_WEBKIT+value+Enum_MS+'flex-item-'+Utility_replace(value,/flex-|-self/,'')+value;case 4675:return Enum_WEBKIT+value+Enum_MS+'flex-line-pack'+Utility_replace(value,/align-content|flex-|-self/,'')+value;case 5548:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,'shrink','negative')+value;case 5292:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,'basis','preferred-size')+value;case 6060:return Enum_WEBKIT+'box-'+Utility_replace(value,'-grow','')+Enum_WEBKIT+value+Enum_MS+Utility_replace(value,'grow','positive')+value;case 4554:return Enum_WEBKIT+Utility_replace(value,/([^-])(transform)/g,'$1'+Enum_WEBKIT+'$2')+value;case 6187:return Utility_replace(Utility_replace(Utility_replace(value,/(zoom-|grab)/,Enum_WEBKIT+'$1'),/(image-set)/,Enum_WEBKIT+'$1'),value,'')+value;case 5495:case 3959:return Utility_replace(value,/(image-set\([^]*)/,Enum_WEBKIT+'$1'+'$`$1');case 4968:return Utility_replace(Utility_replace(value,/(.+:)(flex-)?(.*)/,Enum_WEBKIT+'box-pack:$3'+Enum_MS+'flex-pack:$3'),/s.+-b[^;]+/,'justify')+Enum_WEBKIT+value+value;case 4095:case 3583:case 4068:case 2532:return Utility_replace(value,/(.+)-inline(.+)/,Enum_WEBKIT+'$1$2')+value;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Utility_strlen(value)-1-length>6)switch(Utility_charat(value,length+1)){case 109:if(Utility_charat(value,length+4)!==45)break;case 102:return Utility_replace(value,/(.+:)(.+)-([^]+)/,'$1'+Enum_WEBKIT+'$2-$3'+'$1'+Enum_MOZ+(Utility_charat(value,length+3)==108?'$3':'$2-$3'))+value;case 115:return~indexof(value,'stretch')?emotion_cache_browser_esm_prefix(Utility_replace(value,'stretch','fill-available'),length)+value:value;}
break;case 4949:if(Utility_charat(value,length+1)!==115)break;case 6444:switch(Utility_charat(value,Utility_strlen(value)-3-(~indexof(value,'!important')&&10))){case 107:return Utility_replace(value,':',':'+Enum_WEBKIT)+value;case 101:return Utility_replace(value,/(.+:)([^;!]+)(;|!.+)?/,'$1'+Enum_WEBKIT+(Utility_charat(value,14)===45?'inline-':'')+'box$3'+'$1'+Enum_WEBKIT+'$2$3'+'$1'+Enum_MS+'$2box$3')+value;}
break;case 5936:switch(Utility_charat(value,length+11)){case 114:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,/[svh]\w+-[tblr]{2}/,'tb')+value;case 108:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,/[svh]\w+-[tblr]{2}/,'tb-rl')+value;case 45:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,/[svh]\w+-[tblr]{2}/,'lr')+value;}
return Enum_WEBKIT+value+Enum_MS+value+value;}
return value;}
var emotion_cache_browser_esm_prefixer=function prefixer(element,index,children,callback){if(element.length>-1)if(!element["return"])switch(element.type){case Enum_DECLARATION:element["return"]=emotion_cache_browser_esm_prefix(element.value,element.length);break;case Enum_KEYFRAMES:return Serializer_serialize([Tokenizer_copy(element,{value:Utility_replace(element.value,'@','@'+Enum_WEBKIT)})],callback);case Enum_RULESET:if(element.length)return Utility_combine(element.props,function(value){switch(Utility_match(value,/(::plac\w+|:read-\w+)/)){case':read-only':case':read-write':return Serializer_serialize([Tokenizer_copy(element,{props:[Utility_replace(value,/:(read-\w+)/,':'+Enum_MOZ+'$1')]})],callback);case'::placeholder':return Serializer_serialize([Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,':'+Enum_WEBKIT+'input-$1')]}),Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,':'+Enum_MOZ+'$1')]}),Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,Enum_MS+'input-$1')]})],callback);}
return'';});}};var defaultStylisPlugins=[emotion_cache_browser_esm_prefixer];var createCache=function createCache(options){var key=options.key;if(false){}
if(key==='css'){var ssrStyles=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ssrStyles,function(node){var dataEmotionAttribute=node.getAttribute('data-emotion');if(dataEmotionAttribute.indexOf(' ')===-1){return;}
document.head.appendChild(node);node.setAttribute('data-s','');});}
var stylisPlugins=options.stylisPlugins||defaultStylisPlugins;if(false){}
var inserted={};var container;var nodesToHydrate=[];{container=options.container||document.head;Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion^=\""+key+" \"]"),function(node){var attrib=node.getAttribute("data-emotion").split(' ');for(var i=1;i<attrib.length;i++){inserted[attrib[i]]=true;}
nodesToHydrate.push(node);});}
var _insert;var omnipresentPlugins=[compat,removeLabel];if(false){}{var currentSheet;var finalizingPlugins=[Serializer_stringify,false?0:rulesheet(function(rule){currentSheet.insert(rule);})];var serializer=middleware(omnipresentPlugins.concat(stylisPlugins,finalizingPlugins));var stylis=function stylis(styles){return Serializer_serialize(compile(styles),serializer);};_insert=function insert(selector,serialized,sheet,shouldCache){currentSheet=sheet;if(false){}
stylis(selector?selector+"{"+serialized.styles+"}":serialized.styles);if(shouldCache){cache.inserted[serialized.name]=true;}};}
var cache={key:key,sheet:new StyleSheet({key:key,container:container,nonce:options.nonce,speedy:options.speedy,prepend:options.prepend,insertionPoint:options.insertionPoint}),nonce:options.nonce,inserted:inserted,registered:{},insert:_insert};cache.sheet.hydrate(nodesToHydrate);return cache;};const emotion_cache_browser_esm=(createCache);;function murmur2(str){var h=0;var k,i=0,len=str.length;for(;len>=4;++i,len-=4){k=str.charCodeAt(i)&0xff|(str.charCodeAt(++i)&0xff)<<8|(str.charCodeAt(++i)&0xff)<<16|(str.charCodeAt(++i)&0xff)<<24;k=(k&0xffff)*0x5bd1e995+((k>>>16)*0xe995<<16);k^=k>>>24;h=(k&0xffff)*0x5bd1e995+((k>>>16)*0xe995<<16)^(h&0xffff)*0x5bd1e995+((h>>>16)*0xe995<<16);}
switch(len){case 3:h^=(str.charCodeAt(i+2)&0xff)<<16;case 2:h^=(str.charCodeAt(i+1)&0xff)<<8;case 1:h^=str.charCodeAt(i)&0xff;h=(h&0xffff)*0x5bd1e995+((h>>>16)*0xe995<<16);}
h^=h>>>13;h=(h&0xffff)*0x5bd1e995+((h>>>16)*0xe995<<16);return((h^h>>>15)>>>0).toString(36);}
const emotion_hash_esm=(murmur2);;var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const emotion_unitless_esm=(unitlessKeys);;var ILLEGAL_ESCAPE_SEQUENCE_ERROR="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences";var UNDEFINED_AS_OBJECT_KEY_ERROR="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).";var hyphenateRegex=/[A-Z]|^ms/g;var animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g;var isCustomProperty=function isCustomProperty(property){return property.charCodeAt(1)===45;};var isProcessableValue=function isProcessableValue(value){return value!=null&&typeof value!=='boolean';};var processStyleName=memoize(function(styleName){return isCustomProperty(styleName)?styleName:styleName.replace(hyphenateRegex,'-$&').toLowerCase();});var processStyleValue=function processStyleValue(key,value){switch(key){case'animation':case'animationName':{if(typeof value==='string'){return value.replace(animationRegex,function(match,p1,p2){cursor={name:p1,styles:p2,next:cursor};return p1;});}}}
if(emotion_unitless_esm[key]!==1&&!isCustomProperty(key)&&typeof value==='number'&&value!==0){return value+'px';}
return value;};if(false){var hyphenatedCache,hyphenPattern,msPattern,oldProcessStyleValue,contentValues,contentValuePattern;}
var noComponentSelectorMessage=(null&&('Component selectors can only be used in conjunction with '+'@emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware '+'compiler transform.'));function handleInterpolation(mergedProps,registered,interpolation){if(interpolation==null){return'';}
if(interpolation.__emotion_styles!==undefined){if(false){}
return interpolation;}
switch(typeof interpolation){case'boolean':{return'';}
case'object':{if(interpolation.anim===1){cursor={name:interpolation.name,styles:interpolation.styles,next:cursor};return interpolation.name;}
if(interpolation.styles!==undefined){var next=interpolation.next;if(next!==undefined){while(next!==undefined){cursor={name:next.name,styles:next.styles,next:cursor};next=next.next;}}
var styles=interpolation.styles+";";if(false){}
return styles;}
return createStringFromObject(mergedProps,registered,interpolation);}
case'function':{if(mergedProps!==undefined){var previousCursor=cursor;var result=interpolation(mergedProps);cursor=previousCursor;return handleInterpolation(mergedProps,registered,result);}else if(false){}
break;}
case'string':if(false){var replaced,matched;}
break;}
if(registered==null){return interpolation;}
var cached=registered[interpolation];return cached!==undefined?cached:interpolation;}
function createStringFromObject(mergedProps,registered,obj){var string='';if(Array.isArray(obj)){for(var i=0;i<obj.length;i++){string+=handleInterpolation(mergedProps,registered,obj[i])+";";}}else{for(var _key in obj){var value=obj[_key];if(typeof value!=='object'){if(registered!=null&&registered[value]!==undefined){string+=_key+"{"+registered[value]+"}";}else if(isProcessableValue(value)){string+=processStyleName(_key)+":"+processStyleValue(_key,value)+";";}}else{if(_key==='NO_COMPONENT_SELECTOR'&&"production"!=='production'){}
if(Array.isArray(value)&&typeof value[0]==='string'&&(registered==null||registered[value[0]]===undefined)){for(var _i=0;_i<value.length;_i++){if(isProcessableValue(value[_i])){string+=processStyleName(_key)+":"+processStyleValue(_key,value[_i])+";";}}}else{var interpolated=handleInterpolation(mergedProps,registered,value);switch(_key){case'animation':case'animationName':{string+=processStyleName(_key)+":"+interpolated+";";break;}
default:{if(false){}
string+=_key+"{"+interpolated+"}";}}}}}}
return string;}
var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var sourceMapPattern;if(false){}
var cursor;var emotion_serialize_browser_esm_serializeStyles=function serializeStyles(args,registered,mergedProps){if(args.length===1&&typeof args[0]==='object'&&args[0]!==null&&args[0].styles!==undefined){return args[0];}
var stringMode=true;var styles='';cursor=undefined;var strings=args[0];if(strings==null||strings.raw===undefined){stringMode=false;styles+=handleInterpolation(mergedProps,registered,strings);}else{if(false){}
styles+=strings[0];}
for(var i=1;i<args.length;i++){styles+=handleInterpolation(mergedProps,registered,args[i]);if(stringMode){if(false){}
styles+=strings[i];}}
var sourceMap;if(false){}
labelPattern.lastIndex=0;var identifierName='';var match;while((match=labelPattern.exec(styles))!==null){identifierName+='-'+
match[1];}
var name=emotion_hash_esm(styles)+identifierName;if(false){}
return{name:name,styles:styles,next:cursor};};;var syncFallback=function syncFallback(create){return create();};var useInsertionEffect=external_React_['useInsertion'+'Effect']?external_React_['useInsertion'+'Effect']:false;var emotion_use_insertion_effect_with_fallbacks_browser_esm_useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback;var useInsertionEffectWithLayoutFallback=(null&&(useInsertionEffect||useLayoutEffect));;var emotion_element_6a883da9_browser_esm_hasOwnProperty={}.hasOwnProperty;var EmotionCacheContext=(0,external_React_.createContext)(typeof HTMLElement!=='undefined'?emotion_cache_browser_esm({key:'css'}):null);if(false){}
var CacheProvider=EmotionCacheContext.Provider;var __unsafe_useEmotionCache=function useEmotionCache(){return useContext(EmotionCacheContext);};var withEmotionCache=function withEmotionCache(func){return(0,external_React_.forwardRef)(function(props,ref){var cache=(0,external_React_.useContext)(EmotionCacheContext);return func(props,cache,ref);});};var ThemeContext=(0,external_React_.createContext)({});if(false){}
var useTheme=function useTheme(){return useContext(ThemeContext);};var getTheme=function getTheme(outerTheme,theme){if(typeof theme==='function'){var mergedTheme=theme(outerTheme);if(false){}
return mergedTheme;}
if(false){}
return _extends({},outerTheme,theme);};var createCacheWithTheme=(null&&(weakMemoize(function(outerTheme){return weakMemoize(function(theme){return getTheme(outerTheme,theme);});})));var ThemeProvider=function ThemeProvider(props){var theme=useContext(ThemeContext);if(props.theme!==theme){theme=createCacheWithTheme(theme)(props.theme);}
return createElement(ThemeContext.Provider,{value:theme},props.children);};function withTheme(Component){var componentName=Component.displayName||Component.name||'Component';var render=function render(props,ref){var theme=useContext(ThemeContext);return createElement(Component,_extends({theme:theme,ref:ref},props));};var WithTheme=forwardRef(render);WithTheme.displayName="WithTheme("+componentName+")";return hoistNonReactStatics(WithTheme,Component);}
var getLastPart=function getLastPart(functionName){var parts=functionName.split('.');return parts[parts.length-1];};var getFunctionNameFromStackTraceLine=function getFunctionNameFromStackTraceLine(line){var match=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(line);if(match)return getLastPart(match[1]);match=/^([A-Za-z0-9$.]+)@/.exec(line);if(match)return getLastPart(match[1]);return undefined;};var internalReactFunctionNames=new Set(['renderWithHooks','processChild','finishClassComponent','renderToString']);var sanitizeIdentifier=function sanitizeIdentifier(identifier){return identifier.replace(/\$/g,'-');};var getLabelFromStackTrace=function getLabelFromStackTrace(stackTrace){if(!stackTrace)return undefined;var lines=stackTrace.split('\n');for(var i=0;i<lines.length;i++){var functionName=getFunctionNameFromStackTraceLine(lines[i]);if(!functionName)continue;if(internalReactFunctionNames.has(functionName))break;if(/^[A-Z]/.test(functionName))return sanitizeIdentifier(functionName);}
return undefined;};var typePropName='__EMOTION_TYPE_PLEASE_DO_NOT_USE__';var labelPropName='__EMOTION_LABEL_PLEASE_DO_NOT_USE__';var createEmotionProps=function createEmotionProps(type,props){if(false){}
var newProps={};for(var key in props){if(emotion_element_6a883da9_browser_esm_hasOwnProperty.call(props,key)){newProps[key]=props[key];}}
newProps[typePropName]=type;if(false){var label;}
return newProps;};var Insertion=function Insertion(_ref){var cache=_ref.cache,serialized=_ref.serialized,isStringTag=_ref.isStringTag;registerStyles(cache,serialized,isStringTag);var rules=useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(cache,serialized,isStringTag);});return null;};var Emotion=(null&&(withEmotionCache(function(props,cache,ref){var cssProp=props.css;if(typeof cssProp==='string'&&cache.registered[cssProp]!==undefined){cssProp=cache.registered[cssProp];}
var WrappedComponent=props[typePropName];var registeredStyles=[cssProp];var className='';if(typeof props.className==='string'){className=getRegisteredStyles(cache.registered,registeredStyles,props.className);}else if(props.className!=null){className=props.className+" ";}
var serialized=serializeStyles(registeredStyles,undefined,useContext(ThemeContext));if(false){var labelFromStack;}
className+=cache.key+"-"+serialized.name;var newProps={};for(var key in props){if(emotion_element_6a883da9_browser_esm_hasOwnProperty.call(props,key)&&key!=='css'&&key!==typePropName&&(true||0)){newProps[key]=props[key];}}
newProps.ref=ref;newProps.className=className;return createElement(Fragment,null,createElement(Insertion,{cache:cache,serialized:serialized,isStringTag:typeof WrappedComponent==='string'}),createElement(WrappedComponent,newProps));})));if(false){};var isBrowser="object"!=='undefined';function emotion_utils_browser_esm_getRegisteredStyles(registered,registeredStyles,classNames){var rawClassName='';classNames.split(' ').forEach(function(className){if(registered[className]!==undefined){registeredStyles.push(registered[className]+";");}else{rawClassName+=className+" ";}});return rawClassName;}
var emotion_utils_browser_esm_registerStyles=function registerStyles(cache,serialized,isStringTag){var className=cache.key+"-"+serialized.name;if((isStringTag===false||isBrowser===false)&&cache.registered[className]===undefined){cache.registered[className]=serialized.styles;}};var emotion_utils_browser_esm_insertStyles=function insertStyles(cache,serialized,isStringTag){emotion_utils_browser_esm_registerStyles(cache,serialized,isStringTag);var className=cache.key+"-"+serialized.name;if(cache.inserted[serialized.name]===undefined){var current=serialized;do{var maybeStyles=cache.insert(serialized===current?"."+className:'',current,cache.sheet,true);current=current.next;}while(current!==undefined);}};;var testOmitPropsOnStringTag=isPropValid;var testOmitPropsOnComponent=function testOmitPropsOnComponent(key){return key!=='theme';};var getDefaultShouldForwardProp=function getDefaultShouldForwardProp(tag){return typeof tag==='string'&&tag.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent;};var composeShouldForwardProps=function composeShouldForwardProps(tag,options,isReal){var shouldForwardProp;if(options){var optionsShouldForwardProp=options.shouldForwardProp;shouldForwardProp=tag.__emotion_forwardProp&&optionsShouldForwardProp?function(propName){return tag.__emotion_forwardProp(propName)&&optionsShouldForwardProp(propName);}:optionsShouldForwardProp;}
if(typeof shouldForwardProp!=='function'&&isReal){shouldForwardProp=tag.__emotion_forwardProp;}
return shouldForwardProp;};var emotion_styled_base_browser_esm_ILLEGAL_ESCAPE_SEQUENCE_ERROR="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences";var emotion_styled_base_browser_esm_Insertion=function Insertion(_ref){var cache=_ref.cache,serialized=_ref.serialized,isStringTag=_ref.isStringTag;emotion_utils_browser_esm_registerStyles(cache,serialized,isStringTag);var rules=emotion_use_insertion_effect_with_fallbacks_browser_esm_useInsertionEffectAlwaysWithSyncFallback(function(){return emotion_utils_browser_esm_insertStyles(cache,serialized,isStringTag);});return null;};var createStyled=function createStyled(tag,options){if(false){}
var isReal=tag.__emotion_real===tag;var baseTag=isReal&&tag.__emotion_base||tag;var identifierName;var targetClassName;if(options!==undefined){identifierName=options.label;targetClassName=options.target;}
var shouldForwardProp=composeShouldForwardProps(tag,options,isReal);var defaultShouldForwardProp=shouldForwardProp||getDefaultShouldForwardProp(baseTag);var shouldUseAs=!defaultShouldForwardProp('as');return function(){var args=arguments;var styles=isReal&&tag.__emotion_styles!==undefined?tag.__emotion_styles.slice(0):[];if(identifierName!==undefined){styles.push("label:"+identifierName+";");}
if(args[0]==null||args[0].raw===undefined){styles.push.apply(styles,args);}else{if(false){}
styles.push(args[0][0]);var len=args.length;var i=1;for(;i<len;i++){if(false){}
styles.push(args[i],args[0][i]);}}
var Styled=withEmotionCache(function(props,cache,ref){var FinalTag=shouldUseAs&&props.as||baseTag;var className='';var classInterpolations=[];var mergedProps=props;if(props.theme==null){mergedProps={};for(var key in props){mergedProps[key]=props[key];}
mergedProps.theme=(0,external_React_.useContext)(ThemeContext);}
if(typeof props.className==='string'){className=emotion_utils_browser_esm_getRegisteredStyles(cache.registered,classInterpolations,props.className);}else if(props.className!=null){className=props.className+" ";}
var serialized=emotion_serialize_browser_esm_serializeStyles(styles.concat(classInterpolations),cache.registered,mergedProps);className+=cache.key+"-"+serialized.name;if(targetClassName!==undefined){className+=" "+targetClassName;}
var finalShouldForwardProp=shouldUseAs&&shouldForwardProp===undefined?getDefaultShouldForwardProp(FinalTag):defaultShouldForwardProp;var newProps={};for(var _key in props){if(shouldUseAs&&_key==='as')continue;if(finalShouldForwardProp(_key)){newProps[_key]=props[_key];}}
newProps.className=className;newProps.ref=ref;return(0,external_React_.createElement)(external_React_.Fragment,null,(0,external_React_.createElement)(emotion_styled_base_browser_esm_Insertion,{cache:cache,serialized:serialized,isStringTag:typeof FinalTag==='string'}),(0,external_React_.createElement)(FinalTag,newProps));});Styled.displayName=identifierName!==undefined?identifierName:"Styled("+(typeof baseTag==='string'?baseTag:baseTag.displayName||baseTag.name||'Component')+")";Styled.defaultProps=tag.defaultProps;Styled.__emotion_real=Styled;Styled.__emotion_base=baseTag;Styled.__emotion_styles=styles;Styled.__emotion_forwardProp=shouldForwardProp;Object.defineProperty(Styled,'toString',{value:function value(){if(targetClassName===undefined&&"production"!=='production'){}
return"."+targetClassName;}});Styled.withComponent=function(nextTag,nextOptions){return createStyled(nextTag,extends_extends({},options,nextOptions,{shouldForwardProp:composeShouldForwardProps(Styled,nextOptions,true)})).apply(void 0,styles);};return Styled;};};const emotion_styled_base_browser_esm=(createStyled);;function _EMOTION_STRINGIFIED_CSS_ERROR__(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";}
const SingleColumnToolsPanelItem=emotion_styled_base_browser_esm(external_wp_components_namespaceObject.__experimentalToolsPanelItem,true?{target:"ef8pe3d0"}:0)(true?{name:"957xgf",styles:"grid-column:span 1"}:0);function WidthHeightTool({panelId,value={},onChange=()=>{},units,isShownByDefault=true}){var _value$width,_value$height;const width=value.width==='auto'?'':(_value$width=value.width)!==null&&_value$width!==void 0?_value$width:'';const height=value.height==='auto'?'':(_value$height=value.height)!==null&&_value$height!==void 0?_value$height:'';const onDimensionChange=dimension=>nextDimension=>{const nextValue={...value};if(!nextDimension){delete nextValue[dimension];}else{nextValue[dimension]=nextDimension;}
onChange(nextValue);};return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJSXRuntime_namespaceObject.jsx)(SingleColumnToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Width'),isShownByDefault:isShownByDefault,hasValue:()=>width!=='',onDeselect:onDimensionChange('width'),panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{label:(0,external_wp_i18n_namespaceObject.__)('Width'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Auto'),labelPosition:"top",units:units,min:0,value:width,onChange:onDimensionChange('width'),size:"__unstable-large"})}),(0,external_ReactJSXRuntime_namespaceObject.jsx)(SingleColumnToolsPanelItem,{label:(0,external_wp_i18n_namespaceObject.__)('Height'),isShownByDefault:isShownByDefault,hasValue:()=>height!=='',onDeselect:onDimensionChange('height'),panelId:panelId,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalUnitControl,{label:(0,external_wp_i18n_namespaceObject.__)('Height'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Auto'),labelPosition:"top",units:units,min:0,value:height,onChange:onDimensionChange('height'),size:"__unstable-large"})})]});};function DimensionsTool({panelId,value={},onChange=()=>{},aspectRatioOptions,defaultAspectRatio='auto',scaleOptions,defaultScale='fill',unitsOptions,tools=['aspectRatio','widthHeight','scale']}){const width=value.width===undefined||value.width==='auto'?null:value.width;const height=value.height===undefined||value.height==='auto'?null:value.height;const aspectRatio=value.aspectRatio===undefined||value.aspectRatio==='auto'?null:value.aspectRatio;const scale=value.scale===undefined||value.scale==='fill'?null:value.scale;const[lastScale,setLastScale]=(0,external_wp_element_namespaceObject.useState)(scale);const[lastAspectRatio,setLastAspectRatio]=(0,external_wp_element_namespaceObject.useState)(aspectRatio);const aspectRatioValue=width&&height?'custom':lastAspectRatio;const showScaleControl=aspectRatio||width&&height;return(0,external_ReactJSXRuntime_namespaceObject.jsxs)(external_ReactJSXRuntime_namespaceObject.Fragment,{children:[tools.includes('aspectRatio')&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(AspectRatioTool,{panelId:panelId,options:aspectRatioOptions,defaultValue:defaultAspectRatio,value:aspectRatioValue,onChange:nextAspectRatio=>{const nextValue={...value};nextAspectRatio=nextAspectRatio==='auto'?null:nextAspectRatio;setLastAspectRatio(nextAspectRatio);if(!nextAspectRatio){delete nextValue.aspectRatio;}else{nextValue.aspectRatio=nextAspectRatio;}
if(!nextAspectRatio){delete nextValue.scale;}else if(lastScale){nextValue.scale=lastScale;}else{nextValue.scale=defaultScale;setLastScale(defaultScale);}
if('custom'!==nextAspectRatio&&width&&height){delete nextValue.height;}
onChange(nextValue);}}),tools.includes('widthHeight')&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(WidthHeightTool,{panelId:panelId,units:unitsOptions,value:{width,height},onChange:({width:nextWidth,height:nextHeight})=>{const nextValue={...value};nextWidth=nextWidth==='auto'?null:nextWidth;nextHeight=nextHeight==='auto'?null:nextHeight;if(!nextWidth){delete nextValue.width;}else{nextValue.width=nextWidth;}
if(!nextHeight){delete nextValue.height;}else{nextValue.height=nextHeight;}
if(nextWidth&&nextHeight){delete nextValue.aspectRatio;}else if(lastAspectRatio){nextValue.aspectRatio=lastAspectRatio;}else{}
if(!lastAspectRatio&&!!nextWidth!==!!nextHeight){delete nextValue.scale;}else if(lastScale){nextValue.scale=lastScale;}else{nextValue.scale=defaultScale;setLastScale(defaultScale);}
onChange(nextValue);}}),tools.includes('scale')&&showScaleControl&&(0,external_ReactJSXRuntime_namespaceObject.jsx)(ScaleTool,{panelId:panelId,options:scaleOptions,defaultValue:defaultScale,value:lastScale,onChange:nextScale=>{const nextValue={...value};nextScale=nextScale==='fill'?null:nextScale;setLastScale(nextScale);if(!nextScale){delete nextValue.scale;}else{nextValue.scale=nextScale;}
onChange(nextValue);}})]});}
const dimensions_tool=(DimensionsTool);;const DEFAULT_SIZE_OPTIONS=[{label:(0,external_wp_i18n_namespaceObject._x)('Thumbnail','Image size option for resolution control'),value:'thumbnail'},{label:(0,external_wp_i18n_namespaceObject._x)('Medium','Image size option for resolution control'),value:'medium'},{label:(0,external_wp_i18n_namespaceObject._x)('Large','Image size option for resolution control'),value:'large'},{label:(0,external_wp_i18n_namespaceObject._x)('Full Size','Image size option for resolution control'),value:'full'}];function ResolutionTool({panelId,value,onChange,options=DEFAULT_SIZE_OPTIONS,defaultValue=DEFAULT_SIZE_OPTIONS[0].value,isShownByDefault=true,resetAllFilter}){const displayValue=value!==null&&value!==void 0?value:defaultValue;return(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>displayValue!==defaultValue,label:(0,external_wp_i18n_namespaceObject.__)('Resolution'),onDeselect:()=>onChange(defaultValue),isShownByDefault:isShownByDefault,panelId:panelId,resetAllFilter:resetAllFilter,children:(0,external_ReactJSXRuntime_namespaceObject.jsx)(external_wp_components_namespaceObject.SelectControl,{__nextHasNoMarginBottom:true,label:(0,external_wp_i18n_namespaceObject.__)('Resolution'),value:displayValue,options:options,onChange:onChange,help:(0,external_wp_i18n_namespaceObject.__)('Select the size of the source image.'),size:"__unstable-large"})});};const privateApis={};lock(privateApis,{...global_styles_namespaceObject,ExperimentalBlockCanvas:ExperimentalBlockCanvas,ExperimentalBlockEditorProvider:ExperimentalBlockEditorProvider,getDuotoneFilter:getDuotoneFilter,getRichTextValues:getRichTextValues,PrivateQuickInserter:QuickInserter,extractWords:extractWords,getNormalizedSearchTerms:getNormalizedSearchTerms,normalizeString:normalizeString,PrivateListView:PrivateListView,ResizableBoxPopover:ResizableBoxPopover,useHasBlockToolbar:useHasBlockToolbar,cleanEmptyObject:utils_cleanEmptyObject,BlockQuickNavigation:BlockQuickNavigation,LayoutStyle:LayoutStyle,BlockManager:BlockManager,BlockRemovalWarningModal:BlockRemovalWarningModal,useLayoutClasses:useLayoutClasses,useLayoutStyles:useLayoutStyles,DimensionsTool:dimensions_tool,ResolutionTool:ResolutionTool,TabbedSidebar:tabbed_sidebar,TextAlignmentControl:TextAlignmentControl,usesContextKey:usesContextKey,useFlashEditableBlocks:useFlashEditableBlocks,useZoomOut:useZoomOut,globalStylesDataKey:globalStylesDataKey,globalStylesLinksDataKey:globalStylesLinksDataKey,selectBlockPatternsKey:selectBlockPatternsKey,requiresWrapperOnCopy:requiresWrapperOnCopy,PrivateRichText:PrivateRichText,PrivateInserterLibrary:PrivateInserterLibrary,reusableBlocksSelectKey:reusableBlocksSelectKey,PrivateBlockPopover:PrivateBlockPopover,PrivatePublishDateTimePicker:PrivatePublishDateTimePicker,useSpacingSizes:useSpacingSizes,useBlockDisplayTitle:useBlockDisplayTitle,__unstableBlockStyleVariationOverridesWithConfig:__unstableBlockStyleVariationOverridesWithConfig,setBackgroundStyleDefaults:setBackgroundStyleDefaults,sectionRootClientIdKey:sectionRootClientIdKey,CommentIconSlotFill:block_comment_icon_slot,CommentIconToolbarSlotFill:block_comment_icon_toolbar_slot});;})();(window.wp=window.wp||{}).blockEditor=__webpack_exports__;})();